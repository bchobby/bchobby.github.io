<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Eclipse用JSP、JSTL&#43;El表达式、servlet、MySQL数据库写一个Java Web的学生管理系统、赋赠整个小项目。 - 编程爱好者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Eclipse用JSP、JSTL&#43;El表达式、servlet、MySQL数据库写一个Java Web的学生管理系统、赋赠整个小项目。" />
<meta property="og:description" content="1.要求： 软件：有MySQL数据库、Eclipse有前台显示页面实现对学生的、增、删、改、查 查询是模糊查询，输入姓或者名得出一个表修改是根据账号修改，且账号不可以修改删除保留在当前页面（分页后会有好多页，在删除最后一页最后一个数据时刷新后还在当前页面只是要删除数据消失了）删除前：删除后：还在第三页并对结果进行分页显示，每一页只显示三条信息。 2.分析： 数据库表必须要有：账号、姓名、密码，且其中账号为主键。 3.实施 （1）.：创建Java web项目： （2）.:Java和后端交互（Eclipse链接数据，实现学生对数据库的增删改查） Java web项目中创建4个包
其中： bean包（JavaBean）：JavaBean是一个符合特定规范的Java类。通常用于封装数据，并提供公共的getter和setter方法以及其他操作方法。JavaBean用于在不同的层之间传递数据或表示业务实体。 （简单理解就是定义Java类地方，其中包含这个类属性、get、set、toString、有参、无参构造方法）
dao包（Data Access Object）：DAO是数据访问对象的缩写。DAO模式是一种用于数据持久化的设计模式。DAO类封装了与数据存储相关的操作方法，如增加、删除、修改和查询等。通过DAO，应用程序可以更方便地与底层数据库进行交互，并隐藏了数据库细节。 （简单理解就是链接数据库、对数据库进行增删改查地方）
service包：Service层位于DAO层之上，负责处理业务逻辑。Service层通常封装了一系列的业务操作，如数据校验、事务管理和调用多个DAO方法等。它使得控制层，如Servlet，能够更专注于处理请求和响应，将业务逻辑的处理分离出来。同时，service层的存在使得信息处理的代码更加模块化和可复用，方便进行单元测试和维护、确保输入的数据是有效和可信的，以及对数据进行必要的处理和操作，满足业务需求和数据完整性的要求。。 （简单理解就是对数据检测、以及数据处理）
servlet包：Servlet是Java Web开发中处理HTTP请求和生成HTTP响应的组件。Servlet是运行在Web服务器上的Java类。它可以接收来自客户端的请求，并生成相应的响应。Servlet可以处理不同类型的请求（如GET、POST等），在服务端执行相应的业务逻辑，并与客户端进行交互。Servlet将Java代码嵌入到Web应用程序中，实现与客户端的交互和业务逻辑处。Servlet运行在服务器端，所以它可以与数据库、文件系统等后台资源进行交互，处理复杂的数据操作和业务需求。 （简单理解就是处理HTTP请求、生成动态内容并实现服务器端业务逻辑的Java组件，是构建Java Web应用程序的重要组成部分）
1.: Eclipse链接数据库 Eclipse链接数据库，数据库链接测试，MySQL环境变量配置:http://t.csdn.cn/3Hp1Y
2.：Eclipse链接测试过数据库后，开始把链接测试代码规范化。上文讲到dao包就是链接数据库、对数据库进行增删改查地方，所有要在dao包中创建文件把链接写到里面。 package com.jd.dao; import java.sql.Connection; import java.sql.DriverManager; import java.sql.ResultSet; import java.sql.SQLException; import java.sql.Statement; import java.util.ArrayList; import java.util.List; import com.jd.bean.Student; /** * 数据持久化层 * @author lenovo */ public class BaseDAO&lt;E&gt; { private static final String DRIVER=&#34;com.mysql.cj.jdbc.Driver&#34;; private static final String URL=&#34;jdbc:mysql://127.0.0.1:3306/gs?useUnicode=true&amp;characterEncoding=utf-8&#34;; private static final String USERNAME=&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bchobby.github.io/posts/04407de8dd73e493235a8d7e9cd7ccdd/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-07-21T20:32:00+08:00" />
<meta property="article:modified_time" content="2023-07-21T20:32:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程爱好者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程爱好者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Eclipse用JSP、JSTL&#43;El表达式、servlet、MySQL数据库写一个Java Web的学生管理系统、赋赠整个小项目。</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3>1.要求：</h3> 
<hr> 
<ol><li>软件：有MySQL数据库、Eclipse</li><li>有前台显示页面</li><li>实现对学生的、增、删、改、查 
  <ol><li>查询是模糊查询，输入姓或者名得出一个表</li><li>修改是根据账号修改，且账号不可以修改</li><li>删除保留在当前页面（分页后会有好多页，在删除最后一页最后一个数据时刷新后还在当前页面只是要删除数据消失了）</li><li>删除前：<img alt="" height="291" src="https://images2.imgbox.com/89/e1/Cpw1XiiE_o.png" width="1003"></li><li>删除后：还在第三页<img alt="" height="252" src="https://images2.imgbox.com/36/07/wRB8RZsl_o.png" width="1018"></li></ol></li><li>并对结果进行分页显示，每一页只显示三条信息。</li></ol> 
<p></p> 
<h3><strong>2.分析：</strong></h3> 
<hr> 
<ol><li> <h4><strong>数据库表必须要有：账号、姓名、密码，且其中账号为主键。</strong>                        <img alt="" height="299" src="https://images2.imgbox.com/90/66/iy93TmiY_o.png" width="739"></h4> </li></ol> 
<h5></h5> 
<h3>3.实施</h3> 
<hr> 
<h4><strong>（1）.：创建Java web项目：</strong></h4> 
<p class="img-center"><img alt="" height="349" src="https://images2.imgbox.com/b2/9d/o2iynIog_o.png" width="665"></p> 
<p></p> 
<p class="img-center"><img alt="" height="354" src="https://images2.imgbox.com/54/90/BBUkXyY2_o.png" width="439"></p> 
<p></p> 
<p class="img-center"><img alt="" height="626" src="https://images2.imgbox.com/80/15/c6Zgggmi_o.png" width="490"></p> 
<p class="img-center"><img alt="" height="619" src="https://images2.imgbox.com/7a/20/tRsu9vRy_o.png" width="450"></p> 
<h5></h5> 
<p class="img-center"><img alt="" height="626" src="https://images2.imgbox.com/8c/88/3vc13irS_o.png" width="455"></p> 
<p></p> 
<p></p> 
<h5></h5> 
<ul><li> <h4><strong>（2）.:Java和后端交互（Eclipse链接数据，实现学生对数据库的增删改查）</strong></h4> </li></ul> 
<hr> 
<p>       Java web项目中创建4个包</p> 
<p class="img-center"><img alt="" height="347" src="https://images2.imgbox.com/20/86/7SgFHRMk_o.png" width="444"></p> 
<ul><li><strong>其中：</strong></li><li> <p><span style="color:#a2e043;">bean包</span>（JavaBean）：JavaBean是一个符合特定规范的Java类。<span style="color:#956fe7;">通常用于封装数据</span>，并<span style="color:#956fe7;">提供公共的getter和setter方法以及其他操作</span>方法。JavaBean用于在不同的层之间传递数据或表示业务实体。                                                                                                                        （<span style="color:#38d8f0;">简单理解</span>就是<span style="color:#a2e043;">定义Java类地方</span>，其中包含这个类属性、get、set、toString、有参、无参构造方法）</p> </li></ul> 
<ul><li> <p><span style="color:#a2e043;">dao包</span>（Data Access Object）：DAO是数据访问对象的缩写。DAO模式是一种用于<span style="color:#956fe7;">数据持久化的设计模式</span>。DAO类封装了与数据存储相关的操作方法，如增加、删除、修改和查询等。通过DAO，应用程序可以更方便地<span style="color:#956fe7;">与底层数据库进行交互</span>，并<span style="color:#956fe7;">隐藏</span>了<span style="color:#956fe7;">数据库细节</span>。           （<span style="color:#38d8f0;">简单理解</span>就是<span style="color:#a2e043;">链接数据库、对数据库进行增删改查</span>地方）</p> </li><li> <p><span style="color:#a2e043;">service包</span>：Service层位于DAO层之上，<span style="color:#956fe7;">负责处理业务逻辑</span>。Service层通常封装了一系列的业务操作，如数据校验、事务管理和调用多个DAO方法等。它<span style="color:#0d0016;">使得控制层，如Servlet，能够更专注于处理请求和响应</span>，将业务逻辑的处理分离出来。同时，<span style="color:#0d0016;">service层的存在使得信息处理的代码更加</span><span style="color:#956fe7;">模块化</span><span style="color:#0d0016;">和</span><span style="color:#956fe7;">可复用，方便进行单元测试和维护、</span>确保输入的<span style="color:#956fe7;">数据是有效和可信的</span>，以及对数据进行必要的处理和操作，满足<span style="color:#956fe7;">业务需求和数据完整性</span>的要求。<span style="color:#0d0016;">。           </span><span style="color:#a2e043;">                      </span><span style="color:#0d0016;">（</span><span style="color:#38d8f0;">简单理解</span><span style="color:#0d0016;">就是对</span><span style="color:#a2e043;">数据检测、以及数据处理</span><span style="color:#0d0016;">）</span></p> </li><li> <p><span style="color:#a2e043;">servlet包</span>：Servlet是Java Web开发中处理HTTP请求和生成HTTP响应的组件。Servlet是<span style="color:#a2e043;">运行在Web服务器上的Java类</span>。它可以接收来自客户端的请求，并生成相应的响应。Servlet可以处理不同类型的请求（如GET、POST等），在服务端执行相应的业务逻辑，并与客户端进行交互。Servlet将Java代码嵌入到Web应用程序中，实现与客户端的交互和业务逻辑处。Servlet运行在服务器端，所以它可以与数据库、文件系统等后台资源进行交互，处理复杂的数据操作和业务需求。                                                                                                                  <span style="color:#0d0016;">（</span><span style="color:#38d8f0;">简单理解</span><span style="color:#0d0016;">就是</span><span style="color:#a2e043;">处理HTTP请求、生成动态内容并实现服务器端业务逻辑的Java组件，</span>是构建Java Web应用程序的重要组成部分<span style="color:#0d0016;">）</span></p> </li></ul> 
<p><strong> </strong></p> 
<hr> 
<h5>1.: Eclipse链接数据库</h5> 
<p><a class="has-card" href="http://t.csdn.cn/3Hp1Y" rel="nofollow" title=" Eclipse链接数据库，数据库链接测试，MySQL环境变量配置:"><span class="link-card-box"><span class="link-title"> Eclipse链接数据库，数据库链接测试，MySQL环境变量配置:</span><span class="link-link"><img alt="" class="link-link-icon" src="https://images2.imgbox.com/c2/ae/MNkZEOg3_o.png">http://t.csdn.cn/3Hp1Y</span></span></a></p> 
<p></p> 
<hr> 
<h5><strong>2.：</strong>Eclipse链接测试过数据库后，开始把链接测试代码规范化。上文讲到<span style="color:#a2e043;">dao包</span>就是<span style="color:#a2e043;">链接数据库、对数据库进行增删改查</span>地方，所有要在dao包中创建文件把链接写到里面。</h5> 
<p></p> 
<p> <img alt="" height="306" src="https://images2.imgbox.com/10/13/cGZf5lWy_o.png" width="323"></p> 
<pre><code class="language-java">package com.jd.dao;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;
import java.util.ArrayList;
import java.util.List;
import com.jd.bean.Student;

/**
 * 数据持久化层
 * @author lenovo
 */
public class BaseDAO&lt;E&gt; {
	
	private static final String DRIVER="com.mysql.cj.jdbc.Driver";
	private static final String URL="jdbc:mysql://127.0.0.1:3306/gs?useUnicode=true&amp;characterEncoding=utf-8";
	private static final String USERNAME="root";
	private static final String USERPWD="000000";
	private Connection conn=null;
	private Statement stmt=null;
	protected ResultSet rs=null;
	//加载驱动  在整个使用的过程中，只需要加载一次 所以使用static
	static {
		try {
			//加载驱动
			Class.forName(DRIVER);
			System.out.println("===驱动加载成功===");
		} catch (Exception e) {
			e.printStackTrace();//捕获异常
		}
	}
	
	public void getConn() {
		try {
			//连接数据库
			//连接云端就把localhost改成地址
			conn= DriverManager.getConnection(URL,USERNAME,USERPWD);
			System.out.println("===连接成功===");
		} catch (Exception e) {
			e.printStackTrace();
		}
	}
	
	public void getStmt() {
		try {
			//创建命令执行对象
			stmt=conn.createStatement();
			System.out.println("===创建命令执行对象成功===");
		} catch (Exception e) {
			e.printStackTrace();
		}
	}
	
	public void closeRes() {
		try {
			if(rs!=null) {
				rs.close();
				rs=null;
			}
			if(stmt!=null) {
				stmt.close();
				stmt=null;
			}
			if(conn!=null) {
				conn.close();
				conn=null;
			}
			System.out.println("===资源释放成功===");
		} catch (Exception e) {
			e.printStackTrace();
		}
	}
	
	
	//通用的增删改操作
	public void update(String sql) throws Exception {
		//1.加载驱动
		//2.连接数据库  连接云端就把localhost改成地址
		getConn();	
		//3.创建命令执行对象
		getStmt();
		//4.执行命令
		stmt.executeUpdate(sql);
		//stmt.executeQuery(sql);
		System.out.println("====sql===="+sql);
		//5.释放资源
		closeRes();
	}
	
	//查询方法
	public List&lt;E&gt; query(String sql) throws SQLException{
		getConn();
		getStmt();
		rs=stmt.executeQuery(sql);
		List&lt;E&gt; list=new ArrayList&lt;E&gt;();
		rs2list(list);
		closeRes();
		return list;
	}
	
	public void rs2list(List&lt;E&gt; list) {
		//子类E类会继承这个方法并且对其重写
		
	}

	/*
    这是一个泛型类，使用&lt;E&gt;表示泛型参数，可以根据需要指定具体类型。

	定义了与数据库连接和操作相关的常量，如驱动、URL、用户名和密码。

	getConn()方法用于获取数据库连接。

	getStmt()方法用于创建命令执行对象。

	closeRes()方法用于释放资源，关闭ResultSet、Statement和Connection对象。

	update(String sql)方法用于执行更新操作（增删改）。

	query(String sql)方法用于执行查询操作，返回一个泛型为E的结果列表。

	rs2list(List&lt;E&gt; list)方法用于将查询结果转换为列表。子类可以继承并重写此方法来实现自定义的结果处理逻辑。
	*/

}
</code></pre> 
<p><a class="has-card" href="http://t.csdn.cn/gnvbA" rel="nofollow" title=" 其中用到了Java泛型类解释："><span class="link-card-box"><span class="link-title"> 其中用到了Java泛型类解释：</span><span class="link-link"><img alt="" class="link-link-icon" src="https://images2.imgbox.com/4a/39/XmGPe7aM_o.png">http://t.csdn.cn/gnvbA</span></span></a></p> 
<p><code>BaseDAO&lt;E&gt;</code>就是一个泛型类，<code>BaseDAO&lt;E&gt;</code>类中也有方法使用了类型参数<code>E。</code></p> 
<p>        例如 ：<code>List&lt;E&gt; query(String sql)</code>方法返回一个泛型为<code>E</code>的结果列表。这样一来，使用<code>BaseDAO</code>类时，可以根据需要将<code>E</code>替换为具体的类型，并在方法中使用相应的类型。这样就使得<code>BaseDAO</code>类具有了通用的数据持久化能力，可以处理不同类型的数据，提高了代码的复用性和灵活性。</p> 
<p>        总之，泛型类是一种能够适应不同类型的通用类，通过使用类型参数可以达到代码重用和类型安全的目的。</p> 
<p></p> 
<p></p> 
<hr> 
<h5><strong>3.: </strong>创建学生类对象实现对学生在数据库的操作，<span style="color:#a2e043;">bean包</span><span style="color:#0d0016;">定义</span><span style="color:#a2e043;">Java类地方</span>，其中包含这个类属性、get、set、toString、有参、无参构造方法。</h5> 
<h5></h5> 
<p><img alt="" height="456" src="https://images2.imgbox.com/30/1a/vFEeGwgV_o.png" width="332"></p> 
<p></p> 
<pre><code class="language-java">package com.jd.bean;

/**
 * 学生类
 */
public class Student {
	private String stu_id; // 学生编号
	private String stu_name; // 学生姓名
	private String stu_pwd; // 学生密码
	
	/**
	 * 获取学生编号
	 * @return 学生编号
	 */
	public String getStu_id() {
		return stu_id;
	}
	
	/**
	 * 设置学生编号
	 * @param stu_id 学生编号
	 */
	public void setStu_id(String stu_id) {
		this.stu_id = stu_id;
	}
	
	/**
	 * 获取学生姓名
	 * @return 学生姓名
	 */
	public String getStu_name() {
		return stu_name;
	}
	
	/**
	 * 设置学生姓名
	 * @param stu_name 学生姓名
	 */
	public void setStu_name(String stu_name) {
		this.stu_name = stu_name;
	}
	
	/**
	 * 获取学生密码
	 * @return 学生密码
	 */
	public String getStu_pwd() {
		return stu_pwd;
	}
	
	/**
	 * 设置学生密码
	 * @param stu_pwd 学生密码
	 */
	public void setStu_pwd(String stu_pwd) {
		this.stu_pwd = stu_pwd;
	}
	
	/**
	 * 构造方法
	 * @param stu_id 学生编号
	 * @param stu_name 学生姓名
	 * @param stu_pwd 学生密码
	 */
	public Student(String stu_id, String stu_name, String stu_pwd) {
		super();
		this.stu_id = stu_id;
		this.stu_name = stu_name;
		this.stu_pwd = stu_pwd;
	}
	
	/**
	 * 无参构造方法
	 */
	public Student() {
		super();
	}
	
	/**
	 * 返回学生对象的字符串表示形式
	 */
	@Override
	public String toString() {
		return "Student [stu_id=" + stu_id + ", stu_name=" + stu_name + ", stu_pwd=" + stu_pwd + "]";
	}
}
</code></pre> 
<p>（get、set、toString、有参、无参构造方法可以让其自动生成快捷方便）：</p> 
<p><img alt="" height="470" src="https://images2.imgbox.com/89/69/fO7oG56K_o.png" width="422"></p> 
<p></p> 
<p></p> 
<h5>4.：创建好学生对象就对可以写增删改查等操作方法具体内容，上文讲到<span style="color:#a2e043;">dao包</span>就是<span style="color:#a2e043;">链接数据库、对数据库进行增删改查</span>地方，所以详细代码写作dao包中。</h5> 
<p></p> 
<p><img alt="" height="471" src="https://images2.imgbox.com/0b/f7/lFp0mZkF_o.png" width="318"></p> 
<pre><code class="language-java">package com.jd.dao;

import java.sql.SQLException;
import java.util.List;
import com.jd.bean.Student;

/**
 * 将所有对Student表的crud操作全部写在子类中
 * 好管理！
 * @author jd
 */
public class StudentDao extends BaseDAO&lt;Student&gt;{
	
	//查询全部
	public List&lt;Student&gt; findAll() throws SQLException{
		String sql="select * from student";
		return super.query(sql);
	}
	
	//模糊查询全部学生
	public List&lt;Student&gt; FuzzySearch(String name) throws SQLException {
		System.out.println(name);
		String sql="select * from student where name like '"+name+"%' ";
		System.out.println("mysql语句："+sql);
//		SELECT * FROM 表名 WHERE 姓名列 LIKE '%查询关键词%';
		return super.query(sql);
	}
	
	
	//查询指定范围内的学生记录
	public List&lt;Student&gt; findShow(int currentP, int currentS,String name) throws SQLException {
		int star=currentP;
		System.out.println("开始"+star);
		System.out.println("长度"+currentS);
		String sql;
		if(name==null) {
			 sql="select * from student limit "+star+","+currentS+"";
		}else {
			 sql="select * from student where name like '"+name+"%' limit "+star+","+currentS+"";
		}
		System.out.println("sql:"+sql);
		return super.query(sql);
	}
	
	
	//根据学生编号查询学生记录
	public List&lt;Student&gt; findStudentById(String stu_id) throws Exception{
		String sql="select *from student where stu_id='"+stu_id+"'";
		return super.query(sql);
	}//stu_id='"+stu_id+"'表示stu_id等于输入的值
	
	//添加学生记录
	public void addStudent(Student stu) throws Exception {
		String sql="insert into student values('"+stu.getStu_id()+"', '"+stu.getStu_name()+"', '"+stu.getStu_pwd()+"')";
		System.out.println("sql:"+sql);
		super.update(sql);
	}
	//更新学生记录
	public void updateStudentById(Student stu) throws Exception {
		String sql="UPDATE student SET name='"+stu.getStu_name()+"', pwd='"+stu.getStu_pwd()+"' WHERE code='"+stu.getStu_id()+"'";
		System.out.println("sql="+sql);
		super.update(sql);
	}
	
	
	//删除学生记录
	public void deleteStudentById(String stu_id) throws Exception {
		String sql="delete from student where code='"+stu_id+"'";
		System.out.println("sql:"+sql);
		super.update(sql);
	}
	
/*	
 * rs2list(List&lt;Student&gt; list)方法是对父类方法的重写。
	在父类BaseDAO中可能存在一个名为rs2list()的方法，但它的实现方式与子类StudentDao中的方法不同。
	子类通过重写父类方法，可以根据自己的需求重新定义方法的实现逻辑。
	*/
	public void rs2list(List&lt;Student&gt; list) {
		try {
			while(rs.next()) {
				String stu_id=rs.getString("code");
				String stu_name=rs.getString("name");
				String stu_pwd=rs.getString("pwd");
				Student stu=new Student(stu_id,stu_name,stu_pwd);
				list.add(stu);
			}
		} catch (Exception e) {
			e.printStackTrace();
		}
	}
}
</code></pre> 
<p>前期Eclip链接数据库以及对数据库增删修改都基本完成。</p> 
<p></p> 
<ul><li> <h4>（3）.前端和Java交互：（实现页面传递数据到Java中）</h4> </li></ul> 
<ol><li><span style="color:#a2e043;">servlet包</span><span style="color:#0d0016;">就是</span><span style="color:#a2e043;">处理HTTP请求、生成动态内容并实现服务器端业务逻辑的Java组件。</span></li></ol> 
<p>创建servlet：</p> 
<p><img alt="" height="275" src="https://images2.imgbox.com/d1/ae/pob6Ne70_o.png" width="615"></p> 
<p></p> 
<p class="img-center"><img alt="" height="343" src="https://images2.imgbox.com/49/d6/8WbuuNxf_o.png" width="473"></p> 
<p></p> 
<p class="img-center"><img alt="" height="411" src="https://images2.imgbox.com/38/f1/Chyh57Bz_o.png" width="448"></p> 
<p></p> 
<p class="img-center"><img alt="" height="540" src="https://images2.imgbox.com/41/3a/ZeThtO6q_o.png" width="482"></p> 
<p></p> 
<pre><code class="language-java">package com.jd.servlet;
import java.io.IOException;
import java.io.PrintWriter;
import java.sql.SQLException;
import java.util.List;
import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import com.jd.bean.Student;
import com.jd.service.StudentService;

/**
 * Servlet implementation class ShowSudentServlet
 * 学生信息展示的Servlet
 */
@WebServlet("/show2")
public class ShowSudentServletTextJavaWeb extends HttpServlet {
	private static final long serialVersionUID = 1L;
       
    /**
     * @see HttpServlet#HttpServlet()
     * 构造函数
     */
    public ShowSudentServletTextJavaWeb() {
        super();
    }

	/**
	 * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)
	 * 处理GET请求
	 */
	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		doPost(request, response);//不管是get还是post都取post里面
	}

	/**
	 * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)
	 * 处理POST请求
	 */
	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		/*requese   请求  
		 * respond  响应
		 * */
		
		// 设置请求乱码，解决从HTML页面到Servlet的数据乱码问题
		request.setCharacterEncoding("utf-8");
		
		// 设置响应乱码，解决从Servlet到浏览器显示的数据乱码问题
		response.setContentType("text/html;charset=utf-8");
		
		// 通过页面接收分页数据currentPage-当前页，currentSize-每页记录数
		String currentPage = request.getParameter("currentPage");
		String currentSize = request.getParameter("currentSize");
		
		System.out.println("**********currentPage" + currentPage);
		System.out.println("**********currentSize" + currentSize);
		
		// 分页实际使用的参数
		int currentP = 1;
		
		// 判断是否传递了currentP参数，若传递了则使用传递的值，否则默认为1
		if (request.getParameter("currentP") != null) {
			currentP = Integer.valueOf(request.getParameter("currentP"));
			System.out.println("&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;currentP" + currentP);
		}
		
		int currentS = 3;
		
		// 如果传递了currentPage和currentSize参数，则使用传递的值
		if (currentPage != null || currentSize != null) {
			currentP = Integer.valueOf(currentPage);
			currentS = Integer.valueOf(currentSize);
		}
		
		// 计算总页数
		int totalPage = new StudentService().getTotalPage(currentS);
		List&lt;Student&gt; list = null;
		
		// 判断是否进行了模糊查找
		String sname = null;
		if (request.getParameter("queryname") == null) {
			sname = request.getParameter("sname"); // 获取Java Web传递的sname
		} else {
			sname = request.getParameter("queryname");
			/* 
			 * 获取Java Web中的queryname，而不是Java Web传递的。
			 * 因为这是要获取输入框输入的name字段，形成一个闭环，只要输入框进行了输入，就会一直传递name。
			 * 当不传递name时就跳出这个闭环。
			 */
		}
		
		// 查看是否获取到了sname
		System.out.println(sname);
		
		// 调用模糊查询函数，将查询到的学生集合传递给list
		System.out.println("模糊查询函数");
		try {
			System.out.println(sname);
			if (sname != null) {
				list = new StudentService().FuzzySearchSname(sname);
				
				// 重新计算总页数
				totalPage = (list.size() - 1) / 3 + 1;
			}
			
			// 分页显示
			int n = (currentP - 1) * currentS;
			list = new StudentService().findStudentPage(n, currentS, sname);
			System.out.println("模糊查询list大小:" + list.size());
		} catch (SQLException e) {
			e.printStackTrace();
		}
		
		System.out.println("list.size():" + list.size());
		
		// 使用request域传递数据
		request.setAttribute("list", list);
		request.setAttribute("currentP", currentP);
		request.setAttribute("totalPage", totalPage);
		request.setAttribute("sname", sname);
		
		/*
		 * 将当前请求转发给名为 "JavaWeb.jsp" 的JSP页面。
		 * 在该JSP页面中，可以使用 request 和 response 对象来访问请求和响应相关的信息，并生成相应的内容返回给客户端。
		 */
		request.getRequestDispatcher("JavaWeb.jsp").forward(request, response);
	}
}
</code></pre> 
<p>其中的</p> 
<h5><strong><code>1.：</code></strong><code><span style="color:#0d0016;">request.setCharacterEncoding("utf-8")</span></code></h5> 
<p><code><span style="color:#a2e043;">  request.setCharacterEncoding("utf-8")</span></code>用于设置请求的编码为UTF-8，<span style="color:#956fe7;">确保能够正确处理传递给Servlet的数据</span>，特别是中文字符。这样设置后，Servlet 就能正确地读取请求中的参数值，并将其转换成 UTF-8 编码的字符串。（servlet-&gt;html）</p> 
<p><code> <span style="color:#a2e043;"> response.setContentType("text/html;charset=utf-8")</span></code>用于设置响应的内容类型及编码。在该代码中，设置响应的内容类型为"text/html"，表示<span style="color:#956fe7;">返回的是HTML页面</span>；同时设置编码为UTF-8，以确保在浏览器中正确显示中文字符。（html-&gt;servlet）</p> 
<p>通过这两行代码的设置，可以<span style="color:#4da8ee;">有效解决在请求和响应过程中可能出现的乱码问题</span>，确保数据能够正确传递和显示。</p> 
<p>        </p> 
<h5><strong>2.：</strong><span style="color:#956fe7;"> request.setAttribute("sname", sname)；和request.getRequestDispatcher("JavaWeb.jsp").forward(request, response);区别</span></h5> 
<ul><li>  定变量<code>sname</code>包含了一个字符串类型的值，通过<code>request.setAttribute("sname", sname)</code>方法将该值设置为请求属性。这样，你可以在接下来的请求转发中通过请求对象（<code>request</code>）来访问这个属性。</li><li>  接下来，使用<code>request.getRequestDispatcher("JavaWeb.jsp")</code>方法获取一个请求调度器，该调度器用于将请求转发到指定的目标URL或资源。在这里，我们将请求转发到名为<code>JavaWeb.jsp</code>的JSP页面进行处理。</li><li>  最后，调用<code>forward(request, response)</code>方法执行请求转发操作。这将将控制权从当前Servlet转移到指定的JSP页面，并将请求和响应对象传递给JSP页面进行处理。</li><li>  在接收到转发请求后，<code>JavaWeb.jsp</code>页面可以通过<code>${sname}</code>表达式访问请求属性<code>"sname"</code>的值，并在页面上显示或进行其他处理。</li></ul> 
<p>简单理解<span style="color:#38d8f0;">就是把sname值</span><span style="color:#0d0016;">（后面的那个sname重新命名为："sname"传递）</span><span style="color:#38d8f0;">传递到JavaWeb.jsp中</span>，在<span style="color:#956fe7;">JavaWeb.jsp中可以用 </span>：</p> 
<p>         1.<span style="color:#956fe7;"><code>${sname}</code> </span>表达式：这是最简单和常用的方式 </p> 
<p>         2.使用 Java 代码调用<span style="color:#956fe7;"> <code>request.getAttribute("sname")</code></span> 方法：在 JavaWeb.jsp 页面中可以使用 <code>&lt;% String sname = (String) request.getAttribute("sname"); %&gt;</code> 这样的脚本片段来获取请求属性值，并将其存储在局部变量 <code>sname</code> 中。</p> 
<p>         3.使用 EL 隐式对象 <code>requestScope</code>：<span style="color:#956fe7;"><code>${requestScope.sname}</code> </span>可以通过 <code>requestScope</code> 对象来<span style="color:#956fe7;">获取请求属性值</span>。</p> 
<p></p> 
<h5><code>3.：</code><strong><code>requestScope.sname</code> </strong>和<strong> <code>request.getAttribute("sname")</code> </strong>的区别<strong>：</strong></h5> 
<p>        1.作用域不同：</p> 
<ul><li><code> requestScope.sname</code> 表达式从请求范围（request scope）中获取属性值。请求范围是指在同一次请求处理过程中，多个 servlet 或 JSP 页面之间共享的数据。</li><li><code> request.getAttribute("sname")</code> 方法从 <code>request</code> 对象中获取请求属性的值，该属性可以是放置在请求范围或其他作用域中的。</li></ul> 
<p>        </p> 
<p>        2.表达式 、 方法：</p> 
<ul><li><code> requestScope.sname</code> 是 EL（Expression Language）表达式，用于访问 Java 对象的属性。</li><li><code> request.getAttribute("sname")</code> 是 <code>request</code> 对象的方法，通过名称获取请求属性的值。</li></ul> 
<p>        </p> 
<p>        3.表达式语法 、 Java 方法语法：</p> 
<ul><li><code> <span style="color:#956fe7;">requestScope.sname</span></code><span style="color:#956fe7;"> 使用 <code>${}</code> 语法</span>，即<span style="color:#956fe7;">${requestScope.sname }</span>其中 <code>requestScope</code> 是一个隐式对象，用于访问请求范围中的属性。</li><li><code> <span style="color:#956fe7;">request.getAttribute("sname")</span></code><span style="color:#956fe7;"> 是 Java 方法调用的语法</span>，通过 <code>getAttribute</code> 方法获取请求属性值。</li></ul> 
<p><span style="color:#956fe7;">综上所述</span>，<code>requestScope.sname</code> 和 <code>request.getAttribute("sname")</code> 都可以用来获取请求属性 <code>"sname"</code> 的值，但其语法和作用域有所不同。一般情况下，在 <span style="color:#956fe7;">JSP 页面中使用 EL 表达式的方式更为简洁和方便。</span></p> 
<p></p> 
<ol><li>创建JavaWeb.jsp，实现前台页面。</li></ol> 
<p><img alt="" height="175" src="https://images2.imgbox.com/89/ad/YPL8u74i_o.png" width="969"></p> 
<p><img alt="" height="644" src="https://images2.imgbox.com/04/05/NSXstFbm_o.png" width="350"></p> 
<p></p> 
<pre><code class="language-html">&lt;%@page import="java.lang.Thread.State"%&gt;
&lt;%@page import="com.jd.bean.Student"%&gt;
&lt;%@page import="java.util.List"%&gt;
&lt;%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%&gt;
&lt;%@ page isELIgnored="false" %&gt;

&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8"&gt;
    &lt;title&gt;Insert title here&lt;/title&gt;
    &lt;style type="text/css"&gt;
        table {
            border: 1px solid black;
            border-collapse: collapse;
            width: 800px;
        }
        table tr {
            height: 40px;
        }
        table tr td {
            border: 1px solid black;
        }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;	
    &lt;%-- 获取请求属性 list，并将其转换为 List&lt;Student&gt; 类型 --%&gt;
    &lt;% List&lt;Student&gt; list = (List&lt;Student&gt;) request.getAttribute("list"); %&gt;
    &lt;table&gt;
        &lt;tr&gt;
            &lt;td&gt;账号&lt;/td&gt;
            &lt;td&gt;姓名&lt;/td&gt;
            &lt;td&gt;密码&lt;/td&gt;
            &lt;td&gt;操作&lt;/td&gt;
        &lt;/tr&gt;
        &lt;%-- 遍历 List&lt;Student&gt;，显示每个学生的相关信息 --%&gt;
        &lt;% for (int i = 0; i &lt; list.size(); i++) { %&gt;
        &lt;tr&gt;
            &lt;td&gt;&lt;%= list.get(i).getStu_id() %&gt;&lt;/td&gt;
            &lt;td&gt;&lt;%= list.get(i).getStu_name() %&gt;&lt;/td&gt;
            &lt;td&gt;&lt;%= list.get(i).getStu_pwd() %&gt;&lt;/td&gt;
            &lt;td&gt;
                &lt;a href='deletstudent?stu_id=&lt;%= list.get(i).getStu_id() %&gt;&amp;currentP=${currentP}'&gt;删除&lt;/a&gt;
                &lt;a href='modifystu.jsp?code=&lt;%= list.get(i).getStu_id() %&gt;&amp;name=&lt;%= list.get(i).getStu_name() %&gt;&amp;pwd=&lt;%= list.get(i).getStu_pwd() %&gt;&amp;currentP=${currentP}'&gt;修改&lt;/a&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
        &lt;% } %&gt;
        &lt;form action="show2" method="get"&gt;
            &lt;input type="text" name="queryname" placeholder="在此输入检索姓名" /&gt;
            &lt;input type="submit" value="搜索" /&gt;
        &lt;/form&gt;
    &lt;/table&gt;
    
    &lt;%-- 分页导航 --%&gt;
    &lt;a href='show2?currentPage=1&amp;currentSize=3&amp;sname=${requestScope.sname }'&gt;首页&lt;/a&gt;
    &lt;a href='show2?currentPage=${(currentP - 1) &lt; 1 ? 1 : (currentP - 1)}&amp;currentSize=3&amp;sname=${requestScope.sname }'&gt;上一页&lt;/a&gt;
    &lt;a href='show2?currentPage=${(currentP + 1) &gt; totalPage ? totalPage : (currentP + 1)}&amp;currentSize=3&amp;sname=${requestScope.sname }''&gt;下一页&lt;/a&gt;
    &lt;a href='show2?currentPage=${totalPage}&amp;currentSize=3&amp;sname=${requestScope.sname }'&gt;末页&lt;/a&gt; 
    &lt;a href='show2?currentPage=1&amp;currentSize=3'&gt;全部信息&lt;/a&gt;
    
    &lt;%-- 显示当前页数和总页数 --%&gt;
    &lt;span&gt;${currentP}/${totalPage}: 当前页/总页数&lt;/span&gt;
    &lt;%-- 等价于：&lt;span&gt;&lt;%=(int)request.getAttribute("currentP") %&gt;/&lt;%=(int)request.getAttribute("totalPage") %&gt;:当前页/总页数&lt;/span&gt; --%&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<p>   </p> 
<h6>2.1.<span style="color:#956fe7;">&lt;% List&lt;Student&gt; list=(List&lt;Student&gt;)request.getAttribute("list");%&gt;</span></h6> 
<p>        1.在.jsp页面写<span style="color:#956fe7;">Java代码都需要&lt;% %&gt;</span>。</p> 
<p>        2.request.getAttribute("list")是ShowSudentServletTextJavaWeb 中 request.setAttribute("list", list);和request.getRequestDispatcher("JavaWeb.jsp").forward(request, response);传递过来的，需要用request.getAttribute("list")或者 EL 表达式${list}等方法接收。</p> 
<p></p> 
<h6><strong>2.2.<span style="color:#956fe7;"><code>&lt;a href='show2?currentPage=1&amp;currentSize=3&amp;sname=${requestScope.sname }'&gt;首页&lt;/a&gt;</code></span></strong></h6> 
<p>其是一个超链接，用于跳转到显示页面的第一页：</p> 
<ul><li><code>&lt;a&gt;</code> 标签用于创建一个超链接。</li><li><code>href</code> 属性指定了超链接的目标地址。在这里，目标地址是 <code>'show2'</code>，表示要发送到名为 <code>'show2'</code> 的 URL。（其中的show2就是当初创建的ShowSudentServletTextJavaWeb，有的eclipse不显示，版本问题也有可能缺少相关的配置或错误导入的原因。）</li></ul> 
<p class="img-center"><img alt="" height="196" src="https://images2.imgbox.com/53/77/HSeVu2fb_o.png" width="349"></p> 
<p></p> 
<ul><li>在 <code>href</code> 属性中嵌入了查询参数，用于传递当前页码、每页显示数量和学生姓名信息。 
  <ul><li><code>currentPage=1</code> 表示当前页码为1，固定值。</li><li><code>currentSize=3</code> 表示每页显示数量为3，固定值。</li><li><code>sname=${requestScope.sname }</code> 表示学生姓名作为查询参数的一部分。<code>${requestScope.sname }</code> 是一个 EL 表达式，用于从请求作用域中获取学生姓名的值并插入链接中。</li></ul></li><li>链接的文本内容为 <code>'首页'</code>，当用户点击该链接时，将跳转到显示页面的第一页，并将相关的查询参数传递给 <code>'show2'</code> 页面。</li></ul> 
<p>       总之，这段代码生成了一个带有当前页码、每页显示数量和学生姓名作为查询参数的超链接，用于跳转到显示页面的第一页。用户点击该链接时，将导航到 <code>'show2'</code> 页面并显示第一页的内容。且该超链接传递了当前页码、每页显示数量和学生姓名三个属性到 "show2" 页面，在show2页面可以用<code>String sname = (String) request.getAttribute("sname")</code> 来获取学生姓名的值也可以但是用 <code>String currentPage = request.getParameter("currentPage")</code> 来获取当前页码的值最符合。</p> 
<h5><span style="color:#0d0016;">3.</span><span style="color:#956fe7;">区分request.getAttribute("sname")和request.getParameter("sname")</span></h5> 
<p>    <span style="color:#956fe7;">  </span></p> 
<p><span style="color:#956fe7;"><strong>        </strong></span><span style="color:#0d0016;"><strong>3.1.</strong></span><span style="color:#956fe7;"><strong> request.getParameter("sname")适用于</strong></span>：当在超链接或表单中使用参数、传递到下一个页面。且获取的是是参数值。</p> 
<p>简述：如果上一个页面使的是：</p> 
<p>     <span style="color:#38d8f0;">   &lt;a href='show2?currentPage=1&amp;currentSize=3&amp;sname=${requestScope.sname }'&gt;首页&lt;/a&gt;</span></p> 
<p><span style="color:#a2e043;">URL转发页面</span>，其中<span style="color:#a2e043;">URL拼接属性</span>就使用<span style="color:#956fe7;"><strong> </strong></span><span style="color:#a2e043;"><strong>request.getParameter("sname")，</strong></span><span style="color:#0d0016;">且</span><span style="color:#956fe7;">接受的值是参数值</span></p> 
<p></p> 
<p>     <span style="color:#956fe7;"><strong> </strong></span><span style="color:#0d0016;"><strong> 3.2. </strong></span><span style="color:#956fe7;"><strong>request.getAttribute("sname")适用于</strong>：</span>请求属性是在服务器端传递值或对象的一种方式。</p> 
<p>简述： 如果上一个页面使的是：</p> 
<p>           <span style="color:#a2e043;"> </span><span style="color:#38d8f0;">request.setAttribute("sname", sname);<br>             request.getRequestDispatcher("JavaWeb.jsp").forward(request, response);</span></p> 
<p><span style="color:#38d8f0;">传递的</span>，可以用<span style="color:#a2e043;">request.getAttribute("sname")接收</span>，且<span style="color:#956fe7;">接收的是Object 类型的数据</span>。</p> 
<p>收时需要定义类型接受：String sname = (String) request.getAttribute("sname");</p> 
<p>或者<span style="color:#956fe7;">在jsp页面中</span>可以使用：<span style="color:#956fe7;">${requestScope.sname }</span>，现在当前页面的请求作用域中查找名为 "sname" 的属性如果当前页面没有在去、请求作用域（Request Scope）-&gt;页面作用域（Page Scope）-&gt;会话作用域（Session Scope）-&gt;应用程序作用域（Application Scope），如果在任何作用域中都找不到该属性，<code>${requestScope.sname}</code> 表达式将返回空字符串。</p> 
<h5><strong>总结：</strong></h5> 
<p>如果上一个是用<span style="color:#a2e043;">URL拼接传递的</span>，可以用<span style="color:#956fe7;"> </span><span style="color:#a2e043;">request.getParameter("sname")</span><span style="color:#0d0016;">接收</span><span style="color:#956fe7;">，</span><span style="color:#0d0016;">且</span><span style="color:#956fe7;">接受的值是参数值。</span></p> 
<p><span style="color:#0d0016;">如果是用</span><span style="color:#a2e043;">请求属性和请求转发</span><span style="color:#956fe7;">，</span>可以用<span style="color:#956fe7;"> </span><span style="color:#a2e043;">request.getAttribute("sname")</span><span style="color:#0d0016;">接收且</span><span style="color:#a2e043;">jsp页面可以多一个接收方式（${requestScope.sname }）</span><span style="color:#0d0016;">且</span><span style="color:#956fe7;">接受的是Object 类型的数据。</span></p> 
<p></p> 
<p><strong>这已经完成了主体大致功能，接下来就是对细节填写，与优化。包括数据库数据的插入、显示数据库学生信息、对信息的分页、对增删改查的填写与调用、模糊查询、修改删除数据还显示在当前页。（当然这个只是简写版，没有登录验证、不包含数据检索、问题出错等一系列检索。只是完成如图功能：</strong><img alt="" height="139" src="https://images2.imgbox.com/74/93/iGl8klUx_o.png" width="964"><strong>）</strong></p> 
<p></p> 
<p></p> 
<hr> 
<h4><strong>1.数据库导入数据：</strong></h4> 
<p class="img-center"><img alt="" height="320" src="https://images2.imgbox.com/ae/49/Sz7pL0ra_o.png" width="400"></p> 
<h4>2. 连接数据库，分页显示出来</h4> 
<p>        首先看整个流程：servlet的ShowSudentServletTextJavaWeb.java会在分页显示方法处---&gt;调用service的StudentService.java中的分页查询方法处----&gt;调用dao的StudentDao中的查询指定范围内的学生记录方法处并且声明E为学生类、rs2list(List&lt;Student&gt; list)方法是对父类方法的重写后--&gt;调用dao的BaseDAO其中的查询方法连接数据库查询输入到list数组返回---&gt;最后回到servlet的ShowSudentServletTextJavaWeb.java，这时的list集合就已经有数据了。接着把list集合通过<span style="color:#a2e043;">请求属性和请求转发</span><span style="color:#0d0016;">把前台需要的属性传递过去，最后在前台输出</span></p> 
<p class="img-center"><img alt="" height="255" src="https://images2.imgbox.com/e3/4d/dbjaq30s_o.png" width="515"></p> 
<p class="img-center"><img alt="" height="307" src="https://images2.imgbox.com/ed/fd/IdNrRJgO_o.png" width="515"></p> 
<p class="img-center"><img alt="" height="276" src="https://images2.imgbox.com/ba/40/mXUpyZmP_o.png" width="515"></p> 
<p><span style="color:#956fe7;"> 因为StudentDao 继承了BaseDAO&lt;Student&gt;且把E赋值成了Student类（泛型类）</span></p> 
<p><span style="color:#956fe7;">且其中方法</span><span style="color:#956fe7;">rs2list(List&lt;Student&gt; list)方法是对父类方法的重写</span></p> 
<p class="img-center"><img alt="" height="310" src="https://images2.imgbox.com/db/ab/zLQvHaJB_o.png" width="515"></p> 
<p></p> 
<p class="img-center"><img alt="" height="281" src="https://images2.imgbox.com/72/89/f9sxKW7s_o.png" width="515"></p> 
<p> 最后查询的信息就传递到list数组中了，接着把list集合通过<span style="color:#a2e043;">请求属性和请求转发</span><span style="color:#0d0016;">把前台需要的属性传递到javaWeb.jsp输出。</span></p> 
<p><span style="color:#0d0016;">结果：</span><img alt="" height="285" src="https://images2.imgbox.com/0a/cb/n5zdbN4e_o.png" width="1009"></p> 
<p> 其他代码几乎都是方法填充。</p> 
<p></p> 
<hr> 
<h5></h5>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1c01cc3dd6eab6889adbac084e44c0c0/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Git Windows版的安装与使用（保姆级教程，附案例）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7488051ca01d3be1b1c70c0826e65ec2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">matlab报错：位置1处的索引超出数组边界，求大神解答</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程爱好者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151260"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>