<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>node-red：modbus协议数据格式转换 - 编程爱好者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="node-red：modbus协议数据格式转换" />
<meta property="og:description" content="node-red：MODBUS协议数据格式转换 一、32word转换1.1 写操作1.2 读操作 二、字符串转换2.1 字符串写操作2.2 字符串读操作 三、有符号整数转换3.1 有符号16word转换3.1.1 负数 读 操作3.1.2 负数 写 操作 源码 本文将描述通过node-red采集工业数据时，采集到的数据需要进行转换的操作方法。 对于运行在RTU或ASCII传输模式下的modbus协议，它接收主设备发送的指令报文，并根据窗口配置的数据返回主设备需要的指令报文。根据Modbus协议的规定，所有的数值都是以16位二进制形式进行存储和运算的。 注意：node-red通过modbus协议采集时，端口不能在0-100以内，node-red会出问题 回到目录
一、32word转换 Modbus协议中，32位整数的存储格式会因具体的数据类型而有所不同。Modbus协议对32位整数的存储方式是将该整数分解为两个16位的寄存器来处理，第一个元素是高16位，第二个元素是低16位，具体的字节顺序可以有4种选择：大端序、小端序、大端字节交换和小端字节交换。例如，一个的32位整数0x12345678在Modbus中的存储形式可能会是：0x12 0x34 0x56 0x78，具体取决于所选择的字节顺序。其中：
大端序Big-Endian（BE）：将最高位字节存储在最低的地址位置；小端序（LE）：则是将最高位字节存储在最高的地址位置；大端字节交换和小端字节交换（BIG_ENDIAN和LITTLE_ENDIAN）：指将每个字节的顺序颠倒，但不考虑符号位。 1.1 和1.2 涉及的所有js转换代码，有符号、无符号的32位整数都适用
1.1 写操作 将32位整数转换为16位整数数组 使用大端序（BE）的转换方式，js代码如下： - modScan32的modbus默认转换方式是这个 /** 使用大端序（BE）的转换方式，将一个32位整数，转换为一个包含两个元素的数组， * 其中第一个元素是高16位，第二个元素是低16位 */ function int32ToArrayBE(num) { const high = (num &gt;&gt; 16) &amp; 0xFFFF; const low = num &amp; 0xFFFF; return [high, low]; } 使用小端序（LE）的转换方式，js代码如下： /** 使用小端序LE的方式的转换方式，将一个32位整数，转换为一个包含两个元素的数组,其中第一个元素是高16位，第二个元素是低16位 */ function int32ToArrayLE(num) { const high = (num &gt;&gt; 16) &amp; 0xFFFF; const low = num &amp; 0xFFFF; return [high, low]; } 通过modbus节点写入，示例如下" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bchobby.github.io/posts/1071d72156c53beb064e71959fd72b5d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-28T16:08:38+08:00" />
<meta property="article:modified_time" content="2023-12-28T16:08:38+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程爱好者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程爱好者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">node-red：modbus协议数据格式转换</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-dracula">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><span id="click2dir"></span><br> </p> 
<div class="toc"> 
 <h4>node-red：MODBUS协议数据格式转换</h4> 
 <ul><li><a href="#32word_8" rel="nofollow">一、32word转换</a></li><li><ul><li><a href="#11__15" rel="nofollow">1.1 写操作</a></li><li><a href="#12__42" rel="nofollow">1.2 读操作</a></li></ul> 
  </li><li><a href="#_66" rel="nofollow">二、字符串转换</a></li><li><ul><li><a href="#21__68" rel="nofollow">2.1 字符串写操作</a></li><li><a href="#22__87" rel="nofollow">2.2 字符串读操作</a></li></ul> 
  </li><li><a href="#_102" rel="nofollow">三、有符号整数转换</a></li><li><ul><li><a href="#31_16word_107" rel="nofollow">3.1 有符号16word转换</a></li><li><ul><li><a href="#311____108" rel="nofollow">3.1.1 负数 读 操作</a></li><li><a href="#312____127" rel="nofollow">3.1.2 负数 写 操作</a></li></ul> 
  </li></ul> 
  </li><li><a href="#_148" rel="nofollow">源码</a></li></ul> 
</div> 
<br>   本文将描述通过node-red采集工业数据时，采集到的数据需要进行转换的操作方法。 
<br>   对于运行在RTU或ASCII传输模式下的modbus协议，它接收主设备发送的指令报文，并根据窗口配置的数据返回主设备需要的指令报文。根据Modbus协议的规定，所有的数值都是以16位二进制形式进行存储和运算的。 
<p></p> 
<ul><li><strong><code>注意：node-red通过modbus协议采集时，端口不能在0-100以内，node-red会出问题</code></strong></li></ul> 
<p><a href="#click2dir" rel="nofollow">回到目录</a></p> 
<h2><a id="32word_8"></a>一、32word转换</h2> 
<p>  Modbus协议中，32位整数的存储格式会因具体的数据类型而有所不同。Modbus协议对32位整数的存储方式是将该整数分解为两个16位的寄存器来处理，第一个元素是高16位，第二个元素是低16位，具体的字节顺序可以有4种选择：大端序、小端序、大端字节交换和小端字节交换。例如，一个的32位整数0x12345678在Modbus中的存储形式可能会是：0x12 0x34 0x56 0x78，具体取决于所选择的字节顺序。其中：</p> 
<ul><li><code>大端序Big-Endian（BE）</code>：将最高位字节存储在最低的地址位置；</li><li><code>小端序（LE）</code>：则是将最高位字节存储在最高的地址位置；</li><li><code>大端字节交换和小端字节交换（BIG_ENDIAN和LITTLE_ENDIAN）</code>：指将每个字节的顺序颠倒，但不考虑符号位。</li></ul> 
<blockquote> 
 <p><strong><code>1.1 和1.2 涉及的所有js转换代码，有符号、无符号的32位整数都适用</code></strong></p> 
</blockquote> 
<h3><a id="11__15"></a>1.1 写操作</h3> 
<ol><li>将32位整数转换为16位整数数组</li></ol> 
<ul><li><strong>使用大端序（BE）的转换方</strong>式，js代码如下： - <strong><code>modScan32的modbus默认转换方式是这个</code></strong></li></ul> 
<pre><code>/** 使用大端序（BE）的转换方式，将一个32位整数，转换为一个包含两个元素的数组，
 * 其中第一个元素是高16位，第二个元素是低16位 */
function int32ToArrayBE(num) {
    const high = (num &gt;&gt; 16) &amp; 0xFFFF;
    const low = num &amp; 0xFFFF;
    return [high, low];
}
</code></pre> 
<ul><li><strong>使用小端序（LE）的转换方式</strong>，js代码如下：</li></ul> 
<pre><code>/** 使用小端序LE的方式的转换方式，将一个32位整数，转换为一个包含两个元素的数组,其中第一个元素是高16位，第二个元素是低16位 */
function int32ToArrayLE(num) {
  const high = (num &gt;&gt; 16) &amp; 0xFFFF;
  const low = num &amp; 0xFFFF;
  return [high, low];
}
</code></pre> 
<ol start="2"><li>通过modbus节点写入，示例如下<br> <img src="https://images2.imgbox.com/04/7c/zEC6iXLI_o.png" alt="2"><br> 数据已成功写入：<br> <img src="https://images2.imgbox.com/46/86/IbKpjx9p_o.png" alt="2"></li></ol> 
<p><a href="#click2dir" rel="nofollow">回到目录</a></p> 
<h3><a id="12__42"></a>1.2 读操作</h3> 
<p>实现步骤：</p> 
<ol><li>将一个包含两个元素的数组转换为一个32位整数</li></ol> 
<ul><li><strong>使用大端序（BE）的转换方</strong>式，js代码如下：</li></ul> 
<pre><code>//将一个包含两个元素的数组转换为一个32位整数，其中第一个元素是高16位，第二个元素是低16位。
//转换方式是先将第一个元素左移16位，然后与第二个元素进行按位或操作。
function arrayToInt32BE(data) {
    return (data[0] &lt;&lt; 16) | data[1];
}
</code></pre> 
<ul><li><strong>使用小端序（LE）的转换方式</strong>，js代码如下：</li></ul> 
<pre><code>/** 
将一个包含两个元素的数组转换为一个32位整数，其中第一个元素是高16位，第二个元素是低16位。
 */
function arrayToInt32LE(arr) {
  return (arr[0] &lt;&lt; 16) | arr[1];
}
</code></pre> 
<ol start="2"><li>通过modbus节点读取，示例如下：<br> <img src="https://images2.imgbox.com/70/26/yUoMbzYH_o.png" alt="2"></li></ol> 
<p><a href="#click2dir" rel="nofollow">回到目录</a></p> 
<h2><a id="_66"></a>二、字符串转换</h2> 
<p>  modbus支持对字符串类型的数据进行读写操作，进行字符串类型数据的操作时，是基于ASCII码格式进行的，一个字符占一个字节，支持字母、中文已经符号。</p> 
<h3><a id="21__68"></a>2.1 字符串写操作</h3> 
<p>实现步骤：</p> 
<ol><li>将字符串转换成字节数组，函数如下：</li></ol> 
<pre><code>/**将一个字符串，获取每个字符的Unicode编码，转换为字节数组 */
function stringToByteArray(str) {
    let byteArray = [];
    for (let i = 0; i &lt; str.length; i++) {
        byteArray.push(str.charCodeAt(i));
    }
    return byteArray;
}
</code></pre> 
<ol start="2"><li>将字节数组批量写入modbus中 ，示例如下：<br> <img src="https://images2.imgbox.com/5e/02/WUfk3H85_o.png" alt="1"><br> 执行后，可以看到对应地址的数据：<br> <img src="https://images2.imgbox.com/0b/e5/wNsI0JrT_o.png" alt="2"></li></ol> 
<p><a href="#click2dir" rel="nofollow">回到目录</a></p> 
<h3><a id="22__87"></a>2.2 字符串读操作</h3> 
<p>实现步骤：</p> 
<ol><li>modbus节点读取起始地址为n，直至字符串字节数组长度的连续地址的数据数组</li><li>将得到到的字节数组转换为字符串，转换函数如下：</li></ol> 
<pre><code>//将Unicode编码字节数组转换为对应的字符
msg.payload = String.fromCharCode(...msg.payload.slice(0, 8));
//有需要的话可以去掉字符串中的null和结尾的空字符
msg.payload = msg.payload.trim().replace(/\u0000/g, '');
return msg;
</code></pre> 
<p>示例如下：<br> <img src="https://images2.imgbox.com/d2/e7/V7YZGqv4_o.png" alt="1"></p> 
<p><a href="#click2dir" rel="nofollow">回到目录</a></p> 
<h2><a id="_102"></a>三、有符号整数转换</h2> 
<ol><li>正整数就是正常的读\写，不需要转换。</li><li>对于负数，在计算机和数字系统中，负数通常使用二进制补码形式来表示。这种方法是将负数的绝对值取反后再加一得到的。如’-80’的二进制补码就是’65456’。</li></ol> 
<blockquote> 
 <p>如我们在modsim32中输入<code>-55</code>，实际显示在计算机上的是<code>65481</code><br> <img src="https://images2.imgbox.com/d3/4a/nHkk9DEp_o.png" alt="1"></p> 
</blockquote> 
<h3><a id="31_16word_107"></a>3.1 有符号16word转换</h3> 
<h4><a id="311____108"></a>3.1.1 负数 读 操作</h4> 
<p>  有符号16word转换成补码是占一位地址，通过modbus读取过来是十进制整数，我们需要将其通过node-red的modbus协议读取对应地址下的数据，该数据为补码，<code>需要将其转换为实际的有符号16位整数</code>。有两种转换方式，如下示例所示：<br> <img src="https://images2.imgbox.com/6c/0a/cMJvJmiG_o.png" alt="1"></p> 
<ol><li>通过js函数转换：</li></ol> 
<pre><code>/** 有符号整数补码转换转成16位有符号整数：
 * 如-80的补码为65456，读取出来是65456，需要通过该函数转换成-80
 */
function Signed16ToInt16Be(num){
    //32767是16位带符号证书能表示的最大正数，当数值从32767再增加1时，就会上溢变成负数。
    //即mod通信中所有的负数都是用补码形式存储（如‘-80’实际读\写出来是‘65456’）
    //需要检测是否发生了从正数到负数的转换，即是否发生了上溢或下溢,如果有，进行转换
    return num &gt;= 32768 ? num - 65536 : num;
}
</code></pre> 
<ol start="2"><li>使用parse节点工具转换：<br> <img src="https://images2.imgbox.com/8a/4c/JcGqfLh3_o.png" alt="2"></li></ol> 
<p><a href="#click2dir" rel="nofollow">回到目录</a></p> 
<h4><a id="312____127"></a>3.1.2 负数 写 操作</h4> 
<p>   直接将负数写入对应地址时，不生效。需要先将其转换成补码，然后再将补码写入地址。js将负数转换成补码的函数如下：</p> 
<pre><code>/** 
 * 负数转成对应的补码
 * 在计算机中，负数通常使用补码表示，如'-80'用补码表示为'65456'.
 */
function Int16BeToSigned16(num) {
    //如果数字小于0，将其转换成十进制补码：65536是2的16次幂，也就是2^16
    if(num &lt; 0){
        num += 65536
    }
    return num;
}
</code></pre> 
<p>实战示例如下：<br> <img src="https://images2.imgbox.com/c9/14/1Bi9n5KD_o.png" alt="1"></p> 
<p><a href="#click2dir" rel="nofollow">回到目录</a></p> 
<h2><a id="_148"></a>源码</h2> 
<pre><code>[
    {
        "id": "1e64108c77baa639",
        "type": "inject",
        "z": "f77425d62009612d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 580,
        "wires": [
            [
                "7dc4362a647fb9f4"
            ]
        ]
    },
    {
        "id": "7dc4362a647fb9f4",
        "type": "modbus-getter",
        "z": "f77425d62009612d",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "logIOActivities": false,
        "unitid": "2",
        "dataType": "HoldingRegister",
        "adr": "99",
        "quantity": "1",
        "server": "e7cbfcc879655084",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 300,
        "y": 580,
        "wires": [
            [
                "b156bb1bacfff01f",
                "1b8c974bcad376f7",
                "4ec96886cf6ddcfc"
            ],
            []
        ]
    },
    {
        "id": "b156bb1bacfff01f",
        "type": "buffer-parser",
        "z": "f77425d62009612d",
        "name": "",
        "data": "payload",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "int16be",
                "name": "item1",
                "offset": 0,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "return",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 470,
        "y": 580,
        "wires": [
            [
                "38805fdde3a44395"
            ]
        ]
    },
    {
        "id": "38805fdde3a44395",
        "type": "debug",
        "z": "f77425d62009612d",
        "name": "parse转换",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 620,
        "y": 580,
        "wires": []
    },
    {
        "id": "1b8c974bcad376f7",
        "type": "function",
        "z": "f77425d62009612d",
        "name": "函数转换",
        "func": "msg.payload = Signed16ToInt16Be(msg.payload);\nreturn msg;\n/** 有符号整数补码转换转成16位有符号整数：\n * 如-80的补码为65456，读取出来是65456，需要通过该函数转换成-80\n */\nfunction Signed16ToInt16Be(num){\n    //32767是16位带符号证书能表示的最大正数，当数值从32767再增加1时，就会上溢变成负数。\n    //即mod通信中所有的负数都是用补码形式存储（如‘-80’实际读\\写出来是‘65456’）\n    //需要检测是否发生了从正数到负数的转换，即是否发生了上溢或下溢,如果有，进行转换\n    return num &gt;= 32768 ? num - 65536 : num;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 460,
        "y": 620,
        "wires": [
            [
                "d76859e443cd98fc"
            ]
        ]
    },
    {
        "id": "d76859e443cd98fc",
        "type": "debug",
        "z": "f77425d62009612d",
        "name": "js函数转换",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 630,
        "y": 620,
        "wires": []
    },
    {
        "id": "769c583e15f9b628",
        "type": "inject",
        "z": "f77425d62009612d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 720,
        "wires": [
            [
                "c69cb082f4d5391f"
            ]
        ]
    },
    {
        "id": "c758cfc4fd1cdcaf",
        "type": "function",
        "z": "f77425d62009612d",
        "name": "（写）有符号数字",
        "func": "msg.payload = Int16BeToSigned16(msg.payload);\nreturn msg;\n/** \n * 负数转成对应的补码\n * 在计算机中，负数通常使用补码表示，如'-80'用补码表示为'65456'.\n */\nfunction Int16BeToSigned16(num) {\n    //如果数字小于0，将其转换成十进制补码：65536是2的16次幂，也就是2^16\n    if(num &lt; 0){\n        num += 65536\n    }\n    return num;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 430,
        "y": 720,
        "wires": [
            [
                "4d2f5446435e62d1",
                "d5d6bcc7a95cd04b"
            ]
        ]
    },
    {
        "id": "4d2f5446435e62d1",
        "type": "modbus-write",
        "z": "f77425d62009612d",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "unitid": "2",
        "dataType": "MHoldingRegisters",
        "adr": "99",
        "quantity": "1",
        "server": "e7cbfcc879655084",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 640,
        "y": 720,
        "wires": [
            [
                "b71462a8db1024f6"
            ],
            []
        ]
    },
    {
        "id": "b71462a8db1024f6",
        "type": "debug",
        "z": "f77425d62009612d",
        "name": "debug 55",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 820,
        "y": 720,
        "wires": []
    },
    {
        "id": "d5d6bcc7a95cd04b",
        "type": "debug",
        "z": "f77425d62009612d",
        "name": "补码",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 610,
        "y": 680,
        "wires": []
    },
    {
        "id": "4ec96886cf6ddcfc",
        "type": "debug",
        "z": "f77425d62009612d",
        "name": "直接读取",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 460,
        "y": 540,
        "wires": []
    },
    {
        "id": "c69cb082f4d5391f",
        "type": "function",
        "z": "f77425d62009612d",
        "name": "赋值",
        "func": "msg.payload = -90;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 250,
        "y": 720,
        "wires": [
            [
                "c758cfc4fd1cdcaf",
                "19cc1b023537db9f"
            ]
        ]
    },
    {
        "id": "19cc1b023537db9f",
        "type": "debug",
        "z": "f77425d62009612d",
        "name": "负数",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 370,
        "y": 680,
        "wires": []
    },
    {
        "id": "db6d11e622be6be8",
        "type": "comment",
        "z": "f77425d62009612d",
        "name": "3.1.2  16位负数写操作",
        "info": "",
        "x": 140,
        "y": 680,
        "wires": []
    },
    {
        "id": "cd5db39529d4197c",
        "type": "comment",
        "z": "f77425d62009612d",
        "name": "3.1.1  16位负数读操作",
        "info": "",
        "x": 140,
        "y": 540,
        "wires": []
    },
    {
        "id": "17422aec125ee1e5",
        "type": "comment",
        "z": "f77425d62009612d",
        "name": " 2.1 字符串写操作",
        "info": "",
        "x": 120,
        "y": 320,
        "wires": []
    },
    {
        "id": "5e6d79e257936ac0",
        "type": "inject",
        "z": "f77425d62009612d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 360,
        "wires": [
            [
                "60a74c2ac2108159"
            ]
        ]
    },
    {
        "id": "60a74c2ac2108159",
        "type": "function",
        "z": "f77425d62009612d",
        "name": "赋值",
        "func": "var str ='你好,Marry';\nmsg.payload = stringToByteArray(str);\nreturn msg;\n/**将一个字符串，获取每个字符的Unicode编码，转换为字节数组 */\nfunction stringToByteArray(str) {\n    let byteArray = [];\n    for (let i = 0; i &lt; str.length; i++) {\n        byteArray.push(str.charCodeAt(i));\n    }\n    return byteArray;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 230,
        "y": 360,
        "wires": [
            [
                "48ccae615ccc0b4c",
                "ab1f56889919d10b"
            ]
        ]
    },
    {
        "id": "48ccae615ccc0b4c",
        "type": "modbus-write",
        "z": "f77425d62009612d",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "unitid": "2",
        "dataType": "MHoldingRegisters",
        "adr": "99",
        "quantity": "8",
        "server": "e7cbfcc879655084",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 380,
        "y": 360,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "ab1f56889919d10b",
        "type": "debug",
        "z": "f77425d62009612d",
        "name": "转换后",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 350,
        "y": 320,
        "wires": []
    },
    {
        "id": "3e34769f2f93e394",
        "type": "inject",
        "z": "f77425d62009612d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 460,
        "wires": [
            [
                "2060ceec23e827b0"
            ]
        ]
    },
    {
        "id": "2060ceec23e827b0",
        "type": "modbus-getter",
        "z": "f77425d62009612d",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "logIOActivities": false,
        "unitid": "2",
        "dataType": "HoldingRegister",
        "adr": "99",
        "quantity": "8",
        "server": "e7cbfcc879655084",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 280,
        "y": 460,
        "wires": [
            [
                "674886974e9f1f90",
                "b88737723cab66a8"
            ],
            []
        ]
    },
    {
        "id": "674886974e9f1f90",
        "type": "function",
        "z": "f77425d62009612d",
        "name": "函数转换",
        "func": "//将Unicode编码字节数组转换为对应的字符\nmsg.payload = String.fromCharCode(...msg.payload.slice(0, 8));\n//有需要的话可以去掉字符串中的null和结尾的空字符\nmsg.payload = msg.payload.trim().replace(/\\u0000/g, '');\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 460,
        "y": 460,
        "wires": [
            [
                "c6d5115b578ded31"
            ]
        ]
    },
    {
        "id": "b88737723cab66a8",
        "type": "debug",
        "z": "f77425d62009612d",
        "name": "直接读取",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 440,
        "y": 420,
        "wires": []
    },
    {
        "id": "c6d5115b578ded31",
        "type": "debug",
        "z": "f77425d62009612d",
        "name": "js函数转换",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 610,
        "y": 460,
        "wires": []
    },
    {
        "id": "629c93d9a5836ab0",
        "type": "comment",
        "z": "f77425d62009612d",
        "name": " 2.2  字符串读操作",
        "info": "",
        "x": 120,
        "y": 420,
        "wires": []
    },
    {
        "id": "e2b2a3da4860c56b",
        "type": "function",
        "z": "f77425d62009612d",
        "name": "数组转换",
        "func": "msg.payload = int32ToArrayBE(msg.payload);\nreturn msg;\n/** 使用无符号整数大端序（BE）的转换方式，\n * 将一个32位整数，转换为一个包含两个元素的数组，\n * 其中第一个元素是高16位，第二个元素是低16位 */\nfunction int32ToArrayBE(num) {\n    const high = (num &gt;&gt; 16) &amp; 0xFFFF;\n    const low = num &amp; 0xFFFF;\n    return [high, low];\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 80,
        "wires": [
            [
                "11e1bfef49c08c4d",
                "54919ad9449f2987"
            ]
        ]
    },
    {
        "id": "2057a2e62539d669",
        "type": "inject",
        "z": "f77425d62009612d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 80,
        "wires": [
            [
                "c858d03ce2f7e8a2"
            ]
        ]
    },
    {
        "id": "11e1bfef49c08c4d",
        "type": "modbus-write",
        "z": "f77425d62009612d",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "unitid": "2",
        "dataType": "MHoldingRegisters",
        "adr": "99",
        "quantity": "2",
        "server": "e7cbfcc879655084",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 540,
        "y": 80,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "c858d03ce2f7e8a2",
        "type": "function",
        "z": "f77425d62009612d",
        "name": "赋值",
        "func": "msg.payload = 3276780;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 230,
        "y": 80,
        "wires": [
            [
                "e2b2a3da4860c56b",
                "1438b02a5f7824dc"
            ]
        ]
    },
    {
        "id": "1438b02a5f7824dc",
        "type": "debug",
        "z": "f77425d62009612d",
        "name": "原始",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 350,
        "y": 40,
        "wires": []
    },
    {
        "id": "54919ad9449f2987",
        "type": "debug",
        "z": "f77425d62009612d",
        "name": "数组",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 510,
        "y": 40,
        "wires": []
    },
    {
        "id": "1da67750bf2f0eb1",
        "type": "comment",
        "z": "f77425d62009612d",
        "name": "1.1  32word写操作",
        "info": "",
        "x": 130,
        "y": 20,
        "wires": []
    },
    {
        "id": "dd7a84e126fda707",
        "type": "inject",
        "z": "f77425d62009612d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 200,
        "wires": [
            [
                "7d73e7b22a1358f0"
            ]
        ]
    },
    {
        "id": "7d73e7b22a1358f0",
        "type": "modbus-getter",
        "z": "f77425d62009612d",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "logIOActivities": false,
        "unitid": "2",
        "dataType": "HoldingRegister",
        "adr": "99",
        "quantity": "2",
        "server": "e7cbfcc879655084",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 260,
        "y": 200,
        "wires": [
            [
                "4bf2a9d5169fa147",
                "9908852fe20a2380",
                "58decbf3f6230bed"
            ],
            []
        ]
    },
    {
        "id": "4bf2a9d5169fa147",
        "type": "function",
        "z": "f77425d62009612d",
        "name": "函数转换",
        "func": "/** 使用无符号整数大端序（Big-Endian）的转换方式，将一个一个包含两个元素的数组，转换为一个32位整数 */\nfunction arrayToInt32BE(data) {\n    return (data[0] &lt;&lt; 16) | data[1];\n}\nmsg.payload = arrayToInt32BE(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 440,
        "y": 200,
        "wires": [
            [
                "275aa03cf2080e7d"
            ]
        ]
    },
    {
        "id": "275aa03cf2080e7d",
        "type": "debug",
        "z": "f77425d62009612d",
        "name": "js函数转换",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 590,
        "y": 200,
        "wires": []
    },
    {
        "id": "9908852fe20a2380",
        "type": "debug",
        "z": "f77425d62009612d",
        "name": "直接读取",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 440,
        "y": 160,
        "wires": []
    },
    {
        "id": "58decbf3f6230bed",
        "type": "buffer-parser",
        "z": "f77425d62009612d",
        "name": "",
        "data": "payload",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "int32be",
                "name": "item1",
                "offset": 0,
                "length": 1,
                "offsetbit": 0,
                "scale": "1",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "return",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 450,
        "y": 240,
        "wires": [
            [
                "342f36c555ec1252"
            ]
        ]
    },
    {
        "id": "342f36c555ec1252",
        "type": "debug",
        "z": "f77425d62009612d",
        "name": "parse转换",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 600,
        "y": 240,
        "wires": []
    },
    {
        "id": "e1215e288585f302",
        "type": "comment",
        "z": "f77425d62009612d",
        "name": "1.2  32word读操作",
        "info": "",
        "x": 130,
        "y": 140,
        "wires": []
    },
    {
        "id": "e7cbfcc879655084",
        "type": "modbus-client",
        "name": "tcp@192.168.2.105:1024",
        "clienttype": "tcp",
        "bufferCommands": true,
        "stateLogEnabled": false,
        "queueLogEnabled": false,
        "failureLogEnabled": true,
        "tcpHost": "192.168.2.105",
        "tcpPort": "1024",
        "tcpType": "DEFAULT",
        "serialPort": "/dev/ttyUSB",
        "serialType": "RTU-BUFFERD",
        "serialBaudrate": "9600",
        "serialDatabits": "8",
        "serialStopbits": "1",
        "serialParity": "none",
        "serialConnectionDelay": "100",
        "serialAsciiResponseStartDelimiter": "0x3A",
        "unit_id": "1",
        "commandDelay": "1",
        "clientTimeout": "1000",
        "reconnectOnTimeout": false,
        "reconnectTimeout": "2000",
        "parallelUnitIdsAllowed": true,
        "showWarnings": true,
        "showLogs": true
    }
]
</code></pre> 
<p><a href="#click2dir" rel="nofollow">回到目录</a></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f164c4f8dad3d89859401b4ff3613733/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">大创项目推荐 深度学习YOLO安检管制物品识别与检测 - python opencv</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3e5a20089a6f2be8f9d8eb99339d319f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">不同角度深入探讨Maya和Blender这两款软件的差异</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程爱好者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151260"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>