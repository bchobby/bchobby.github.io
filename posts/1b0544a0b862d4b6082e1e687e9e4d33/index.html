<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Git技能树（3）：Git使用 - 编程爱好者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Git技能树（3）：Git使用" />
<meta property="og:description" content="Git技能树（3）：Git使用 在开始 Git 的基础命令学习之前，我们先来认识一下版本库——Repository，接下来我们所有提到的 Git 基础命令，都是基于版本库的。
那么什么是版本库呢？版本库又名仓库，英文名 repository，你可以简单理解成一个目录，这个目录里面的所有文件都可以被Git管理起来，每个文件的修改、删除，Git都能跟踪，以便任何时刻都可以追踪历史，或者在将来某个时刻可以“还原”。
接下来，我们首先看看 Git 版本库创建的相关命令。
在已存在目录中初始化仓库 —— git init 在已存在目录中创建一个版本库的过程非常简单：
首先，选择一个合适的地方，创建一个空目录：
创建目录
$ mkdir learning-git $ cd learning-git $ pwd /Users/xxm/learning-git pwd命令用于显示当前目录。
第二步，通过git init命令把这个目录变成 Git 可以管理的仓库：
初始化仓库
$ git init Initialized empty Git repository in /Users/xxm/learning-git/.git/ 瞬间 Git 就把仓库建好了，而且告诉你是一个空的仓库（empty Git repository），同时在当前目录下多了一个.git的目录，这个目录是 Git 来跟踪管理版本库的，如果你没有看到 .git 目录，那是因为这个目录默认是隐藏的，用ls -ah命令就可以看到了。
克隆现有的仓库 —— git clone 如果你想获得一份已经存在了的 Git 仓库的拷贝，比如说，你想为某个开源项目贡献自己的一份力，这时就要用到 git clone 命令，Git 克隆的是该 Git 仓库服务器上的几乎所有数据，而不是仅仅复制完成你的工作所需要文件。
git clone
当你执行 git clone 命令的时候，默认配置下远程 Git 仓库中的每一个文件的每一个版本都将被拉取下来。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bchobby.github.io/posts/1b0544a0b862d4b6082e1e687e9e4d33/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-07-19T14:54:28+08:00" />
<meta property="article:modified_time" content="2022-07-19T14:54:28+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程爱好者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程爱好者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Git技能树（3）：Git使用</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="Git3Git_0"></a>Git技能树（3）：Git使用</h3> 
<p>在开始 <code>Git</code> 的基础命令学习之前，我们先来认识一下版本库——Repository，接下来我们所有提到的 <code>Git</code> 基础命令，都是基于版本库的。</p> 
<p>那么什么是版本库呢？版本库又名仓库，英文名 <code>repository</code>，你可以简单理解成一个目录，这个目录里面的所有文件都可以被<code>Git</code>管理起来，每个文件的修改、删除，<code>Git</code>都能跟踪，以便任何时刻都可以追踪历史，或者在将来某个时刻可以“还原”。</p> 
<p>接下来，我们首先看看 <code>Git</code> 版本库创建的相关命令。</p> 
<h4><a id="__git_init_9"></a>在已存在目录中初始化仓库 —— git init</h4> 
<p>在已存在目录中创建一个版本库的过程非常简单：</p> 
<p>首先，选择一个合适的地方，创建一个空目录：</p> 
<p><strong>创建目录</strong></p> 
<br> 
<pre><code class="prism language-bash">$ <span class="token function">mkdir</span> learning-git
$ <span class="token builtin class-name">cd</span> learning-git
$ <span class="token builtin class-name">pwd</span>
/Users/xxm/learning-git
</code></pre> 
<p><code>pwd</code>命令用于显示当前目录。</p> 
<p>第二步，通过<code>git init</code>命令把这个目录变成 <code>Git</code> 可以管理的仓库：</p> 
<p><strong>初始化仓库</strong></p> 
<br> 
<pre><code class="prism language-bash">$ <span class="token function">git</span> init
Initialized empty Git repository <span class="token keyword">in</span> /Users/xxm/learning-git/.git/
</code></pre> 
<p>瞬间 <code>Git</code> 就把仓库建好了，而且告诉你是一个空的仓库（empty <code>Git</code> repository），同时在当前目录下多了一个<code>.git</code>的目录，这个目录是 <code>Git</code> 来跟踪管理版本库的，如果你没有看到 .git 目录，那是因为这个目录默认是隐藏的，用<code>ls -ah</code>命令就可以看到了。</p> 
<h4><a id="__git_clone_45"></a>克隆现有的仓库 —— git clone</h4> 
<p>如果你想获得一份已经存在了的 <code>Git</code> 仓库的拷贝，比如说，你想为某个开源项目贡献自己的一份力，这时就要用到 <code>git clone</code> 命令，<code>Git</code> 克隆的是该 <code>Git</code> 仓库服务器上的几乎所有数据，而不是仅仅复制完成你的工作所需要文件。</p> 
<p><strong>git clone</strong></p> 
<br> 
<p>当你执行 <code>git clone</code> 命令的时候，默认配置下远程 <code>Git</code> 仓库中的每一个文件的每一个版本都将被拉取下来。</p> 
<p>克隆仓库的命令是 <code>git clone &lt;url&gt; </code>。 比如，要克隆 <code>Git</code> 的链接库 libgit2，可以用下面的命令：</p> 
<pre><code class="prism language-bash">$ <span class="token function">git</span> clone https://gitcode.net/codechina/help-docs
</code></pre> 
<p>这会在当前目录下创建一个名为 <code>help-docs</code> 的目录，并在这个目录下初始化一个 <code>.git</code> 文件夹， 从远程仓库拉取下所有数据放入 <code>.git</code> 文件夹，然后从中读取最新版本的文件的拷贝。 如果你进入到这个新建的 <code>help-docs</code> 文件夹，你会发现所有的项目文件已经在里面了，准备就绪等待后续的开发和使用。</p> 
<p><strong>自定义本地仓库名称</strong></p> 
<br> 
<p>当然如果你想在克隆远程仓库的时候，自定义本地仓库的名字也是可以的，你可以通过额外的参数指定新的目录名：</p> 
<pre><code class="prism language-bash">$ <span class="token function">git</span> clone https://gitcode.net/codechina/help-docs mydocs
</code></pre> 
<p>这会执行与上一条命令相同的操作，但目标目录名变为了 <code>mydocs</code>。</p> 
<p>Git 支持多种数据传输协议。 上面的例子使用的是 <code>https://</code> 协议，不过你也可以使用 <code>git://</code> 协议或者使用 <code>SSH</code> 传输协议，比如 <code>user@server:path/to/repo.git</code> 。</p> 
<h4><a id="_82"></a>编辑并添加文件</h4> 
<p>接下来，我们来尝试在已经准备好的 <code>Git</code> 仓库中编辑一个<code>readme.txt</code>文件，内容如下：</p> 
<pre><code class="prism language-bash">Git is a version control system.
Git is <span class="token function">free</span> software.
</code></pre> 
<p>接下来，我们可以通过2个命令将刚创建好的<code>readme.txt</code>添加到<code>Git</code>仓库：</p> 
<p>第一步，用命令<code>git add</code>告诉 <code>Git</code>，把文件添加到仓库：</p> 
<pre><code class="prism language-bash">$ <span class="token function">git</span> <span class="token function">add</span> readme.txt
</code></pre> 
<p>执行上面的命令，没有任何显示，说明添加成功。</p> 
<h4><a id="_101"></a>提交变动到仓库</h4> 
<p>第二步，用命令<code>git commit</code>告诉 <code>Git</code>，把文件提交到仓库：</p> 
<pre><code class="prism language-bash">$ <span class="token function">git</span> commit -m <span class="token string">"wrote a readme file"</span>
<span class="token punctuation">[</span>master <span class="token punctuation">(</span>root-commit<span class="token punctuation">)</span> 50ed06b<span class="token punctuation">]</span> wrote a readme <span class="token function">file</span>
 <span class="token number">1</span> <span class="token function">file</span> changed, <span class="token number">2</span> insertions<span class="token punctuation">(</span>+<span class="token punctuation">)</span>
 create mode <span class="token number">100644</span> readme.txt
</code></pre> 
<blockquote> 
 <p>这里简单解释一下<code>git commit</code>命令，<code>-m</code>后面输入的是本次提交的说明，可以输入任意内容，当然最好是有意义的，这样你就能从历史记录里方便地找到改动记录。</p> 
</blockquote> 
<p><code>git commit</code>命令执行成功后会告诉你：</p> 
<ul><li>1 file changed：1个文件被改动（我们新添加的<code>readme</code>.txt文件）</li><li>2 insertions：插入了两行内容（readme.txt有两行内容）</li></ul> 
<p>为什么 <code>Git</code> 添加文件需要<code>add，commit</code>一共两步呢？因为<code>commit</code>可以一次提交很多文件，所以你可以多次<code>add</code>不同的文件，比如：</p> 
<pre><code class="prism language-bash">$ <span class="token function">git</span> <span class="token function">add</span> file1.txt
$ <span class="token function">git</span> <span class="token function">add</span> file2.txt file3.txt
$ <span class="token function">git</span> commit -m <span class="token string">"add 3 files."</span>
</code></pre> 
<h4><a id="Git_127"></a>查看<code>Git</code>仓库当前状态变化</h4> 
<p>我们已经成功地添加并提交了一个<code>readme.txt</code>文件，接下来让我们继续修改<code>readme.txt</code>文件，改成如下内容：</p> 
<pre><code class="prism language-bash">Git is a distributed version control system.
Git is <span class="token function">free</span> software.
</code></pre> 
<p><strong>查看 <code>git status</code> 结果</strong></p> 
<br> 
<p>现在，运行<code>git status</code>命令看看结果：</p> 
<pre><code class="prism language-bash">$ <span class="token function">git</span> status
On branch master
Changes not staged <span class="token keyword">for</span> commit:
  <span class="token punctuation">(</span>use <span class="token string">"git add &lt;file&gt;..."</span> to update what will be committed<span class="token punctuation">)</span>
  <span class="token punctuation">(</span>use <span class="token string">"git checkout -- &lt;file&gt;..."</span> to discard changes <span class="token keyword">in</span> working directory<span class="token punctuation">)</span>

	modified:   readme.txt

no changes added to commit <span class="token punctuation">(</span>use <span class="token string">"git add"</span> and/or <span class="token string">"git commit -a"</span><span class="token punctuation">)</span>
</code></pre> 
<p><code>git status</code>命令可以让我们时刻掌握仓库当前的状态，上面的命令输出告诉我们，<code>readme.txt</code>被修改过了，但还没有准备提交的修改。</p> 
<h4><a id="_157"></a>比较变动</h4> 
<p>虽然 <code>Git</code> 告诉我们<code>readme.txt</code>被修改了，但并没有告诉我们具体修改的内容是什么，假如刚好是上周修改的，等到周一来班时，已经记不清上次怎么修改的<code>readme.txt</code>，这个时候我们就需要用<code>git diff</code>这个命令查看相较于上一次暂存都修改了些什么内容了：</p> 
<p><strong>运行 <code>git diff</code> 命令</strong></p> 
<br> 
<pre><code class="prism language-bash">$ <span class="token function">git</span> <span class="token function">diff</span> readme.txt 
<span class="token function">diff</span> --git a/readme.txt b/readme.txt
index 46d49bf<span class="token punctuation">..</span>9247db6 <span class="token number">100644</span>
--- a/readme.txt
+++ b/readme.txt
@@ -1,2 +1,2 @@
-Git is a version control system.
+Git is a distributed version control system.
 Git is <span class="token function">free</span> software.
 <span class="token punctuation">(</span>END<span class="token punctuation">)</span>
</code></pre> 
<p><code>git diff</code>顾名思义就是查看 difference，显示的格式正是 Unix 通用的 <code>diff</code> 格式，可以从上面的输出看到，我们在第一行添加了一个<code>distributed</code>单词。</p> 
<h4><a id="_182"></a>综合操作</h4> 
<p>知道了对<code>readme.txt</code>作了什么修改后，再把它提交到仓库就放心多了，提交修改和提交新文件是一样的两步，第一步是<code>git add</code>：</p> 
<p><strong>git add</strong></p> 
<br> 
<pre><code class="prism language-bash">$ <span class="token function">git</span> <span class="token function">add</span> readme.txt
</code></pre> 
<p>同样没有任何输出。在执行第二步<code>git commit</code>之前，我们再运行<code>git status</code>看看当前仓库的状态：</p> 
<p><strong>git status</strong></p> 
<br> 
<pre><code class="prism language-bash">$ <span class="token function">git</span> status
On branch master
Changes to be committed:
  <span class="token punctuation">(</span>use <span class="token string">"git reset HEAD &lt;file&gt;..."</span> to unstage<span class="token punctuation">)</span>

	modified:   readme.txt
</code></pre> 
<p><code>git status</code>告诉我们，将要被提交的修改包括<code>readme.txt</code>，下一步，就可以放心地提交了：</p> 
<p>** git commit**</p> 
<br> 
<pre><code class="prism language-bash">$ <span class="token function">git</span> commit -m <span class="token string">"add distributed"</span>
<span class="token punctuation">[</span>master e55063a<span class="token punctuation">]</span> <span class="token function">add</span> distributed
 <span class="token number">1</span> <span class="token function">file</span> changed, <span class="token number">1</span> insertion<span class="token punctuation">(</span>+<span class="token punctuation">)</span>, <span class="token number">1</span> deletion<span class="token punctuation">(</span>-<span class="token punctuation">)</span>
</code></pre> 
<p>提交后，我们再用<code>git status</code>命令看看仓库的当前状态：</p> 
<p>** git status**</p> 
<br> 
<pre><code class="prism language-bash">$ <span class="token function">git</span> status
On branch master
nothing to commit, working tree clean
</code></pre> 
<p>Git告诉我们当前没有需要提交的修改，而且，工作目录是干净（working tree clean）的。</p> 
<h4><a id="_243"></a>查看日志</h4> 
<p>如果嫌输出信息太多，看得眼花缭乱的，可以试试加上<code>--pretty=oneline</code>参数：</p> 
<p>** git log --pretty=oneline**</p> 
<br> 
<pre><code class="prism language-bash">$ <span class="token function">git</span> log --pretty<span class="token operator">=</span>oneline
e55063ad7f97dd979e4f94e12d2bc44a25a0fd55 <span class="token punctuation">(</span>HEAD -<span class="token operator">&gt;</span> master<span class="token punctuation">)</span> <span class="token function">add</span> distributed
50ed06bd62fd34afbe501e6f2a4af73ccbe187f0 wrote a readme <span class="token function">file</span>
<span class="token punctuation">(</span>END<span class="token punctuation">)</span>
</code></pre> 
<p>每提交一个新版本，实际上 Git 就会把它们自动串成一条时间线。如果使用可视化工具或者之前在 git 自定义配置中介绍的 <code>git lg</code>命令，就可以更清楚地看到提交历史的时间线：</p> 
<pre><code class="prism language-bash">$ <span class="token function">git</span> lg
* e55063a - <span class="token punctuation">(</span>HEAD -<span class="token operator">&gt;</span> master<span class="token punctuation">)</span> <span class="token function">add</span> distributed <span class="token punctuation">(</span><span class="token number">4</span> minutes ago<span class="token punctuation">)</span> <span class="token operator">&lt;</span>Miykael_xxm<span class="token operator">&gt;</span>
* 50ed06b - wrote a readme <span class="token function">file</span> <span class="token punctuation">(</span><span class="token number">6</span> minutes ago<span class="token punctuation">)</span> <span class="token operator">&lt;</span>Miykael_xxm<span class="token operator">&gt;</span>
<span class="token punctuation">(</span>END<span class="token punctuation">)</span>
</code></pre> 
<p>作为一个优秀的版本控制系统，Git 能够让我们查看每一次提交的记录。在日常的工作中，我们可以随时对 Git 仓库中的内容进行修改，，每当你觉得文件修改到一定程度的时候，就可以“保存一个快照”，这个快照在 Git中 被称为<code>commit / 提交</code>。一旦你把文件改乱了，或者误删了文件，还可以从最近的一个<code>commit</code>恢复，然后继续工作，而不是把几个月的工作成果全部丢失。</p> 
<p>** git log**</p> 
<br> 
<p>在 Git 中，我们可以通过<code>git log</code>命令查看全部的<code>commit</code>记录：</p> 
<pre><code class="prism language-bash">$ <span class="token function">git</span> log
commit e55063ad7f97dd979e4f94e12d2bc44a25a0fd55 <span class="token punctuation">(</span>HEAD -<span class="token operator">&gt;</span> master<span class="token punctuation">)</span>
Author: Miykael_xxm <span class="token operator">&lt;</span>xiongjiamu@gmail.com<span class="token operator">&gt;</span>
Date:   Fri Nov <span class="token number">27</span> <span class="token number">16</span>:08:04 <span class="token number">2020</span> +0800

    <span class="token function">add</span> distributed

commit 50ed06bd62fd34afbe501e6f2a4af73ccbe187f0
Author: Miykael_xxm <span class="token operator">&lt;</span>xiongjiamu@gmail.com<span class="token operator">&gt;</span>
Date:   Fri Nov <span class="token number">27</span> <span class="token number">16</span>:06:11 <span class="token number">2020</span> +0800

    wrote a readme <span class="token function">file</span>
<span class="token punctuation">(</span>END<span class="token punctuation">)</span>
</code></pre> 
<p><code>git log</code>命令显示从最近到最远的提交日志，我们可以看到2次提交，最近的一次是<code>add distributed</code>，最早的一次是<code>wrote a readme file</code>。</p> 
<h4><a id="Git__297"></a>Git 回退</h4> 
<p>这个时候，假设我们需要将 <code>readme.txt</code> 回退到上一个版本，也就是 <code>wrote a readme file</code> 的这个版本，我们需要怎么操作呢？</p> 
<p>首先，Git 必须知道当前版本是哪个版本，在 Git 中，用<code>HEAD</code>表示当前版本，也就是最新的提交<code>e55063a</code>，上一个版本就是<code>HEAD^</code>，上上一个版本就是<code>HEAD^^</code>，当然往上100个版本写100个<code>^</code>比较容易数不过来，所以写成<code>HEAD~100</code>。</p> 
<p>现在，我们要把当前版本<code>add distributed</code>回退到上一个版本<code>wrote a readme file</code>，就可以使用<code>git reset</code>命令：</p> 
<p>** git reset**</p> 
<br> 
<pre><code class="prism language-bash">$ <span class="token function">git</span> reset --hard HEAD^
HEAD is now at 50ed06b wrote a readme <span class="token function">file</span>
</code></pre> 
<p>现在让我们看看<code>readme.txt</code>的内容是不是版本<code>wrote a readme file</code>：</p> 
<pre><code class="prism language-bash">$ <span class="token function">cat</span> readme.txt
Git is a version control system.
Git is <span class="token function">free</span> software.
</code></pre> 
<p>果然还原到最初<code>wrote a readme file</code>这个版本了。</p> 
<p>Git 的版本回退速度非常快，因为 Git 在内部有个指向当前版本的<code>HEAD</code>指针，当你回退版本的时候，Git 仅仅是把<code>HEAD</code>从指向<code>add distributed</code>：</p> 
<p>** HEAD 指针移动记录**</p> 
<br> 
<pre><code>┌────┐
│HEAD│
└────┘
   │
   └──&gt; ○ add distributed
        │
        ○ wrote a readme file
</code></pre> 
<p>改为指向<code>wrote a readme file</code>：</p> 
<pre><code>┌────┐
│HEAD│
└────┘
   │
   │    ○ add distributed
   │    │
   └──&gt; ○ wrote a readme file
</code></pre> 
<p>然后顺便把工作区的文件更新了。所以你让<code>HEAD</code>指向哪个版本号，你就把当前版本定位在哪。</p> 
<h4><a id="Git_354"></a>Git重置</h4> 
<p>现在，你回退到了某个版本，关掉了电脑，第二天早上就后悔了，想恢复到新版本怎么办？找不到新版本的<code>commit id</code>怎么办？</p> 
<p>好在 Git 提供了一个命令<code>git reflog</code>用来记录你的每一次命令，当你用<code>git reset --hard HEAD^</code>回退到<code>wrote a readme file</code>版本时，再想恢复到<code>add distributed</code>，就可以通过<code>git reflog</code>命令找到<code>add distributed</code>的<code>commit id</code>。</p> 
<p>** git reflog**</p> 
<br> 
<pre><code class="prism language-bash">$ <span class="token function">git</span> reflog
50ed06b <span class="token punctuation">(</span>HEAD -<span class="token operator">&gt;</span> master<span class="token punctuation">)</span> HEAD@<span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">}</span>: reset: moving to HEAD~
e55063a HEAD@<span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">}</span>: reset: moving to HEAD
e55063a HEAD@<span class="token punctuation">{<!-- --></span><span class="token number">2</span><span class="token punctuation">}</span>: commit: <span class="token function">add</span> distributed
50ed06b <span class="token punctuation">(</span>HEAD -<span class="token operator">&gt;</span> master<span class="token punctuation">)</span> HEAD@<span class="token punctuation">{<!-- --></span><span class="token number">3</span><span class="token punctuation">}</span>: commit <span class="token punctuation">(</span>initial<span class="token punctuation">)</span>: wrote a readme <span class="token function">file</span>
ESC
</code></pre> 
<p>从上面的输出可以看到，<code>add distributed</code>的<code>commit id</code>是<code>e55063a</code>，现在，我们就可以通过 <code>git reset --hard e55063a</code>切换到最新的版本上了。</p> 
<h4><a id="_378"></a>工作区和暂存区</h4> 
<p>Git 和其他版本控制系统如 SVN 的一个不同之处就是有暂存区的概念。</p> 
<h5><a id="Working_Directory_382"></a>工作区（Working Directory）</h5> 
<p>就是你在电脑里能看到的目录，比如我的learngit文件夹就是一个工作区：</p> 
<p><img src="https://images2.imgbox.com/fc/9c/jGtMCPpK_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-f7g6n6PH-1656061420135)(https://codechina.csdn.net/CoCo_Code_Op2/course_test_repo/-/raw/70770c9493a21cdacf4e140ab7fe117ee23782a8/static/images/006.png)]"></p> 
<h5><a id="Repository_388"></a>版本库（Repository）</h5> 
<p>工作区有一个隐藏目录<code>.git</code>，这个不算工作区，而是 Git 的版本库。</p> 
<p>Git 的版本库里存了很多东西，其中最重要的就是称为<code>stage（或者叫index）</code>的暂存区，还有 Git 为我们自动创建的第一个分支master，以及指向 <code>master</code> 的一个指针叫<code>HEAD</code>。</p> 
<p><img src="https://images2.imgbox.com/a2/11/MYLgfdQr_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-xxBwgVWV-1656061420136)(https://codechina.csdn.net/CoCo_Code_Op2/course_test_repo/-/raw/70770c9493a21cdacf4e140ab7fe117ee23782a8/static/images/007.jpeg)]"></p> 
<p>前面讲了我们把文件往 Git 版本库里添加的时候，是分两步执行的：</p> 
<ul><li>第一步是用<code>git add</code>把文件添加进去，实际上就是把文件修改添加到暂存区；</li><li>第二步是用<code>git commit</code>提交更改，实际上就是把暂存区的所有内容提交到当前分支。</li></ul> 
<p>因为我们创建 Git 版本库时，Git自动为我们创建了唯一一个<code>master</code>分支，所以，现在，<code>git commit</code>就是往 <code>master</code> 分支上提交更改。</p> 
<p>你可以简单理解为，需要提交的文件修改通通放到暂存区，然后，一次性提交暂存区的所有修改。</p> 
<p>现在，我们来试一下，先对<code>readme.txt</code>做个修改，比如加上一行内容：</p> 
<pre><code class="prism language-bash">Git is a distributed version control system.
Git is <span class="token function">free</span> software distributed under the GPL.
Git has a mutable index called stage.
</code></pre> 
<p>然后，在工作区新增一个LICENSE文本文件。</p> 
<p>先用<code>git status</code>查看一下状态：</p> 
<pre><code class="prism language-bash">$ <span class="token function">git</span> status
On branch master
Changes not staged <span class="token keyword">for</span> commit:
  <span class="token punctuation">(</span>use <span class="token string">"git add &lt;file&gt;..."</span> to update what will be committed<span class="token punctuation">)</span>
  <span class="token punctuation">(</span>use <span class="token string">"git checkout -- &lt;file&gt;..."</span> to discard changes <span class="token keyword">in</span> working directory<span class="token punctuation">)</span>

	modified:   readme.txt

Untracked files:
  <span class="token punctuation">(</span>use <span class="token string">"git add &lt;file&gt;..."</span> to include <span class="token keyword">in</span> what will be committed<span class="token punctuation">)</span>

	LICENSE

no changes added to commit <span class="token punctuation">(</span>use <span class="token string">"git add"</span> and/or <span class="token string">"git commit -a"</span><span class="token punctuation">)</span>
</code></pre> 
<p>Git非常清楚地告诉我们，<code>readme.txt</code>被修改了，而<code>LICENSE</code>还从来没有被添加过，所以它的状态是<code>Untracked</code>。</p> 
<p>现在，使用两次命令<code>git add</code>，把<code>readme.txt</code>和<code>LICENSE</code>都添加后，用<code>git status</code>再查看一下：</p> 
<pre><code class="prism language-bash">$ <span class="token function">git</span> status
On branch master
Changes to be committed:
  <span class="token punctuation">(</span>use <span class="token string">"git reset HEAD &lt;file&gt;..."</span> to unstage<span class="token punctuation">)</span>

	new file:   LICENSE
	modified:   readme.txt
</code></pre> 
<p>现在，暂存区的状态就变成这样了：</p> 
<p><img src="https://images2.imgbox.com/9e/75/jzqLhSXK_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-JYQL9r5t-1656061420137)(https://codechina.csdn.net/CoCo_Code_Op2/course_test_repo/-/raw/70770c9493a21cdacf4e140ab7fe117ee23782a8/static/images/008.jpeg)]"></p> 
<p>所以，<code>git add</code>命令实际上就是把要提交的所有修改放到暂存区（Stage），然后，执行<code>git commit</code>就可以一次性把暂存区的所有修改提交到分支。</p> 
<pre><code class="prism language-bash">$ <span class="token function">git</span> commit -m <span class="token string">"understand how stage works"</span>
<span class="token punctuation">[</span>master 599dbdb<span class="token punctuation">]</span> understand how stage works
 <span class="token number">2</span> files changed, <span class="token number">2</span> insertions<span class="token punctuation">(</span>+<span class="token punctuation">)</span>
 create mode <span class="token number">100644</span> LICENSE
</code></pre> 
<p>一旦提交后，如果你又没有对工作区做任何修改，那么工作区就是“干净”的：</p> 
<pre><code class="prism language-bash">$ <span class="token function">git</span> status
On branch master
nothing to commit, working tree clean
</code></pre> 
<p>现在版本库变成了这样，暂存区就没有任何内容了：</p> 
<p><img src="https://images2.imgbox.com/50/d2/IdaQfd7b_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-oHvV04o4-1656061420138)(https://codechina.csdn.net/CoCo_Code_Op2/course_test_repo/-/raw/70770c9493a21cdacf4e140ab7fe117ee23782a8/static/images/009.jpeg)]"></p> 
<h3><a id="_476"></a>小结</h3> 
<p>好了，git 仓库部分的基础命令已经基本介绍完啦，让我们先回顾一下这些常用的命令都包括哪些？</p> 
<ul><li><code>git init</code></li><li><code>git clone</code></li><li><code>git add</code></li><li><code>git commit</code></li><li><code>git status</code></li><li><code>git diff</code></li><li><code>git log</code></li><li><code>git reset</code></li><li><code>git reflog</code></li></ul>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7673c8e5e638515ecab3465ad2af14ce/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Windows无法启动启动服务，错误1053的解决方法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/84fb07a06dc3d85f1ce153d8e32beb2d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">用户名枚举漏洞怎么解决</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程爱好者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151260"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>