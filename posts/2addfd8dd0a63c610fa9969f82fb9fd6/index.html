<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>千兆网络PHY芯片 RTL8211E的实践应用（原理图及PCB实现） - 编程爱好者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="千兆网络PHY芯片 RTL8211E的实践应用（原理图及PCB实现）" />
<meta property="og:description" content="一、完成基于RTL8211E的千兆以太网外围电路的PCB实现
1.PCB的板级分析
采用了八层PCB板的制作工艺，层级分布分别为
TOP-&gt;GND-&gt;SIG1-&gt;PWR-&gt;PER2 -&gt;SIG2-&gt;GND-&gt;BUTTOM.
其中，top层摆放主要器件并布放控制类信号线以及PHY连接RJ45的差分线；
GND层为参考层；
SIG1主要布放PHY至FPGA端的TX等长信号线；
PWR层主要提供AVDD10和DVDD10的供电电压；
PWR2层主要提供VCC33、DVDD33和AVDD33三种供电电压；
SIG2层主要布放PHY至FPGA端的RX等长信号线；
GND层为参考层；
BUTTOM层为布放因其他原因无法走线的电路；
2.电源设计
电源设计共占用两层PCB板，包括由排针引脚为芯片供电的3.3V电源及芯片内部转换为自身供电的1.05V供电。3.3V供电的原理图如下：
VCC3.3V通过电容滤波后，经过磁珠的隔离，分为为芯片供电的数字电和模拟电两种，按照芯片引脚的位置，划分电源平面。形成的PCB板层如图所示：
根据芯片手册VDD1.05V电压通过芯片自身的switching regulator转换，另外通过外接0电阻与去耦电容形成模拟或数字1.05V电源。switching regulator只能给芯片自身的AVDD10和DVDD10供电，不能给其它外部电路供电。以下是原理图：
芯片regout引脚为自身提供1.05V电压，通过串联电感，并联电容进行滤波后，分为数字电源和模拟电源两部分，同3.3V电源层，1.05V电压在电源层根据芯片供电引脚位置，共分为数字和模拟两部分区域，因参考电路是原芯片厂商给定的外围参考电路，因此，此处对电阻电容的值不做任何改动，其中0欧姆的电阻在原理图中暂时不进行改动，此处0欧姆电阻在此处也起到隔离数字电源和模拟电源的作用。
在整体电源设计时，应注意去耦电容的摆放。
3.接地
GND层作为参考层，为信号层以及与电源形成电容提高整体EMI性能。
在PHY芯片内打过孔以连接地，起到散热，导流的作用。
在其他位置添加过孔。
3.PHY至RJ45电路设计
MDI连接属于高速信号连接，对MDI线路设计时时需特别注意，到RJ-45接口的路径需要尽可能短。考虑到信号串扰等原因，这里使用4对差分对进行数据传输，设置等长，差分对间距，阻抗100欧姆，设置规则如下。
以太网接口速率较高，会产生较大的干扰，会在铜皮产生感应电流，在RJ45接口处需将除差分引脚外的信号全部挖空，挖空区避免走线。
4.PHY至FPGA电路设计
RGMII接口设计：TXC与RXC分别为数据传输中发送与接收的频率，在千兆以太网中，分别为125MHz。接收数据的端口为RX[0…3]，控制使能为TX_CTL；发送数据的端口为TX[0…3]，控制使能为RX_CTL。
为了处理时钟信号，后期调试及EMI等问题，加入0欧姆电阻，对TXC和RXC进行过滤，当信号失真时，将时钟电路中的0电阻更换为值较小的电容。
其中要保证RXC、RX_TCL、RX[0…3]做到等长，TXC、TX_TCL、TX[0…3]做到等长，以避免数据和时钟的不匹配现象。TX与RX分别分配到信号质量最好的中间信号层，如图所示：
为了匹配阻抗，需要串联小电阻22欧姆，串联电阻同时也可以解决输入电压过冲的问题。
为了保证信号质量，如果信号线过长，可对该线路实行端接的处理办法，可以有效的解决信号失真等情况。
其他注意事项及未完成事项：
1.示例板中有表层敷铜，表层敷铜为GNDnet，这块板没有表层敷铜。
2.板层厚度如何考虑。
3.阻抗匹配在cadence中的实际操作。因信号反射的原因，在实际布线的过程中必须考虑阻抗匹配的问题。
二、相关知识点总结
1.表层敷铜
1、对内层信号提供额外的屏蔽防护及噪声抑制；
2、提高PCB的散热能力；
3、在PCB生产过程中，节约腐蚀剂的用量；
4、避免因铜箔不均衡造成PCB过回流焊时产生的应力不同而造成PCB起翘变形。
2.PCB板层选择
TOP-&gt;GND-&gt;SIG1-&gt;PWR-&gt;PER2 -&gt;SIG2-&gt;GND-&gt;BUTTOM这种八层PCB板是最常见的PCB板层设计之一，好处在于每个布线层都有一个GND参考层相连，保证了电路的回流，减小阻抗。有较好的信号完整性，信号层与街底层相邻，电源层与接地层配对，每个走线层的阻抗都可较好控制。两个街底层能良好吸收侧离线，并且在电源地层完整的情况下，为每个信号层都提供较好的回流路径。
其他的八层板设计有top-gnd-sig1-pwr-gnd-sig3-gnd-buttom等。
常用的六层板叠层设计有TOP-GND-SIG2-PWR-GND-BUTTOM.
因为该芯片供电采用了1.05V和3.3V混合供电，其中又包括了AVDD和DVDD两种，一层电源层可以解决问题，但效果不如两层电源层更好，因此没有选择六层板；
在八层板里，SIG1和SIG2这两层信号层的信号质量最好，因为可用来布高速信号（RX和TX）。因为芯片中RX和TX挨得很近，所以最好将这两组信号拆开放入不同层中，这样效果更好。
3.磁珠的作用
磁珠有很高的电阻率和磁导率，等效于电阻和电感串联，磁珠用bai来吸收超高频信号，像一些RF电路，PLL，振荡电路，含超高频存储器电路都需要在电源输入部分加磁珠，从而提高调频滤波效果。
此处放置磁珠是为了起到隔离数字与模拟电源的作用。这样可以防止一些高频噪声进入模拟区域。因为数字器件有噪声容限，而模拟器件则对噪声非常敏感。
4.电阻的作用
当较快的信号沿驱动一段较长的走线，而走线上没有有效的匹配时，往往会产生过冲。在电路设计中，最小化过冲与减小上升时间的目标会发生冲突。
过冲就是第一个峰值或谷值超过设定电压——对于上升沿是指最高电压而对于下降沿是指最低电压。
对付过冲的一般方法是匹配，或叫端接。端接可总结为两种形式：远端串联匹配消除二次反射，终端并联匹配消除一次反射。
5.电容的作用
应用于电源电路，实现旁路、去藕、滤波和储能方面电容的作用。滤波是电容的作用中很重要的一部分。几乎所有的电源电路中都会用到。从理论上说，电容越大，阻抗越小，通过的频率也越高。
大电容滤掉频率比较低的信号，小电容滤掉频率比较高的信号，通过的信号的频率就是在这两个电容滤掉之间那一段。
大电容是电解电容，有极性，对交流电不起作用，对不平滑的直流电滤波，使之趋于平滑。小电容是无极电容，是滤除交流高频杂波。
6.信号的反射
信号沿传输线向前传播时，每时每刻都会感受到一个瞬态阻抗，这个阻抗可能是传输线本身的，也可能是中途或末端其他元件的。对于信号来说，它不会区分到底是什么，信号所感受到的只有阻抗。如果信号感受到的阻抗是恒定的，那么他就会正常向前传播，只要感受到的阻抗发生变化，不论是什么引起的（可能是中途遇到的电阻，电容，电感，过孔，PCB转角，接插件），信号都会发生反射。
衡量信号反射量的重要指标是反射系数，表示反射电压和原传输信号电压的比值。假设PCB线条的特性阻抗为50欧姆，传输过程中遇到一个100欧姆的贴片电阻，暂时不考虑寄生电容电感的影响，把电阻看成理想的纯电阻，那么反射系数为：1/3，信号有1/3被反射回源端。如果传输信号的电压是3.3V电压，反射电压就是1.1V。
由于反射现象的存在，信号传播路径中阻抗发生变化的点，其电压不再是原来传输的电压。这种反射电压会改变信号的波形，从而可能会引起信号完整性问题。
7.信号的串扰
串扰是指当信号在传输线上传播时，因电磁耦合对相邻的传输线产生的不期望的电压噪声。
串扰是由电磁耦合引起的。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bchobby.github.io/posts/2addfd8dd0a63c610fa9969f82fb9fd6/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-07-20T20:36:08+08:00" />
<meta property="article:modified_time" content="2020-07-20T20:36:08+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程爱好者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程爱好者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">千兆网络PHY芯片 RTL8211E的实践应用（原理图及PCB实现）</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>一、完成基于RTL8211E的千兆以太网外围电路的PCB实现<br> <img src="https://images2.imgbox.com/c8/65/BPATFEPD_o.png" alt="在这里插入图片描述"></p> 
<p>1.PCB的板级分析<br> 采用了八层PCB板的制作工艺，层级分布分别为<br> TOP-&gt;GND-&gt;SIG1-&gt;PWR-&gt;PER2 -&gt;SIG2-&gt;GND-&gt;BUTTOM.<br> 其中，top层摆放主要器件并布放控制类信号线以及PHY连接RJ45的差分线；<br> GND层为参考层；<br> SIG1主要布放PHY至FPGA端的TX等长信号线；<br> PWR层主要提供AVDD10和DVDD10的供电电压；<br> PWR2层主要提供VCC33、DVDD33和AVDD33三种供电电压；<br> SIG2层主要布放PHY至FPGA端的RX等长信号线；<br> GND层为参考层；<br> BUTTOM层为布放因其他原因无法走线的电路；<br> 2.电源设计<br> 电源设计共占用两层PCB板，包括由排针引脚为芯片供电的3.3V电源及芯片内部转换为自身供电的1.05V供电。3.3V供电的原理图如下：<br> <img src="https://images2.imgbox.com/8d/df/aOTLlPB6_o.png" alt="在这里插入图片描述"></p> 
<p>VCC3.3V通过电容滤波后，经过磁珠的隔离，分为为芯片供电的数字电和模拟电两种，按照芯片引脚的位置，划分电源平面。形成的PCB板层如图所示：<br> <img src="https://images2.imgbox.com/e3/fe/2XAxYWu1_o.png" alt="在这里插入图片描述"></p> 
<p>根据芯片手册VDD1.05V电压通过芯片自身的switching regulator转换，另外通过外接0电阻与去耦电容形成模拟或数字1.05V电源。switching regulator只能给芯片自身的AVDD10和DVDD10供电，不能给其它外部电路供电。以下是原理图：<br> <img src="https://images2.imgbox.com/f5/b9/TFRFEoqq_o.png" alt="在这里插入图片描述"></p> 
<p>芯片regout引脚为自身提供1.05V电压，通过串联电感，并联电容进行滤波后，分为数字电源和模拟电源两部分，同3.3V电源层，1.05V电压在电源层根据芯片供电引脚位置，共分为数字和模拟两部分区域，因参考电路是原芯片厂商给定的外围参考电路，因此，此处对电阻电容的值不做任何改动，其中0欧姆的电阻在原理图中暂时不进行改动，此处0欧姆电阻在此处也起到隔离数字电源和模拟电源的作用。<br> 在整体电源设计时，应注意去耦电容的摆放。<br> <img src="https://images2.imgbox.com/33/b1/h41mobnq_o.png" alt="在这里插入图片描述"></p> 
<p>3.接地<br> GND层作为参考层，为信号层以及与电源形成电容提高整体EMI性能。<br> 在PHY芯片内打过孔以连接地，起到散热，导流的作用。<br> <img src="https://images2.imgbox.com/55/7a/4beRQGUo_o.png" alt="在这里插入图片描述"></p> 
<p>在其他位置添加过孔。<br> <img src="https://images2.imgbox.com/47/96/ci7FGVlm_o.png" alt="在这里插入图片描述"></p> 
<p>3.PHY至RJ45电路设计<br> MDI连接属于高速信号连接，对MDI线路设计时时需特别注意，到RJ-45接口的路径需要尽可能短。考虑到信号串扰等原因，这里使用4对差分对进行数据传输，设置等长，差分对间距，阻抗100欧姆，设置规则如下。<br> 以太网接口速率较高，会产生较大的干扰，会在铜皮产生感应电流，在RJ45接口处需将除差分引脚外的信号全部挖空，挖空区避免走线。<br> <img src="https://images2.imgbox.com/d9/8d/DuhXgrHq_o.png" alt="在这里插入图片描述"></p> 
<p>4.PHY至FPGA电路设计<br> RGMII接口设计：TXC与RXC分别为数据传输中发送与接收的频率，在千兆以太网中，分别为125MHz。接收数据的端口为RX[0…3]，控制使能为TX_CTL；发送数据的端口为TX[0…3]，控制使能为RX_CTL。<br> 为了处理时钟信号，后期调试及EMI等问题，加入0欧姆电阻，对TXC和RXC进行过滤，当信号失真时，将时钟电路中的0电阻更换为值较小的电容。<br> 其中要保证RXC、RX_TCL、RX[0…3]做到等长，TXC、TX_TCL、TX[0…3]做到等长，以避免数据和时钟的不匹配现象。TX与RX分别分配到信号质量最好的中间信号层，如图所示：<br> <img src="https://images2.imgbox.com/13/19/9cw0DX7i_o.png" alt="在这里插入图片描述"></p> 
<p>为了匹配阻抗，需要串联小电阻22欧姆，串联电阻同时也可以解决输入电压过冲的问题。<br> 为了保证信号质量，如果信号线过长，可对该线路实行端接的处理办法，可以有效的解决信号失真等情况。</p> 
<p>其他注意事项及未完成事项：<br> 1.示例板中有表层敷铜，表层敷铜为GNDnet，这块板没有表层敷铜。<br> 2.板层厚度如何考虑。<br> 3.阻抗匹配在cadence中的实际操作。因信号反射的原因，在实际布线的过程中必须考虑阻抗匹配的问题。<br> 二、相关知识点总结<br> 1.表层敷铜<br> 1、对内层信号提供额外的屏蔽防护及噪声抑制；<br> 2、提高PCB的散热能力；<br> 3、在PCB生产过程中，节约腐蚀剂的用量；<br> 4、避免因铜箔不均衡造成PCB过回流焊时产生的应力不同而造成PCB起翘变形。<br> 2.PCB板层选择<br> TOP-&gt;GND-&gt;SIG1-&gt;PWR-&gt;PER2 -&gt;SIG2-&gt;GND-&gt;BUTTOM这种八层PCB板是最常见的PCB板层设计之一，好处在于每个布线层都有一个GND参考层相连，保证了电路的回流，减小阻抗。有较好的信号完整性，信号层与街底层相邻，电源层与接地层配对，每个走线层的阻抗都可较好控制。两个街底层能良好吸收侧离线，并且在电源地层完整的情况下，为每个信号层都提供较好的回流路径。<br> 其他的八层板设计有top-gnd-sig1-pwr-gnd-sig3-gnd-buttom等。<br> 常用的六层板叠层设计有TOP-GND-SIG2-PWR-GND-BUTTOM.<br> 因为该芯片供电采用了1.05V和3.3V混合供电，其中又包括了AVDD和DVDD两种，一层电源层可以解决问题，但效果不如两层电源层更好，因此没有选择六层板；<br> 在八层板里，SIG1和SIG2这两层信号层的信号质量最好，因为可用来布高速信号（RX和TX）。因为芯片中RX和TX挨得很近，所以最好将这两组信号拆开放入不同层中，这样效果更好。<br> 3.磁珠的作用<br> 磁珠有很高的电阻率和磁导率，等效于电阻和电感串联，磁珠用bai来吸收超高频信号，像一些RF电路，PLL，振荡电路，含超高频存储器电路都需要在电源输入部分加磁珠，从而提高调频滤波效果。<br> 此处放置磁珠是为了起到隔离数字与模拟电源的作用。这样可以防止一些高频噪声进入模拟区域。因为数字器件有噪声容限，而模拟器件则对噪声非常敏感。<br> 4.电阻的作用<br> 当较快的信号沿驱动一段较长的走线，而走线上没有有效的匹配时，往往会产生过冲。在电路设计中，最小化过冲与减小上升时间的目标会发生冲突。<br> 过冲就是第一个峰值或谷值超过设定电压——对于上升沿是指最高电压而对于下降沿是指最低电压。<br> 对付过冲的一般方法是匹配，或叫端接。端接可总结为两种形式：远端串联匹配消除二次反射，终端并联匹配消除一次反射。<br> 5.电容的作用<br> 应用于电源电路，实现旁路、去藕、滤波和储能方面电容的作用。滤波是电容的作用中很重要的一部分。几乎所有的电源电路中都会用到。从理论上说，电容越大，阻抗越小，通过的频率也越高。<br> 大电容滤掉频率比较低的信号，小电容滤掉频率比较高的信号，通过的信号的频率就是在这两个电容滤掉之间那一段。<br> 大电容是电解电容，有极性，对交流电不起作用，对不平滑的直流电滤波，使之趋于平滑。小电容是无极电容，是滤除交流高频杂波。<br> 6.信号的反射<br> 信号沿传输线向前传播时，每时每刻都会感受到一个瞬态阻抗，这个阻抗可能是传输线本身的，也可能是中途或末端其他元件的。对于信号来说，它不会区分到底是什么，信号所感受到的只有阻抗。如果信号感受到的阻抗是恒定的，那么他就会正常向前传播，只要感受到的阻抗发生变化，不论是什么引起的（可能是中途遇到的电阻，电容，电感，过孔，PCB转角，接插件），信号都会发生反射。<br> 衡量信号反射量的重要指标是反射系数，表示反射电压和原传输信号电压的比值。假设PCB线条的特性阻抗为50欧姆，传输过程中遇到一个100欧姆的贴片电阻，暂时不考虑寄生电容电感的影响，把电阻看成理想的纯电阻，那么反射系数为：1/3，信号有1/3被反射回源端。如果传输信号的电压是3.3V电压，反射电压就是1.1V。<br> 由于反射现象的存在，信号传播路径中阻抗发生变化的点，其电压不再是原来传输的电压。这种反射电压会改变信号的波形，从而可能会引起信号完整性问题。<br> 7.信号的串扰<br> 串扰是指当信号在传输线上传播时，因电磁耦合对相邻的传输线产生的不期望的电压噪声。<br> 串扰是由电磁耦合引起的。<br> 当一个器件或一条信号线上的信号发生变化时，其变化会通过互容和互感耦合到其他器件或信号线，即串扰耦合。当耦合信号或串扰信号足够大时，接收串扰信号的信号线上就会出现信号完整性问题。PCB信号线间的串扰与传输的信号频率、走线的长度、走线间的距离以及参考地平面的状况等因素有关。例如参考平面上的裂缝会使跨越裂缝的信号线间的串扰增加，引起信号波形畸变。<br> 8.去耦电容的摆放<br> 电容去耦的一个重要问题是电容的去耦半径。大多数资料中都会提到电容摆放要尽量靠近芯片。<br> 当芯片对电流的需求发生变化时，会在电源平面的一个很小的局部区域内产生电压扰动，电容要补偿这一电流（或电压），就必须先感知到这个电压扰动。信号在介质中传播需要一定的时间，因此从发生局部电压扰动到电容感知到这一扰动之间有一个时间延迟。同样，电容的补偿电流到达扰动区也需要一个延迟。因此必然造成噪声源和电容补偿电流之间的相位上的不一致。<br> 不同的电容，谐振频率不同，去耦半径也不同。对于大电容，因为其谐振频率很低，对应的波长非常长，因而去耦半径很大，这也是为什么我们不太关注大电容在电路板上放置位置的原因。对于小电容，因去耦半径很小，应尽可能的靠近需要去耦的芯片，这正是大多数资料上都会反复强调的，小电容要尽可能近的靠近芯片放置。<br> 9.差分线规则<br> 尽量保持差分对平行、等长、短距，避免过孔、交叉。由于管脚分布、过孔、以及走线空间等因素存在使得差分线长易不匹配，时序会发生偏移，还会引入共模干扰，降低信号质量。<br> PCB差分走线的设计中最重要的规则就是匹配线长，其它的规则都可以根据设计要求和实际应用进行灵活处理。<br> 问题：是否差分走线一定要靠的很近才好？答：让差分走线靠近无非是为了增强他们的耦合，既可以提高对噪声的免疫力，还能充分利用磁场的相反极性来抵消对外界的电磁干扰。<br> 保证差分走线具有良好的隔离和屏蔽，需增大与其它信号走线的间距，电磁场能量是随着距离呈平方关系递减的，一般线间距超过4倍线宽时，它们之间的干扰就极其微弱了，基本可以忽略。<br> 差分走线也可以走在不同的信号层中，但一般不建议这种走法，因为不同的层产生的诸如阻抗、过孔的差别会破坏差模传输的效果，引入共模噪声。<br> 设置DRC规则时，差分布线重要参数：<br> 1.1 primary gap 优先线间距（8mil）<br> 1.2 primary width 优先线宽(8mil)<br> 2.1 neck gap 密集区线间距(5mil)<br> 2.2 neck width 密集区线宽(5mil)<br> 3. min line specing 差分线最少线间距（小于primary gap，小于等于neck gap）（5mil）<br> 4.dynamic phase 动态相位检查（正向与反向之间的走线差距需小于x）（另配补偿tolerance.y）(在x范围内，造成了y的误差，需在x内进行修正，可不设置)<br> 5.static phase tolerance 两根差分线之间的差值（3mil）<br> 6.uncoupled length 不匹配长度（gather control.是否包含芯片刚出来那一段，可忽略）(10mil)<br> 7.阻抗匹配（不在different pair里，在impedance里，100欧姆，2%）<br> 10.端接的方法<br> (1) 串联端接。<br> 这是我们最容易想到也最常用的一种端接方式。发送端的输出阻抗比较小，那么我们在电路上直接串联一个电阻，使得输出阻抗加上电阻阻值的总阻抗等于传输线阻抗，这样就能保证阻抗的连续性，减小信号的反射。串联端接实现比较简单，缺点也比较明显，由于线路中串联了电阻，会影响信号的上升时间，在高速电路中可能会引起问题。另外由于电阻的分压，使得发送端输出减小。串联端接的电阻要放在尽量靠近发送端的位置，能发挥更好的作用。</p> 
<p>(2) 并联端接。<br> 当接收端的输入阻抗比较大时，我们可以考虑在接收端并联端接一个电阻到地或者到电源。电阻的阻值等于走线的特征阻抗。通过这种方式实现阻抗匹配。这种方式和串联端机一样简单易行，缺点是会消耗直流功率。上拉的时候能提高驱动能力，下拉的时候能提高对电流的吸收能力。</p> 
<p>(3) 戴维宁端接。<br> 戴维宁端接就是采用上拉电阻和下拉电阻来共同组成端接电路，使得戴维宁等效阻抗等于传输线的特征阻抗以实现阻抗匹配。戴维宁端接的优点是上拉电阻和下拉电阻都能用来吸收反射，在电路上没有信号的时候，还能够为电路提供一个直流电平，适合总线应用。但是缺点也很明显，那就是由于电阻的存在，在电源盒地之间存在直流通路，直流功耗较大。</p> 
<p>(4) RC网络端接。<br> RC网络端接是并联端接的升级版。就是在并联到地的电阻下面再增加一颗电容。这样既能够和并联端接一样减小反射，同时由于电容的存在隔离了直流，减小了直流功耗。当然缺点也很明显，RC电路的时间常数会影响信号的上升时间，在高速电路使用中要仔细计算。<br> 11.散热过孔<br> 加热过孔的目的就是为了增强导热的能力，让发热面的元件快速冷却，增加孔径，增加镀层厚度，增加过孔数目都是能显著强化导热的。<br> 手工焊，采用单一大过孔好，容易操作，可靠性高，散热效果也更好。<br> 机焊，采用多个适当孔径（不能太小，要注意焊锡的流动性受表面张力的影响）的过孔为佳，单一大过孔容易因锡膏熔解过程中可能产生的应力导致IC位移，进而可能导致焊接质量问题。<br> 12.指定地平面（参考层）<br> 在PCB设计中采用接地平面最大的好处就是能够降低回路阻抗，它降低了返回电流变化引起的噪声，在整个板子上也会有更均匀的接地电压（低阻抗意味着较低的压降）<br> 接地平面可以改善电路的性能，PCB布局布线工作也变得简单，并且有可能缩小PCB的尺寸，这些都是不言而喻的，在PCB上任何可以打一个过孔的地方都可以就地接入地平面，这要比你通过各种方式走线来实现到地的连接简单多了。<br> 与电源平面相邻的地平面会形成“板间电容”，为整个电路板增加了一些分布式电源电容，起到一定的去耦作用，虽然无法完全取代电路中的去耦电容。<br> 13.电源层平面<br> 14.等长线规则<br> 等长线是为了减少信号相对延时，常用在高速存储器的地址和数据线上。为了补偿同一组时序相关的信号线中延时较小的走线，尽量减小同组信号之间的相对延时，避免出现时序问题。<br> 15. 0欧姆电阻<br> （1）在电路中没有任何功能，只是在PCB上为了调试方便或兼容设计等原因。<br> （2）可以做跳线用，如果某段线路不用，直接不贴该电阻即可(不影响外观)。<br> （3）在匹配电路参数不确定的时候，以0欧姆代替，实际调试的时候，确定参数，再以具体数值的元件代替。<br> （4）在高频信号下，充当电感或电容。(与外部电路特性有关)电感用，主要是解决EMC问题。如地与地，电源和ICPin间。<br> （5）单点接地：指保护接地、工作接地、直流接地在设备上相互分开,各自成为独立系统。<br> （6）跨接时用于电流回路，当分割电地平面后，造成信号最短回流路径断裂，此时，信号回路不得不绕道，形成很大的环路面积，电场和磁场的影响就变强了，容易干扰/被干扰。在分割区上跨接0欧电阻，可以提供较短的回流路径，减小干扰。</p> 
<p>我能力有限，只会这么多了，后面就是调试了，也不知道会做成个啥鬼样子。还是建议按照官方给的参考原理图进行设计跟画板吧。我还是有几点想不通。<br> 一个是为什么RX匹配了阻抗，而TX的匹配阻抗没在原理图上体现呢？是不用匹配还是说这部分官方自动划到了MAC端去了？还是预留上NC吧。<br> 一个是电源层的走线我没按照芯片手册上说的，要在同一层或是线宽要宽与多少。老同事说这只是厂家的建议，没必要处处都按照它的来，建议归建议，自己注意点，连通了就行，问题不大。<br> ps.我用cadence画的,16.6，原理图是capture，pcb是allegro。原理图及pcb已经上传，包括rtl8211的芯片手册，官方参考设计，rj45接口datasheet，以及自己画的板子。附下载地址：https://download.csdn.net/download/livslin16/12643910</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1f088dcffcc58c4f404b2990db00d67e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">《后端》eclipse报错：Could not retrieve transation read-only status server</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/851521c9dbed7491ff81a9df52aa173d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">head-＞next = p；和p=head-＞next；之间的区别</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程爱好者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151260"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>