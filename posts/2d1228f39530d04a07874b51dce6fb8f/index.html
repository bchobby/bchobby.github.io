<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>《数据库原理与应用》（第三版）习题参考答案 - 编程爱好者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="《数据库原理与应用》（第三版）习题参考答案" />
<meta property="og:description" content="第 1 章 数据库概述
1． 试说明数据、数据库、数据库管理系统和数据库系统的概念。
答：数据是描述事物的符号记录。
数据库是长期存储在计算机中的有组织的、可共享的大量数据的集合。
数据库管理系统是一个专门用于实现对数据进行管理和维护的系统软件。
数据库系统是指在计算机中引入数据库后的系统，一般由数据库、数据库管理系统（及相关的实用工具）、应用程序、数据库管理员组成。
2． 数据管理技术的发展主要经历了哪几个阶段？
答：文件管理和数据库管理。
3． 与文件管理相比，数据库管理有哪些优点？
答：与文件系统管理数据相比，数据库系统管理数据带来了如下好处：将相互关联的数据集成在一起，较少的数据冗余，程序与数据相互独立，保证数据的安全可靠，最大限度地保证数据的正确性，数据可以共享并能保证数据的一致性。
4． 在数据库管理方式中，应用程序是否需要关心数据的存储位置和存储结构？为什么？
答：不需要。因为数据库管理系统提供了逻辑独立性和物理独立性。
5． 在数据库系统中，数据库的作用是什么？
答：数据库是数据的汇集，它以一定的组织形式保存在存储介质上。
6． 在数据库系统中，应用程序可以不通过数据库管理系统而直接访问数据文件吗？
答：不能
7． 数据独立性指的是什么？它能带来哪些好处？
答：数据独立性是指应用程序不会因数据的物理表示方式和访问技术的改变而改变，即应用程序不依赖于任何特定的物理表示方式和访问技术，它包含两个方面：逻辑独立性和物理独立性。
物理独立性是指当数据的存储位置或存储结构发生变化时，不影响应用程序的特性；
逻辑独立性是指当表达现实世界的信息内容发生变化时，不影响应用程序的特性。
8． 数据库系统由哪几部分组成，每一部分在数据库系统中的作用大致是什么？
答：数据库系统一般包括数据库、数据库管理系统（及相应的实用工具）、应用程序和数据库管理员四个部分。数据库是数据的汇集，它以一定的组织形式保存在存储介质上；数据库管理系统是管理数据库的系统软件，它可以实现数据库系统的各种功能；应用程序专指以数据库数据为基础的程序，数据库管理员负责整个数据库系统的正常运行。
第2章 数据模型与数据库结构
1．解释数据模型的概念，为什么要将数据模型分成两个层次？
答：答：数据模型是对现实世界数据特征的抽象。数据模型一般要满足三个条件：第一是数据模型要能够比较真实地模拟现实世界；第二是数据模型要容易被人们理解；第三是数据模型要能够很方便地在计算机上实现。由于用一种模型来同时很好地满足这三方面的要求在目前是比较困难的，因此在数据库系统中就可以针对不同的使用对象和应用目的，采用不同的数据模型。根据模型应用的不同目的，将这些模型分为两大类：概念层数据模型和组织层数据模型，以方便对信息的描述。
2．概念层数据模型和组织层数据模型分别是针对什么进行的抽象？
答：概念层数据模型是对现实世界的抽象，形成信息世界模型，组织层数据模型是对信息世界进行抽象和转换，形成具体的DBMS支持的数据组织模型。
3．实体之间的联系有哪几种？请为每一种联系举出一个例子。
答：实体之间的联系有一对一、一对多和多对多三种。例如：系和正系主任是一对一联系（假设一个系只有一个正系主任），系和教师是一对多联系（假设一个教师只在一个系工作），教师和课程是多对多联系（假设一个教师可以讲授多门课程，一门课程可由多个教师讲授）。
4．说明实体-联系模型中的实体、属性和联系的概念。
5．指明下列实体间联系的种类：
（1）教研室和教师（设一个教师只属于一个教研室，一个教研室可有多名教师）。
（2）商品和顾客。
（3）国家和首都（假设一个国家的首都可以变化）。
（4）飞机和乘客。
（5）银行和账户。
（6）图书和借阅者。（设一个借阅者可同时借阅多本书，可在不同时间对同一本书借阅多次）
6．数据库系统包含哪三级模式？试分别说明每一级模式的作用？
答：数据库系统包含的三级模式为：内模式、模式和外模式。外模式是对现实系统中用户感兴趣的整体数据结构的局部描述，用于满足不同数据库用户需求的数据视图，是数据库用户能够看见和使用的局部数据的逻辑结构和特征的描述，是对数据库整体数据结构的子集或局部重构。模式是数据库中全体数据的逻辑结构和特征的描述，是所有用户的公共数据视图。内模式是对整个数据库的底层表示，它描述了数据的存储结构。
7．数据库管理系统提供的两级映像的作用是什么？它带来了哪些功能？
答：数据库系统的两级映象是模式与内描述间的映象和外模式与模式间的映象。模式／内模式的映象带来了物理独立性，即如果数据库的存储结构改变了，可通过调整模式／内模式的映象，使模式能够保持不变。外模式／概念模式间的映象带来了逻辑独立性，当概念模式的结构可发生改变时，也可通过调整外模式/模式间的映象关系，使外模式可以保持不变。
8．数据库三级模式划分的优点是什么？它能带来哪些数据独立性？
答：数据库的三级模式的划分实际上将用户、逻辑数据库与物理数据库进行了划分，使彼此之间的相互干扰减到最少。这三个模式的划分实际上带来了两个数据独立性：物理独立性和逻辑独立性。这使得底层的修改和变化尽量不影响到上层。
第3章 关系数据库
1． 试述关系模型的三个组成部分。
答：关系数据结构、关系操作集合和关系完整性约束。
2． 解释下列术语的含义：
（1） 笛卡尔积：设D1，D2，…，Dn为任意集合，定义笛卡尔积D1，D2，…，Dn为：
D1×D2× …×Dn ＝{(d1，d2，…，dn) | di ∈Di，i＝1，2，…，n }" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bchobby.github.io/posts/2d1228f39530d04a07874b51dce6fb8f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-11-05T11:37:29+08:00" />
<meta property="article:modified_time" content="2020-11-05T11:37:29+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程爱好者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程爱好者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">《数据库原理与应用》（第三版）习题参考答案</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>第 1 章 数据库概述<br> 1． 试说明数据、数据库、数据库管理系统和数据库系统的概念。<br> 答：数据是描述事物的符号记录。<br> 数据库是长期存储在计算机中的有组织的、可共享的大量数据的集合。<br> 数据库管理系统是一个专门用于实现对数据进行管理和维护的系统软件。<br> 数据库系统是指在计算机中引入数据库后的系统，一般由数据库、数据库管理系统（及相关的实用工具）、应用程序、数据库管理员组成。</p> 
<p>2． 数据管理技术的发展主要经历了哪几个阶段？<br> 答：文件管理和数据库管理。</p> 
<p>3． 与文件管理相比，数据库管理有哪些优点？<br> 答：与文件系统管理数据相比，数据库系统管理数据带来了如下好处：将相互关联的数据集成在一起，较少的数据冗余，程序与数据相互独立，保证数据的安全可靠，最大限度地保证数据的正确性，数据可以共享并能保证数据的一致性。</p> 
<p>4． 在数据库管理方式中，应用程序是否需要关心数据的存储位置和存储结构？为什么？<br> 答：不需要。因为数据库管理系统提供了逻辑独立性和物理独立性。</p> 
<p>5． 在数据库系统中，数据库的作用是什么？<br> 答：数据库是数据的汇集，它以一定的组织形式保存在存储介质上。</p> 
<p>6． 在数据库系统中，应用程序可以不通过数据库管理系统而直接访问数据文件吗？<br> 答：不能</p> 
<p>7． 数据独立性指的是什么？它能带来哪些好处？<br> 答：数据独立性是指应用程序不会因数据的物理表示方式和访问技术的改变而改变，即应用程序不依赖于任何特定的物理表示方式和访问技术，它包含两个方面：逻辑独立性和物理独立性。<br> 物理独立性是指当数据的存储位置或存储结构发生变化时，不影响应用程序的特性；<br> 逻辑独立性是指当表达现实世界的信息内容发生变化时，不影响应用程序的特性。</p> 
<p>8． 数据库系统由哪几部分组成，每一部分在数据库系统中的作用大致是什么？<br> 答：数据库系统一般包括数据库、数据库管理系统（及相应的实用工具）、应用程序和数据库管理员四个部分。数据库是数据的汇集，它以一定的组织形式保存在存储介质上；数据库管理系统是管理数据库的系统软件，它可以实现数据库系统的各种功能；应用程序专指以数据库数据为基础的程序，数据库管理员负责整个数据库系统的正常运行。<br> 第2章 数据模型与数据库结构<br> 1．解释数据模型的概念，为什么要将数据模型分成两个层次？<br> 答：答：数据模型是对现实世界数据特征的抽象。数据模型一般要满足三个条件：第一是数据模型要能够比较真实地模拟现实世界；第二是数据模型要容易被人们理解；第三是数据模型要能够很方便地在计算机上实现。由于用一种模型来同时很好地满足这三方面的要求在目前是比较困难的，因此在数据库系统中就可以针对不同的使用对象和应用目的，采用不同的数据模型。根据模型应用的不同目的，将这些模型分为两大类：概念层数据模型和组织层数据模型，以方便对信息的描述。</p> 
<p>2．概念层数据模型和组织层数据模型分别是针对什么进行的抽象？<br> 答：概念层数据模型是对现实世界的抽象，形成信息世界模型，组织层数据模型是对信息世界进行抽象和转换，形成具体的DBMS支持的数据组织模型。</p> 
<p>3．实体之间的联系有哪几种？请为每一种联系举出一个例子。<br> 答：实体之间的联系有一对一、一对多和多对多三种。例如：系和正系主任是一对一联系（假设一个系只有一个正系主任），系和教师是一对多联系（假设一个教师只在一个系工作），教师和课程是多对多联系（假设一个教师可以讲授多门课程，一门课程可由多个教师讲授）。</p> 
<p>4．说明实体-联系模型中的实体、属性和联系的概念。</p> 
<p>5．指明下列实体间联系的种类：<br> （1）教研室和教师（设一个教师只属于一个教研室，一个教研室可有多名教师）。<br> （2）商品和顾客。<br> （3）国家和首都（假设一个国家的首都可以变化）。<br> （4）飞机和乘客。<br> （5）银行和账户。<br> （6）图书和借阅者。（设一个借阅者可同时借阅多本书，可在不同时间对同一本书借阅多次）<br> 6．数据库系统包含哪三级模式？试分别说明每一级模式的作用？<br> 答：数据库系统包含的三级模式为：内模式、模式和外模式。外模式是对现实系统中用户感兴趣的整体数据结构的局部描述，用于满足不同数据库用户需求的数据视图，是数据库用户能够看见和使用的局部数据的逻辑结构和特征的描述，是对数据库整体数据结构的子集或局部重构。模式是数据库中全体数据的逻辑结构和特征的描述，是所有用户的公共数据视图。内模式是对整个数据库的底层表示，它描述了数据的存储结构。</p> 
<p>7．数据库管理系统提供的两级映像的作用是什么？它带来了哪些功能？<br> 答：数据库系统的两级映象是模式与内描述间的映象和外模式与模式间的映象。模式／内模式的映象带来了物理独立性，即如果数据库的存储结构改变了，可通过调整模式／内模式的映象，使模式能够保持不变。外模式／概念模式间的映象带来了逻辑独立性，当概念模式的结构可发生改变时，也可通过调整外模式/模式间的映象关系，使外模式可以保持不变。</p> 
<p>8．数据库三级模式划分的优点是什么？它能带来哪些数据独立性？<br> 答：数据库的三级模式的划分实际上将用户、逻辑数据库与物理数据库进行了划分，使彼此之间的相互干扰减到最少。这三个模式的划分实际上带来了两个数据独立性：物理独立性和逻辑独立性。这使得底层的修改和变化尽量不影响到上层。<br> 第3章 关系数据库<br> 1． 试述关系模型的三个组成部分。<br> 答：关系数据结构、关系操作集合和关系完整性约束。</p> 
<p>2． 解释下列术语的含义：<br> （1） 笛卡尔积：设D1，D2，…，Dn为任意集合，定义笛卡尔积D1，D2，…，Dn为：<br> D1×D2× …×Dn ＝{(d1，d2，…，dn) | di ∈Di，i＝1，2，…，n }</p> 
<p>（2） 主键：也称主码为或主关键字，是表中的属性或属性组，用于惟一地确定一个元组。<br> （3） 候选键：如果一个属性或属性集的值能够惟一标识一个关系的元组而又不包含多余的属性，则称该属性或属性集为候选键。<br> （4） 外键：设F是关系R的一个或一组属性，如果F与关系S的主键相对应，则称F是关系R的外键。<br> （5） 关系：关系就是简单二维表。<br> （6） 关系模式：二维表的结构称为关系模式。<br> （7） 关系数据库：对应于一个关系模型的所有关系的集合称为关系数据库。</p> 
<p>3． 关系数据库的三个完整性约束是什么？各是什么含义？<br> 答：实体完整性、参照完整性和用户定义的完整性。<br> 实体完整性是保证关系中的每个元组都是可识别的和惟一的。<br> 参照完整性也称为引用完整性，用于表达现实世界中的实体之间的关联关系。<br> 用户定义的完整性也称为域完整性或语义完整性，用于保证数据库中存储的值与现实世界相符。</p> 
<p>4． 连接运算有哪些？等值连接和自然连接的区别是什么？<br> 答：连接运算中最重要也是最常用的连接有两个，一个是等值连接，一个是自然连接。<br> 自然连接与等值连接的差别为：<br>  自然连接要求相等的分量必须有共同的属性名，等值连接则不要求；<br>  自然连接要求把重复的属性名去掉，等值连接却不这样做。</p> 
<p>5． 对参与并、交、差运算的两个关系R、S有什么要求？<br> 答：必须结构相同，且相应的属性值取自同一个值域。</p> 
<p>6． 对参与除运算的两个关系（R÷S）有什么要求？除运算的结果关系中包含哪些属性？<br> 答：R中必须包含S的全部或部分属性，除运算的结果包含的属性是只属于R不属于S的属性。</p> 
<p>7． 对参与自然连接和等值连接操作的两个关系R、S有什么要求？<br> 答：有语义相同的属性。</p> 
<p>8． 投影操作的结果关系中是否有可能存在重复的记录？为什么？<br> 答：不可能，因为投影运算会自动去掉投影后重复的记录。</p> 
<p>9．利用表3-10至3-12所示的三个关系，写出实现如下查询要求的关系代数表达式。<br> （1）查询“信息系”学生的选课情况，列出学号、姓名、课程号和成绩。<br> ∏Sno, Sname, Cno, Grade（σSdept=‘信息系’（SC Student））<br> 或：∏Sno, Sname, Cno, Grade（SC σSdept=‘信息系’（Student））</p> 
<p>（2）查询“VB”课程的考试情况，列出学生姓名、所在系和考试成绩。<br> ∏Sname, Sdept, Grade（σCname=‘VB’（Coure SC Student））<br> 或：∏Sname, Sdept, Grade（σCname=‘VB’（Coure） SC Student）</p> 
<p>（3）查询考试成绩高于90分的学生的姓名、课程名和成绩。<br> ∏Sname, Cname, Grade（σGrade&gt;90（Coure SC Student））<br> 或：∏Sname, Cname, Grade（Coure σGrade&gt;90（SC） Student）</p> 
<p>（4）查询至少选修了0512101号学生所选的全部课程的学生的姓名和所在系。<br> ∏Sname, Sdept（Student （SC ÷ ∏Cno（σsno=’0512101’（SC））))</p> 
<p>（5）查询至少选了“C01”和“C02”两门课程的学生的姓名、所在系和所选的课程号。<br> ∏Sname, Sdept, Cno（Student （SC ÷ ∏Sno（σcno=’C01’ V Cno=’C02’（SC））))</p> 
<p>（6）查询没有选修第1学期开设的全部课程的学生的学号、姓名和所选的课程号。<br> ∏Sno, Sname, Cno（Student SC (∏sno（SC) - ∏sno（σsemester=1（Course) SC)))</p> 
<p>（7）查询计算机系和信息系选了VB课程的学生姓名。<br> ∏Sname（σsdept=’计算机系’V sdept=’信息系’）∧ cname=’vb’（Student SC Course))<br> 或：∏Sname（σsdept=’计算机系’V sdept=’信息系’（Student） SC σcname=’vb’（Course))<br> 第4章 SQL Server 2012基础<br> 1． 安装SQL Server 2012对硬盘及内存的要求分别是什么？<br> 答：SQL Server 2012实际硬盘空间需求取决于系统配置和您决定安装的功能，一般应确保系统驱动器中是否有至少 6.0 GB 的可用磁盘空间。<br> 内存：Express 版本：最少512 MB；其他版本：最少1 GB。</p> 
<p>2． SQL Server实例的含义是什么？实例名的作用是什么？<br> 答：一个实例代表一个独立的数据库管理系统。实例名是实例的标识，用户通过“计算机名/实例名”的方式可访问指定的命令实例。</p> 
<p>3． SQL Server 2012的核心引擎是什么？<br> 答：SQL Server（MSSQLSERVER）</p> 
<p>4． SQL Server 2012提供的设置服务启动方式的工具是哪个？<br> 答：配置管理器</p> 
<p>5． 在SQL Server 2012中，每个数据库至少包含几个文件？<br> 答：2个文件，一个数据文件，一个日志文件<br> 6． SQL Server 2012数据库文件分为几类？每个文件有哪些属性？<br> 答：主要数据文件和次要数据文件，属性有：物理文件名及其位置、逻辑文件名、初始大小、增长方式、最大大小。<br> 第 5 章 数据类型及关系表创建<br> 1． Tinyint数据类型定义的数据的取值范围是多少？<br> 答：0-255</p> 
<p>2． SmallDatatime类型精确到哪个时间单位？<br> 答：分钟</p> 
<p>3． 定点小数类型numeric中的p和q的含义分别是什么？<br> 答：p代表整数位数+小数位数的和值，q代表小数位数。</p> 
<p>4． Char(n)、nchar(n)的区别是什么？它们各能存放多少个字符？<br> 答：Char(n)中的n代表能存放n个字节的字符，如果是字母可以存放n个，如果是汉字可存放n/2个。Nchar(n)中的n代表能存放的字符个数。</p> 
<p>5． Char(n)和varchar(n)的区别是什么？<br> 答：Char(n)是定长存储，一定占n个字节的空间。Varchar(n)代表最多占n个字节的空间。</p> 
<p>6． 数据完整性约束的作用对象有哪些？<br> 答：表和列</p> 
<p>7． CHECK约束的作用是什么？<br> 答：限制列的取值范围。</p> 
<p>8． UNIQUE约束的作用是什么？<br> 答：限制列取值不重。</p> 
<p>9． DEFAULT约束的作用是什么？<br> 答：提供列的默认值。</p> 
<p>上机练习<br> 1． 在第4章创建的Students数据库中，写出创建如下三张表的SQL语句，要求在定义表的同时定义数据的完整性约束：<br> （1）“图书”表结构如下：<br> 书号：统一字符编码定长类型，长度为6，主键；<br> 书名：统一字符编码可变长类型，长度为30，非空；<br> 第一作者：普通编码定长字符类型，长度为10，非空；<br> 出版日期：小日期时间型；<br> 价格：定点小数，小数部分1位，整数部分3位。<br> create table 图书(<br> 书号 nchar(6) primary key,<br> 书名 nvarchar(30) not null,<br> 第一作者 char(10) not null,<br> 出版日期 smalldate,<br> 价格 numeric(4,1)<br> )<br> （2）“书店”表结构如下：<br> 书店编号：统一字符编码定长类型，长度为6，主键；<br> 店名：统一字符编码可变长类型，长度为30，非空；<br> 电话：普通编码定长字符类型，8位长，每一位的取值均是0～9的数字；<br> 地址：普通编码可变长字符类型，40位长。<br> 邮政编码：普通编码定长字符类型，6位长。<br> create table 书店(<br> 书店编号 nchar(6) primary key,<br> 店名 nvarchar(30) not null<br> 电话 char(8) check(电话 like ‘[0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9]’),<br> 地址 varchar(40),<br> 邮政编码 char(6)<br> )<br> （3）“图书销售”表结构如下：<br> 书号：统一字符编码定长类型，长度为6，非空；<br> 书店编号：统一字符编码定长类型，长度为6，非空；<br> 销售日期：小日期时间型，非空；<br> 销售数量：小整型，大于等于1。<br> 主键为（书号，书店编号，销售日期）；<br> 其中“书号”为引用“图书表”的“书号”的外键；<br> “书店编号”为引用“书店表”的“书店编号”的外键。<br> create table 图书销售(<br> 书号 nchar(6) not null,<br> 书店编号 nchar(6) not null,<br> 销售日期 samlldate,<br> 销售数量 smallint check(销售数量 &gt;= 1),<br> primary key(书号, 书店编号, 销售日期),<br> foreign key(书号) references 图书(书号),<br> foreign key(书店编号) references 书店(书店编号)<br> )<br> 2． 为图书表添加“印刷数量”列，类型为整数，同时添加取值大于等于1000的约束。<br> Alter table 图书 add 印刷数量 int check(印刷数量 &gt;= 1000)</p> 
<p>3． 删除书店表中的“邮政编码”列。<br> Alter table 书店 drop column 邮政编码</p> 
<p>4． 将图书销售表中的“销售数量”列的数据类型改为整型。<br> Alter table 图书 alter column 销售数量 int<br> 第 6 章 数据操作语句</p> 
<ol><li> <p>简单说明SELECT语句中，FROM、WHERE、GROUP BY、HAVING子句的作用。<br> 答：FROM子句指定数据来自的表，WHERE子句指定行数据的筛选条件，GROUP BY子句指定用于分组的列，HAVING子句用于对分组后的统计值进行筛选。</p> </li><li> <p>简单说明COUNT(<em>)与COUNT(列名)的区别。<br> 答：COUNT(</em>)用于统计行的个数，并且不忽略NULL；COUNT(列名)用于统计该列中非空值个数，这个函数会去掉NULL。</p> </li><li> <p>在聚合函数中，不忽略空值的函数是哪个？<br> 答：COUNT(*)</p> </li><li> <p>哪些数据类型的列可以使用SUM(列名)和AVG(列名)函数？<br> 答：数值类型的列</p> </li><li> <p>外连接和内连接的区别是什么？<br> 答：外连接结果会包含连接中一个表的全部数据，内连接结果是只包含两个表中满足连接条件的数据。</p> </li><li> <p>TOP子句的作用是什么？<br> 答：限定取查询结果中的前若干行数据。</p> </li><li> <p>DISTINCT子句的作用是去掉表中的重复行数据，这个说法对吗？<br> 答：应该是去掉查询结果中的重复行数据。</p> </li><li> <p>简单说明嵌套子查询的执行顺序。<br> 答：嵌套子查询是先执行子查询，然后在根据子查询结果执行外层查询。</p> </li></ol> 
<p>上机练习<br> 1． 查询学生选课表中的全部数据。<br> 答：select * from SC</p> 
<p>2． 查询计算机系的学生姓名、年龄。<br> 答：select sname, sage from student where sdept = ‘计算机系’</p> 
<p>3． 查询成绩在70～80分之间的学生学号、课程号和成绩。<br> 答：select sno,cno,grade from sc<br> where grade between 70 and 80</p> 
<p>4． 查询计算机系年龄在18～20且性别为“男”的学生姓名、年龄。<br> 答：select sname,sage from student<br> where sdept = ‘计算机系’<br> and sage between 18 and 20<br> and ssex = ‘男’</p> 
<p>5． 查询“c01”课程最高分。<br> 答：select max(grade) from sc where cno = ‘C01’</p> 
<p>6． 查询计算机系学生的最大年龄和最小年龄。<br> 答：select max(sage) as max_age, min(sage) as min_age<br> from student<br> where sdept = ‘计算机系’</p> 
<p>7． 统计每个系的学生人数。<br> 答：select sdept, count(*) 学生人数 from student<br> group by sdept</p> 
<p>8． 统计每个学生的选课门数和考试总成绩，并按选课门数升序显示结果（不包括没选课的学生）。<br> 答：select sno,count(<em>) 选课门数, sum(grade) 考试总成绩<br> from sc<br> group by sno<br> order by count(</em>) asc</p> 
<p>9． 查询总成绩超过200分的学生，列出学号、总成绩。<br> 答：select sno,sum(grade) 总成绩 from sc<br> group by sno<br> having sum(grade) &gt; 200</p> 
<p>10． 查询选了“c02”课程的学生姓名和所在系。<br> 答：select sname,sdept<br> from student s join sc on s.sno = sc.sno<br> where cno = ‘C02’</p> 
<p>11． 查询成绩80分以上的学生姓名、课程号和成绩，并按成绩降序排列结果。<br> 答：select sname,cno,grade<br> from student s join sc on s.sno = sc.sno<br> where grade &gt; 80 order by grade desc</p> 
<p>12． 查询哪些学生没有选课，要求列出学号、姓名和所在系。<br> 答：select s.sno, sname, sdept<br> from student s left join sc on s.sno = sc.sno<br> Where sc.sno is null</p> 
<p>13． 统计每门课程的选课人数，列出课程号和选课人数。（ 包括没人选的课程）<br> 答：select c.cno,count(sc.cno) 选课人数<br> from course c left join sc on c.cno = sc.cno<br> Group by c.cno</p> 
<p>14． 查询与VB在同一学期开设的课程的课程名和开课学期。<br> 答：select c2.cname,c2.semester<br> from course c1 join course c2 on c1.semester = c2.semester<br> Where c1.cname = ‘VB’ and c1.cname != ‘VB’</p> 
<p>15． 查询与李勇年龄相同的学生的姓名、所在系和年龄。<br> 答：select S2.Sname,S2.Sdept, S2.sage<br> from student s1 join student s2 on s1.sage = s2.sage<br> Where s1.sname = ‘李勇’ and s2.sname != ‘李勇’</p> 
<p>16． 查询计算机系年龄最小的2名学生的姓名和年龄。<br> 答：select top 2 with ties sname, sage<br> from student<br> Where sdept = ‘计算机系’<br> Order by sage asc</p> 
<p>17． 查询VB成绩最高的前2名学生的姓名、所在系和VB成绩，包括并列的情况。<br> 答：select top 2 with ties sname, sdept, grade<br> from student s join sc on s.sno = sc.sno<br> Join course c on c.cno = sc.cno<br> Where cname = ‘VB’<br> Order by grade desc</p> 
<p>18． 查询选课门数最多的前2名学生的学号和选课门数，包括并列的情况。<br> 答：select top 2 with ties sno, count(<em>) 选课门数<br> from sc<br> Group by sno<br> Order by count(</em>) desc</p> 
<p>19． 查询学生人数最多的系，列出系名和人数。<br> 答：select top 1 with ties sdept, count(<em>) 人数<br> from student<br> Group by sdept<br> Order by count(</em>) desc</p> 
<p>20． 用子查询实现如下查询:<br> （1） 查询选修了“c01”号课程的学生姓名和所在系。<br> 答：select sname, sdept from student where sno in(<br> select sno from sc where cno = ’ C01’)</p> 
<p>（2） 查询数学系成绩80分以上的学生学号、姓名、课程号和成绩。<br> 答：select sno,sname,cno,grade<br> from student s join sc on s.sno = sc.sno<br> where s.sno in(<br> select sno from sc where grade &gt; 80)<br> and sdept = ‘数学系’</p> 
<p>（3） 查询计算机系考试成绩最高的学生姓名。<br> 答：select sname from student<br> where sno in(<br> select top 1 sno from sc join student s on s.sno = sc.sno<br> where sdept = ‘计算机系’<br> Order by grade desc )</p> 
<p>（4） 查询数据结构考试成绩最高的学生姓名、所在系、性别和成绩。<br> 答：select sname,sdept,ssex,grade<br> from student s join sc on s.sno = sc.sno<br> where s.sno in(<br> Select top 1 sno from sc join course c on c.cno = sc.cno<br> Where cname = ‘数据结构’<br> Order by grade desc )</p> 
<ol start="21"><li> <p>查询没选VB课程的学生姓名和所在系。<br> 答：select sname,sdept from student<br> Where sno not in (<br> Select sno from sc join course c on c.cno = sc.cno<br> Where cname = ‘VB’ )</p> </li><li> <p>查询计算机系没选课的学生的姓名和性别。<br> 答：select sname,ssex from student<br> Where sdept = ‘计算机系’<br> And sno not in (<br> Select sno from sc )</p> </li><li> <p>查询计算机系考试平均成绩最低的学生的姓名及所选的课程名。<br> 答：select sname,cname from student s join sc on s.sno = sc.sno<br> Join course c on c.cno = sc.cno<br> where s.sno in (<br> Select top 1 sno from sc<br> Where sdept = ‘计算机系’<br> Group by sno<br> Order by avg(grade) asc )</p> </li><li> <p>查询1～5学期中，选课人数最少的课程的课程名、开课学期和学分。<br> 答：select cname,semester,credit from course<br> Where semester between 1 and 5<br> And cno in (<br> Select top 1 cno from sc<br> Group by cno<br> Order by count(*) desc )</p> </li><li> <p>查询计算机系每个学生的考试情况，列出姓名、课程名和考试成绩，并将查询结果保存到一个新表中。新表名为：Computer_Dept<br> 答：select sname,cname,grade into Computer_Dept<br> from student s join sc on s.sno = sc.sno<br> Join course c on c.cno = sc.cno<br> Where sdept = ‘计算机系’</p> </li><li> <p>创建一个新表，表名为test_t，其结构为：（COL1, COL 2, COL 3），其中：<br> COL1：整型，允许空值。<br> COL2：普通编码字符型，长度为10 ，不允许空值。<br> COL3：普通编码字符型，长度为10 ，允许空值。<br> 试写出按行插入如下数据的语句（空白处表示空值）。<br> COL1 COL2 COL3<br> B1 <br> 1 B2 C2<br> 2 B3 <br> 答：create table test_t(<br> Col1 int,<br> Col2 char(10) not null,<br> Col3 char(10)<br> )<br> Insert into test_t values(null,‘B1’,null)<br> Insert into test_t values(1,‘B2’,‘C2’)<br> Insert into test_t values(2,‘B3’’,null)</p> </li><li> <p>删除考试成绩低于50分的学生的选课记录。<br> 答：delete from sc where grade &lt; 50</p> </li><li> <p>删除没有人选的课程。<br> 答：delete from course where cno not in(<br> Select cno from sc )</p> </li><li> <p>删除计算机系VB成绩不及格学生的VB选课记录。<br> 答：delete from sc<br> From student s join sc on s.sno = sc.cno<br> Join course c on c.cno = sc.cno<br> where sdept = ‘计算机系’ and cname = ‘VB’<br> and grade &lt; 60</p> </li><li> <p>删除VB考试成绩最低的学生的VB选课记录。<br> 答：delete from sc<br> From course c join sc on c.cno = sc.cno<br> Where cname = ‘VB’<br> And grade = (<br> Select min(grade) from sc<br> Join course c on c.cno = sc.cno<br> Where cname = ‘VB’)</p> </li><li> <p>将第2学期开设的所有课程的学分增加2分。<br> 答：update course set credit = credit + 2<br> Where semester = 2</p> </li><li> <p>将VB课程的学分改为3分。<br> 答：update course set credit = 3<br> Where cname = ‘VB’</p> </li><li> <p>将计算机系学生的年龄增加1岁。<br> 答：update student set sage = sage + 1<br> where sdept = ‘计算机系’</p> </li><li> <p>将信息系学生的“计算机文化学”课程的考试成绩加5分。<br> 答：update sc set grade = grade + 5<br> From student s join sc on s.sno = sc.sno<br> Join course c on c.cno = sc.cno<br> Where sdept = ‘信息系’<br> And cname = ‘计算机文化学’</p> </li><li> <p>将选课人数最少的课程的学分降低1分。<br> 答：update course set credit = credit - 1<br> Where cno in (<br> Select top 1 cno from sc<br> Group by cno<br> Order by count(*) asc )<br> 第7章 索引和视图<br> 1． 索引的作用是什么？<br> 答：索引可以加快数据的查询效率。</p> </li></ol> 
<p>2． 索引分为哪几种类型？分别是什么？它们的主要区别是什么？<br> 答：分为聚集索引和非聚集索引两种。聚集索引会对数据进行物理排序，非聚集索引不对数据进行物理排序。</p> 
<p>3． 在一个表上可以创建几个聚集索引？可以创建多个非聚集索引吗？<br> 答：1个聚集索引。可以。</p> 
<p>4． 聚集索引一定是唯一性索引，对吗？反之呢？<br> 答：不对。反之也不对。</p> 
<p>5． 在建立聚集索引时，数据库管理系统是真正将数据按聚集索引列进行物理排序。对吗？<br> 答：对。</p> 
<p>6． 在建立非聚集索引时，数据库管理系统并不对数据进行物理排序。对吗？<br> 答：对。</p> 
<p>7． 不管对表进行什么类型的操作，在表上建立的索引越多越能提高操作效率。对吗？<br> 答：不对。</p> 
<p>8． 经常对表进行哪类操作适合建立索引？适合在哪些列上建立索引？<br> 答：<br>  返回范围值的查询：BETWEEN AND、&gt;、&gt;=、&lt; 和 &lt;= ；<br>  不返回大型结果集的查询。<br>  经常被用作连接的列，一般来说，这些列是外键列。<br>  ORDER BY或GROUP BY操作。<br> 适合建立索引的情况：<br>  包含大量非重复值的列。<br>  在WHERE子句中经常用于进行BETWEEN AND、&gt;、&gt;=、&lt; 和 &lt;=等操作的列。<br>  经常被用作连接操作的列。<br>  ORDER BY或GROUP BY子句中涉及的列。</p> 
<p>9．使用第5章建立的Student、Course和SC表，写出实现下列操作的SQL语句。<br> （1）在Student表上为Sname列建立一个非聚集索引，索引名为：SnameIdx。<br> 答：Create index SnameIdx on student(Sname)</p> 
<p>（2）在Course表上为Cname列建立一个唯一的非聚集索引，索引名为：CNIdx<br> 答：Create unique index CNIdx on Course(Cname)</p> 
<p>（3）在SC表上为Sno和Cno建立一个组合的聚集索引，索引名为：SnoCnoIdx。<br> 答：Create clustered index SnoCnoIdx on SC(Sno,Cno)</p> 
<p>（4）删除Sname列上建立的SnoIdx索引。<br> 答：drop index SnoIdx on Student</p> 
<p>10．试说明使用视图的好处。<br> 答：利用视图可以简化客户端的数据查询语句，使用户能从多角度看待同一数据，可以提高数据的安全性，视图对应数据库三级模式中的外模式，因此提供了一定程度的逻辑独立性。</p> 
<ol start="11"><li>使用视图可以加快数据的查询速度，这句话对吗？为什么？<br> 答：不对，因为通过视图查询数据时，比直接针对基本表查询数据多了一个转换过程，即从外模式到模式的转换。</li></ol> 
<p>12．使用第5章建立的Student、Course和SC表，写出创建满足下述要求的视图的SQL语句。<br> （1）查询学生的学号、姓名、所在系、课程号、课程名、课程学分。<br> 答：Create view v1 As<br> Select s.sno,sname,sdept,c.cno,cname,credit<br> From student s join sc on s.sno = sc.sno<br> Join course c on c.cno = sc.cno</p> 
<p>（2）查询学生的学号、姓名、选修的课程名和考试成绩。<br> 答：Create view v2 As<br> Select s.sno,sname,cname,grade<br> From student s join sc on s.sno = sc.sno<br> Join course c on c.cno = sc.cno</p> 
<p>（3）统计每个学生的选课门数，要求列出学生学号和选课门数。<br> 答：Create view v3 As<br> Select sno,count(*) as total<br> From sc group by sno</p> 
<p>（4）统计每个学生的修课总学分，要求列出学生学号和总学分（说明：考试成绩大于等于60才可获得此门课程的学分）。<br> 答：Create view v4 As<br> Select sno,sum(credit) as total_credit<br> From sno join course c on c.cno = sc.cno<br> Where grade &gt;= 60<br> Group by sno</p> 
<p>13．利用第12题建立的视图，完成如下查询：<br> （1）查询考试成绩大于等于90分的学生的姓名、课程名和成绩。<br> 答：Select sname,cname,grade From v2 where grade &gt;= 90</p> 
<p>（2）查询选课门数超过3门的学生的学号和选课门数。<br> 答：Select * from v3 where total &gt;= 3</p> 
<p>（3）查询计算机系选课门数超过3门的学生的姓名和选课门数。<br> 答：Select sname,total from v3 join student s on s.sno = v3.sno<br> Where sdept = ‘计算机系’ and total &gt;= 3</p> 
<p>（4）查询修课总学分超过10分的学生的学号、姓名、所在系和修课总学分。<br> 答：Select v4.sno,sname,sdept,total_credit<br> From v4 join student s on s.sno = v4.sno<br> Where total_credit &gt;= 10</p> 
<p>（5）查询年龄大于等于20岁的学生中，修课总学分超过10分的学生的姓名、年龄、所在系和修课总学分。<br> 答：Select sname,sage,sdept,total_credit<br> From v4 join student s on s.sno = v4.sno<br> Where sage &gt;= 20 and total_credit &gt;= 10</p> 
<p>14．修改12题（4）定义的视图，使其查询每个学生的学号、平均成绩以及总的选课门数。<br> 答： Alter view v4 As<br> Select sno,avg(grade) as avg_grade,count(*) as total_cno<br> Group by sno</p> 
<p>第8章 关系数据库理论</p> 
<ol><li> <p>关系规范化中的操作异常有哪些？它是由什么引起的？解决的办法是什么？<br> 答：增、删、改异常。数据冗余引起。解决办法：模式分解。</p> </li><li> <p>第一范式、第二范式和第三范式的定义分别是什么？<br> 答：第一范式：每个列都是原子项。第二范式：第一范式且不含部分函数依赖。第三范式：第二范式且不含传递函数依赖。</p> </li><li> <p>什么是部分函数依赖？什么是传递函数依赖？请举例说明。<br> 答：如果X→Y，并且对于X的一个任意真子集X/ 都有X/ —/→Y，则称Y完全函数依赖于X，记作X Y；如果X/ →Y成立，则称Y部分函数依赖于X，记作X Y。<br> 示例：学生修课（学号，姓名，性别，选的课程号，课程名，考试成绩）<br> 主键：（学号，课程号）<br> 因为学号–&gt;姓名，因此（学号，课程号） 姓名</p> </li><li> <p>第三范式的关系模式是否一定不包含部分函数依赖？<br> 答：是</p> </li><li> <p>对于主键只由一个属性组成的关系模式，如果它是第一范式的，则它是否一定也是第二范式的？<br> 答：是。</p> </li></ol> 
<p>6． 设有关系模式：学生修课（学号，姓名，所在系，性别，课程号，课程名，学分，成绩）。设一个学生可以选多门课程，一门课程可以被多名学生选。一个学生有唯一的所在系，每门课程有唯一的课程名和学分。请指出此关系模式的候选键，判断此关系模式是第几范式的，若不是第三范式的，请将其规范化为第三范式关系模式，并指出分解后的每个关系模式的主键和外键。<br> 答：（1）候选码：（学号，课程号）<br> （2）学号→姓名，学号→所在系，学号→性别，课程号→课程名，课程号→学分，<br> （学号，课程号）→成绩<br> （3）属于第二范式，因为存在部分函数依赖：学号→姓名。<br> （4）第三范式关系模式：<br> 学生（学号，姓名，所在系，性别）<br> 课程（课程号，课程名，学分）<br> 考试（学号，课程号，成绩），学号为引用学生的外码，课程号为引用课程的外码。</p> 
<p>7． 设有关系模式：学生（学号，姓名，所在系，班号，班主任，系主任），其语义为：一个学生只在一个系的一个班学习，一个系只有一个系主任，一个班只有一名班主任，一个系可以有多个班。请指出此关系模式的候选键，判断此关系模式是第几范式的，若不是第三范式的，请将其规范化为第三范式关系模式，并指出分解后的每个关系模式的主键和外键。<br> 答：（1）候选码：学号<br> （2）学号→姓名，学号→所在系，学号→班号，班号→班主任，所在系→系主任<br> （3）第二范式，因为有：学号→班号，班号→班主任，因此存在传递函数依赖：<br> 学号 班主任<br> （4）第三范式关系模式：<br> 学生（学号，姓名，所在系，班号），班号为引用班的外码，所在系为引用系的外码。<br> 班（班号，班主任）<br> 系（系名，系主任）</p> 
<p>8．设有关系模式：教师授课（课程号，课程名，学分，授课教师号，教师名，授课时数），其语义为：一门课程（由课程号决定）有确定的课程名和学分，每名教师（由教师号决定）有确定的教师名，每门课程可以由多名教师讲授，每名教师也可以讲授多门课程，每名教师对每门课程有确定的授课时数。指出此关系模式的候选键，判断此关系模式属于第几范式，若不属于第三范式，请将其规范化为第三范式关系模式，并指出分解后的每个关系模式的主键和外键。<br> 答：（1）候选码：（课程号，授课教师号）<br> （2）课程号→课程名，课程号→学分，授课教师号→教师名，（课程号，授课教师号）→授课时数<br> （3）属于第一范式。因为有：课程号→课程名，因此存在部分函数依赖关系：<br> （课程号，授课教师号） 课程名<br> （4）第三范式关系模式：<br> 课程（课程号，课程名，学分）<br> 教师（教师号，教师名）<br> 授课（课程号，教师号，授课时数），课程号为引用课程的外码，教师号为引用教师的外码。<br> 第9章 事务与并发控制<br> 1．试说明事务的概念及四个特征。<br> 答：原子性、隔离性、一致性、持久性。</p> 
<p>2．事务处理模型有哪两种？<br> 答：T-SQL事务处理模型、T-SQL事务处理模型。</p> 
<p>3．在数据库中为什么要有并发控制？<br> 答：为避免多个事务之间的相互干扰。</p> 
<p>4．并发控制的措施是什么？<br> 答：加锁。</p> 
<p>5．设有三个事务：T1、T2和T3，其所包含的动作为：<br> T1：A = A + 2；T2：A = A * 2；T3：A = A - 1<br> 设A的初值为3，若这三个事务并行执行，则可能的调度策略有几种？A的最终结果分别是什么？<br> 答：<br> T1T2T3：A = 9<br> T1T3T2：A = 8<br> T2T1T3：A = 7<br> T2T3T1：A = 9<br> T3T1T2：A = 8<br> T3T2T1：A = 6</p> 
<p>5．当某个事务对某段数据加了S锁之后，在此事务释放锁之前，其他事务还可以对此段数据添加什么锁？<br> 答：S锁</p> 
<p>6．什么是死锁？预防死锁有哪些方法？<br> 答：相互等待对方释放资源。</p> 
<p>7．如何诊断和解除死锁？<br> 答：诊断死锁方法：一般使用超时法和事务等待图法。<br> 解除死锁：通常采用的方法是选择一个处理死锁代价最小的事务，将其撤销，释放此事务所持有的全部锁，使其他事务可以继续运行下去。</p> 
<p>8．怎样保证多个事务的并发执行是正确的？<br> 答：遵守两阶段锁协议。</p> 
<p>9．一级封锁协议对读和写分别加什么锁？加锁范围分别是什么？能避免哪些干扰？<br> 答：写全程加X锁，读不加锁。能避免丢失修改。</p> 
<p>10．二级封锁协议对读和写分别加什么锁？加锁范围分别是什么？能避免哪些干扰？<br> 答：写全程加X锁，读前加S锁，读完释放S锁。能避免丢失修改和不读脏数据。</p> 
<p>11．三级封锁协议对读和写分别加什么锁？加锁范围分别是什么？能避免哪些干扰？<br> 答：写全程加X锁，读全程加S锁。能避免丢失修改、不读脏数据和不可重复读。</p> 
<p>第10章 数据库设计<br> 1．试说明数据库设计的特点。<br> 答：综合性、结构设计和行为设计相分离。</p> 
<p>2．简述数据库的设计过程。<br> 答：设计分为如下几个阶段。<br>  需求分析。<br>  结构设计，包括概念结构设计、逻辑结构设计和物理结构设计。<br>  行为设计，包括功能设计、事务设计和程序设计。<br>  数据库实施，包括加载数据库数据和调试运行应用程序。<br>  数据库运行和维护阶段。</p> 
<p>3．数据库结构设计包含哪几个过程？<br> 答：包括概念结构设计、逻辑结构设计和物理结构设计。</p> 
<p>4．需求分析中发现事实的方法有哪些？<br> 答：检查文档、面谈、观察操作中的业务、研究和问卷调查等。</p> 
<p>5．概念结构应该具有哪些特点？<br> 答：<br> • 有丰富的语义表达能力。能表达用户的各种需求，包括描述现实世界中各种事物和事物与事物之间的联系，能满足用户对数据的处理需求。<br> • 易于交流和理解。概念结构是数据库设计人员和用户之间的主要交流工具，因此必须能通过概念模型和不熟悉计算机的用户交换意见，用户的积极参与是数据库成功的关键。<br> • 易于更改。当应用环境和应用要求发生变化时，能方便地对概念结构进行修改，以反映这些变化。<br> • 易于向各种数据模型转换，易于导出与DBMS有关的逻辑模型。</p> 
<p>6．概念结构设计的策略是什么？<br> 答：概念结构设计的策略主要有如下几种：<br> • 自底向上。先定义每个局部应用的概念结构，然后按一定的规则把它们集成起来，从而得到全局概念结构。<br> • 自顶向下。先定义全局概念结构，然后再逐步细化。<br> • 由里向外。先定义最重要的核心结构，然后再逐步向外扩展。<br> • 混合策略。将自顶向下和自底向上方法结合起来使用。先用自顶向下设计一个概念结构的框架，然后以它为框架再用自底向上策略设计局部概念结构，最后把它们集成起来。</p> 
<p>7．什么是数据库的逻辑结构设计？简述其设计步骤。<br> 答：逻辑结构设计的任务是把在概念结构设计中设计的基本E-R模型转换为具体的数据库管理系统支持的组织层数据模型，也就是导出特定的DBMS可以处理的数据库逻辑结构（数据库的模式和外模式），这些模式在功能、性能、完整性和一致性约束方面满足应用要求。<br> 逻辑结构设计一般包含两个步骤：<br>  将概念结构转换为某种组织层数据模型。<br>  对组织层数据模型进行优化。</p> 
<p>8．把E-R模型转换为关系模式的转换规则有哪些？<br> 答：转换的一般规则如下：<br> 一个实体转换为一个关系模式。实体的属性就是关系的属性，实体的码就是关系的主键（主码）。<br> 对于实体间的联系有以下不同的情况：<br> （1）1∶1联系可以与任意一端实体所对应的关系模式合并，合并时只需在被合并的关系模式的属性中加入另一个实体的码和联系本身的属性。<br> （2）1∶n联系可以与n端所对应的关系模式合并，合并时只需在n端的关系模式中加入1端实体的码以及联系本身的属性。<br> （3）m∶n联系应该转换为一个独立的关系模式。与该联系相连的各实体的码以及联系本身的属性均转换为联系所对应关系模式的属性，且该关系模式的主键包含各实体的码。<br> （4）三个或三个以上实体间的一个多元联系应该转换为一个关系模式。与该多元联系相连的各实体的码以及联系本身的属性均转换为联系所对应的关系模式的属性，而此关系模式的主键包含各实体的码。<br> （5）具有相同主键的关系模式可以合并。</p> 
<p>9．数据模型的优化包含哪些方法？<br> 答：（1）确定各属性间的函数依赖关系。根据需求分析阶段得出的语义，分别写出每个关系模式的各属性之间的函数依赖以及不同关系模式中各属性之间的数据依赖关系。<br> （2）对各个关系模式之间的数据依赖进行极小化处理，消除冗余的联系。<br> （3）判断每个关系模式的范式，根据实际需要确定最合适的范式。<br> （4）根据需求分析阶段得到的处理要求，分析这些模式对于这样的应用环境是否合适，确定是否要对某些模式进行分解或合并。</p> 
<p>10．将下列给定的E-R图转换为符合3NF的关系模式，并指出每个关系模式的主键和外键。<br> （1）图10-15所示为描述图书、读者以及读者借阅图书的E-R图。</p> 
<p>图10-15 图书借阅E-R图<br> 答：<br> 图书（书号，书名，出版日期，作者名）<br> 读者（读者号，读者名，联系电话，所在单位）<br> 借阅（书号，读者号，借书日期，还书日期），书号为引用图书关系模式的外码，读者号为引用读者关系模式的外码。<br> （2）图10-16所示为描述商店从生产厂家订购商品的E-R图。</p> 
<p>图10-16 商品订购E-R图<br> 答：<br> 商店（商店编号，商店名，联系电话）∈3NF<br> 商品（商品编号，商品名称，库存量，商品分类）∈3NF<br> 厂家（厂家编号，联系地址，联系电话）∈3NF<br> 订购（商店编号，厂家编号，商品编号，订购日期，订购数量），商店编号为引用商店关系模式的外码，厂家编号为引用厂家关系模式的外码，商品编号为引用商品关系模式的外码。<br> （3）图10-17为描述学生参加学校社团的E-R图。</p> 
<p>图10-17 学生参加社团E-R图<br> 答：下列各关系模式中用下划线标识主码。<br> 社团（社团号，社团名，电话，性质）∈3NF<br> 学生（学号，姓名，性别，专业，社团号，参加日期），社团号为引用社团的外码。∈3NF</p> 
<p>10．根据下列描述，画出相应的E-R图，并将E-R图转换为满足3NF的关系模式，指明每个关系模式的主键和外键。现要实现一个顾客购物系统，需求描述如下：一个顾客可去多个商店购物，一个商店可有多名顾客购物；每个顾客一次可购买多种商品，但对同一种商品不能同时购买多次，但在不同时间可购买多次；每种商品可销售给不同的顾客。对顾客的每次购物都需要记录其购物的商店、购买商品的数量和购买日期。需要记录的“商店”信息包括：商店编号、商店名、地址、联系电话；需要记录的顾客信息包括：顾客号、姓名、住址、身份证号、性别。需要记录的商品信息包括：商品号、商品名、进货价格、进货日期、销售价格。<br> 答：</p> 
<p>第11章 存储过程和触发器<br> 习题<br> 1． 存储过程的作用是什么？为什么利用存储过程可以提高数据的操作效率？<br> 答：（1）允许模块化程序设计<br> （2）改善性能<br> （3）减少网络流量<br> （4）可作为安全机制使用<br> 因为系统对存储过程是预编译的。</p> 
<p>2． 在定义存储过程的语句中是否可以包含数据的增、删、改语句？<br> 答：可以。</p> 
<p>3． 用户和存储过程之间如何传递数据？<br> 答：可通过输入、输出参数。或者</p> 
<p>4． 存储过程的参数有几种形式？<br> 答：有输入和输出两种。</p> 
<p>5． 触发器的作用是什么？ 前触发和后触发的主要区别是什么？<br> 答：实现复杂的处理逻辑和商业规则，增强了数据完整性约束的功能。<br> 前触发器是在引发触发器执行的操作之前先执行触发器；后触发器是在引发触发器执行的操作执行完后再执行触发器。</p> 
<p>6． 插入操作产生的临时工作表叫什么？它存放的是什么数据？<br> 答：inserted，存放新插入的数据。</p> 
<p>7． 删除操作产生的临时工作表叫什么？它存放的是什么数据？<br> 答：deleted，存放被删除的数据。</p> 
<p>8． 更改操作产生的两个临时工作表叫什么？其结构分别是什么，它们分别存放的是什么数据？<br> 答：inserted和deleted，结构同定义触发器的表，分别存放更新前和更新后的数据。</p> 
<p>上机练习<br> 1．利用第11章建立的students数据库以及Student、Coures、SC表，创建满足下述要求的存储过程，并查看存储过程的执行结果。<br> （1） 查询每个学生的修课总学分，要求列出学生学号及总学分。<br> create proc p1<br> as<br> select sno,SUM(credit) as 总学分<br> from SC<br> group by sno</p> 
<p>（2） 查询学生的学号、姓名、修的课程号、课程名、课程学分，将学生所在的系作为输入参数，执行此存储过程，并分别指定一些不同的输入参数值。<br> create proc p2<br> @dept varchar(20) = ‘计算机系’<br> as<br> select s.sno,sname,c.cno,cname,credit<br> from Student s join SC on s.Sno=SC.Sno<br> join Course c on c.Cno=SC.Cno<br> where Sdept = @dept<br> 执行示例1：EXEC P2<br> 执行示例2：EXEC P2 ‘通信工程系’</p> 
<p>（3） 查询指定系的男生人数，其中系为输入参数，人数用输出参数返回。<br> create proc p3<br> @dept varchar(20),@rs int output<br> as<br> select @rs = COUNT(*) from Student<br> where Sdept = @dept and Ssex = ‘男’</p> 
<p>（4） 查询考试平均成绩超过指定分值的学生学号和平均成绩。<br> create proc p4<br> @x int<br> as<br> select sno,avg(grade) from sc<br> group by sno<br> having avg(grade) &gt; @x</p> 
<p>（5） 查询查询指定系的学生中，选课门数最多的学生的选课门数和平均成绩，要求系为输入参数，选课门数和平均成绩用输出参数返回。<br> create proc p5<br> @dept varchar(30),@cnt int output,@avg int output<br> as<br> select top 1 @cnt = count(<em>) ,@avg = avg(grade)<br> from sc join student s on s.sno = sc.sno<br> where sdept = @dept<br> group by s.sno<br> order by count(</em>) desc</p> 
<p>（6） 删除指定学生的指定课程的修课记录，其中学号和课程号为输入参数。<br> create proc p6<br> @sno char(7),@cno char(10)<br> as<br> delete from SC where Sno = @sno and cno = @cno</p> 
<p>（7） 修改指定课程的开课学期。输入参数为：课程号和修改后的开课学期,开课学期的默认值为2。如果指定的开课学期不在1~8范围内，则不进行修改。<br> create proc p7<br> @cno char(10) , @new_semester int = 2<br> as<br> if @new_semester between 1 and 8<br> update course set semester = @new_semester<br> where cno = @cno<br> 3. 修改第1题（1）的存储过程，使之能够查询指定系中，每个学生选课总门数、总学分和考试平均成绩。<br> alter proc p1<br> @dept varchar(30)<br> as<br> select s.sno,count(*) 选课总门数,SUM(credit) as 总学分,<br> Avg(grade) 考试平均成绩<br> from SC join student s on s.sno = SC.sno<br> group by s.sno</p> 
<p>4．利用第11章建立的students数据库以及Student、Coures、SC表，创建满足如下要求的触发器，并检测触发器的功效。<br> （1）限制考试成绩必须在0~100范围内。<br> create trigger tri1 on sc after insert,update<br> as<br> if exists(select * from inserted<br> where grade not between 0 and 100)<br> rollback</p> 
<p>（2）限制学生所在系的取值必须在｛计算机系，信息系，物理系，数学系｝范围内。<br> create trigger tri2 on student after insert,update<br> as<br> if exists(select * from student where sdept not in<br> (‘计算机系’,‘信息系’,‘物理系’,‘数学系’))<br> Rollback<br> （3）限制学生的选课总门数不能超过8门。<br> create trigger tri4 on sc after insert<br> as<br> if exists(select * from sc<br> where sno in (select sno from inserted)<br> group by sno<br> having count(*) &gt; 8 )<br> rollback<br> （4）限制不能删除考试成绩不及格学生的考试记录。<br> create trigger tri4 on sc after delete<br> as<br> if exists(select * from deleted where grade &lt; 60 )<br> rollback<br> 5．利用11.3节创建的工作表和职工表，定义满足如下要求的触发器，并检测触发器的功效。<br> （1）限制职工的基本工资和浮动工资之和必须大于等于2000。<br> create trigger tri4 on 职工表 after insert,update<br> as<br> if exists(select * from inserted where (基本工资 + 浮动工资 ) &lt;2000 )<br> Rollback</p> 
<p>（2）限制工作表中最高工资不能低于最低工资的1.5倍。<br> create trigger tri5 on 工作表 after insert,update<br> as<br> if exists(select * from inserted where 最高工资 &lt; 最低工资*1.5 )<br> Rollback</p> 
<p>（3）限制不能删除基本工资低于1500的职工。<br> create trigger tri6 on 职工表 after delete<br> as<br> if exists(select * from deleted where 基本工资 &lt; 1500 )<br> Rollback<br> 第12章 函数和游标<br> 1． SQL Server 2012提供的日期和时间函数有哪些？<br> 答：getdate、dateadd、datediff、datename、day、month、year</p> 
<p>2． SQL Server 2012提供的类型转换函数有哪些？其语法格式分别是什么？<br> 答：cast和convert</p> 
<p>3． SQL Server 2012支持的用户自定义函数有几种？每一种函数的函数体是什么？返回值是什么？<br> 答：标量函数、内联表值函数、多语句表值函数。<br> 标量函数的函数体是可以是一系列SQL语句，返回值是一个标量值；<br> 内联表值函数的函数体的一条查询语句，返回值是查询语句的执行结果（表）；<br> 多语句表值函数的函数体是一系列SQL语句，返回值是一个表。</p> 
<p>4． 利用系统提供的函数，完成下列操作：<br> （1） 计算从2000年1月1日到当前日期的天数、月份数及年数。<br> 答：select datediff(day,‘2000-1-1’,getdate()) 天数,<br> datediff(month,‘2000-1-1’,getdate()) 月份数,<br> datediff(year,‘2000-1-1’,getdate()) 年数</p> 
<p>（2） 分别计算系统当前日期加上40天和减去40天后的新日期。<br> 答：select dateadd(day,40,getdate()) 加40天,<br> dateadd(day,-40,getdate()) 减40天</p> 
<p>（3） 得到“You are a student”字符串中从11开始，长度为7的子串。<br> 答：select substring(‘You are a student’,11,7)</p> 
<p>（4） 分别计算“You are a student”和“我们是学生”字符串中字符的个数。<br> 答：select len(‘You are a student’),len(‘我们是学生’)</p> 
<p>（5） 分别得到字符串“I am a teacher and you are students” 中左边14个和右边16个字符组成的字符串。<br> 答：select left(‘I am a teacher and you are students’,14),<br> right(‘I am a teacher and you are students’,16)</p> 
<p>5． 游标的作用是什么？其包含的内容是什么？<br> 答：游标提供了对查询结果集的定位操作功能。其包含内容是查询结果集。</p> 
<p>6． 如何判断游标当前行指针指到了游标结果集之外？<br> 答：使用@@fetch_status全局变量。</p> 
<p>7． 使用游标需要几个步骤？分别是什么？其中哪个步骤是真正产生游标结果集？<br> 答：五个主要。步骤，定义游标、打开游标、处理数据、关闭游标、释放游标资源。打开游标。</p> 
<p>8． 关闭游标和释放游标在功能上的差别是什么？<br> 答：关闭游标并不真实释放游标占用的资源，也就是游标的定义还存在，还可以通过open语句再次打开该游标进行处理。释放游标是释放了与该游标有关的一切资源。</p> 
<p>上机练习</p> 
<ol><li>创建满足下述要求的用户自定义标量函数。<br> （1） 查询指定学生已经得到的修课总学分（考试及格的课程才能拿到学分），学号为输入参数，总学分为函数返回结果。并写出利用此函数查询9512101学生的姓名、所修的课程名、课程学分、考试成绩以及拿到的总学分的SQL语句。<br> 答：<br> CREATE FUNCTION dbo.f_Sum_Credit(@sno char(7))<br> RETURNS int<br> AS<br> BEGIN<br> DECLARE @x int<br> SELECT @x = sum(credit) FROM SC join course c on c.cno = sc.cno<br> WHERE SNO = @sno and grade &gt;= 60<br> RETURN @x<br> END<br> 调用：<br> SELECT Sname, cname,credit, dbo.f_Sum_Credit(s.Sno) AS 总学分<br> FROM Student s join sc on s.sno = sc.sno<br> join course c on c.cno = sc.cno<br> WHERE s.Sno = ‘9512101’</li></ol> 
<p>（2） 查询指定系在指定课程(课程号)的考试平均成绩。<br> 答：<br> CREATE FUNCTION dbo.f_Avg_Grade(@dept varchar(20),@cno varchar(10))<br> RETURNS int<br> AS<br> BEGIN<br> DECLARE @x int<br> SELECT @x = avg(grade) FROM SC join student s on s.sno = sc.sno<br> where sdept = @dept and cno = @cno<br> RETURN @x<br> END<br> （3） 查询指定系的男生中选课门数超过指定门数的学生人数。<br> 答：<br> CREATE FUNCTION dbo.f_rs(@dept varchar(20),@cnt int)<br> RETURNS int<br> AS<br> BEGIN<br> DECLARE @x int<br> SET @x = (select count(<em>) from student<br> where sdept = @dept and ssex = ‘男’<br> and sno in (<br> select sno from sc group by sno having count(</em>) &gt; @cnt ))<br> RETURN @x<br> END</p> 
<ol start="2"><li>创建满足下述要求的用户自定义内联表值函数。<br> （1） 查询选课门数在指定范围内的学生的姓名、所在系和所选的课程。<br> 答：<br> CREATE FUNCTION dbo.f_count(@x int)<br> RETURNS TABLE<br> AS<br> RETURN (<br> SELECT Sname, sdept, cno<br> FROM Student S JOIN SC ON S.Sno = SC.Sno<br> WHERE s.sno in (<br> select sno from sc<br> group by sno<br> having count(*) &gt; @x ))</li></ol> 
<p>（2） 查询指定系的学生考试成绩大于等于90的学生的姓名、所在系、课程名和考试成绩。并写出利用此函数查询计算机系学生考试情况的SQL语句，只列出学生姓名、课程名和考试成绩。<br> 答：<br> CREATE FUNCTION dbo.f_dept(@dept varchar(20))<br> RETURNS TABLE<br> AS<br> RETURN (<br> SELECT Sname, sdept, cname,grade<br> FROM Student S JOIN SC ON S.Sno = SC.Sno<br> join course c on c.cno = sc.cno<br> WHERE sdept = @dept and grade &gt;= 90 )<br> 调用：<br> SELECT sname,cname,grade FROM dbo.f_dept(‘计算机系’)</p> 
<ol start="3"><li> <p>创建满足下述要求的用户自定义多语句表值函数。<br> （1） 查询指定系年龄最大的前2名学生的姓名和年龄，包括并列的情况。<br> 答：<br> CREATE FUNCTION f_TopAge(@dept varchar(20))<br> RETURNS @retSType table(<br> Sname char(10),<br> Sage int )<br> AS<br> BEGIN<br> INSERT INTO @retSType<br> SELECT top 2 with ties Sname, Ssex<br> FROM Student<br> WHERE Sdept = @dept<br> order by sage desc<br> RETURN<br> END<br> （2） 查询指定学生（姓名）的考试情况，列出姓名、所在系、修的课程名和考试情况，其中考试情况列的取值为：如果成绩大于等于90，则为“优”；如果成绩在80<sub>89，则为“良好”；如果成绩在70</sub>79，则为“一般”；如果成绩在60~69，则为“不太好”；如果成绩小于60，则为“很糟糕”。并写出利用此函数查询李勇的考试情况的SQL语句。<br> 答：<br> CREATE FUNCTION f_Exam(@name varchar(20))<br> RETURNS @retSType table(<br> Sname char(10),<br> Sdept varchar(20),<br> Cname varchar(20),<br> grade varchar(8) )<br> AS<br> BEGIN<br> INSERT INTO @retSType<br> SELECT Sname, Sdept,Cname,case<br> when grade &gt;= 90 then ‘优’<br> when grade between 80 and 89 then ‘良好’<br> when grade between 70 and 79 then ‘一般’<br> when grade between 60 and 69 then ‘不太好’<br> else ‘很糟糕’<br> end <br> FROM Student s join sc on s.sno = sc.sno<br> join course c on c.cno = sc.cno<br> WHERE Sname = @name <br> RETURN<br> END<br> 调用：<br> SELECT * FROM f_Exam(‘李勇’)</p> </li><li> <p>创建满足下述要求的游标。<br> （1） 查询VB课程的考试情况，并按如下形式显示结果数据:<br> 选了VB课程的学生情况：<br> 姓名 所在系 成绩<br> 李勇 计算机系 86<br> 刘晨 计算机系 78<br> 吴宾 信息系 75<br> 张海 信息系 68<br> 答：<br> declare @sname char(10),@dept char(14),@grade int<br> declare c1 SCROLL cursor for<br> select sname,sdept,grade<br> from student s join sc on s.sno = sc.sno<br> join course c on c.cno = sc.cno<br> where cname = ‘vb’<br> order by grade desc<br> open c1<br> print ’ 姓名 所在系 VB成绩’<br> print ‘-----------------------------’<br> fetch next from c1 into @sname ,@dept ,@grade<br> while @@FETCH_STATUS = 0<br> begin<br> print @sname + @dept + cast(@grade as char(3))<br> fetch next from c1 into @sname ,@dept ,@grade<br> End<br> close c1<br> deallocate c1<br> （2） 统计每个系的男生人数和女生人数，并按如下形式显示结果数据。<br> 系名 性别 人数<br> ====================<br> 计算机系 男 2<br> 计算机系 女 1<br> 数学系 男 1<br> 数学系 女 1<br> 信息系 男 2<br> 信息系 女 1<br> 答：<br> declare @dept char(13),@sex char(8),@cnt int<br> declare c1 cursor for<br> select sdept,ssex,count(*) from student<br> group by sdept,ssex<br> order by sdept</p> </li></ol> 
<p>print ‘系名 性别 人数’<br> print ‘=======================’</p> 
<p>open c1<br> fetch next from c1 into @dept,@sex,@cnt<br> while @@FETCH_STATUS = 0<br> begin<br> print @dept + @sex + cast(@cnt as char(4))<br> fetch next from c1 into @dept,@sex,@cnt<br> end<br> close c1<br> deallocate c1</p> 
<h2><a id="3%09%0A___________%0A__________________%0A__________________%0A________1103"></a>（3） 列出每个系的学生信息，要求首先列出一个系的系名，然后在该系名下列出本系学生的姓名和性别；再列出下一个系名，然后在此系名下再列出该系的学生姓名和性别；以此类推，直至列出全部系。要求按如下形式显示结果数据:<br> 计算机系学生：<br> 李勇 男<br> 刘晨 男<br> 王敏 计算机系</h2> 
<h2><a id="_____________%0A__________________%0A______1109"></a>数学系学生：<br> 钱小平 数学系<br> 王大力 数学系</h2> 
<h2><a id="_____________%0A____________________%0A____________________%0A________1113"></a>信息系学生：<br> 张立 信息系<br> 吴宾 信息系<br> 张海 信息系</h2> 
<p>答：<br> declare @sname char(10),@sex char(4),@dept char(20)<br> declare c1 cursor for select distinct sdept from student<br> open c1<br> fetch next from c1 into @dept<br> while @@FETCH_STATUS = 0<br> begin<br> print rtrim(@dept) + ‘学生：’<br> declare c2 cursor for<br> select sname,ssex from student where sdept = @dept<br> open c2<br> fetch next from c2 into @sname ,@sex<br> while @@FETCH_STATUS = 0<br> begin<br> print @sname + @sex<br> fetch next from c2 into @sname ,@sex<br> end<br> close c2<br> deallocate c2<br> print ‘==============’<br> fetch next from c1 into @dept<br> end<br> close c1<br> deallocate c1<br> 第13章 安全管理<br> 习 题</p> 
<ol><li> <p>通常情况下，数据库中的权限划分为哪几类？<br> 答：通常情况下，将数据库中的权限划分为两类。一类是对数据库系统进行维护的权限，另一类是对数据库中的对象和数据进行操作的权限。</p> </li><li> <p>数据库中的用户按其操作权限可分为哪几类，每一类的权限是什么？<br> 答：数据库中的用户按其操作权限的不同可分为如下三类：<br> （1） 系统管理员：在数据库服务器上具有全部的权限<br> （2） 数据库对象拥有者：对其所拥有的对象具有全部权限。<br> （3） 普通用户：只具有对数据库数据的增、删、改、查权限。</p> </li><li> <p>SQL Server的登录名的来源有几种？分别是什么？<br> 答：两种，Windows身份验证的和SQL Server身份验证的。</p> </li><li> <p>权限的管理包含哪些内容？<br> 答：权限管理包含：授予权限、收回权限和拒绝权限。</p> </li><li> <p>什么是用户定义的角色，其作用是什么？<br> 答：用户自己建立的角色，其作用是简化数据库用的权限管理。</p> </li><li> <p>在SQL Server中，用户定义的角色中可以包含哪些类型的成员？<br> 答：可以包含普通用户、用户定义的角色。</p> </li><li> <p>写出实现下述功能到T-SQL语句。<br> (1) 建立一个Windows身份验证的登录名，Windows域名为：CS，登录名为：Win_Jone。<br> 答：CREATE LOGIN [CS\Win_jone] FROM WINDOWS;</p> </li></ol> 
<p>(2) 建立一个SQL Server身份验证的登录名，登录名为：SQL_Stu，密码为：3Wcd5sTap43K。<br> 答：CREATE LOGIN SQL_Stu WITH PASSWORD = ‘3Wcd5sTap43K’;</p> 
<p>(3) 删除Windows身份验证的登录名，Windows域名为：IS，登录名为：U1。<br> 答：DROP LOGIN [IS\U1]</p> 
<p>(4) 删除SQL Server身份验证的登录名，登录名为：U2。<br> 答：DROP LOGIN U2</p> 
<p>(5) 建立一个数据库用户，用户名为SQL_Stu，对应的登录名为SQL Server身份验证的SQL_Stu。<br> 答：CREATE USER SQL_Stu;</p> 
<p>(6) 建立一个数据库用户，用户名为Jone，对应的登录名为Windows身份验证的Win_Jone，Windows域名为：CS。<br> 答：CREATE USER Jone FOR Win_Jone</p> 
<p>(7) 授予用户u1具有对course表的插入和删除权。<br> 答：grant insert, delete on course to u1</p> 
<p>(8) 授予用户u1对Course表的删除权。<br> 答：grant delete on course to u1</p> 
<p>(9) 收回u1对course表的删除权。<br> 答：revoke delete on course from u1</p> 
<p>(10) 拒绝用户u1获得对Course表的更改权。<br> 答：deny update on course to u1</p> 
<p>(11) 授予用户u1具有创建表和视图的权限。<br> 答：grant create table,create view to u1</p> 
<p>(12) 收回用户u1创建表的权限。<br> 答：revoke create table from u1</p> 
<p>(13) 建立一个新的用户定义的角色，角色名为：NewRole。<br> 答：create role NewRole</p> 
<p>(14) 为New_Role角色授予SC表的查询和更改权。<br> 答：grant select, update on sc to New_Role</p> 
<p>(15) 将SQL Server身份验证的u1用户和Windows身份验证的Win_Jone用户添加到New_Role角色中。<br> 答：EXEC sp_addrolemember ‘New_Role’, ‘u1’<br> EXEC sp_addrolemember ‘New_Role’, ‘Win_Jone’</p> 
<p>上机练习<br> 3．用log1建立一个新的数据库引擎查询，并在Students数据库中执行下述语句，能否成功？为什么？<br> SELECT * FROM Course<br> 答：不能，因为log1没有被授予Course表的查询权。</p> 
<p>5．在SSMS中，用log2建立一个新的数据库引擎查询，执行下述语句，能否成功？为什么？<br> INSERT INTO Course VALUES(‘C101’，‘数据库基础’，4，5)<br> 答：能成功，因为被授予了插入权。<br> 再执行下述语句，能否成功？为什么？<br> SELECT * FROM Course<br> 答：不能，因为log2没有被授予Course表的查询权。</p> 
<p>6．在SSMS中，在log1建立的数据库引擎查询中，再次执行下述语句：<br> SELECT * FROM Course<br> 答：能，因为log1被授予了Course的查询权。</p> 
<p>这次能否成功？但如果执行下述语句：<br> INSERT INTO Course VALUES(‘C103’，‘软件工程’，4，5)<br> 能否成功？为什么？<br> 答：不能，因为log1被授予了Course的插入权。</p> 
<p>10．在SSMS中，用pub_user建立一个新的数据库引擎查询，执行下述语句，能否成功？为什么？<br> SELECT * FROM Course<br> 答：不能，因为pub_user没有被授予Course的查询权。</p> 
<p>12．在pub_user建立的数据库引擎查询中，再次执行下述语句，能否成功？为什么？<br> SELECT * FROM Course<br> 答：能，因为pub_user在SelectRole角色中，而SelectRole角色被授予了Course的查询权。<br> 第15章 备份和恢复数据库<br> 1． 在确定用户数据库的备份周期时，应考虑哪些因素？<br> 答：允许丢失的数据的多少？数据的操作高峰和低谷时间等。</p> 
<p>2． 对用户数据库和系统数据库分别应该采取什么备份策略？<br> 答：对用户数据库是周期性备份；对系统数据库是修改完即刻备份。</p> 
<p>3． SQL Server的备份设备是一个独立的物理设备吗？<br> 答：不是</p> 
<p>4． 在创建备份设备时需要指定备份设备占用的空间大小吗？备份设备的空间大小是由什么决定的？<br> 答：不需要，备份设备空间大小由备份内容决定。</p> 
<p>5． SQL Server 2012提供了几种备份数据库方式？<br> 答：完整备份、差异备份和事务日志备份，同时还支持对文件和文件组进行备份。</p> 
<p>6． 日志备份对数据库恢复模式有什么要求？<br> 答：不能是简单的。</p> 
<p>7． 第一次对数据库进行备份时，必须使用哪种备份方式？<br> 答：完整</p> 
<p>8． 差异备份方法备份的是哪段时间的哪些内容？<br> 答：从上次完整备份到当前备份时刻的数据库变化内容。</p> 
<p>9． 日志备份方法备份的是哪段时间的哪些内容？<br> 答：从上次备份到当前备份时刻的日志内容。</p> 
<p>10． 差异备份方法备份数据库日志吗？<br> 答：备份</p> 
<p>11． 恢复数据库时，对恢复的顺序有什么要求？<br> 答：最后一个完整备份、完整备份之后的最后一个差异备份、差异备份之后的全部日志备份。</p> 
<p>12． SQL Server在备份数据库时允许用户访问数据库吗？在恢复数据库时呢？<br> 答：备份时允许，恢复时不允许。</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/820efb3d7775410864a7db52e83632a2/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">微信小程序商城完整代码</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6a2f0ba0c87bd16cb2c2c99751534537/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">2020-11-06</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程爱好者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151260"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>