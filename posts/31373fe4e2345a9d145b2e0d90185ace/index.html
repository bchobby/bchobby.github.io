<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>使用Kalibr标定相机和IMU（ZED&#43;px4）外参 - 编程爱好者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="使用Kalibr标定相机和IMU（ZED&#43;px4）外参" />
<meta property="og:description" content="提示：文章写完后，目录可以自动生成，如何生成可参考右边的帮助文档
使用Kalibr标定相机和IMU（ZED&#43;px4）外参 前言一、Kalibr介绍二、CAM-IMU外参标定1.相机内参2.IMU噪声参数3.target(标定板参数)4.bag文件录制5.kalibr: cam-imu联合标定 三、运行单目&#43;imu的VINS-Fusion 前言 本文仅使用kalibr中cam-imu的联合标定，关于camera内参默认已经知道了。主要会总结一些标定上的小经验，有不对的地方，希望网友可以指出。文章最后将使用标定的cam-imu外参在VINS-Fusion中进行验证
一、Kalibr介绍 Kalibr是ZTH大佬们开源的一个标定工具箱，可以进行相机内参标定，cam-imu外参标定、多imu、多相机标定等。在很多数据集中，都使用Kalibr来标定cam-imu的外参矩阵，具有很高的可信度，写论文，做实验，都用得上。
本文不涉及Kalibr的安装，各位可以根据官网自己安装，下面开始介绍cam-imu的标定细节和经验。
本文使用的设备是ZED相机和px4里内置的imu，进行左目相机和imu的外参标定。
二、CAM-IMU外参标定 标定一共需要3个yaml文件，分别是：
相机内参的zed_left_raw.yaml，imu噪声参数的px4_imu.yaml，标定板对应的april_7x5.yaml文件
下面会在相机内参、imu噪声、target部分分别介绍yaml文件中的内容。
注意这里的文件名可以根据自己习惯命名，不是固定的。
1.相机内参 关于相机内参的标定，用的比较多的有matlab的标定工具箱，Kalibr本身也支持多相机的内参标定，有需要可以看看Multiple camera calibration 部分。
关于ZED相机的内参，使用出厂标定的数据就好了，如果安装ZED的SDK时使用的是默认的安装路径，可以在/usr/local/zed/settings下面找到一个SN****.conf文件，根据你设置的相机分辨率去找对应的相机内参和畸变参数，我这里使用的是VGA模式，conf文件中
对应的内参和畸变参数如下：
根据我们获得的相机内参和畸变参数，创建一个zed_left_raw.yaml文件(文件名自己定)，内容如下：
cam0: cam_overlaps: [] camera_model: pinhole #相机模型，kalibr也支持鱼眼模型 distortion_coeffs: [-0.173778, 0.0266126, 0.0010566, -0.000836547] #相机畸参数 distortion_model: radtan #畸变模型 intrinsics: [349.46, 349.46, 346.59, 181.41225] resolution: [672, 376] rostopic: /zed/zed_node/left_raw/image_raw_gray 注意一下，distortion_model和camera_model根据自己需要进行选择，Kalibr中Supported models中有介绍。
ZED相机是针孔模型，畸变参数是k1,k2,p1,p2，对应的distortion model是radial-tangential。
2.IMU噪声参数 注意：
我自己之前写过一篇关于IMU内参标定的文章，需要的小伙伴可以参看一下。
但是！！！！！我们其实用不上imu内参标定的数据，理由也在《IMU内参标定》这篇文章中介绍过了，想了解的同学，自己看看，欢迎评论区发表意见，如果想深入了解关于IMU噪声模型的同学，也可以看看我之前的文章。
虽然说imu内参标定的结果不重要，但是imu内参确实对cam-imu外参标定是有影响的，如何取值呢？是一个问题。
有多种选择的方法:
一种是参考公开数据集的做法，比如：EuRoC数据集（毕竟是他们自己家采的数据集），Kalibr在download中给了Euroc数据集在使用kalibr标定时用到的imu_adis16448.yaml文件，里面有标定时用的imu的噪声参数（连续噪声模型）。他们用的IMU型号是adls16448，在很多imu内参标定的工具里一般会用这款imu作为示例，比如mintar版本的imu_util中，下面可以对比一下Kalibr中用的imu噪声参数和imu内参标定得到的噪声参数的差别：
可以看到，Kalibr中用的imu噪声参数比imu内参标定得到的噪声参数要大10-15倍左右，理由看我之前的文章。所以我们的一种做法是使用静置imu标定的内参，然后放大10-15倍（倍数看效果，效果不行可以再放大一些）。第二种做法，使用VINS种imu噪声的默认参数，他们给的这个默认参数还是蛮好用的，或者在他们默认参数的基础上做一个微调。本文用的就是在VINS给的默认参数基础上做了点微调，具体的px4_imu.yaml文件的内容如下： rostopic: /mavros/imu/data update_rate: 195 #Hz accelerometer_noise_density: 0.1 #VINS默认 0." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bchobby.github.io/posts/31373fe4e2345a9d145b2e0d90185ace/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-02T12:49:42+08:00" />
<meta property="article:modified_time" content="2023-03-02T12:49:42+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程爱好者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程爱好者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">使用Kalibr标定相机和IMU（ZED&#43;px4）外参</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p>提示：文章写完后，目录可以自动生成，如何生成可参考右边的帮助文档</p> 
</blockquote> 
<p></p> 
<div class="toc"> 
 <h4>使用Kalibr标定相机和IMU（ZED+px4）外参</h4> 
 <ul><li><a href="#_7" rel="nofollow">前言</a></li><li><a href="#Kalibr_12" rel="nofollow">一、Kalibr介绍</a></li><li><a href="#CAMIMU_17" rel="nofollow">二、CAM-IMU外参标定</a></li><li><ul><li><a href="#1_22" rel="nofollow">1.相机内参</a></li><li><a href="#2IMU_41" rel="nofollow">2.IMU噪声参数</a></li><li><a href="#3target_67" rel="nofollow">3.target(标定板参数)</a></li><li><a href="#4bag_81" rel="nofollow">4.bag文件录制</a></li><li><a href="#5kalibr_camimu_94" rel="nofollow">5.kalibr: cam-imu联合标定</a></li></ul> 
  </li><li><a href="#imuVINSFusion_206" rel="nofollow">三、运行单目+imu的VINS-Fusion</a></li></ul> 
</div> 
<p></p> 
<hr> 
<h2><a id="_7"></a>前言</h2> 
<p><code>本文仅使用kalibr中cam-imu的联合标定，关于camera内参默认已经知道了。主要会总结一些标定上的小经验，有不对的地方，希望网友可以指出。文章最后将使用标定的cam-imu外参在VINS-Fusion中进行验证</code></p> 
<hr> 
<h2><a id="Kalibr_12"></a>一、Kalibr介绍</h2> 
<p><a href="https://github.com/ethz-asl/kalibr">Kalibr</a>是ZTH大佬们开源的一个标定工具箱，可以进行相机内参标定，cam-imu外参标定、多imu、多相机标定等。在很多数据集中，都使用Kalibr来标定cam-imu的外参矩阵，具有很高的可信度，写论文，做实验，都用得上。<br> 本文不涉及Kalibr的安装，各位可以根据官网自己安装，下面开始介绍cam-imu的标定细节和经验。<br> <mark><strong>本文使用的设备是ZED相机和px4里内置的imu，进行左目相机和imu的外参标定。</strong></mark></p> 
<h2><a id="CAMIMU_17"></a>二、CAM-IMU外参标定</h2> 
<p>标定一共需要3个yaml文件，分别是：<br> <strong>相机内参</strong>的zed_left_raw.yaml，imu噪声参数的px4_imu.yaml，标定板对应的april_7x5.yaml文件<br> 下面会在相机内参、imu噪声、target部分分别介绍yaml文件中的内容。<br> <code>注意这里的文件名可以根据自己习惯命名，不是固定的。</code></p> 
<h3><a id="1_22"></a>1.相机内参</h3> 
<p>关于相机内参的标定，用的比较多的有matlab的标定工具箱，Kalibr本身也支持多相机的内参标定，有需要可以看看<a href="https://github.com/ethz-asl/kalibr/wiki/multiple-camera-calibration">Multiple camera calibration</a> 部分。<br> 关于ZED相机的内参，使用出厂标定的数据就好了，如果安装ZED的SDK时使用的是默认的安装路径，可以在/usr/local/zed/settings下面找到一个SN****.conf文件，根据你设置的相机分辨率去找对应的<mark>相机内参</mark>和<mark>畸变参数</mark>，我这里使用的是VGA模式，conf文件中<br> 对应的内参和畸变参数如下：<br> <img src="https://images2.imgbox.com/e8/bc/wwWZi7D4_o.png" alt="请添加图片描述"><br> 根据我们获得的相机内参和畸变参数，创建一个<mark>zed_left_raw.yaml</mark>文件(文件名自己定)，内容如下：</p> 
<pre><code class="prism language-yaml"><span class="token key atrule">cam0</span><span class="token punctuation">:</span>
  <span class="token key atrule">cam_overlaps</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> 
  <span class="token key atrule">camera_model</span><span class="token punctuation">:</span> pinhole   <span class="token comment">#相机模型，kalibr也支持鱼眼模型</span>
  <span class="token key atrule">distortion_coeffs</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">-0.173778</span><span class="token punctuation">,</span> <span class="token number">0.0266126</span><span class="token punctuation">,</span> <span class="token number">0.0010566</span><span class="token punctuation">,</span> <span class="token number">-0.000836547</span><span class="token punctuation">]</span> <span class="token comment">#相机畸参数</span>
  <span class="token key atrule">distortion_model</span><span class="token punctuation">:</span> radtan <span class="token comment">#畸变模型</span>
  <span class="token key atrule">intrinsics</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">349.46</span><span class="token punctuation">,</span> <span class="token number">349.46</span><span class="token punctuation">,</span> <span class="token number">346.59</span><span class="token punctuation">,</span> <span class="token number">181.41225</span><span class="token punctuation">]</span>
  <span class="token key atrule">resolution</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">672</span><span class="token punctuation">,</span> <span class="token number">376</span><span class="token punctuation">]</span>
  <span class="token key atrule">rostopic</span><span class="token punctuation">:</span> /zed/zed_node/left_raw/image_raw_gray
</code></pre> 
<p>注意一下，<strong>distortion_model</strong>和<strong>camera_model</strong>根据自己需要进行选择，Kalibr中<a href="https://github.com/ethz-asl/kalibr/wiki/supported-models">Supported models</a>中有介绍。<br> ZED相机是针孔模型，畸变参数是k1,k2,p1,p2，对应的distortion model是radial-tangential。</p> 
<h3><a id="2IMU_41"></a>2.IMU噪声参数</h3> 
<hr> 
<p><mark><strong>注意：</strong></mark><br> 我自己之前写过一篇关于<a href="https://blog.csdn.net/weixin_42681311/article/details/126109617?spm=1001.2014.3001.5501">IMU内参标定</a>的文章，需要的小伙伴可以参看一下。<br> 但是！！！！！我们其实用不上imu内参标定的数据，理由也在《<a href="https://blog.csdn.net/weixin_42681311/article/details/126109617?spm=1001.2014.3001.5501">IMU内参标定</a>》这篇文章中介绍过了，想了解的同学，自己看看，欢迎评论区发表意见，如果想深入了解关于<a href="https://blog.csdn.net/weixin_42681311/article/details/126147798?spm=1001.2014.3001.5501">IMU噪声模型</a>的同学，也可以看看我之前的文章。</p> 
<hr> 
<p>虽然说imu内参标定的结果不重要，但是imu内参确实对cam-imu外参标定是有影响的，如何取值呢？是一个问题。<br> 有多种选择的方法:</p> 
<ol><li>一种是参考公开数据集的做法，比如：EuRoC数据集（毕竟是他们自己家采的数据集），Kalibr在<a href="https://github.com/ethz-asl/kalibr/wiki/downloads">download</a>中给了Euroc数据集在使用kalibr标定时用到的imu_adis16448.yaml文件，里面有标定时用的imu的噪声参数（连续噪声模型）。他们用的IMU型号是adls16448，在很多imu内参标定的工具里一般会用这款imu作为示例，比如mintar版本的<a href="https://github.com/mintar/imu_utils">imu_util</a>中，下面可以对比一下<strong>Kalibr中用的imu噪声参数</strong>和<strong>imu内参标定得到的噪声参数</strong>的差别：<img src="https://images2.imgbox.com/dd/89/hHZvwTpJ_o.png" alt="请添加图片描述"><br> 可以看到，<strong>Kalibr中用的imu噪声参数</strong>比<strong>imu内参标定得到的噪声参数</strong>要大10-15倍左右，理由看我之前的文章。所以我们的一种做法是使用静置imu标定的内参，然后放大10-15倍（倍数看效果，效果不行可以再放大一些）。</li><li>第二种做法，使用VINS种imu噪声的默认参数，他们给的这个默认参数还是蛮好用的，或者在他们默认参数的基础上做一个微调。本文用的就是在VINS给的默认参数基础上做了点微调，具体的<mark>px4_imu.yaml</mark>文件的内容如下：</li></ol> 
<pre><code class="prism language-yaml"><span class="token key atrule">rostopic</span><span class="token punctuation">:</span> /mavros/imu/data
<span class="token key atrule">update_rate</span><span class="token punctuation">:</span> <span class="token number">195</span> <span class="token comment">#Hz</span>

<span class="token key atrule">accelerometer_noise_density</span><span class="token punctuation">:</span> <span class="token number">0.1</span> <span class="token comment">#VINS默认 0.2</span>
<span class="token key atrule">accelerometer_random_walk</span><span class="token punctuation">:</span> <span class="token number">0.03</span> <span class="token comment">#0.05</span>
<span class="token key atrule">gyroscope_noise_density</span><span class="token punctuation">:</span> <span class="token number">0.02</span> <span class="token comment">#0.02</span>
<span class="token key atrule">gyroscope_random_walk</span><span class="token punctuation">:</span> <span class="token number">0.00004</span> <span class="token comment">#4e-5</span>

</code></pre> 
<h3><a id="3target_67"></a>3.target(标定板参数)</h3> 
<p>标定板的yaml文件没什么好说的，参考Kalibr的<a href="https://github.com/ethz-asl/kalibr/wiki/downloads">download</a>：<br> 我用的是花几百块买的标定板，是一个7x5的板子，yaml文件如下：</p> 
<pre><code class="prism language-yaml"><span class="token comment">#example for aprilgrid</span>
  <span class="token key atrule">target_type</span><span class="token punctuation">:</span> <span class="token string">'aprilgrid'</span> <span class="token comment">#gridtype</span>
  <span class="token key atrule">tagCols</span><span class="token punctuation">:</span> <span class="token number">7</span>                  <span class="token comment">#number of apriltags</span>
  <span class="token key atrule">tagRows</span><span class="token punctuation">:</span> <span class="token number">5</span>                  <span class="token comment">#number of apriltags</span>
  <span class="token key atrule">tagSize</span><span class="token punctuation">:</span> <span class="token number">0.03</span>              <span class="token comment">#size of apriltag, edge to edge [m]</span>
  <span class="token key atrule">tagSpacing</span><span class="token punctuation">:</span> <span class="token number">0.2</span>             <span class="token comment">#ratio of space between tags to tagSize a=3cm b=0.6cm</span>
</code></pre> 
<p>自己用A4纸打印也行，但是要把值量准了，我两种都试过，其实差别不是很大，但是用标定板得到的重投影误差更小</p> 
<h3><a id="4bag_81"></a>4.bag文件录制</h3> 
<p>这里用的是px4内置的imu，通过mavros发布imu的数据，但是默认的频率只有30hz，需要执行下面指令修改imu频率到200hz</p> 
<pre><code class="prism language-cpp">rosrun mavros mavcmd <span class="token keyword">long</span> <span class="token number">511</span> <span class="token number">31</span> <span class="token number">5000</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span>
</code></pre> 
<p>这里订阅的消息有两个，图像的topic和imu的topic：</p> 
<pre><code class="prism language-cpp">rosbag record <span class="token operator">/</span>mavros<span class="token operator">/</span>data<span class="token operator">/</span>raw zed<span class="token operator">/</span>zed_node<span class="token operator">/</span>left_raw<span class="token operator">/</span>image_raw_gray
</code></pre> 
<p>录制的时候注意要尽量运动的平滑一些，速度不要太快，如果相机得到的图像质量太差的话可能会提取不到特征点，也不可太慢，要充分激励imu，采集数据的方法在kalibr的github主页上有一个油管上的视频，B站也有人搬过来了，参考视频来录制。bag的时间长短到不是很有影响40-120s左右吧，主要影响一个计算时间，如果不赶时间到没关系。</p> 
<h3><a id="5kalibr_camimu_94"></a>5.kalibr: cam-imu联合标定</h3> 
<pre><code class="prism language-cpp"><span class="token comment">//source 一下kalibr的工作空间</span>
rosrun kalibr kalibr_calibrate_imu_camera <span class="token operator">--</span>imu <span class="token operator">/</span>YOUR_FOLDER<span class="token operator">/</span>px4_imu<span class="token punctuation">.</span>yaml <span class="token operator">--</span>cam <span class="token operator">/</span>YOUR_FOLDER<span class="token operator">/</span>zed<span class="token operator">-</span>left<span class="token operator">-</span>raw<span class="token punctuation">.</span>yaml <span class="token operator">--</span>target <span class="token operator">/</span>YOUR_FOLDER<span class="token operator">/</span>april_7x5<span class="token punctuation">.</span>yaml <span class="token operator">--</span>bag <span class="token operator">/</span>YOUR_FOLDER<span class="token operator">/</span>xxx<span class="token punctuation">.</span>bag <span class="token operator">--</span>show<span class="token operator">-</span>extraction <span class="token operator">--</span>bag<span class="token operator">-</span>from<span class="token operator">-</span>to <span class="token number">5</span> <span class="token number">85</span>
</code></pre> 
<p>参数说明：<br> –show-extraction可以显示图像，可以看到提取的特征点。<br> –bag-from-to 5 85 是指从bag的第5s读到第85s，就是把一头一尾截掉一部分，因为在开始和结束可能有一些剧烈的抖动，会导致错误，你要是整个过程都很平稳，不截掉也行。</p> 
<p><strong>标定结果：</strong></p> 
<pre><code class="prism language-bash">Calibration results
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
Normalized Residuals
----------------------------
Reprojection error <span class="token punctuation">(</span>cam0<span class="token punctuation">)</span>:     mean <span class="token number">0.615012956118</span>, median <span class="token number">0.536132055556</span>, std: <span class="token number">0.392602996383</span>
Gyroscope error <span class="token punctuation">(</span>imu0<span class="token punctuation">)</span>:        mean <span class="token number">0.253306360314</span>, median <span class="token number">0.222449089297</span>, std: <span class="token number">0.165059194168</span>
Accelerometer error <span class="token punctuation">(</span>imu0<span class="token punctuation">)</span>:    mean <span class="token number">0.461800885522</span>, median <span class="token number">0.367774639131</span>, std: <span class="token number">0.37771279501</span>

Residuals
----------------------------
Reprojection error <span class="token punctuation">(</span>cam0<span class="token punctuation">)</span> <span class="token punctuation">[</span>px<span class="token punctuation">]</span>:     mean <span class="token number">0.615012956118</span>, median <span class="token number">0.536132055556</span>, std: <span class="token number">0.392602996383</span>
Gyroscope error <span class="token punctuation">(</span>imu0<span class="token punctuation">)</span> <span class="token punctuation">[</span>rad/s<span class="token punctuation">]</span>:     mean <span class="token number">0.0176861541002</span>, median <span class="token number">0.0155316624023</span>, std: <span class="token number">0.011524631044</span>
Accelerometer error <span class="token punctuation">(</span>imu0<span class="token punctuation">)</span> <span class="token punctuation">[</span>m/s^2<span class="token punctuation">]</span>: mean <span class="token number">0.128973968357</span>, median <span class="token number">0.102713866857</span>, std: <span class="token number">0.105489442742</span>

Transformation <span class="token punctuation">(</span>cam0<span class="token punctuation">)</span>:
-----------------------
T_ci:  <span class="token punctuation">(</span>imu0 to cam0<span class="token punctuation">)</span>: 
<span class="token punctuation">[</span><span class="token punctuation">[</span>-0.01744988 <span class="token parameter variable">-0.99908438</span> <span class="token parameter variable">-0.03906278</span>  <span class="token number">0.05493455</span><span class="token punctuation">]</span>
 <span class="token punctuation">[</span> <span class="token number">0.01391445</span>  <span class="token number">0.03882229</span> <span class="token parameter variable">-0.99914925</span> <span class="token parameter variable">-0.0962123</span> <span class="token punctuation">]</span>
 <span class="token punctuation">[</span> <span class="token number">0.99975091</span> <span class="token parameter variable">-0.01797857</span>  <span class="token number">0.01322427</span> -0.04775604<span class="token punctuation">]</span>
 <span class="token punctuation">[</span> <span class="token number">0</span>.          <span class="token number">0</span>.          <span class="token number">0</span>.          <span class="token number">1</span>.        <span class="token punctuation">]</span><span class="token punctuation">]</span>

T_ic:  <span class="token punctuation">(</span>cam0 to imu0<span class="token punctuation">)</span>: 
<span class="token punctuation">[</span><span class="token punctuation">[</span>-0.01744988  <span class="token number">0.01391445</span>  <span class="token number">0.99975091</span>  <span class="token number">0.05004149</span><span class="token punctuation">]</span>
 <span class="token punctuation">[</span>-0.99908438  <span class="token number">0.03882229</span> <span class="token parameter variable">-0.01797857</span>  <span class="token number">0.05776085</span><span class="token punctuation">]</span>
 <span class="token punctuation">[</span>-0.03906278 <span class="token parameter variable">-0.99914925</span>  <span class="token number">0.01322427</span> -0.09335301<span class="token punctuation">]</span>
 <span class="token punctuation">[</span> <span class="token number">0</span>.          <span class="token number">0</span>.          <span class="token number">0</span>.          <span class="token number">1</span>.        <span class="token punctuation">]</span><span class="token punctuation">]</span>

timeshift cam0 to imu0: <span class="token punctuation">[</span>s<span class="token punctuation">]</span> <span class="token punctuation">(</span>t_imu <span class="token operator">=</span> t_cam + <span class="token builtin class-name">shift</span><span class="token punctuation">)</span>
<span class="token number">0.0060200053287647135</span>


Gravity vector <span class="token keyword">in</span> target coords: <span class="token punctuation">[</span>m/s^2<span class="token punctuation">]</span>
<span class="token punctuation">[</span> <span class="token number">0.08307977</span> <span class="token parameter variable">-9.67015417</span> -1.62777118<span class="token punctuation">]</span>


Calibration configuration
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>

cam0
-----
  Camera model: pinhole
  Focal length: <span class="token punctuation">[</span><span class="token number">349.46</span>, <span class="token number">349.46</span><span class="token punctuation">]</span>
  Principal point: <span class="token punctuation">[</span><span class="token number">346.59</span>, <span class="token number">181.41225</span><span class="token punctuation">]</span>
  Distortion model: radtan
  Distortion coefficients: <span class="token punctuation">[</span>-0.173778, <span class="token number">0.0266126</span>, <span class="token number">0.0010566</span>, -0.000836547<span class="token punctuation">]</span>
  Type: aprilgrid
  Tags: 
    Rows: <span class="token number">5</span>
    Cols: <span class="token number">7</span>
    Size: <span class="token number">0.03</span> <span class="token punctuation">[</span>m<span class="token punctuation">]</span>
    Spacing <span class="token number">0.006</span> <span class="token punctuation">[</span>m<span class="token punctuation">]</span>



IMU configuration
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>

IMU0:
 ----------------------------
  Model: calibrated
  Update rate: <span class="token number">195</span>
  Accelerometer:
    Noise density: <span class="token number">0.02</span> 
    Noise density <span class="token punctuation">(</span>discrete<span class="token punctuation">)</span>: <span class="token number">0.279284800875</span> 
    Random walk: <span class="token number">0.0001</span>
  Gyroscope:
    Noise density: <span class="token number">0.005</span>
    Noise density <span class="token punctuation">(</span>discrete<span class="token punctuation">)</span>: <span class="token number">0.0698212002188</span> 
    Random walk: 1e-06
  T_i_b
    <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span>. <span class="token number">0</span>. <span class="token number">0</span>. <span class="token number">0</span>.<span class="token punctuation">]</span>
     <span class="token punctuation">[</span><span class="token number">0</span>. <span class="token number">1</span>. <span class="token number">0</span>. <span class="token number">0</span>.<span class="token punctuation">]</span>
     <span class="token punctuation">[</span><span class="token number">0</span>. <span class="token number">0</span>. <span class="token number">1</span>. <span class="token number">0</span>.<span class="token punctuation">]</span>
     <span class="token punctuation">[</span><span class="token number">0</span>. <span class="token number">0</span>. <span class="token number">0</span>. <span class="token number">1</span>.<span class="token punctuation">]</span><span class="token punctuation">]</span>
  <span class="token function">time</span> offset with respect to IMU0: <span class="token number">0.0</span> <span class="token punctuation">[</span>s<span class="token punctuation">]</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/8e/27/OvbiBiI7_o.png" alt="在这里插入图片描述"><br> <strong>结果分析：</strong><br> 指标的话主要看<strong>重投影误差</strong>，在<strong>1个pixle</strong>（具体也没有硬指标，别太大了，1个pixle以上误差还挺大的应该）以下应该就还可以吧，这个我们可以参考EuRoC数据集的标定结果（原始数据在<a href="https://github.com/ethz-asl/kalibr/wiki/downloads">download</a>里有），下面是在我自己电脑上用kalibr标定的结果：</p> 
<pre><code class="prism language-bash">Calibration results
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
Normalized Residuals
----------------------------
Reprojection error <span class="token punctuation">(</span>cam0<span class="token punctuation">)</span>:     mean <span class="token number">0.418843991251</span>, median <span class="token number">0.356960966203</span>, std: <span class="token number">0.283661622772</span>
Gyroscope error <span class="token punctuation">(</span>imu0<span class="token punctuation">)</span>:        mean <span class="token number">0.112183412747</span>, median <span class="token number">0.0980577964024</span>, std: <span class="token number">0.0659293249494</span>
Accelerometer error <span class="token punctuation">(</span>imu0<span class="token punctuation">)</span>:    mean <span class="token number">0.348599885514</span>, median <span class="token number">0.313983260978</span>, std: <span class="token number">0.202874498275</span>

Residuals
----------------------------
Reprojection error <span class="token punctuation">(</span>cam0<span class="token punctuation">)</span> <span class="token punctuation">[</span>px<span class="token punctuation">]</span>:     mean <span class="token number">0.418843991251</span>, median <span class="token number">0.356960966203</span>, std: <span class="token number">0.283661622772</span>
Gyroscope error <span class="token punctuation">(</span>imu0<span class="token punctuation">)</span> <span class="token punctuation">[</span>rad/s<span class="token punctuation">]</span>:     mean <span class="token number">0.00793256518902</span>, median <span class="token number">0.00693373327843</span>, std: <span class="token number">0.00466190727508</span>
Accelerometer error <span class="token punctuation">(</span>imu0<span class="token punctuation">)</span> <span class="token punctuation">[</span>m/s^2<span class="token punctuation">]</span>: mean <span class="token number">0.0492994685936</span>, median <span class="token number">0.0444039386034</span>, std: <span class="token number">0.028690786692</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/3a/41/UqPILSAb_o.png" alt="在这里插入图片描述"><br> EuRoC数据集里面标定用的是一个比较大的专业标定板，IMU也是比较好的，效果应该要好一些。可以看到他们的<strong>重投影误差</strong>在0.4左右，我标定的在0.6左右，这个效果还是算不错的，在VINS中也可以直接作为外参使用。</p> 
<h2><a id="imuVINSFusion_206"></a>三、运行单目+imu的VINS-Fusion</h2> 
<p><a href="https://github.com/HKUST-Aerial-Robotics/VINS-Fusion">VINS</a>的安装参考官网的介绍。<br> 这里主要介绍下config里的yaml文件应该怎么修改，下面是我用的yaml文件：</p> 
<pre><code class="prism language-yaml"><span class="token directive important">%YAML:1.0</span>

<span class="token comment">#common parameters</span>
<span class="token comment">#support: 1 imu 1 cam; 1 imu 2 cam: 2 cam; </span>
<span class="token key atrule">imu</span><span class="token punctuation">:</span> <span class="token number">1</span>         
<span class="token key atrule">num_of_cam</span><span class="token punctuation">:</span> <span class="token number">1</span>  

<span class="token key atrule">imu_topic</span><span class="token punctuation">:</span> <span class="token string">"/mavros/imu/data"</span>
<span class="token key atrule">image0_topic</span><span class="token punctuation">:</span> <span class="token string">"/zed/zed_node/left_raw/image_raw_gray"</span>
<span class="token key atrule">output_path</span><span class="token punctuation">:</span> <span class="token string">"~/output/"</span>

<span class="token key atrule">cam0_calib</span><span class="token punctuation">:</span> <span class="token string">"left.yaml"</span>
<span class="token key atrule">image_width</span><span class="token punctuation">:</span> <span class="token number">672</span>
<span class="token key atrule">image_height</span><span class="token punctuation">:</span> <span class="token number">376</span>
   

<span class="token comment"># Extrinsic parameter between IMU and Camera.</span>
<span class="token key atrule">estimate_extrinsic</span><span class="token punctuation">:</span> <span class="token number">1</span>   <span class="token comment"># 0  Have an accurate extrinsic parameters. We will trust the following imu^R_cam, imu^T_cam, don't change it.</span>
                        <span class="token comment"># 1  Have an initial guess about extrinsic parameters. We will optimize around your initial guess.</span>

<span class="token key atrule">body_T_cam0</span><span class="token punctuation">:</span> <span class="token tag">!!opencv-matrix</span>
   <span class="token key atrule">rows</span><span class="token punctuation">:</span> <span class="token number">4</span>
   <span class="token key atrule">cols</span><span class="token punctuation">:</span> <span class="token number">4</span>
   <span class="token key atrule">dt</span><span class="token punctuation">:</span> d
   <span class="token key atrule">data</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">-0.01711133</span><span class="token punctuation">,</span> <span class="token number">0.01180156</span><span class="token punctuation">,</span> <span class="token number">0.99978394</span><span class="token punctuation">,</span> <span class="token number">0.03898149</span><span class="token punctuation">,</span>
           <span class="token number">-0.99917567</span><span class="token punctuation">,</span> <span class="token number">0.03661386</span><span class="token punctuation">,</span> <span class="token number">-0.01753311</span><span class="token punctuation">,</span>  <span class="token number">0.05820492</span><span class="token punctuation">,</span>
           <span class="token number">-0.03681287</span><span class="token punctuation">,</span> <span class="token number">-0.9992598</span><span class="token punctuation">,</span> <span class="token number">0.01116532</span><span class="token punctuation">,</span> <span class="token number">-0.0870125</span><span class="token punctuation">,</span>
           <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>

<span class="token comment">#Multiple thread support</span>
<span class="token key atrule">multiple_thread</span><span class="token punctuation">:</span> <span class="token number">1</span>

<span class="token comment">#feature traker paprameters</span>
<span class="token key atrule">max_cnt</span><span class="token punctuation">:</span> <span class="token number">150</span>            <span class="token comment"># max feature number in feature tracking</span>
<span class="token key atrule">min_dist</span><span class="token punctuation">:</span> <span class="token number">30</span>            <span class="token comment"># min distance between two features </span>
<span class="token key atrule">freq</span><span class="token punctuation">:</span> <span class="token number">15</span>                <span class="token comment"># frequence (Hz) of publish tracking result. At least 10Hz for good estimation. If set 0, the frequence will be same as raw image </span>
<span class="token key atrule">F_threshold</span><span class="token punctuation">:</span> <span class="token number">1.0</span>        <span class="token comment"># ransac threshold (pixel)</span>
<span class="token key atrule">show_track</span><span class="token punctuation">:</span> <span class="token number">1</span>           <span class="token comment"># publish tracking image as topic</span>
<span class="token key atrule">flow_back</span><span class="token punctuation">:</span> <span class="token number">1</span>            <span class="token comment"># perform forward and backward optical flow to improve feature tracking accuracy</span>

<span class="token comment">#optimization parameters</span>
<span class="token key atrule">max_solver_time</span><span class="token punctuation">:</span> <span class="token number">0.04</span>  <span class="token comment"># max solver itration time (ms), to guarantee real time</span>
<span class="token key atrule">max_num_iterations</span><span class="token punctuation">:</span> <span class="token number">8</span>   <span class="token comment"># max solver itrations, to guarantee real time</span>
<span class="token key atrule">keyframe_parallax</span><span class="token punctuation">:</span> <span class="token number">10.0</span> <span class="token comment"># keyframe selection threshold (pixel)</span>

<span class="token comment">#imu parameters       The more accurate parameters you provide, the better performance</span>
<span class="token key atrule">acc_n</span><span class="token punctuation">:</span> <span class="token number">0.2</span>          <span class="token comment"># accelerometer measurement noise standard deviation. #0.2   0.04</span>
<span class="token key atrule">gyr_n</span><span class="token punctuation">:</span> <span class="token number">0.05</span>         <span class="token comment"># gyroscope measurement noise standard deviation.     #0.05  0.004</span>
<span class="token key atrule">acc_w</span><span class="token punctuation">:</span> <span class="token number">0.02</span>        <span class="token comment"># accelerometer bias random work noise standard deviation.  #0.02</span>
<span class="token key atrule">gyr_w</span><span class="token punctuation">:</span> <span class="token number">4.0e-5</span>       <span class="token comment"># gyroscope bias random work noise standard deviation.     #4.0e-5</span>
<span class="token key atrule">g_norm</span><span class="token punctuation">:</span> <span class="token number">9.805</span>       <span class="token comment"># gravity magnitude</span>

<span class="token comment">#unsynchronization parameters</span>
<span class="token key atrule">estimate_td</span><span class="token punctuation">:</span> <span class="token number">1</span>                      <span class="token comment"># online estimate time offset between camera and imu</span>
<span class="token key atrule">td</span><span class="token punctuation">:</span> <span class="token number">0.0</span>                             <span class="token comment"># initial value of time offset. unit: s. readed image clock + td = real image clock (IMU clock)</span>

<span class="token comment">#loop closure parameters</span>
<span class="token key atrule">load_previous_pose_graph</span><span class="token punctuation">:</span> <span class="token number">0</span>        <span class="token comment"># load and reuse previous pose graph; load from 'pose_graph_save_path'</span>
<span class="token key atrule">pose_graph_save_path</span><span class="token punctuation">:</span> <span class="token string">"~/output/pose_graph/"</span> <span class="token comment"># save and load path</span>
<span class="token key atrule">save_image</span><span class="token punctuation">:</span> <span class="token number">1</span>                   <span class="token comment"># save image in pose graph for visualization prupose; you can close this function by setting 0 </span>
</code></pre> 
<p>需要该的点：<br> 1.<strong>外参矩阵</strong>，对应Kalibr标定结果中的<strong>T_ic</strong><br> 2.<strong>imu parameters</strong>这块，推荐一开始使用vins的默认参数，如果可行，可以做微调，让精度提高些，要是有条件，可以用Vicon采个数据集进行调整。不能直接用imu标定的参数。<br> 3. <strong>estimate_td: 1</strong> :这个参数是开启时延迟估计的，开启后精度会提升一些，这个成果是发在了2018 IROS上，<a href="https://ieeexplore.ieee.org/abstract/document/8593603" rel="nofollow">Online Temporal Calibration for Monocular Visual-Inertial Systems</a><br> 4. <strong>estimate_extrinsic: 1</strong> :Kalibr标定的外参是可以直接作为真值使用的，设为0是作为真值，设为1是作为初值，在后端中会把外参也作为一个优化变量去优化，最好设为1吧，我设成0，只有在初始化阶段比较好的时候才能运行，设为1鲁棒性好点。<br> 5.在运行mono+imu的模式的时候，初始化阶段不能运动的太快，但是要充分激励IMU，另外初始化阶段尽量在特征点丰富的场景中运行，不然 容易导致初始化的一些变量不准，影响后续的优化结果。<br> 6.相机的参数文件没什么好说的，可以参考vins里的euroc数据集的config文件写。</p> 
<p>下面放一个rviz上可视化的轨迹，场景是在走廊和教室，走廊算是场景中特征点比较少的，所以我一开始是在教室里进行初始化的（教室里很多书，特征点比较丰富），我也尝试果在走廊初始化，但是最后飘了。<img src="https://images2.imgbox.com/c3/82/Kv9D3otT_o.png" alt="请添加图片描述"><br> 先是在特征点丰富的教室启动，完成初始化后走到走廊上，然后从3楼走到2楼，最后回到3楼的教室。从终点的位置估计来看（回到原点，理论上位置估计应该是0，0，0），最后VIO是有一定成程度的drift的，这是不可避免的，属于正常现象。<br> 总体来说，Kalibr标定的参数是可信的。</p> 
<p><code>没有允许不许转载！！</code></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3b27adedde1f4a14b8dde7ba841bdd9c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">html_study</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0112702fae6ed77659ed10f9dd0cee2f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">常用的正则表达式</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程爱好者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151260"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>