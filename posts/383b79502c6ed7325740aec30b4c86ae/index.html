<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>å¤§æ•°æ®ä¹‹Azkabanéƒ¨ç½² - ç¼–ç¨‹çˆ±å¥½è€…åšå®¢</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="å¤§æ•°æ®ä¹‹Azkabanéƒ¨ç½²" />
<meta property="og:description" content="ç›®å½• ä¸€ã€Azkabanæ¦‚è®º1.1 ä¸ºä»€ä¹ˆéœ€è¦å·¥ä½œæµè°ƒåº¦ç³»ç»Ÿ1.2 å¸¸è§å·¥ä½œæµè°ƒåº¦ç³»ç»Ÿ1.3 Azkaban ä¸ Oozie å¯¹æ¯” äºŒã€Azkabané›†ç¾¤å®‰è£…2.1 é›†ç¾¤æ¨¡å¼å®‰è£…2.1.1 å®‰è£…åŒ…å‡†å¤‡2.1.2 é…ç½® MySQL2.1.3 é…ç½® Executor Server2.1.4 é…ç½® Web Server 2.2 Work Flow æ¡ˆä¾‹2.2.1 HelloWorld2.2.2 ä½œä¸šä¾èµ–æ¡ˆä¾‹2.2.3 è‡ªåŠ¨å¤±è´¥é‡è¯•æ¡ˆä¾‹2.2.4 æ‰‹åŠ¨å¤±è´¥é‡è¯•æ¡ˆä¾‹ ä¸‰ã€Azkabanè¿›é˜¶3.1 JavaProcess ä½œä¸šç±»å‹æ¡ˆä¾‹3.2 æ¡ä»¶å·¥ä½œæµæ¡ˆä¾‹3.2.1 è¿è¡Œæ—¶å‚æ•°æ¡ˆä¾‹3.2.2 é¢„å®šä¹‰å®æ¡ˆä¾‹ 3.3 å®šæ—¶æ‰§è¡Œæ¡ˆä¾‹3.4 é‚®ä»¶æŠ¥è­¦æ¡ˆä¾‹3.4.1 ç™»å½•é‚®ç®±å¼€å¯SMTP3.4.2 é»˜è®¤é‚®ä»¶æŠ¥è­¦æ¡ˆä¾‹ 3.5 ç”µè¯æŠ¥è­¦æ¡ˆä¾‹3.5.1 ç¬¬ä¸‰æ–¹å‘Šè­¦å¹³å°é›†æˆ3.5.2 Azkabanå¤šExecutoræ¨¡å¼æ³¨æ„äº‹é¡¹ ä¸€ã€Azkabanæ¦‚è®º 1.1 ä¸ºä»€ä¹ˆéœ€è¦å·¥ä½œæµè°ƒåº¦ç³»ç»Ÿ ä¸€ä¸ªå®Œæ•´çš„æ•°æ®åˆ†æç³»ç»Ÿé€šå¸¸éƒ½æ˜¯ç”±å¤§é‡ä»»åŠ¡å•å…ƒç»„æˆï¼šShellè„šæœ¬ç¨‹åºï¼ŒJavaç¨‹åºï¼ŒMapReduceç¨‹åºï¼ŒHiveè„šæœ¬ç­‰ï¼›å„ä»»åŠ¡å•å…ƒä¹‹é—´å­˜åœ¨æ—¶é—´å…ˆååŠå‰åä¾èµ–å…³ç³»ï¼›ä¸ºäº†å¾ˆå¥½åœ°ç»„ç»‡èµ·è¿™æ ·çš„å¤æ‚æ‰§è¡Œè®¡åˆ’ï¼Œéœ€è¦ä¸€ä¸ªå·¥ä½œæµè°ƒåº¦ç³»ç»Ÿæ¥è°ƒåº¦æ‰§è¡Œï¼›
1.2 å¸¸è§å·¥ä½œæµè°ƒåº¦ç³»ç»Ÿ ç®€å•çš„ä»»åŠ¡è°ƒåº¦:ç›´æ¥ä½¿ç”¨ Linux çš„ Crontab æ¥å®šä¹‰;
æ³¨âš ï¸ï¼šCrontabä¸èƒ½å¤„ç†å…·æœ‰ä¾èµ–å…³ç³»çš„ä»»åŠ¡è°ƒåº¦ï¼å¤æ‚çš„ä»»åŠ¡è°ƒåº¦:å¼€å‘è°ƒåº¦å¹³å°æˆ–ä½¿ç”¨ç°æˆçš„å¼€æºè°ƒåº¦ç³»ç»Ÿï¼Œæ¯”å¦‚ Ooizeã€Azkabanã€ Airflowã€DolphinScheduler ç­‰ã€‚ 1.3 Azkaban ä¸ Oozie å¯¹æ¯” Ooize ç›¸æ¯” Azkaban æ˜¯ä¸€ä¸ªé‡é‡çº§çš„ä»»åŠ¡è°ƒåº¦ç³»ç»Ÿï¼ŒåŠŸèƒ½å…¨é¢ï¼Œä½†é…ç½®ä½¿ç”¨
ä¹Ÿæ›´å¤æ‚ã€‚å¦‚æœå¯ä»¥ä¸åœ¨æ„æŸäº›åŠŸèƒ½çš„ç¼ºå¤±ï¼Œè½»é‡çº§è°ƒåº¦å™¨ Azkaban æ˜¯å¾ˆä¸é”™çš„å€™é€‰å¯¹è±¡ã€‚" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bchobby.github.io/posts/383b79502c6ed7325740aec30b4c86ae/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-10-23T16:51:08+08:00" />
<meta property="article:modified_time" content="2021-10-23T16:51:08+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹çˆ±å¥½è€…åšå®¢" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹çˆ±å¥½è€…åšå®¢</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">å¤§æ•°æ®ä¹‹Azkabanéƒ¨ç½²</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>ç›®å½•</h4> 
 <ul><li><a href="#Azkaban_1" rel="nofollow">ä¸€ã€Azkabanæ¦‚è®º</a></li><li><ul><li><a href="#11__2" rel="nofollow">1.1 ä¸ºä»€ä¹ˆéœ€è¦å·¥ä½œæµè°ƒåº¦ç³»ç»Ÿ</a></li><li><a href="#12__7" rel="nofollow">1.2 å¸¸è§å·¥ä½œæµè°ƒåº¦ç³»ç»Ÿ</a></li><li><a href="#13_Azkaban__Oozie__11" rel="nofollow">1.3 Azkaban ä¸ Oozie å¯¹æ¯”</a></li></ul> 
  </li><li><a href="#Azkaban_14" rel="nofollow">äºŒã€Azkabané›†ç¾¤å®‰è£…</a></li><li><ul><li><a href="#21__15" rel="nofollow">2.1 é›†ç¾¤æ¨¡å¼å®‰è£…</a></li><li><ul><li><a href="#211__16" rel="nofollow">2.1.1 å®‰è£…åŒ…å‡†å¤‡</a></li><li><a href="#212__MySQL_41" rel="nofollow">2.1.2 é…ç½® MySQL</a></li><li><a href="#213__Executor_Server_143" rel="nofollow">2.1.3 é…ç½® Executor Server</a></li><li><a href="#214__Web_Server_189" rel="nofollow">2.1.4 é…ç½® Web Server</a></li></ul> 
   </li><li><a href="#22__Work_Flow__223" rel="nofollow">2.2 Work Flow æ¡ˆä¾‹</a></li><li><ul><li><a href="#221_HelloWorld_224" rel="nofollow">2.2.1 HelloWorld</a></li><li><a href="#222__247" rel="nofollow">2.2.2 ä½œä¸šä¾èµ–æ¡ˆä¾‹</a></li><li><a href="#223__294" rel="nofollow">2.2.3 è‡ªåŠ¨å¤±è´¥é‡è¯•æ¡ˆä¾‹</a></li><li><a href="#224__328" rel="nofollow">2.2.4 æ‰‹åŠ¨å¤±è´¥é‡è¯•æ¡ˆä¾‹</a></li></ul> 
  </li></ul> 
  </li><li><a href="#Azkaban_386" rel="nofollow">ä¸‰ã€Azkabanè¿›é˜¶</a></li><li><ul><li><a href="#31_JavaProcess__387" rel="nofollow">3.1 JavaProcess ä½œä¸šç±»å‹æ¡ˆä¾‹</a></li><li><a href="#32__424" rel="nofollow">3.2 æ¡ä»¶å·¥ä½œæµæ¡ˆä¾‹</a></li><li><ul><li><a href="#321__426" rel="nofollow">3.2.1 è¿è¡Œæ—¶å‚æ•°æ¡ˆä¾‹</a></li><li><a href="#322__482" rel="nofollow">3.2.2 é¢„å®šä¹‰å®æ¡ˆä¾‹</a></li></ul> 
   </li><li><a href="#33__534" rel="nofollow">3.3 å®šæ—¶æ‰§è¡Œæ¡ˆä¾‹</a></li><li><a href="#34__547" rel="nofollow">3.4 é‚®ä»¶æŠ¥è­¦æ¡ˆä¾‹</a></li><li><ul><li><a href="#341_SMTP_548" rel="nofollow">3.4.1 ç™»å½•é‚®ç®±å¼€å¯SMTP</a></li><li><a href="#342__553" rel="nofollow">3.4.2 é»˜è®¤é‚®ä»¶æŠ¥è­¦æ¡ˆä¾‹</a></li></ul> 
   </li><li><a href="#35__571" rel="nofollow">3.5 ç”µè¯æŠ¥è­¦æ¡ˆä¾‹</a></li><li><ul><li><a href="#351__572" rel="nofollow">3.5.1 ç¬¬ä¸‰æ–¹å‘Šè­¦å¹³å°é›†æˆ</a></li><li><a href="#352_AzkabanExecutor_583" rel="nofollow">3.5.2 Azkabanå¤šExecutoræ¨¡å¼æ³¨æ„äº‹é¡¹</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="Azkaban_1"></a>ä¸€ã€Azkabanæ¦‚è®º</h2> 
<h3><a id="11__2"></a>1.1 ä¸ºä»€ä¹ˆéœ€è¦å·¥ä½œæµè°ƒåº¦ç³»ç»Ÿ</h3> 
<ol><li>ä¸€ä¸ªå®Œæ•´çš„æ•°æ®åˆ†æç³»ç»Ÿé€šå¸¸éƒ½æ˜¯ç”±å¤§é‡ä»»åŠ¡å•å…ƒç»„æˆï¼šShellè„šæœ¬ç¨‹åºï¼ŒJavaç¨‹åºï¼ŒMapReduceç¨‹åºï¼ŒHiveè„šæœ¬ç­‰ï¼›</li><li>å„ä»»åŠ¡å•å…ƒä¹‹é—´å­˜åœ¨æ—¶é—´å…ˆååŠå‰åä¾èµ–å…³ç³»ï¼›</li><li>ä¸ºäº†å¾ˆå¥½åœ°ç»„ç»‡èµ·è¿™æ ·çš„å¤æ‚æ‰§è¡Œè®¡åˆ’ï¼Œéœ€è¦ä¸€ä¸ªå·¥ä½œæµè°ƒåº¦ç³»ç»Ÿæ¥è°ƒåº¦æ‰§è¡Œï¼›<br> <img src="https://images2.imgbox.com/dc/5c/hGRmMDg7_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li></ol> 
<h3><a id="12__7"></a>1.2 å¸¸è§å·¥ä½œæµè°ƒåº¦ç³»ç»Ÿ</h3> 
<ol><li>ç®€å•çš„ä»»åŠ¡è°ƒåº¦:ç›´æ¥ä½¿ç”¨ Linux çš„ Crontab æ¥å®šä¹‰;<br> æ³¨âš ï¸ï¼šCrontabä¸èƒ½å¤„ç†å…·æœ‰ä¾èµ–å…³ç³»çš„ä»»åŠ¡è°ƒåº¦ï¼</li><li>å¤æ‚çš„ä»»åŠ¡è°ƒåº¦:å¼€å‘è°ƒåº¦å¹³å°æˆ–ä½¿ç”¨ç°æˆçš„å¼€æºè°ƒåº¦ç³»ç»Ÿï¼Œæ¯”å¦‚ Ooizeã€Azkabanã€ Airflowã€DolphinScheduler ç­‰ã€‚</li></ol> 
<h3><a id="13_Azkaban__Oozie__11"></a>1.3 Azkaban ä¸ Oozie å¯¹æ¯”</h3> 
<p>Ooize ç›¸æ¯” Azkaban æ˜¯ä¸€ä¸ªé‡é‡çº§çš„ä»»åŠ¡è°ƒåº¦ç³»ç»Ÿï¼ŒåŠŸèƒ½å…¨é¢ï¼Œä½†é…ç½®ä½¿ç”¨<br> ä¹Ÿæ›´å¤æ‚ã€‚å¦‚æœå¯ä»¥ä¸åœ¨æ„æŸäº›åŠŸèƒ½çš„ç¼ºå¤±ï¼Œè½»é‡çº§è°ƒåº¦å™¨ Azkaban æ˜¯å¾ˆä¸é”™çš„å€™é€‰å¯¹è±¡ã€‚</p> 
<h2><a id="Azkaban_14"></a>äºŒã€Azkabané›†ç¾¤å®‰è£…</h2> 
<h3><a id="21__15"></a>2.1 é›†ç¾¤æ¨¡å¼å®‰è£…</h3> 
<h4><a id="211__16"></a>2.1.1 å®‰è£…åŒ…å‡†å¤‡</h4> 
<ol><li> <p>å°† azkaban-db-3.84.4.tar.gzï¼Œazkaban-exec-server-3.84.4.tar.gzï¼Œazkaban-web-server-3.84.4.tar.gz ä¸Šä¼ åˆ° hadoop102 çš„/opt/software è·¯å¾„ï¼›<br> <img src="https://images2.imgbox.com/82/dd/FSXXcDWb_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> </li><li> <p>æ–°å»º/opt/module/azkaban ç›®å½•ï¼Œå¹¶å°†æ‰€æœ‰ tar åŒ…è§£å‹åˆ°è¿™ä¸ªç›®å½•ä¸‹ï¼š</p> </li></ol> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>xiaobai@hadoop102 azkaban<span class="token punctuation">]</span>$ <span class="token function">mkdir</span> /opt	/module/azkaban
<span class="token punctuation">[</span>xiaobai@hadoop102 azkaban<span class="token punctuation">]</span>$ <span class="token function">tar</span> -zxvf azkaban-web-server-3.84.4.tar.gz -C /opt/module/azkaban/
<span class="token punctuation">[</span>xiaobai@hadoop102 azkaban<span class="token punctuation">]</span>$ <span class="token function">tar</span> -zxvf azkaban-exec-server-3.84.4.tar.gz -C /opt/module/azkaban/
<span class="token punctuation">[</span>xiaobai@hadoop102 azkaban<span class="token punctuation">]</span>$ <span class="token function">tar</span> -zxvf azkaban-db-3.84.4.tar.gz -C /opt/module/azkaban/
</code></pre> 
<ol start="3"><li>è¿›å…¥/opt/module/azkaban ç›®å½•ï¼Œä¿®æ”¹åç§°ï¼š</li></ol> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>xiaobai@hadoop102 azkaban<span class="token punctuation">]</span>$ <span class="token function">mv</span> azkaban-web-server-3.84.4/ azkaban-web
<span class="token punctuation">[</span>xiaobai@hadoop102 azkaban<span class="token punctuation">]</span>$ <span class="token function">mv</span> azkaban-exec-server-3.84.4/ azkaban-exec
<span class="token punctuation">[</span>xiaobai@hadoop102 azkaban<span class="token punctuation">]</span>$ ll
total <span class="token number">4</span>
drwxr-xr-x. <span class="token number">2</span> xiaobai xiaobai <span class="token number">4096</span> Apr <span class="token number">18</span>  <span class="token number">2020</span> azkaban-db-3.84.4
drwxr-xr-x. <span class="token number">6</span> xiaobai xiaobai   <span class="token number">55</span> Apr <span class="token number">18</span>  <span class="token number">2020</span> azkaban-exec
drwxr-xr-x. <span class="token number">6</span> xiaobai xiaobai   <span class="token number">51</span> Apr <span class="token number">18</span>  <span class="token number">2020</span> azkaban-web
</code></pre> 
<h4><a id="212__MySQL_41"></a>2.1.2 é…ç½® MySQL</h4> 
<ol><li>å¯åŠ¨MySQLï¼š</li></ol> 
<pre><code class="prism language-sql"><span class="token punctuation">[</span>xiaobai<span class="token variable">@hadoop102</span> azkaban<span class="token punctuation">]</span>$ mysql <span class="token operator">-</span>uroot <span class="token operator">-</span>p<span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>
</code></pre> 
<ol start="2"><li>ç™»é™† MySQLï¼Œåˆ›å»º Azkaban æ•°æ®åº“ï¼š</li></ol> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">create</span> <span class="token keyword">database</span> azkaban<span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">1</span> <span class="token keyword">row</span> affected <span class="token punctuation">(</span><span class="token number">0.19</span> sec<span class="token punctuation">)</span>
</code></pre> 
<ol start="3"><li>åˆ›å»º azkaban ç”¨æˆ·å¹¶èµ‹äºˆæƒé™ è®¾ç½®å¯†ç æœ‰æ•ˆé•¿åº¦ 4 ä½åŠä»¥ä¸Š</li></ol> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">set</span> <span class="token keyword">global</span> validate_password_length<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.07</span> sec<span class="token punctuation">)</span>
</code></pre> 
<ol start="4"><li>è®¾ç½®å¯†ç ç­–ç•¥æœ€ä½çº§åˆ«(ps: ä»…æµ‹è¯•ä½¿ç”¨ï¼)</li></ol> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">set</span> <span class="token keyword">global</span> validate_password_policy<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> 
<ol start="5"><li>åˆ›å»º Azkaban ç”¨æˆ·ï¼Œä»»ä½•ä¸»æœºéƒ½å¯ä»¥è®¿é—® Azkabanï¼Œ å¯†ç ******ï¼š</li></ol> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">CREATE</span> <span class="token keyword">USER</span> <span class="token string">'azkaban'</span><span class="token variable">@'%'</span> IDENTIFIED <span class="token keyword">BY</span> <span class="token string">'******'</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.17</span> sec<span class="token punctuation">)</span>
</code></pre> 
<p>èµ‹äºˆ Azkaban ç”¨æˆ·å¢åˆ æ”¹æŸ¥æƒé™:</p> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">GRANT</span> <span class="token keyword">SELECT</span><span class="token punctuation">,</span><span class="token keyword">INSERT</span><span class="token punctuation">,</span><span class="token keyword">UPDATE</span><span class="token punctuation">,</span><span class="token keyword">DELETE</span> <span class="token keyword">ON</span> azkaban<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">to</span> <span class="token string">'azkaban'</span><span class="token variable">@'%'</span> <span class="token keyword">WITH</span> <span class="token keyword">GRANT</span> <span class="token keyword">OPTION</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.03</span> sec<span class="token punctuation">)</span>
</code></pre> 
<ol start="6"><li>åˆ›å»º Azkaban è¡¨ï¼Œå®Œæˆåé€€å‡º MySQL:</li></ol> 
<pre><code class="prism language-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">use</span> azkaban<span class="token punctuation">;</span>
<span class="token keyword">Database</span> changed
mysql<span class="token operator">&gt;</span> source <span class="token operator">/</span>opt<span class="token operator">/</span>module<span class="token operator">/</span>azkaban<span class="token operator">/</span>azkaban<span class="token operator">-</span>db<span class="token operator">-</span><span class="token number">3.84</span><span class="token number">.4</span><span class="token operator">/</span><span class="token keyword">create</span><span class="token operator">-</span><span class="token keyword">all</span><span class="token operator">-</span><span class="token keyword">sql</span><span class="token operator">-</span><span class="token number">3.84</span><span class="token number">.4</span><span class="token punctuation">.</span><span class="token keyword">sql</span><span class="token punctuation">;</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">show</span> <span class="token keyword">tables</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-----------------------------+</span>
<span class="token operator">|</span> Tables_in_azkaban           <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------------------------+</span>
<span class="token operator">|</span> QRTZ_BLOB_TRIGGERS          <span class="token operator">|</span>
<span class="token operator">|</span> QRTZ_CALENDARS              <span class="token operator">|</span>
<span class="token operator">|</span> QRTZ_CRON_TRIGGERS          <span class="token operator">|</span>
<span class="token operator">|</span> QRTZ_FIRED_TRIGGERS         <span class="token operator">|</span>
<span class="token operator">|</span> QRTZ_JOB_DETAILS            <span class="token operator">|</span>
<span class="token operator">|</span> QRTZ_LOCKS                  <span class="token operator">|</span>
<span class="token operator">|</span> QRTZ_PAUSED_TRIGGER_GRPS    <span class="token operator">|</span>
<span class="token operator">|</span> QRTZ_SCHEDULER_STATE        <span class="token operator">|</span>
<span class="token operator">|</span> QRTZ_SIMPLE_TRIGGERS        <span class="token operator">|</span>
<span class="token operator">|</span> QRTZ_SIMPROP_TRIGGERS       <span class="token operator">|</span>
<span class="token operator">|</span> QRTZ_TRIGGERS               <span class="token operator">|</span>
<span class="token operator">|</span> active_executing_flows      <span class="token operator">|</span>
<span class="token operator">|</span> active_sla                  <span class="token operator">|</span>
<span class="token operator">|</span> execution_dependencies      <span class="token operator">|</span>
<span class="token operator">|</span> execution_flows             <span class="token operator">|</span>
<span class="token operator">|</span> execution_jobs              <span class="token operator">|</span>
<span class="token operator">|</span> execution_logs              <span class="token operator">|</span>
<span class="token operator">|</span> executor_events             <span class="token operator">|</span>
<span class="token operator">|</span> executors                   <span class="token operator">|</span>
<span class="token operator">|</span> project_events              <span class="token operator">|</span>
<span class="token operator">|</span> project_files               <span class="token operator">|</span>
<span class="token operator">|</span> project_flow_files          <span class="token operator">|</span>
<span class="token operator">|</span> project_flows               <span class="token operator">|</span>
<span class="token operator">|</span> project_permissions         <span class="token operator">|</span>
<span class="token operator">|</span> project_properties          <span class="token operator">|</span>
<span class="token operator">|</span> project_versions            <span class="token operator">|</span>
<span class="token operator">|</span> projects                    <span class="token operator">|</span>
<span class="token operator">|</span> properties                  <span class="token operator">|</span>
<span class="token operator">|</span> ramp                        <span class="token operator">|</span>
<span class="token operator">|</span> ramp_dependency             <span class="token operator">|</span>
<span class="token operator">|</span> ramp_exceptional_flow_items <span class="token operator">|</span>
<span class="token operator">|</span> ramp_exceptional_job_items  <span class="token operator">|</span>
<span class="token operator">|</span> ramp_items                  <span class="token operator">|</span>
<span class="token operator">|</span> triggers                    <span class="token operator">|</span>
<span class="token operator">|</span> validated_dependencies      <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----------------------------+</span>
<span class="token number">35</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
mysql<span class="token operator">&gt;</span> quit<span class="token punctuation">;</span>
Bye
</code></pre> 
<p>æ‰€éœ€è„šæœ¬ä¸º<code>create-all-sql-3.84.4.sql</code>ï¼Œå¦‚å›¾ï¼š<br> <img src="https://images2.imgbox.com/fb/5d/YfHLwMea_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<ol start="7"><li>æ›´æ”¹ MySQL åŒ…å¤§å°;é˜²æ­¢ Azkaban è¿æ¥ MySQL é˜»å¡:</li></ol> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>xiaobai@hadoop102 azkaban<span class="token punctuation">]</span>$ <span class="token function">sudo</span> <span class="token function">vim</span> /etc/my.cnf
<span class="token assign-left variable">max_allowed_packet</span><span class="token operator">=</span>1024M
</code></pre> 
<p><strong>æ³¨âš ï¸ï¼š</strong> è¦æ”¾åœ¨åœ¨[mysqld]ä¸‹é¢å“¦ï¼<br> <img src="https://images2.imgbox.com/83/4b/ggbEt8Tf_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<ol start="8"><li>é‡å¯ MySQLï¼š</li></ol> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>xiaobai@hadoop102 azkaban<span class="token punctuation">]</span>$ <span class="token function">sudo</span> systemctl restart mysqld
</code></pre> 
<h4><a id="213__Executor_Server_143"></a>2.1.3 é…ç½® Executor Server</h4> 
<p>Azkaban Executor Server å¤„ç†å·¥ä½œæµå’Œä½œä¸šçš„å®é™…æ‰§è¡Œã€‚</p> 
<ol><li>åœ¨/opt/module/azkaban/azkaban-exec/confç›®å½•ä¸‹ç¼–è¾‘ azkaban.propertiesï¼š</li></ol> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>xiaobai@hadoop102 conf<span class="token punctuation">]</span>$ <span class="token function">vim</span> azkaban.properties default.timezone.id<span class="token operator">=</span>Asia/Shanghai
</code></pre> 
<p><img src="https://images2.imgbox.com/8a/e7/2oLXgylO_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<ol start="2"><li>åŒæ­¥åˆ†å‘ <code>azkaban-exec</code>:</li></ol> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>xiaobai@hadoop102 conf<span class="token punctuation">]</span>$ xsync /opt/module/azkaban/azkaban-exec/
</code></pre> 
<ol start="3"><li>éœ€è¿›å…¥<code>/opt/module/azkaban/azkaban-exec</code> è·¯å¾„ï¼Œåˆ†åˆ«åœ¨ä¸‰å°æœºå™¨ä¸Šï¼Œå¯åŠ¨ <code>executor server</code>ï¼š</li></ol> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>xiaobai@hadoop102 azkaban-exec<span class="token punctuation">]</span>$ bin/start-exec.sh
<span class="token punctuation">[</span>xiaobai@hadoop103 azkaban-exec<span class="token punctuation">]</span>$ bin/start-exec.sh
<span class="token punctuation">[</span>xiaobai@hadoop104 azkaban-exec<span class="token punctuation">]</span>$ bin/start-exec.sh
</code></pre> 
<p>åœæ­¢å‘½ä»¤ï¼š</p> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>xiaobai@hadoop102 azkaban-exec<span class="token punctuation">]</span>$ bin/shutdown-exec.sh
</code></pre> 
<p><strong>æ³¨âš ï¸ï¼š</strong><br> è‹¥åœ¨<code>/opt/module/azkaban/azkaban-exec</code> ç›®å½•ä¸‹å‡ºç° <code>executor.port</code> æ–‡ä»¶ï¼š<img src="https://images2.imgbox.com/57/56/FFziuXXG_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> æˆ–åœ¨azkabanæ•°æ®åº“ä¸­çš„<code>executors</code>è¡¨ä¸­å‡ºç°æˆ‘ä»¬æ‰€è¿æ¥çš„ä¸»æœºåç§°åŠç«¯å£å·ï¼Œåˆ™è¯´æ˜å¯åŠ¨æˆåŠŸï¼<br> <img src="https://images2.imgbox.com/57/a8/UugP3olR_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<ol start="4"><li>æ¿€æ´» executorï¼Œå¦‚ä¸‹statusæ˜¾ç¤ºsuccessï¼Œåˆ™è¯´æ˜æ¿€æ´»æˆåŠŸï¼</li></ol> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>xiaobai@hadoop102 azkaban-exec<span class="token punctuation">]</span>$ <span class="token function">curl</span> -G <span class="token string">"hadoop102:12321/executor?action=activate"</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span>
<span class="token punctuation">{<!-- --></span><span class="token string">"status"</span><span class="token builtin class-name">:</span><span class="token string">"success"</span><span class="token punctuation">}</span>
<span class="token punctuation">[</span>xiaobai@hadoop103 azkaban-exec<span class="token punctuation">]</span>$ <span class="token function">curl</span> -G <span class="token string">"hadoop102:12321/executor?action=activate"</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span>
<span class="token punctuation">{<!-- --></span><span class="token string">"status"</span><span class="token builtin class-name">:</span><span class="token string">"success"</span><span class="token punctuation">}</span>
<span class="token punctuation">[</span>xiaobai@hadoop104 azkaban-exec<span class="token punctuation">]</span>$ <span class="token function">curl</span> -G <span class="token string">"hadoop102:12321/executor?action=activate"</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span>
<span class="token punctuation">{<!-- --></span><span class="token string">"status"</span><span class="token builtin class-name">:</span><span class="token string">"success"</span><span class="token punctuation">}</span>
</code></pre> 
<p>å¦‚å›¾ï¼Œæ¿€æ´»æˆåŠŸåactiveæ æ˜¾ç¤ºä¸º1ï¼<br> <img src="https://images2.imgbox.com/25/9b/KoXmhlzk_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h4><a id="214__Web_Server_189"></a>2.1.4 é…ç½® Web Server</h4> 
<p>Azkaban Web Server å¤„ç†é¡¹ç›®ç®¡ç†ï¼Œèº«ä»½éªŒè¯ï¼Œè®¡åˆ’å’Œæ‰§è¡Œè§¦å‘ã€‚</p> 
<ol><li>åœ¨<code>/opt/module/azkaban/azkaban-web/conf</code>ç›®å½•ä¸‹ç¼–è¾‘ <code>azkaban.properties</code>ï¼š</li></ol> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>xiaobai@hadoop102 conf<span class="token punctuation">]</span>$ <span class="token function">vim</span> azkaban.properties 
</code></pre> 
<p>ä¿®æ”¹å¦‚ä¸‹å±æ€§ï¼š<br> <img src="https://images2.imgbox.com/b1/0d/9roILtES_o.png" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°"><br> <strong>tipsï¼š</strong><br> StaticRemainingFlowSizeï¼šæ­£åœ¨æ’é˜Ÿçš„ä»»åŠ¡æ•°ï¼›<br> CpuStatusï¼šCPUå ç”¨æƒ…å†µï¼š<br> MinimumFreeMemoryï¼šå†…å­˜å ç”¨æƒ…å†µã€‚</p> 
<ol start="2"><li>ä¿®æ”¹ <code>azkaban-users.xml</code> æ–‡ä»¶ï¼Œæ·»åŠ ç”¨æˆ·<code>xiaobai</code>ï¼š</li></ol> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>xiaobai@hadoop102 conf<span class="token punctuation">]</span>$ <span class="token function">vim</span> azkaban-users.xml 
  <span class="token operator">&lt;</span>user <span class="token assign-left variable">password</span><span class="token operator">=</span><span class="token string">"******"</span> <span class="token assign-left variable">roles</span><span class="token operator">=</span><span class="token string">"admin"</span> <span class="token assign-left variable">username</span><span class="token operator">=</span><span class="token string">"xiaobai"</span>/<span class="token operator">&gt;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/88/d4/MxVjqkq3_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<ol start="3"><li>éœ€è¿›å…¥åˆ° hadoop102 çš„<code>/opt/module/azkaban/azkaban-web</code> è·¯å¾„ï¼Œå¯åŠ¨ <code>web server</code>:</li></ol> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>xiaobai@hadoop102 azkaban-web<span class="token punctuation">]</span>$ bin/start-web.sh
</code></pre> 
<p>åœæ­¢å‘½ä»¤ï¼š</p> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>xiaobai@hadoop102 azkaban-web<span class="token punctuation">]</span>$ bin/shutdown-web.sh
</code></pre> 
<ol start="4"><li>è®¿é—® <code>http://hadoop102:8081</code>,å¹¶ç”¨ <code>xiaobai</code>ç”¨æˆ·ç™»å½•ï¼š<br> <img src="https://images2.imgbox.com/ff/12/577oClDu_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li></ol> 
<h3><a id="22__Work_Flow__223"></a>2.2 Work Flow æ¡ˆä¾‹</h3> 
<h4><a id="221_HelloWorld_224"></a>2.2.1 HelloWorld</h4> 
<ol><li>åˆ›å»º<code>command.job</code>æ–‡ä»¶ï¼š</li></ol> 
<pre><code class="prism language-bash">jane@janedeMacBook-Pro Desktop % <span class="token function">vim</span> command.job
</code></pre> 
<pre><code class="prism language-yaml"><span class="token comment">#command.job</span>
type=command
command=echo 'hello world'
</code></pre> 
<p>å‹ç¼©command.jobï¼Œåœ¨WebServeræ–°å»ºé¡¹ç›®ï¼Œç‚¹å‡»Create Project==&gt;Upload==&gt;command.jobâ¬‡ï¸<br> <img src="https://images2.imgbox.com/4b/70/PtJk4K6Q_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">ç‚¹å‡»Execute Flowâ¬‡ï¸<br> <img src="https://images2.imgbox.com/68/33/g1RvzO5n_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> ç‚¹å‡»Execute â¬‡ï¸<br> <img src="https://images2.imgbox.com/8b/10/wuPiSV9a_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> Continueâ¬‡ï¸<br> <img src="https://images2.imgbox.com/7f/5c/Vd8OR4oC_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> å·¥ä½œå•å…ƒæ—¥å¿—åœ¨Job Listâ¬‡ï¸<br> <img src="https://images2.imgbox.com/be/84/Ybi3tS99_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h4><a id="222__247"></a>2.2.2 ä½œä¸šä¾èµ–æ¡ˆä¾‹</h4> 
<p><strong>éœ€æ±‚ï¼š</strong><br> job Aå’Œjob Bæ‰§è¡Œå®Œä¹‹åæ‰èƒ½æ‰§è¡ŒjobCã€‚</p> 
<p><strong>å®ç°ï¼š</strong></p> 
<ol><li>æ–°å»º<code>first.project</code> æ–‡ä»¶ï¼Œç¼–è¾‘å†…å®¹å¦‚ä¸‹ï¼š</li></ol> 
<pre><code class="prism language-yaml"><span class="token key atrule">azkaban-flow-version</span><span class="token punctuation">:</span> <span class="token number">2.0</span>
</code></pre> 
<p><strong>æ³¨âš ï¸:</strong> è¯¥æ–‡ä»¶ä½œç”¨ï¼Œæ˜¯é‡‡ç”¨æ–°çš„ Flow-API æ–¹å¼è§£æ <code>flow</code> æ–‡ä»¶ã€‚</p> 
<ol start="2"><li>æ–°å»º <code>first.flow</code> æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹</li></ol> 
<pre><code class="prism language-yaml"><span class="token key atrule">nodes</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> jobA
    <span class="token key atrule">type</span><span class="token punctuation">:</span> command
    <span class="token key atrule">config</span><span class="token punctuation">:</span>
      <span class="token key atrule">command</span><span class="token punctuation">:</span> echo "hello world A"
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> jobB
    <span class="token key atrule">type</span><span class="token punctuation">:</span> command
    <span class="token key atrule">config</span><span class="token punctuation">:</span>
      <span class="token key atrule">command</span><span class="token punctuation">:</span> echo "hello world B"
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> jobC
    <span class="token key atrule">type</span><span class="token punctuation">:</span> command
    <span class="token comment">#jobCä¾èµ–äºjobAå’ŒjobB</span>
    <span class="token key atrule">dependsOn</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> jobA
      <span class="token punctuation">-</span> jobB
    <span class="token key atrule">config</span><span class="token punctuation">:</span>
      <span class="token key atrule">command</span><span class="token punctuation">:</span> echo "hello world C"
</code></pre> 
<p><strong>æ³¨âš ï¸ï¼š</strong><br> dependsOnä¸name/typeå¯¹é½ æ˜¯æ•°ç»„ç±»å‹ï¼</p> 
<p>1). Name: job åç§°ï¼›<br> 2). Type: job ç±»å‹ï¼›command è¡¨ç¤ºè¦æ‰§è¡Œä½œä¸šçš„æ–¹å¼ä¸ºå‘½ä»¤ï¼›<br> 3). Config: job é…ç½®ã€‚</p> 
<p>å°†æ–‡ä»¶å‹ç¼©ä¸Šä¼ è‡³Azkaban Web Clientï¼Œç‚¹å‡»Execute flowï¼Œå¯ä»¥çœ‹åˆ°jobA / joB / jobCä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼š<br> <img src="https://images2.imgbox.com/ab/a6/5iNeJVFA_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> æŸ¥çœ‹job listï¼š<br> <img src="https://images2.imgbox.com/06/bd/eCqgr6Em_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h4><a id="223__294"></a>2.2.3 è‡ªåŠ¨å¤±è´¥é‡è¯•æ¡ˆä¾‹</h4> 
<p><strong>éœ€æ±‚ï¼š</strong><br> å¦‚æœæ‰§è¡Œä»»åŠ¡å¤±è´¥ï¼Œéœ€è¦é‡è¯• 3 æ¬¡ï¼Œé‡è¯•çš„æ—¶é—´é—´éš” 10000msã€‚</p> 
<p><strong>å®ç°ï¼š</strong><br> ç¼–è¯‘é…ç½®æµ: autoretry.flow:</p> 
<pre><code class="prism language-yaml"><span class="token key atrule">nodes</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> jobA
    <span class="token key atrule">type</span><span class="token punctuation">:</span> command
    <span class="token key atrule">config</span><span class="token punctuation">:</span>
      <span class="token key atrule">command</span><span class="token punctuation">:</span> sh /not_exists.sh
      <span class="token key atrule">retries</span><span class="token punctuation">:</span> <span class="token number">3</span>
      <span class="token key atrule">retry.backoff</span><span class="token punctuation">:</span> <span class="token number">5000</span>
</code></pre> 
<p><strong>tips:</strong><br> retries: é‡è¯•æ¬¡æ•°ï¼›<br> retry.backoff: é‡è¯•çš„æ—¶é—´é—´éš”</p> 
<p><img src="https://images2.imgbox.com/9a/a7/Vd1MyPu7_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> <strong>æ³¨âš ï¸ï¼š</strong><br> å¯åœ¨ Flow å…¨å±€é…ç½®ä¸­æ·»åŠ ä»»åŠ¡å¤±è´¥é‡è¯•é…ç½®ï¼Œæ­¤æ—¶é‡è¯•é…ç½®ä¼šåº”ç”¨åˆ°æ‰€æœ‰ Jobï¼š</p> 
<pre><code class="prism language-yaml"><span class="token key atrule">config</span><span class="token punctuation">:</span>
  <span class="token key atrule">retries</span><span class="token punctuation">:</span> <span class="token number">3</span>
  <span class="token key atrule">retry.backoff</span><span class="token punctuation">:</span> <span class="token number">10000</span>
<span class="token key atrule">nodes</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> JobA
   <span class="token key atrule">type</span><span class="token punctuation">:</span> command
   <span class="token key atrule">config</span><span class="token punctuation">:</span>
     <span class="token key atrule">command</span><span class="token punctuation">:</span> sh /not_exists.sh
</code></pre> 
<h4><a id="224__328"></a>2.2.4 æ‰‹åŠ¨å¤±è´¥é‡è¯•æ¡ˆä¾‹</h4> 
<p><strong>éœ€æ±‚ï¼š</strong><br> JobA=ã€‹JobB(ä¾èµ–äº A)=ã€‹JobC=ã€‹JobD=ã€‹JobE=ã€‹JobFã€‚ç”Ÿäº§ç¯å¢ƒï¼Œä»»ä½• Job éƒ½ æœ‰å¯èƒ½æŒ‚æ‰ï¼Œå¯ä»¥æ ¹æ®éœ€æ±‚æ‰§è¡Œæƒ³è¦æ‰§è¡Œçš„ Jobã€‚</p> 
<p><strong>å®ç°ï¼š</strong><br> ç¼–è¯‘é…ç½®æµ<code>handsretry.flow</code>ï¼š</p> 
<pre><code class="prism language-yaml"><span class="token key atrule">nodes</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> JobA
    <span class="token key atrule">type</span><span class="token punctuation">:</span> command
    <span class="token key atrule">config</span><span class="token punctuation">:</span>
      <span class="token key atrule">command</span><span class="token punctuation">:</span> echo "This is JobA."
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> JobB
    <span class="token key atrule">type</span><span class="token punctuation">:</span> command
    <span class="token key atrule">dependsOn</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> JobA
    <span class="token key atrule">config</span><span class="token punctuation">:</span>
      <span class="token key atrule">command</span><span class="token punctuation">:</span> echo "This is JobB."
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> JobC
    <span class="token key atrule">type</span><span class="token punctuation">:</span> command
    <span class="token key atrule">dependsOn</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> JobB
    <span class="token key atrule">config</span><span class="token punctuation">:</span>
      <span class="token key atrule">command</span><span class="token punctuation">:</span> echo "This is JobC."
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> JobD
    <span class="token key atrule">type</span><span class="token punctuation">:</span> command
    <span class="token key atrule">dependsOn</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> JobC
    <span class="token key atrule">config</span><span class="token punctuation">:</span>
      <span class="token key atrule">command</span><span class="token punctuation">:</span> echo "This is JobD."
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> JobE
    <span class="token key atrule">type</span><span class="token punctuation">:</span> command
    <span class="token key atrule">dependsOn</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> JobD
    <span class="token key atrule">config</span><span class="token punctuation">:</span>
      <span class="token key atrule">command</span><span class="token punctuation">:</span> echo "This is JobE."
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> JobF
    <span class="token key atrule">type</span><span class="token punctuation">:</span> command
    <span class="token key atrule">dependsOn</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> JobE
    <span class="token key atrule">config</span><span class="token punctuation">:</span>
      <span class="token key atrule">command</span><span class="token punctuation">:</span> echo "This is JobF."
</code></pre> 
<p>jobA-jobFæ‰§è¡Œå›¾ï¼š<br> <img src="https://images2.imgbox.com/4e/ef/81iXE8p2_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> è‹¥æ˜¯æœ‰å¤±è´¥çš„jobï¼Œå¯åœ¨history==&gt;flowé‡Œè¿›è¡ŒæŸ¥çœ‹<img src="https://images2.imgbox.com/88/9f/SCJH69V3_o.png" alt=""><br> ä¹‹åç‚¹å‡»prepare executionå¯æ¥ç€ä»å¤±è´¥çš„jobå¼€å§‹æ‰§è¡Œï¼š<br> <img src="https://images2.imgbox.com/81/61/65w4rJpT_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> æˆ–åœ¨excute flowä¸­æ‰‹åŠ¨å°†å·²ç»æˆåŠŸçš„jobè®¾ä¸ºdisable / childrenï¼Œå†ç»§ç»­ç‚¹å‡»executeï¼<br> <img src="https://images2.imgbox.com/41/2e/jrpIAFKB_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> <strong>tips:</strong><br> Enable å’Œ Disable ä¸‹é¢éƒ½åˆ†åˆ«æœ‰å¦‚ä¸‹å‚æ•°:<br> Parents: è¯¥ä½œä¸šçš„ä¸Šä¸€ä¸ªä»»åŠ¡ï¼›<br> Ancestors: è¯¥ä½œä¸šå‰çš„æ‰€æœ‰ä»»åŠ¡ï¼›<br> Children: è¯¥ä½œä¸šåçš„ä¸€ä¸ªä»»åŠ¡ï¼›<br> Descendents: è¯¥ä½œä¸šåçš„æ‰€æœ‰ä»»åŠ¡ï¼›<br> Enable All: æ‰€æœ‰çš„ä»»åŠ¡ã€‚</p> 
<h2><a id="Azkaban_386"></a>ä¸‰ã€Azkabanè¿›é˜¶</h2> 
<h3><a id="31_JavaProcess__387"></a>3.1 JavaProcess ä½œä¸šç±»å‹æ¡ˆä¾‹</h3> 
<p>JavaProcess ç±»å‹å¯ä»¥è¿è¡Œä¸€ä¸ªè‡ªå®šä¹‰ä¸»ç±»æ–¹æ³•ï¼Œtype ç±»å‹ä¸º <code>javaprocess</code>ï¼Œå¯ç”¨çš„é…ç½®ä¸º:<br> Xms:æœ€å°å †ï¼›<br> Xmx:æœ€å¤§å †ï¼›<br> classpath:ç±»è·¯å¾„ï¼›<br> java.class:è¦è¿è¡Œçš„ Java å¯¹è±¡ï¼Œå…¶ä¸­å¿…é¡»åŒ…å« Main æ–¹æ³• main.args:main æ–¹æ³•çš„å‚æ•°ã€‚</p> 
<p>ğŸŒ°ï¼š</p> 
<ol><li>æ–°å»ºä¸€ä¸ªazkabançš„mavenå·¥ç¨‹ï¼›</li><li>åˆ›å»ºåŒ…å: cpm.xiaobaiï¼›</li><li>åˆ›å»º<code>TestJavaProcess</code>ç±»ï¼š</li></ol> 
<pre><code class="prism language-yaml">package com.xiaobai;
public class TestJavaProcess <span class="token punctuation">{<!-- --></span>
    public static void main(String<span class="token punctuation">[</span><span class="token punctuation">]</span> args) <span class="token punctuation">{<!-- --></span>
        System.out.println("Java Process Test<span class="token tag">!</span>");
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<ol start="4"><li>æ‰“åŒ…jaråŒ…<code>azkaban-javaprocess-1.0-SNAPSHOT.jar</code></li><li>æ–°å»º<code>javatest.flow</code>:</li></ol> 
<pre><code class="prism language-yaml"><span class="token key atrule">nodes</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> test_java
    <span class="token key atrule">type</span><span class="token punctuation">:</span> javaprocess
    <span class="token key atrule">config</span><span class="token punctuation">:</span>
      <span class="token key atrule">Xms</span><span class="token punctuation">:</span> 96M
      <span class="token key atrule">Xmx</span><span class="token punctuation">:</span> 200M
      <span class="token key atrule">java.class</span><span class="token punctuation">:</span> com.xiaobai.TestJavaProcess
</code></pre> 
<ol start="6"><li>å°†jaråŒ…/ flowåŒ…/ projectæ–‡ä»¶ä¸€èµ·æ‰“åŒ…æˆjavatest.zipï¼›</li><li>åˆ›å»ºprohectâ€“&gt;uploadâ€“&gt;executor:</li></ol> 
<p><img src="https://images2.imgbox.com/8a/47/hmchqtTX_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h3><a id="32__424"></a>3.2 æ¡ä»¶å·¥ä½œæµæ¡ˆä¾‹</h3> 
<p>æ¡ä»¶å·¥ä½œæµåŠŸèƒ½å…è®¸ç”¨æˆ·è‡ªå®šä¹‰æ‰§è¡Œæ¡ä»¶æ¥å†³å®šæ˜¯å¦è¿è¡ŒæŸäº› Jobã€‚æ¡ä»¶å¯ä»¥ç”±å½“å‰ Job çš„çˆ¶ Job è¾“å‡ºçš„è¿è¡Œæ—¶å‚æ•°æ„æˆï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨é¢„å®šä¹‰å®ã€‚åœ¨è¿™äº›æ¡ä»¶ä¸‹ï¼Œç”¨æˆ·å¯ä»¥åœ¨ç¡®å®š Job æ‰§è¡Œé€»è¾‘æ—¶è·å¾—æ›´å¤§çš„çµæ´»æ€§ï¼Œä¾‹å¦‚ï¼Œåªè¦çˆ¶ Job ä¹‹ä¸€æˆåŠŸï¼Œå°±å¯ä»¥è¿è¡Œå½“å‰ Jobã€‚</p> 
<h4><a id="321__426"></a>3.2.1 è¿è¡Œæ—¶å‚æ•°æ¡ˆä¾‹</h4> 
<p><strong>åŸºæœ¬åŸç†</strong></p> 
<ol><li>çˆ¶ Job å°†å‚æ•°å†™å…¥ JOB_OUTPUT_PROP_FILE ç¯å¢ƒå˜é‡æ‰€æŒ‡å‘çš„æ–‡ä»¶ï¼›</li><li>å­ Job ä½¿ç”¨ ${jobName:param}æ¥è·å–çˆ¶ Job è¾“å‡ºçš„å‚æ•°å¹¶å®šä¹‰æ‰§è¡Œæ¡ä»¶ã€‚</li></ol> 
<p><strong>æ”¯æŒçš„æ¡ä»¶è¿ç®—ç¬¦</strong></p> 
<ol><li>== ç­‰äº</li><li>!= ä¸ç­‰äº</li><li>&gt; å¤§äº</li><li>&gt;= å¤§äºç­‰äº</li><li>&lt; å°äº</li><li>&lt;= å°äºç­‰äº</li><li>&amp;&amp; ä¸</li><li>|| æˆ–</li><li>! é</li></ol> 
<p>ğŸŒ°ï¼š<br> <strong>éœ€æ±‚:</strong><br> JobA æ‰§è¡Œä¸€ä¸ª shell è„šæœ¬ã€‚<br> JobB æ‰§è¡Œä¸€ä¸ª shell è„šæœ¬ï¼Œä½† JobB ä¸éœ€è¦æ¯å¤©éƒ½æ‰§è¡Œï¼Œè€Œåªéœ€è¦æ¯ä¸ªå‘¨ä¸€æ‰§è¡Œã€‚</p> 
<p><strong>å®ç°ï¼š</strong></p> 
<ol><li>æ–°å»º JobA.sh:</li></ol> 
<pre><code class="prism language-bash"><span class="token shebang important">#!/bin/bash</span>
<span class="token builtin class-name">echo</span> <span class="token string">"do JobA"</span>
<span class="token assign-left variable">wk</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">date</span> +%w<span class="token variable">`</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">"{<!-- --><span class="token entity" title='\"'>\"</span>wk<span class="token entity" title='\"'>\"</span>:<span class="token variable">$wk</span>}"</span> <span class="token operator">&gt;</span> <span class="token variable">$JOB_OUTPUT_PROP_FILE</span>
</code></pre> 
<ol start="2"><li>æ–°å»º JobB.sh:</li></ol> 
<pre><code class="prism language-bash"><span class="token shebang important">#!/bin/bash</span>
<span class="token builtin class-name">echo</span> <span class="token string">"do JobB"</span>
</code></pre> 
<ol start="3"><li>æ–°å»º <code>condition.flow</code>:</li></ol> 
<pre><code class="prism language-yaml"><span class="token key atrule">nodes</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> JobA
    <span class="token key atrule">type</span><span class="token punctuation">:</span> command
    <span class="token key atrule">config</span><span class="token punctuation">:</span>
      <span class="token key atrule">command</span><span class="token punctuation">:</span> sh JobA.sh

  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> JobB
    <span class="token key atrule">type</span><span class="token punctuation">:</span> command
    <span class="token key atrule">dependsOn</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> JobA
    <span class="token key atrule">config</span><span class="token punctuation">:</span>
      <span class="token key atrule">command</span><span class="token punctuation">:</span> sh JobB.sh
    <span class="token key atrule">condition</span><span class="token punctuation">:</span> $<span class="token punctuation">{<!-- --></span>JobA<span class="token punctuation">:</span>wk<span class="token punctuation">}</span> == 1
</code></pre> 
<p>å°† JobA.shã€JobB.shã€condition.flow å’Œ frist.project æ‰“åŒ…æˆ <code>condition.zip</code>ï¼›åœ¨Azkaban Web Clientæ‰§è¡Œï¼š<br> <img src="https://images2.imgbox.com/82/61/pRM8s9Is_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> JobAæ‰§è¡ŒæˆåŠŸï¼ŒJobB cancelled,è¦ç­‰åˆ°å‘¨ä¸€æ‰æ‰§è¡ŒjobBã€‚</p> 
<h4><a id="322__482"></a>3.2.2 é¢„å®šä¹‰å®æ¡ˆä¾‹</h4> 
<p>Azkaban ä¸­é¢„ç½®äº†å‡ ä¸ªç‰¹æ®Šçš„åˆ¤æ–­æ¡ä»¶ï¼Œç§°ä¸º<code>é¢„å®šä¹‰å®</code>ã€‚</p> 
<p>é¢„å®šä¹‰å®ä¼šæ ¹æ®æ‰€æœ‰çˆ¶ Job çš„å®Œæˆæƒ…å†µè¿›è¡Œåˆ¤æ–­ï¼Œå†å†³å®šæ˜¯å¦æ‰§è¡Œï¼›å¯ç”¨çš„é¢„å®šä¹‰å®å¦‚ä¸‹:</p> 
<ol><li>all_success: è¡¨ç¤ºçˆ¶ Job å…¨éƒ¨<code>æˆåŠŸ</code>æ‰æ‰§è¡Œ(é»˜è®¤)ï¼›</li><li>all_done:è¡¨ç¤ºçˆ¶ Job å…¨éƒ¨<code>å®Œæˆ</code>æ‰æ‰§è¡Œï¼›</li><li>all_failed:è¡¨ç¤ºçˆ¶ Job å…¨éƒ¨å¤±è´¥æ‰æ‰§è¡Œï¼›</li><li>one_success:è¡¨ç¤ºçˆ¶ Job è‡³å°‘ä¸€ä¸ªæˆåŠŸæ‰æ‰§è¡Œï¼›</li><li>one_failed:è¡¨ç¤ºçˆ¶ Job è‡³å°‘ä¸€ä¸ªå¤±è´¥æ‰æ‰§è¡Œã€‚</li></ol> 
<p><strong>éœ€æ±‚:</strong><br> JobA æ‰§è¡Œä¸€ä¸ª shell è„šæœ¬ï¼›<br> JobB æ‰§è¡Œä¸€ä¸ª shell è„šæœ¬ï¼›<br> JobC æ‰§è¡Œä¸€ä¸ª shell è„šæœ¬ï¼Œè¦æ±‚ JobAã€JobB ä¸­æœ‰ä¸€ä¸ªæˆåŠŸå³å¯æ‰§è¡Œï¼›</p> 
<p><strong>å®ç°ï¼š</strong></p> 
<ol><li>æ–°å»º JobA.shï¼š</li></ol> 
<pre><code class="prism language-bash"><span class="token shebang important">#!/bin/bash</span>
<span class="token builtin class-name">echo</span> <span class="token string">"do JobA"</span>
</code></pre> 
<ol start="2"><li>æ–°å»º JobC.shï¼š</li></ol> 
<pre><code class="prism language-bash"><span class="token shebang important">#!/bin/bash</span>
<span class="token builtin class-name">echo</span> <span class="token string">"do JobC"</span>
</code></pre> 
<ol start="3"><li>æ–°å»º macro.flowï¼š</li></ol> 
<pre><code class="prism language-yaml"><span class="token key atrule">nodes</span><span class="token punctuation">:</span>
 <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> JobA
   <span class="token key atrule">type</span><span class="token punctuation">:</span> command
   <span class="token key atrule">config</span><span class="token punctuation">:</span>
    <span class="token key atrule">command</span><span class="token punctuation">:</span> sh JobA.sh
 <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> JobB
   <span class="token key atrule">type</span><span class="token punctuation">:</span> command
   <span class="token key atrule">config</span><span class="token punctuation">:</span>
    <span class="token key atrule">command</span><span class="token punctuation">:</span> sh JobB.sh
 <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> JobC
   <span class="token key atrule">type</span><span class="token punctuation">:</span> command
   <span class="token key atrule">dependsOn</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> JobA
    <span class="token punctuation">-</span> JobB
   <span class="token key atrule">config</span><span class="token punctuation">:</span>
    <span class="token key atrule">command</span><span class="token punctuation">:</span> sh JobC.sh
   <span class="token key atrule">condition</span><span class="token punctuation">:</span> one_success
</code></pre> 
<p>JobA.shã€JobC.shã€macro.flowã€frist.project æ–‡ä»¶ï¼Œæ‰“åŒ…æˆ macro.zipï¼›åœ¨Azkaban Web Clientæ‰§è¡Œï¼š<br> <img src="https://images2.imgbox.com/1d/27/RwfL3FgV_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> JobA successï¼ŒJobB failï¼ŒJobC successï¼</p> 
<h3><a id="33__534"></a>3.3 å®šæ—¶æ‰§è¡Œæ¡ˆä¾‹</h3> 
<p><strong>éœ€æ±‚:</strong><br> JobA æ¯é—´éš” 1 åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡;</p> 
<p><strong>å®ç°ï¼š</strong><br> åœ¨æ‰§è¡Œå·¥ä½œæµæ—¶å€™ï¼Œé€‰æ‹©å·¦ä¸‹è§’ Schedule<br> <img src="https://images2.imgbox.com/39/14/lOA5jm6n_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> å¡«å†™å®šæ—¶è§„åˆ™ï¼š<br> <img src="https://images2.imgbox.com/db/8d/BnVpz1H7_o.png" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°"><br> å¯åœ¨historyä¸­æŸ¥çœ‹firstçš„æ‰§è¡Œæƒ…å†µï¼Œæ¯é—´éš”ä¸€åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ï¼š<br> <img src="https://images2.imgbox.com/d3/f8/Ft79MHuc_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> schedulingä¸­æœ‰next execution timeå¯æŸ¥çœ‹ä¸‹ä¸€æ¬¡æ‰§è¡Œæ—¶é—´å’Œremove scheduleé€‰é¡¹ç§»é™¤æ‰è¿™ä¸ªå®šæ—¶ä»»åŠ¡ï¼š<br> <img src="https://images2.imgbox.com/1c/68/fZN6iRjw_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h3><a id="34__547"></a>3.4 é‚®ä»¶æŠ¥è­¦æ¡ˆä¾‹</h3> 
<h4><a id="341_SMTP_548"></a>3.4.1 ç™»å½•é‚®ç®±å¼€å¯SMTP</h4> 
<p>åœ¨é‚®ç®±çš„è´¦æˆ·é‡Œé¢å¼€å¯SMTPæœåŠ¡ï¼š<br> <img src="https://images2.imgbox.com/f7/9f/OlDaF29i_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> å¤åˆ¶æˆæƒç ï¼š<br> <img src="https://images2.imgbox.com/27/6f/sWocCvEb_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h4><a id="342__553"></a>3.4.2 é»˜è®¤é‚®ä»¶æŠ¥è­¦æ¡ˆä¾‹</h4> 
<p>Azkaban é»˜è®¤æ”¯æŒé€šè¿‡é‚®ä»¶å¯¹å¤±è´¥çš„ä»»åŠ¡è¿›è¡ŒæŠ¥è­¦ï¼Œé…ç½®æ–¹æ³•å¦‚ä¸‹:</p> 
<ol><li>åœ¨/opt/module/azkaban/azkaban-web/confç›®å½•ä¸‹ä¿®æ”¹<code>azkaban.properties</code>æ–‡ä»¶ï¼š</li></ol> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>xiaobai@hadoop102 conf<span class="token punctuation">]</span>$ <span class="token function">vim</span> azkaban.properties 
</code></pre> 
<p><img src="https://images2.imgbox.com/1b/cf/p4O6Jgea_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<ol start="2"><li>éœ€é‡å¯ <code>web-server</code>ï¼š</li></ol> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>xiaobai@hadoop102 azkaban-web<span class="token punctuation">]</span>$ bin/shutdown-web.sh
<span class="token punctuation">[</span>xiaobai@hadoop102 azkaban-web<span class="token punctuation">]</span>$ bin/start-web.sh  
</code></pre> 
<p><img src="https://images2.imgbox.com/bc/83/CJOE7iye_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h3><a id="35__571"></a>3.5 ç”µè¯æŠ¥è­¦æ¡ˆä¾‹</h3> 
<h4><a id="351__572"></a>3.5.1 ç¬¬ä¸‰æ–¹å‘Šè­¦å¹³å°é›†æˆ</h4> 
<p>æœ‰æ—¶ä»»åŠ¡æ‰§è¡Œå¤±è´¥åé‚®ä»¶æŠ¥è­¦æ¥æ”¶ä¸åŠæ—¶ï¼Œå› æ­¤å¯èƒ½éœ€è¦å…¶ä»–æŠ¥è­¦æ–¹å¼ï¼Œæ¯”å¦‚ç”µè¯æŠ¥è­¦ã€‚<br> æ­¤æ—¶ï¼Œå¯ä¸ç¬¬ä¸‰æ–¹å‘Šè­¦å¹³å°è¿›è¡Œé›†æˆï¼Œä¾‹å¦‚ç¿è±¡äº‘ã€‚</p> 
<ol><li>å®˜ç½‘åœ°å€:<br> https://www.aiops.com/</li><li>é›†æˆå‘Šè­¦å¹³å°ï¼Œä½¿ç”¨ Email é›†æˆï¼›</li><li>è·å–é‚®ç®±åœ°å€ï¼Œåéœ€å°†æŠ¥è­¦ä¿¡æ¯å‘é€è‡³è¯¥é‚®ç®±ï¼›</li><li>å¯é…ç½®åˆ†æ´¾ç­–ç•¥/ é€šçŸ¥ç­–ç•¥ï¼›</li></ol> 
<p><strong>æ³¨âš ï¸ï¼š</strong> è‹¥è¦ä½¿ç”¨ç¿è±¡äº‘é›†æˆæ–¹å¼ï¼Œåˆ™ä¸å¯ç”¨QQé‚®ç®±ï¼Œéœ€ä¿®æ”¹é‚®ç®±åœ°å€ã€‚</p> 
<h4><a id="352_AzkabanExecutor_583"></a>3.5.2 Azkabanå¤šExecutoræ¨¡å¼æ³¨æ„äº‹é¡¹</h4> 
<p>Azkaban å¤š Executor æ¨¡å¼æ˜¯æŒ‡ï¼Œåœ¨é›†ç¾¤ä¸­å¤šä¸ªèŠ‚ç‚¹éƒ¨ç½² Executorã€‚åœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼Œ Azkaban web Server ä¼šæ ¹æ®ç­–ç•¥ï¼Œé€‰å–å…¶ä¸­ä¸€ä¸ª Executor å»æ‰§è¡Œä»»åŠ¡ã€‚<br> ä¸ºç¡®ä¿æ‰€é€‰çš„ Executor èƒ½å¤Ÿå‡†ç¡®çš„æ‰§è¡Œä»»åŠ¡ï¼Œæˆ‘ä»¬é¡»åœ¨ä»¥ä¸‹ä¸¤ç§æ–¹æ¡ˆä»»é€‰å…¶ä¸€ï¼Œæ¨èä½¿ ç”¨æ–¹æ¡ˆäºŒã€‚</p> 
<p><strong>æ–¹æ¡ˆä¸€:</strong><br> æŒ‡å®šç‰¹å®šçš„ Executor(hadoop102)å»æ‰§è¡Œä»»åŠ¡ã€‚</p> 
<ol><li> <p>åœ¨ MySQL ä¸­ azkaban æ•°æ®åº“ executors è¡¨ä¸­ï¼ŒæŸ¥è¯¢ hadoop102 ä¸Šçš„ Executor çš„ idï¼›<br> <img src="https://images2.imgbox.com/36/8f/kxZD9AHp_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> </li><li> <p>åœ¨æ‰§è¡Œå·¥ä½œæµç¨‹æ—¶åŠ å…¥ useExecutor å±æ€§ï¼š<br> <img src="https://images2.imgbox.com/d7/f9/108sWIud_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> </li></ol> 
<p><strong>æ–¹æ¡ˆäºŒâ­ï¸:</strong><br> åœ¨ Executor æ‰€åœ¨æ‰€æœ‰èŠ‚ç‚¹éƒ¨ç½²ä»»åŠ¡æ‰€éœ€è„šæœ¬å’Œåº”ç”¨ã€‚</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0bfd7ecb30ca0efd684d47b61e3f7cd5/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">Fiddler-è®¾ç½®é‡å¤è‡ªåŠ¨å‘é€è¯·æ±‚Næ¬¡</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d3bbfa6f99f85ce6610e5cb8ea5501ea/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">1.vueå‰ç«¯é¡¹ç›®å®æˆ˜-ç™»å½•åŠŸèƒ½</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹çˆ±å¥½è€…åšå®¢.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151260"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>