<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Shell 入门 - 编程爱好者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Shell 入门" />
<meta property="og:description" content="视频
Shell概述 本次课程主要包含内容:
Shell脚本入门Shell变量Shell内置命令Shell运算符与执行运算命令流程控制语句Shell函数Shell重定向Shell好用的工具, cut sed awk sort大厂常见企业面试题 Shell脚本入门 疑问 linux系统是如何操作计算机硬件CPU,内存,磁盘,显示器等?
答: 使用linux的内核操作计算机的硬件
Shell介绍 通过编写Shell命令发送给linux内核去执行, 操作就是计算机硬件. 所以Shell命令是用户操作计算机硬件的桥梁,
Shell是命令, 类似于windows系统Dos命令
Shell是一个门程序设计语言, Shell里面含有变量, 函数, 逻辑控制语句等等
Shell脚本 通过Shell命令或程序编程语言编写的Shell文本文件, 这就是Shell脚本 , 也叫Shell程序
为什么学习Shell脚本? 通过Shell命令与编程语言来提高linux系统的管理工作效率
Shell的运行过程 当用户下达指令给该操作系统的时候，实际上是把指令告诉shell，经过shell解释，处理后让内核做出相应的动作。 系统的回应和输出的信息也由shell处理，然后显示在用户的屏幕上。
Shell解析器 查看linux系统centos支持的shell解析器
cat /etc/shells 效果
介绍解析器类型
解析器类型介绍/bin/shBourne Shell,是UNIX最初使用的shell;/bin/bashBourne Again Shell它是Bourne Shell的扩展，简称bash，是LinuxOS默认shell,有灵活和强大的编辑接口，同时又很友好的用户界面，交互性很强；/sbin/nologin未登录解析器, shell设置为/sbin/nologin 是用于控制用户禁止登陆系统的, 有时候有些服务，比如邮件服务，大部分都是用来接收主机的邮件而已，并不需要登陆/bin/dashdash（Debian Almquist Shell），也是一种 Unix shell。它比 Bash 小，只需要较少的磁盘空间，但是它的对话性功能也较少，交互性较差。/bin/cshC Shell是C语言风格Shell/bin/tcsh是C Shell的一个扩展版本。 Centos默认的解析器是bash 语法
echo $SHELL 含义: 打印输出当前系统环境使用的Shell解析器类型
echo 用于打印输出数据到终端
$SHELL 是全局共享的读取解析器类型环境变量, 全局环境变量时所有的Shell程序都可以读取的变量,
效果
Shell脚本文件编写规范 脚本文件后缀名规范 shell脚本文件就是一个文本文件, 后缀名建议使用 ." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bchobby.github.io/posts/567b96c4ffda48760cd3fbce961805d3/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-29T16:11:02+08:00" />
<meta property="article:modified_time" content="2023-12-29T16:11:02+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程爱好者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程爱好者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Shell 入门</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-dracula">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><a href="https://www.bilibili.com/video/BV1z54y1C7Cw?p=1&amp;vd_source=1c6d6e6776ca5a0e69dd7e338856f026" rel="nofollow"><strong>视频</strong></a></p> 
<h2><a id="Shell_2"></a>Shell概述</h2> 
<p>本次课程主要包含内容:</p> 
<ol><li>Shell脚本入门</li><li>Shell变量</li><li>Shell内置命令</li><li>Shell运算符与执行运算命令</li><li>流程控制语句</li><li>Shell函数</li><li>Shell重定向</li><li>Shell好用的工具, cut sed awk sort</li><li>大厂常见企业面试题</li></ol> 
<h2><a id="Shell_18"></a>Shell脚本入门</h2> 
<h3><a id="_20"></a>疑问</h3> 
<p>linux系统是如何操作计算机硬件CPU,内存,磁盘,显示器等?</p> 
<p>答: 使用linux的内核操作计算机的硬件</p> 
<h3><a id="Shell_28"></a>Shell介绍</h3> 
<p>通过编写Shell命令发送给linux内核去执行, 操作就是计算机硬件. 所以Shell命令是用户操作计算机硬件的桥梁,</p> 
<p>Shell是命令, 类似于windows系统Dos命令</p> 
<p>Shell是一个门程序设计语言, Shell里面含有变量, 函数, 逻辑控制语句等等</p> 
<p><img src="https://images2.imgbox.com/95/3c/nMy7Rr49_o.png" alt="外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传"></p> 
<h4><a id="Shell_39"></a>Shell脚本</h4> 
<p>通过Shell命令或程序编程语言编写的Shell文本文件, 这就是Shell脚本 , 也叫Shell程序</p> 
<h4><a id="Shell_45"></a>为什么学习Shell脚本?</h4> 
<p>通过Shell命令与编程语言来提高linux系统的管理工作效率</p> 
<h3><a id="Shell_51"></a>Shell的运行过程</h3> 
<p>当用户下达指令给该操作系统的时候，实际上是把指令告诉shell，经过shell解释，处理后让内核做出相应的动作。 系统的回应和输出的信息也由shell处理，然后显示在用户的屏幕上。</p> 
<p><img src="https://images2.imgbox.com/18/8d/YMhzvQzI_o.png" alt="外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传"></p> 
<h3><a id="Shell_58"></a>Shell解析器</h3> 
<p>查看linux系统centos支持的shell解析器</p> 
<pre><code class="prism language-shell"><span class="token function">cat</span> /etc/shells
</code></pre> 
<p>效果</p> 
<p><img src="https://images2.imgbox.com/41/d6/S2eBTBis_o.png" alt=""></p> 
<p>介绍解析器类型</p> 
<table><thead><tr><th>解析器类型</th><th>介绍</th></tr></thead><tbody><tr><td>/bin/sh</td><td>Bourne Shell,是UNIX最初使用的shell;</td></tr><tr><td><font color="red">/bin/bash</font></td><td><font color="red">Bourne Again Shell它是Bourne Shell的扩展，简称bash，是LinuxOS默认shell,有灵活和强大的编辑接口，同时又很友好的用户界面，交互性很强；</font></td></tr><tr><td>/sbin/nologin</td><td>未登录解析器, shell设置为/sbin/nologin 是用于控制用户禁止登陆系统的, 有时候有些服务，比如邮件服务，大部分都是用来接收主机的邮件而已，并不需要登陆</td></tr><tr><td>/bin/dash</td><td>dash（Debian Almquist Shell），也是一种 Unix shell。它比 Bash 小，只需要较少的磁盘空间，但是它的对话性功能也较少，交互性较差。</td></tr><tr><td>/bin/csh</td><td>C Shell是C语言风格Shell</td></tr><tr><td>/bin/tcsh</td><td>是C Shell的一个扩展版本。</td></tr></tbody></table> 
<h4><a id="Centosbash_84"></a>Centos默认的解析器是bash</h4> 
<p>语法</p> 
<pre><code class="prism language-shell"><span class="token builtin class-name">echo</span> <span class="token environment constant">$SHELL</span>
</code></pre> 
<blockquote> 
 <p>含义: 打印输出当前系统环境使用的Shell解析器类型</p> 
 <p>echo 用于打印输出数据到终端</p> 
 <p><code>$SHELL</code> 是全局共享的读取解析器类型环境变量, 全局环境变量时所有的Shell程序都可以读取的变量,</p> 
</blockquote> 
<p>效果</p> 
<p><img src="https://images2.imgbox.com/5b/b3/U56dmtmH_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="Shell_105"></a>Shell脚本文件编写规范</h3> 
<h4><a id="_107"></a>脚本文件后缀名规范</h4> 
<p>shell脚本文件就是一个文本文件, 后缀名建议使用 <code>.sh</code> 结尾</p> 
<h4><a id="_111"></a>首行格式规范</h4> 
<p>首行需要设置Shell解析器的类型, 语法</p> 
<pre><code class="prism language-shell"><span class="token shebang important">#!/bin/bash</span>
</code></pre> 
<blockquote> 
 <p>含义: 设置当前shell脚本文件采用bash解析器运行脚本代码</p> 
</blockquote> 
<h4><a id="_121"></a>注释格式</h4> 
<p>单行注释, 语法</p> 
<pre><code class="prism language-shell"><span class="token comment"># 注释内容</span>
</code></pre> 
<p>多行注释, 语法</p> 
<pre><code class="prism language-shell">:<span class="token operator">&lt;&lt;</span><span class="token operator">!</span>
<span class="token comment"># 注释内容1</span>
<span class="token comment"># 注释内容2</span>
<span class="token operator">!</span>
</code></pre> 
<h3><a id="shellHelloWord_144"></a>shell脚本HelloWord入门案例</h3> 
<h5><a id="_146"></a>需求</h5> 
<p>创建一个Shell脚本文件helloworld.sh，输出hello world字符串</p> 
<h5><a id="_150"></a>效果</h5> 
<p><img src="https://images2.imgbox.com/f1/b9/ueqyeoEe_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="_155"></a>实现步骤</h5> 
<p>1、创建shell脚本文件</p> 
<pre><code class="prism language-shell"><span class="token function">touch</span> helloworld.sh
</code></pre> 
<p>2、编辑文件</p> 
<pre><code class="prism language-shell"><span class="token function">vim</span> helloworld.sh
</code></pre> 
<p>3、增加shell脚本文件内容如下，并保存退出</p> 
<pre><code class="prism language-shell"><span class="token shebang important">#!/bin/bash</span>
<span class="token builtin class-name">echo</span> <span class="token string">"hello world"</span>
</code></pre> 
<p>4、执行脚本</p> 
<pre><code class="prism language-shell"><span class="token function">sh</span> helloworld.sh
</code></pre> 
<p>运行效果</p> 
<p><img src="https://images2.imgbox.com/f5/c4/wXr7vDR4_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="3_189"></a>脚本文件的常用执行3种方式</h3> 
<h5><a id="_191"></a>介绍</h5> 
<ol><li> <p>sh解析器执行方式</p> <p>语法: <code>sh 脚本文件</code></p> <p>介绍: 就是利用sh命令执行脚本文件, 本质就是使用Shell解析器运行脚本文件</p> </li><li> <p>bash解析器执行方式</p> <p>语法: <code>bash 脚本文件</code></p> <p>介绍: 就是利用bash命令执行脚本文件, 本质就是使用Shell解析器运行脚本文件</p> </li><li> <p>仅路径执行方式</p> <p>语法: <code>./脚本文件</code></p> <p>介绍: 执行当前目录下的脚本文件</p> <p>注意: 脚本文件自己执行需要具有可执行权限, 否则无法执行</p> </li></ol> 
<h5><a id="3_215"></a>3种方式的区别</h5> 
<p>​ sh或bash执行脚本文件方式是直接使用Shell解析器运行脚本文件, 不需要可执行权限</p> 
<p>​ 仅路径方式是执行脚本文件自己, 需要可执行权限</p> 
<h5><a id="1sh_221"></a>执行脚本方式1-sh命令执行</h5> 
<p>相对路径效果</p> 
<pre><code class="prism language-shell"><span class="token function">sh</span> helloworld.sh
</code></pre> 
<p><img src="https://images2.imgbox.com/f1/7f/vlUcdZ7T_o.png" alt="在这里插入图片描述"></p> 
<p>绝对路径效果</p> 
<pre><code class="prism language-shell"><span class="token function">sh</span> /root/helloworld.sh
</code></pre> 
<p><img src="https://images2.imgbox.com/d6/f4/nc41KCYe_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="2bash_242"></a>执行脚本方式2-bash命令执行</h5> 
<p>相对路径效果</p> 
<p><img src="https://images2.imgbox.com/6d/84/VS3tLA4N_o.png" alt="在这里插入图片描述"></p> 
<p>绝对路径效果</p> 
<p><img src="https://images2.imgbox.com/72/e5/6eGo6Bgw_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="3_254"></a>执行脚本方式3-仅路径执行</h5> 
<h6><a id="_256"></a>语法</h6> 
<p>步骤1：设置所有用户对此脚本文件增加可执行性权限</p> 
<pre><code class="prism language-shell"><span class="token function">chmod</span> a+x 脚本文件
</code></pre> 
<p>步骤2：执行脚本语法</p> 
<pre><code class="prism language-shell">脚本文件的相对路径或绝对路径
</code></pre> 
<h6><a id="helloworldsh_270"></a>示例：使用仅路径方式执行helloworld.sh脚本文件</h6> 
<p>添加执行权限</p> 
<pre><code class="prism language-shell"><span class="token function">chmod</span> a+x helloworld.sh
</code></pre> 
<p><img src="https://images2.imgbox.com/e8/06/pGIype1B_o.png" alt="在这里插入图片描述"></p> 
<p>相对路径执行命令</p> 
<pre><code>./helloworld.sh
</code></pre> 
<p>相对路径执行效果</p> 
<p><img src="https://images2.imgbox.com/2e/a6/3S2kRIL8_o.png" alt="在这里插入图片描述"></p> 
<p>绝对路径执行命令</p> 
<pre><code class="prism language-shell">/root/helloworld.sh
</code></pre> 
<p>绝对路径执行效果</p> 
<p><img src="https://images2.imgbox.com/f8/28/gKmW7BGG_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_305"></a>多命令处理介绍</h3> 
<p>就是在Shell脚本文件中编写多个Shell命令</p> 
<h3><a id="_311"></a>案例需求</h3> 
<p>已知目录/root/itheima目录，执行batch.sh脚本，实现在/root/itheima/目录下创建一个one.txt,在one.txt文件中增加内容“Hello Shell”。</p> 
<h4><a id="_315"></a>步骤分析</h4> 
<ol><li> <p>使用mkdir创建/root/itheima目录</p> </li><li> <p>创建脚本文件batch.sh</p> </li><li> <p>编辑脚本文件</p> <p>3.1 命令1: touch创建文件, 文件名 <code>/root/itheima/one.txt</code></p> <p>3.2 命令2: 输出数据"Hello Shell"到one.txt文件中</p> 
  <blockquote> 
   <p>输出数据到文件中的命令:</p> 
   <p><code>数据 &gt;&gt; 文件</code></p> 
  </blockquote> </li><li> <p>执行脚本文件</p> </li></ol> 
<h4><a id="_335"></a>实现步骤</h4> 
<p>1、进入root目录，执行创建/root/itheima目录命令</p> 
<pre><code class="prism language-shell"><span class="token function">mkdir</span> /root/itheima
</code></pre> 
<p>2、创建/root/batch.sh文件</p> 
<pre><code class="prism language-shell"><span class="token function">touch</span> batch.sh
</code></pre> 
<p><img src="https://images2.imgbox.com/59/f2/IqqFhs3P_o.png" alt="在这里插入图片描述"></p> 
<p>2、编辑batch.sh文件，编写shell命令</p> 
<pre><code class="prism language-shell"><span class="token function">vim</span> batch.sh
</code></pre> 
<p>3、编写命令</p> 
<p>命令1：创建/root/itheima/one.txt文件</p> 
<p>命令2：输出“I love Shell”字符串数据到one.txt文件中</p> 
<pre><code class="prism language-shell"><span class="token shebang important">#!/bin/bash</span>
<span class="token builtin class-name">cd</span> itheima     <span class="token comment"># 切换到itheima目录</span>
<span class="token function">touch</span> one.txt  <span class="token comment"># 创建文件one.txt</span>
<span class="token builtin class-name">echo</span> <span class="token string">"Hello Shell"</span><span class="token operator">&gt;&gt;</span>/root/itheima/one.txt  <span class="token comment">#输出数据到one.txt文件中</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/25/11/1tmsKLHE_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_377"></a>运行脚本效果</h4> 
<p>运行batch.sh脚本文件</p> 
<pre><code class="prism language-shell"><span class="token function">sh</span> batch.sh
</code></pre> 
<p>查看one.txt文件内容</p> 
<pre><code class="prism language-shell"><span class="token function">cat</span> itheima/one.txt
</code></pre> 
<p><img src="https://images2.imgbox.com/74/50/r7UJEnXf_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="Shell_394"></a>Shell变量</h2> 
<h3><a id="Shell_398"></a>Shell变量的介绍</h3> 
<p>变量用于存储管理临时的数据, 这些数据都是在运行内存中的.</p> 
<h3><a id="_404"></a>变量类型</h3> 
<ol><li>系统环境变量</li><li>自定义变量</li><li>特殊符号变量</li></ol> 
<h3><a id="_412"></a>系统环境变量</h3> 
<h4><a id="_414"></a>介绍</h4> 
<p>是系统提供的共享变量.是linux系统加载Shell的配置文件中定义的变量共享给所有的Shell程序使用</p> 
<h4><a id="Shell_420"></a>Shell的配置文件分类</h4> 
<p>1.全局配置文件<br> /etc/profile<br> /etc/profile.d/*.sh<br> /etc/bashrc</p> 
<p>2.个人配置文件<br> 当前用户/.bash_profile<br> 当前用户/.bashrc</p> 
<p>一般情况下，我们都是直接针对全局配置进行操作。</p> 
<h4><a id="_435"></a>环境变量分类</h4> 
<p>在Linux系统中，环境变量按照其作用范围不同大致可以分为系统级环境变量和用户级环境变量。</p> 
<p>系统级环境变量：Shell环境加载全局配置文件中的变量共享给所有用户所有Shell程序使用, 全局共享<br> 用户级环境变量：Shell环境加载个人配置文件中的变量共享给当前用户的Shell程序使用, 登录用户使用</p> 
<h4><a id="Shell_446"></a>查看当前Shell系统环境变量</h4> 
<p>查看命令</p> 
<pre><code class="prism language-shell"><span class="token function">env</span>
</code></pre> 
<p>效果</p> 
<p><img src="https://images2.imgbox.com/55/3c/tai3o2LD_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="Shell_460"></a>查看Shell变量(系统环境变量+自定义变量+函数)</h4> 
<p>命令</p> 
<pre><code class="prism language-shell"><span class="token builtin class-name">set</span>
</code></pre> 
<p>效果</p> 
<p><img src="https://images2.imgbox.com/e8/cf/YiRCA2xi_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_475"></a>常用系统环境变量</h4> 
<table><thead><tr><th>变量名称</th><th>含义</th></tr></thead><tbody><tr><td><mark>PATH</mark></td><td>与windows环境变量PATH功能一样，设置命令的搜索路径，以冒号为分割</td></tr><tr><td>HOME</td><td>当前用户主目录：/root</td></tr><tr><td>SHELL</td><td>当前shell解析器类型：/bin/bash</td></tr><tr><td><mark>HISTFILE</mark></td><td>显示当前用户执行命令的历史列表文件：/root/.bash_history</td></tr><tr><td>PWD</td><td>显示当前所在路径：/root</td></tr><tr><td>OLDPWD</td><td>显示之前的路径</td></tr><tr><td>HOSTNAME</td><td>显示当前主机名：itheima</td></tr><tr><td>HOSTTYPE</td><td>显示主机的架构，是i386、i686、还是x86、x64等：x86_64</td></tr><tr><td><mark>LANG</mark></td><td>设置当前系统语言环境：zh_CN.UTF-8</td></tr></tbody></table> 
<h4><a id="_489"></a>环境变量输出演示</h4> 
<p><img src="https://images2.imgbox.com/af/f1/D4CeOb7M_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/b7/08/52xeBsAi_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/bf/bb/QixvFvPL_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_498"></a>自定义变量</h3> 
<h4><a id="_500"></a>自定义变量介绍</h4> 
<p>就是自己定义的变量</p> 
<h4><a id="_506"></a>分类</h4> 
<ol><li>自定义局部变量</li><li>自定义常量</li><li>自定义全局变量</li></ol> 
<h4><a id="_514"></a>自定义局部变量</h4> 
<h5><a id="_516"></a>介绍</h5> 
<p>就是定义在一个脚本文件中的变量, 只能在这个脚本文件中使用的变量, 就是局部变量</p> 
<h5><a id="_522"></a>定义与使用</h5> 
<p>定义语法</p> 
<pre><code class="prism language-shell"><span class="token assign-left variable">var_name</span><span class="token operator">=</span>value
</code></pre> 
<p>变量定义规则</p> 
<ol><li>变量名称可以有字母,数字和下划线组成, 但是不能以数字开头</li><li>等号两侧不能有空格</li><li>在bash环境中, 变量的默认类型都是字符串类型, 无法直接进行数值运算</li><li>变量的值如果有空格, 必须使用双引号括起来</li><li>不能使用Shell的关键字作为变量名称</li></ol> 
<p>演示</p> 
<p><img src="https://images2.imgbox.com/a4/54/YCI03N79_o.png" alt="在这里插入图片描述"></p> 
<p>查询变量值语法</p> 
<pre><code class="prism language-Shell"># 语法1: 直接使用变量名查询
$var_name
# 语法2: 使用花括号
${var_name}
# 区别: 花括号方式适合拼接字符串
</code></pre> 
<p>演示</p> 
<p><img src="https://images2.imgbox.com/6b/78/TL923Hk6_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/78/36/aiJhh5zu_o.png" alt="在这里插入图片描述"></p> 
<p>注意: 如果<code>"My name is ${var2}Style"</code> 中 <code>$var2</code> 不带花括号, 系统会认为获取<code>$var2Style</code> 变量数据, 这个变量不存在就获取不到数据,执行效果如下</p> 
<p><img src="https://images2.imgbox.com/b4/b8/MFYi3a7E_o.png" alt="在这里插入图片描述"></p> 
<p>结论: 推荐大家使用花括号才是编程好习惯</p> 
<h5><a id="_565"></a>变量删除</h5> 
<p>语法</p> 
<pre><code class="prism language-shell"><span class="token builtin class-name">unset</span> var_name
</code></pre> 
<p>演示</p> 
<p><img src="https://images2.imgbox.com/06/d3/jniXBoKs_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_579"></a>自定义常量</h4> 
<p>介绍</p> 
<blockquote> 
 <p>就是变量设置值以后不可以修改的变量叫常量, 也叫只读变量</p> 
</blockquote> 
<p>语法</p> 
<pre><code class="prism language-shell"><span class="token builtin class-name">readonly</span> var_name
</code></pre> 
<p>演示</p> 
<p><img src="https://images2.imgbox.com/04/d8/wez7kMZa_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_596"></a>自定义全局变量</h4> 
<h5><a id="Shell_598"></a>父子Shell环境介绍</h5> 
<p>例如: 有2个Shell脚本文件 A.sh 和 B.sh</p> 
<p>如果 在A.sh脚本文件中执行了B.sh脚本文件, 那么A.sh就是父Shell环境, B.sh就是子Shell环境</p> 
<h5><a id="_604"></a>自定义全局变量介绍</h5> 
<blockquote> 
 <p>就是在当前脚本文件中定义全局变量, 这个全局变量可以在当前Shell环境与子Shell环境中都可以使用</p> 
</blockquote> 
<h5><a id="_608"></a>自定义全局变量语法</h5> 
<pre><code class="prism language-Shell">export var_name1 var_name2
</code></pre> 
<h5><a id="_614"></a>案例需求</h5> 
<p>测试全局变量在子Shell中是否可用, 在父Shell中是否可用</p> 
<h5><a id="_618"></a>案例实现步骤</h5> 
<ol><li> <p>创建2个脚本文件 demo2.sh 和 demo3.sh</p> </li><li> <p>编辑demo2.sh</p> <p>命令1:定义全局变量VAR4</p> <p>命令2: 执行demo3.sh脚本文件</p> </li><li> <p>编辑demo3.sh</p> <p>输出全局变量VAR4</p> </li><li> <p>执行demo2.sh脚本文件</p> </li></ol> 
<h5><a id="_634"></a>案例演示</h5> 
<ol><li> <p>创建demo2.sh和demo3.sh文件</p> <p><img src="https://images2.imgbox.com/da/1d/CrQsZuOZ_o.png" alt="在这里插入图片描述"></p> </li><li> <p>编辑demo2.sh, 里面定义变量VAR4并设置为全局, 并里面执行demo3.sh脚本文件</p> <pre><code class="prism language-shell"><span class="token function">vim</span> demo2.sh
</code></pre> </li></ol> 
<p><img src="https://images2.imgbox.com/43/f4/w4UnlS7j_o.png" alt="在这里插入图片描述"></p> 
<ol start="3"><li> <p>编辑demo3.sh, 里面打印VAR4</p> <pre><code class="prism language-shell"><span class="token function">vim</span> demo3.sh
</code></pre> </li></ol> 
<p><img src="https://images2.imgbox.com/9f/25/PkDFdOVI_o.png" alt="在这里插入图片描述"></p> 
<ol start="4"><li> <p>执行脚本文件demo2.sh, 观察打印VAR4效果</p> <p><img src="https://images2.imgbox.com/bb/42/c7FpEF9B_o.png" alt="在这里插入图片描述"></p> </li><li> <p>执行脚本文件后, 在交互式Shell环境打印VAR4, 观察打印VAR4效果</p> <p><img src="https://images2.imgbox.com/1e/78/NldxfXQw_o.png" alt="在这里插入图片描述"></p> </li></ol> 
<h5><a id="_668"></a>结论</h5> 
<p>全局变量在当前Shell环境与子Shell环境中可用, 父Shell环境中不可用</p> 
<h3><a id="_676"></a>特殊变量</h3> 
<h4><a id="n_678"></a>特殊变量：$n</h4> 
<h5><a id="_680"></a>语法</h5> 
<pre><code class="prism language-shell"><span class="token variable">$n</span>
</code></pre> 
<h5><a id="_686"></a>含义</h5> 
<pre><code class="prism language-shell">用于接收脚本文件执行时传入的参数
<span class="token variable">$0</span> 用于获取当前脚本文件名称的
<span class="token variable">$1</span>~<span class="token variable">$9</span>, 代表获取第一输入参数到第9个输入参数
第10个以上的输入参数获取参数的格式: <span class="token variable">${数字}</span>, 否则无法获取
</code></pre> 
<h5><a id="_695"></a>执行脚本文件传入参数语法</h5> 
<pre><code class="prism language-shell"><span class="token function">sh</span> 脚本文件 输入参数1 输入参数2 <span class="token punctuation">..</span>.
</code></pre> 
<h5><a id="_703"></a>案例需求</h5> 
<p>创建脚本文件demo4.sh文件, 并在脚本文件内部执行打印脚本文件名字, 第一个输入参数, 第二个输入参数</p> 
<h5><a id="_707"></a>实现步骤</h5> 
<ol><li> <p>创建脚本文件demo4.sh</p> </li><li> <p>编辑demo4.sh的文件内容</p> <pre><code class="prism language-shell"><span class="token comment"># 命令1: 打印当前脚本文件名字</span>
<span class="token comment"># 命令2: 打印第1个输入参数</span>
<span class="token comment"># 命令3: 打印第2个输入参数</span>
<span class="token comment"># 命令4: 打印第10个输入参数</span>
</code></pre> </li><li> <p>执行脚本文件demo4.sh</p> </li></ol> 
<h5><a id="_722"></a>演示</h5> 
<ol><li> <p>创建demo4.sh文件</p> <p><img src="https://images2.imgbox.com/25/10/SRvqlfB9_o.png" alt="在这里插入图片描述"></p> </li><li> <p>编辑demo4.sh文件, 输出脚本文件名称\第一个输入参数\第二个输入参数</p> <p><img src="https://images2.imgbox.com/cc/e1/LvxxceFQ_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/8c/69/qjzylwt5_o.png" alt="在这里插入图片描述"></p> </li><li> <p>执行demo4.sh文件,输入输出参数itcast itheima的2个输入参数, 观察效果</p> <p><img src="https://images2.imgbox.com/be/3d/YjmQzTyT_o.png" alt="在这里插入图片描述"></p> </li></ol> 
<h4><a id="_742"></a>特殊变量：$#</h4> 
<h5><a id="_744"></a>语法</h5> 
<pre><code class="prism language-shell"><span class="token variable">$#</span>
</code></pre> 
<h5><a id="_750"></a>含义</h5> 
<p>获取所有输入参数的个数</p> 
<h5><a id="_757"></a>案例需求</h5> 
<p>在demo4.sh中输出输入参数个数</p> 
<h5><a id="_761"></a>演示</h5> 
<p>编辑demo4.sh, 输出输入参数个数</p> 
<p><img src="https://images2.imgbox.com/e6/38/SIvDvb2z_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/77/1b/XwxgG6E9_o.png" alt="在这里插入图片描述"></p> 
<p>执行demo4.sh传入参数itcast, itheima, 播仔 看效果</p> 
<p><img src="https://images2.imgbox.com/eb/05/GA4WCT9t_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_775"></a>特殊变量：<code>$*</code>、<code>$@</code></h4> 
<h5><a id="_777"></a>语法</h5> 
<pre><code class="prism language-shell"><span class="token variable">$*</span>
<span class="token variable">$@</span>
<span class="token comment"># 含义都是获取所有输入参数, 用于以后输出所有参数</span>
</code></pre> 
<p><code>$*</code>与<code>$@</code>区别</p> 
<pre><code class="prism language-shell"><span class="token number">1</span>.不使用双引号括起来, 功能一样
  <span class="token variable">$*</span>和<span class="token variable">$@</span>获取所有输入参数,格式为: <span class="token variable">$1</span> <span class="token variable">$2</span> <span class="token punctuation">..</span>. <span class="token variable">$n</span>
<span class="token number">2</span>.使用双引号括起来
  <span class="token string">"<span class="token variable">$*</span>"</span>获取的所有参数拼接为一个字符串, 格式为: <span class="token string">"<span class="token variable">$1</span> <span class="token variable">$2</span> ... <span class="token variable">$n</span>"</span>
  <span class="token string">"<span class="token variable">$@</span>"</span>获取一组参数列表对象, 格式为: <span class="token string">"<span class="token variable">$1</span>"</span> <span class="token string">"<span class="token variable">$2</span>"</span> <span class="token punctuation">..</span>. <span class="token string">"<span class="token variable">$n</span>"</span>
  使用循环打印所有输入参数可以看出区别
</code></pre> 
<p>循环语法</p> 
<pre><code class="prism language-shell"><span class="token keyword">for</span> <span class="token for-or-select variable">var</span> <span class="token keyword">in</span> 列表变量
<span class="token keyword">do</span>		<span class="token comment"># 循环开始</span>
   命令  <span class="token comment"># 循环体</span>
<span class="token keyword">done</span>    <span class="token comment"># 循环结束</span>
</code></pre> 
<h5><a id="_807"></a>案例需求</h5> 
<p>在demo4.sh中循环打印输出所有输入参数, 体验<code>$*</code>与<code>$@</code>的区别</p> 
<h5><a id="_811"></a>实现步骤</h5> 
<p>编辑demo4.sh脚本文件</p> 
<pre><code class="prism language-shell"><span class="token comment"># 增加命令: 实现直接输出所有输入后参数</span>
<span class="token comment"># 增加命令: 使用循环打印输出所有输入参数</span>
</code></pre> 
<h5><a id="_822"></a>演示</h5> 
<ol><li> <p>编辑demo4.sh文件</p> <p><img src="https://images2.imgbox.com/5f/16/Q58EcEiY_o.png" alt="在这里插入图片描述"></p> </li><li> <p>直接输出所有输入参数, 与循环方式输出所有输入参数(使用双引号包含 <code>$*</code> 与 <code>$@</code> )</p> <pre><code class="prism language-shell"><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># 命令1: 打印当前脚本文件名字</span>
<span class="token builtin class-name">echo</span> <span class="token string">"当前脚本文件名称:<span class="token variable">$0</span>"</span>

<span class="token comment"># 命令2: 打印第1个输入参数</span>
<span class="token builtin class-name">echo</span> <span class="token string">"第一个输入参数:<span class="token variable">$1</span>"</span>

<span class="token comment"># 命令3: 打印第2个输入参数</span>
<span class="token builtin class-name">echo</span> <span class="token string">"第二个输入参数:<span class="token variable">$2</span>"</span>

<span class="token comment"># 命令4: 打印第10个输入参数</span>
<span class="token builtin class-name">echo</span> <span class="token string">"第十个输入参数不带花括号获取:<span class="token variable">$10</span>"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"第十个输入参数带花括号获取:<span class="token variable">${10}</span>"</span>

<span class="token comment"># 命令5 打印所有输入参数的个数</span>
<span class="token builtin class-name">echo</span> <span class="token string">"所有输入参数个数:<span class="token variable">${<!-- --><span class="token operator">#</span>}</span>"</span>


<span class="token comment"># 增加命令: 实现直接输出所有输入后参数</span>
<span class="token builtin class-name">echo</span> <span class="token string">'使用$*直接输出:'</span><span class="token variable">$*</span>
<span class="token builtin class-name">echo</span> <span class="token string">'使用$@直接输出:'</span><span class="token variable">$@</span>

<span class="token comment"># 增加命令: 使用循环打印输出所有输入参数</span>
<span class="token builtin class-name">echo</span> <span class="token string">'循环遍历输出$*所有参数'</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">item</span> <span class="token keyword">in</span> <span class="token string">"<span class="token variable">$*</span>"</span>
<span class="token keyword">do</span>
   <span class="token builtin class-name">echo</span> <span class="token variable">$item</span>
<span class="token keyword">done</span>
<span class="token builtin class-name">echo</span> <span class="token string">'循环遍历输出$@所有参数'</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">item</span> <span class="token keyword">in</span> <span class="token string">"<span class="token variable">$@</span>"</span>
<span class="token keyword">do</span>
   <span class="token builtin class-name">echo</span> <span class="token variable">$item</span>
<span class="token keyword">done</span>
</code></pre> </li><li> <p>运行观察区别</p> <p><img src="https://images2.imgbox.com/7e/69/DKyXfX1l_o.png" alt="在这里插入图片描述"></p> </li></ol> 
<h4><a id="_871"></a>特殊变量：$？</h4> 
<h5><a id="_873"></a>语法</h5> 
<pre><code class="prism language-shell"><span class="token variable">$?</span>
</code></pre> 
<h5><a id="_879"></a>含义</h5> 
<p>用于获取上一个Shell命令的退出状态码, 或者是函数的返回值</p> 
<blockquote> 
 <p>每个Shell命令的执行都有一个返回值, 这个返回值用于说明命令执行是否成功</p> 
 <p>一般来说, 返回0代表命令执行成功, 非0代表执行失败</p> 
</blockquote> 
<h5><a id="_887"></a>演示</h5> 
<p>输入一个正确命令, 再输出<code>$?</code></p> 
<p><img src="https://images2.imgbox.com/dc/ec/r4jdB7ET_o.png" alt="在这里插入图片描述"></p> 
<p>输入一个错误命令, 在输出<code>$?</code><br> <img src="https://images2.imgbox.com/9d/84/Q058jus2_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_898"></a>特殊变量：$$</h4> 
<h5><a id="_900"></a>语法</h5> 
<pre><code class="prism language-shell"><span class="token variable">$$</span>
</code></pre> 
<h5><a id="_906"></a>含义</h5> 
<p>用于获取当前Shell环境的进程ID号</p> 
<h5><a id="_910"></a>演示</h5> 
<p>查看当前Shell环境进程编号</p> 
<pre><code class="prism language-Shell">ps -aux|grep bash
</code></pre> 
<p><img src="https://images2.imgbox.com/99/94/bbqiAL2w_o.png" alt="在这里插入图片描述"></p> 
<p>输出 $$ 显示当前shell环境进程编号</p> 
<p><img src="https://images2.imgbox.com/2f/ec/wVDpP5yJ_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="Shell_926"></a>Shell环境变量深入</h2> 
<h3><a id="_928"></a>自定义系统环境变量</h3> 
<h4><a id="etcprofile_930"></a>全局配置文件/etc/profile应用场景</h4> 
<p>当前用户进入Shell环境初始化的时候会加载全局配置文件/etc/profile里面的环境变量, 供给所有Shell程序使用</p> 
<p>以后只要是所有Shell程序或命令使用的变量, 就可以定义在这个文件中</p> 
<h4><a id="_938"></a>案例演示</h4> 
<h5><a id="_940"></a>需求</h5> 
<p>/etc/profile定义存储自定义系统级环境变量数据</p> 
<h5><a id="_946"></a>创建环境变量步骤</h5> 
<ol><li> <p>编辑/etc/profile全局配置文件</p> <pre><code class="prism language-shell"><span class="token comment"># 增加命令: 定义变量VAR1=VAR1 并导出为环境变量</span>
<span class="token comment"># 扩展: vim里面的命令模式使用G快速定位到文件末尾位置, 使用gg定位到文件首行位置</span>
</code></pre> </li><li> <p>重载配置文件/etc/profile, 因为配置文件修改后要立刻加载里面的数据就需要重载, 语法</p> <pre><code class="prism language-shell"><span class="token builtin class-name">source</span> /etc/profile
</code></pre> </li><li> <p>在Shell环境中读取系统级环境变量VAR1</p> </li></ol> 
<h5><a id="_965"></a>创建环境变量演示</h5> 
<p>编辑/etc/profile文件</p> 
<pre><code class="prism language-shell"><span class="token function">vim</span> /etc/profile
</code></pre> 
<p>添加设置变量VAR1=VAR1并导出成为环境变量, 在/etc/profile文件末尾添加如下命令</p> 
<pre><code class="prism language-shell"><span class="token comment"># 创建环境变量</span>
<span class="token assign-left variable">VAR1</span><span class="token operator">=</span>VAR1
<span class="token builtin class-name">export</span> VAR1
</code></pre> 
<p><img src="https://images2.imgbox.com/7e/85/1FW42a45_o.png" alt="在这里插入图片描述"></p> 
<p>3、保存/etc/profile退出</p> 
<p>4、重新加载/etc/profile文件数据更新系统环境变量</p> 
<pre><code class="prism language-shell"><span class="token builtin class-name">source</span> /etc/profile
</code></pre> 
<blockquote> 
 <p>注意：如果这一步不执行，无法读取更新的环境变量</p> 
</blockquote> 
<p>3、输出环境变量VAR1</p> 
<pre><code class="prism language-shell"><span class="token builtin class-name">echo</span> <span class="token variable">$VAR1</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/46/ab/O7NpT1pu_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_1003"></a>加载流程介绍与测试</h3> 
<h4><a id="Shell_1005"></a>Shell工作环境介绍</h4> 
<p>用户登录系统时，Shell为用户定义了工作环境，工作环境提供了共享数据环境变量，比如shell解析器类型、主机名等，这些数据存储在环境变量中，便于shell脚本程序操作使用；</p> 
<h4><a id="shell_1011"></a>shell工作环境分类</h4> 
<h5><a id="shell_1013"></a>交互式与非交互式shell</h5> 
<p>交互式Shell</p> 
<blockquote> 
 <p>是shell的一种运行模式，交互式shell等待你输入命令，并且立即执行，然后将结果反馈给你。这是每个CLI用户都非常熟悉的流程：登录、执行一些命令、登出。当你登出后，这个shell就终止了。</p> 
</blockquote> 
<p>非交互式Shell</p> 
<blockquote> 
 <p>是shell的另一种运行模式，它专门被用来执行预先设定的命令。在这种模式下，shell不与用户进行交互，而是读取存放在脚本文件中的命令并执行它们。当它读到文件的结尾，这个shell就终止了。</p> 
</blockquote> 
<h5><a id="ShellShell_1023"></a>登录Shell与非登录Shell环境</h5> 
<table><thead><tr><th>类型名称</th><th>含义</th></tr></thead><tbody><tr><td>shell登录环境</td><td>需要用户名、密码登录之后才能进入的shell</td></tr><tr><td>shell非登录环境</td><td>直接不用输入用户名和密码就可以打开的shell<br>或调用子Shell时使用的工作环境</td></tr></tbody></table> 
<blockquote> 
 <p>注意：不同的工作环境加载环境变量流程不一样</p> 
</blockquote> 
<h4><a id="_1034"></a>环境变量初始化流程</h4> 
<p><img src="https://images2.imgbox.com/65/04/qQMM0B5x_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_1039"></a>测试流程</h4> 
<h5><a id="_1041"></a>需求</h5> 
<p>在/etc/profile与/当前用户/.bashrc文件分别设置不同的环境变量，然后创建shell脚本文件输出设置的环境变量，最后切换不同环境执行shell脚本文件观察验证上面的流程运行</p> 
<h5><a id="_1045"></a>命令</h5> 
<p>语法1</p> 
<blockquote> 
 <p>使用-l 或 --login 先加载Shell登录环境变量,再执行脚本文件</p> 
</blockquote> 
<pre><code class="prism language-shell"><span class="token function">bash</span> <span class="token parameter variable">-l</span> 脚本文件 或  <span class="token function">bash</span> <span class="token parameter variable">--login</span> 脚本文件 
<span class="token function">sh</span> <span class="token parameter variable">-l</span> 脚本文件  或 <span class="token function">sh</span> <span class="token parameter variable">--login</span> 脚本文件
<span class="token comment"># 先加载shell登录环境变量, 然后再执行脚本文件</span>
</code></pre> 
<p>语法2</p> 
<pre><code class="prism language-shell"><span class="token function">bash</span>  <span class="token comment"># 加载shell非登录环境变量</span>
<span class="token function">bash</span> 脚本文件  / <span class="token function">sh</span> 脚本文件  <span class="token comment">#执行脚本</span>
</code></pre> 
<h5><a id="_1064"></a>分析</h5> 
<p>1、编辑/etc/profile文件，添加环境变量VAR1=VAR1</p> 
<p>2、编辑/当前用户/.bashrc文件，添加环境变量VAR2=VAR2</p> 
<p>3、创建demo1.sh脚本文件，并编辑文件输出VAR1、VAR2两个变量</p> 
<p>4、直接执行demo1.sh脚本文件, 观察什么也没有输出</p> 
<p>5、加载Shell非登录环境变量, 观察VAR2输出, VAR1没有输出</p> 
<p>6、加载Shell登录环境变了, 观察VAR1,VAR2都有输出</p> 
<h5><a id="_1080"></a>演示</h5> 
<p>编辑/etc/profile文件</p> 
<pre><code class="prism language-Shell">vim /etc/profile
</code></pre> 
<p>编辑添加如下内容，保存退出<br> <img src="https://images2.imgbox.com/ba/1a/7EyW90ZJ_o.png" alt="在这里插入图片描述"></p> 
<p>在root目录下,编辑.bashrc文件</p> 
<pre><code class="prism language-shell"><span class="token function">vim</span> .bashrc
</code></pre> 
<p><img src="https://images2.imgbox.com/e5/0f/CFmgwdlm_o.png" alt="在这里插入图片描述"></p> 
<p>编辑添加如下最后2行内容，保存退出<br> <img src="https://images2.imgbox.com/e8/99/sj8wXbLn_o.png" alt="在这里插入图片描述"></p> 
<p>创建文件demo1.sh</p> 
<pre><code class="prism language-shell"><span class="token function">touch</span> demo1.sh
</code></pre> 
<p>编辑文件demo1.sh，添加如下内容<br> <img src="https://images2.imgbox.com/c1/3f/YQKKyC7s_o.png" alt="在这里插入图片描述"></p> 
<p>直接执行脚本文件</p> 
<pre><code class="prism language-shell"><span class="token function">bash</span> demo1.sh
</code></pre> 
<p><img src="https://images2.imgbox.com/7f/1a/lG3tfBHW_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>直接执行脚本文件, 即没有加载登录Shell环境变量, 也没有加载非登录Shell环境变量</p> 
</blockquote> 
<p>先加载非登录Shell环境变量, 然后执行脚本文件</p> 
<pre><code class="prism language-shell"><span class="token function">bash</span>
<span class="token function">bash</span> demo1.sh
</code></pre> 
<p><img src="https://images2.imgbox.com/21/e0/wQgkSTPg_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>Shell非登录环境会加载文件 <code>当前用户/.bashrc</code> 的环境变量数据</p> 
 <p>所以这里会输出VAR2的环境变量数据</p> 
</blockquote> 
<p>先加载登录Shell环境变量, 然后执行脚本文件</p> 
<pre><code class="prism language-shell"><span class="token function">bash</span> <span class="token parameter variable">-l</span> demo1.sh
</code></pre> 
<p><img src="https://images2.imgbox.com/07/83/nlvet98E_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>Shell登录环境会加载文件 <code>etc/profile</code>和<code>当前用户/.bashrc</code> 的环境变量数据</p> 
 <p>所以这里会输出VAR1和VAR2的环境变量数据</p> 
</blockquote> 
<h3><a id="Shell_1151"></a>识别Shell环境类型</h3> 
<h4><a id="shell1_1153"></a>识别shell环境的命令1</h4> 
<h5><a id="_1155"></a>命令</h5> 
<p>使用$0识别环境语法</p> 
<pre><code class="prism language-shell"><span class="token builtin class-name">echo</span> <span class="token variable">$0</span>
</code></pre> 
<blockquote> 
 <p>输出 <code>-bash</code> 代表：shell登录环境</p> 
 <p>输出 <code>bash</code> 代表： shell非登录环境</p> 
 <p>注意：这个 <code>$0</code> 环境变量如果用在子shell中(shell脚本文件)输出Shell脚本本身的文件名</p> 
</blockquote> 
<p>bash命令语法</p> 
<pre><code class="prism language-shell"><span class="token function">bash</span>
</code></pre> 
<blockquote> 
 <p>bash命令：用于切换为Shell非登录环境</p> 
</blockquote> 
<h5><a id="_1177"></a>分析</h5> 
<p>1、直接登录系统为shell登录环境输出 $0 观察输出信息效果</p> 
<p>2、使用 bash 命令切换为shell非登录环境输出 $0 观察输出信息效果</p> 
<p>3、创建test.sh脚本文件，编辑添加输出 $0 ,编程保存完成后执行test.sh脚本文件观察输出信息效果</p> 
<h5><a id="_1185"></a>演示</h5> 
<p>直接登录linux系统使用如下命令效果</p> 
<p><img src="https://images2.imgbox.com/48/4b/p42eonhR_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>bash命令将当前环境转换为Shell非登录环境</p> 
</blockquote> 
<h5><a id="0_1196"></a>演示$0无效的情况</h5> 
<p>创建test.sh</p> 
<pre><code class="prism language-shell"><span class="token function">touch</span> test.sh
</code></pre> 
<p>编辑test.sh</p> 
<pre><code class="prism language-shell"><span class="token function">vim</span> test.sh
</code></pre> 
<p>添加内容</p> 
<pre><code class="prism language-shell"><span class="token shebang important">#!/bin/bash</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$0</span>
</code></pre> 
<p>执行test.sh</p> 
<pre><code class="prism language-shell"><span class="token function">sh</span> test.sh
</code></pre> 
<p>效果<br> <img src="https://images2.imgbox.com/fe/ff/xP4mQwTb_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="shell2_1232"></a>识别shell环境的命令2</h4> 
<h5><a id="_1234"></a>命令</h5> 
<p>logout命令语法</p> 
<pre><code class="prism language-shell"><span class="token builtin class-name">logout</span>
</code></pre> 
<blockquote> 
 <p>logout命令： 用于退出Shell登录环境</p> 
</blockquote> 
<p>exit命令语法</p> 
<pre><code class="prism language-shell"><span class="token builtin class-name">exit</span>
</code></pre> 
<blockquote> 
 <p>exit命令： 用于退出Shell登录或非登录环境</p> 
</blockquote> 
<h5><a id="_1252"></a>区别</h5> 
<p><code>logout</code> 只能退出Shell登录环境</p> 
<p><code>exit</code> 可以退出Shell登录与非登录环境</p> 
<h5><a id="_1258"></a>分析</h5> 
<p>1、进入Shell登录环境，使用logout正常登出</p> 
<p>2、使用bash进入Shell非登录环境，使用logout不能正常登录</p> 
<p>3、使用exit正常退出Shell非登录环境</p> 
<h5><a id="_1266"></a>演示</h5> 
<p><img src="https://images2.imgbox.com/aa/2c/hqEyanga_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="Shell_1271"></a>详细切换Shell环境</h3> 
<h4><a id="shell_1273"></a>切换shell环境命令介绍</h4> 
<ol><li> <p>直接登录加载shell登录环境</p> </li><li> <p>su切换用户加载Shell登录与Shell非登录环境</p> </li><li> <p>bash加载Shell登录与Shell非登录环境</p> </li></ol> 
<h4><a id="Shell_1282"></a>切换Shell环境命令演示</h4> 
<h5><a id="1_1284"></a>切换环境方式1：直接登录系统</h5> 
<h6><a id="_1286"></a>介绍</h6> 
<p>直接在虚拟机上使用用户名与密码登录linux系统或使用客户端直接连接远程linux系统</p> 
<h6><a id="_1290"></a>演示</h6> 
<p>虚拟机本地直接登录演示<br> <img src="https://images2.imgbox.com/b6/7e/Wb3OZUak_o.png" alt="在这里插入图片描述"></p> 
<p>客户端远程采用SSH登录演示<br> <img src="https://images2.imgbox.com/db/a9/tRkZSaHB_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="2su_1300"></a>切换环境方式2：su切换用户登录</h5> 
<h6><a id="_1302"></a>命令</h6> 
<p>语法1</p> 
<pre><code class="prism language-shell"><span class="token function">su</span> 用户名 <span class="token parameter variable">--login</span> 
或
<span class="token function">su</span> 用户名 <span class="token parameter variable">-l</span>
 <span class="token comment"># 切换到指定用户, 加载Shell登录环境变量</span>
</code></pre> 
<p>语法2</p> 
<pre><code class="prism language-shell"><span class="token function">su</span> 用户名  
<span class="token comment"># 切换到指定用户,  加Shell非登录环境变量</span>
</code></pre> 
<h6><a id="_1322"></a>分析步骤</h6> 
<p>1、创建普通用户userA</p> 
<p>2、切换到用户userA，使用-l加载Shell登录环境变量 , 输出环境变量$0，观察输出-bash</p> 
<p>4、使用exit退出userA</p> 
<p>5、切换到用户userA，加载Shell非登录环境变量，输出环境变量$0，观察输出bash</p> 
<h6><a id="_1334"></a>演示</h6> 
<p>创建普通用户userA</p> 
<pre><code class="prism language-shell"><span class="token function">useradd</span> <span class="token parameter variable">-m</span> userA
</code></pre> 
<p><img src="https://images2.imgbox.com/7b/c5/u0BpPmWB_o.png" alt="在这里插入图片描述"></p> 
<p>以Shell登录环境执行切换到用户userA，输出环境变量$0，输出 -bash 说明当前为Shell登录环境</p> 
<p><img src="https://images2.imgbox.com/99/2b/957UaJq1_o.png" alt="在这里插入图片描述"></p> 
<p>使用exit退出userA</p> 
<p><img src="https://images2.imgbox.com/f6/b6/utfTu6G6_o.png" alt="在这里插入图片描述"></p> 
<p>以Shell非登录环境执行切换到用户userA，输出环境变量$0，输出 bash 说明当前为Shell非登录环境</p> 
<p><img src="https://images2.imgbox.com/82/6e/roM7E7eD_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="3bash_1359"></a>切换环境方式3：bash切换</h5> 
<h6><a id="_1361"></a>命令</h6> 
<p>语法1:</p> 
<pre><code class="prism language-shell"><span class="token function">bash</span>  <span class="token comment"># 加载【Shell非登录环境】</span>
</code></pre> 
<p>语法2：</p> 
<pre><code class="prism language-shell"><span class="token function">bash</span> <span class="token parameter variable">-l</span>  Shell脚本文件 /  <span class="token function">bash</span> <span class="token parameter variable">--login</span> shell脚本文件
<span class="token function">sh</span> <span class="token parameter variable">-l</span> shell脚本文件 / <span class="token function">sh</span> <span class="token parameter variable">--login</span> shell脚本文件
<span class="token comment"># 先加载【Shell登录环境】然后运行指定Shell脚本文件</span>
</code></pre> 
<h6><a id="_1377"></a>分析</h6> 
<p>使用bash执行test.sh脚本文件，发生错误说明当前环境为Shell非登录环境</p> 
<h6><a id="_1381"></a>演示</h6> 
<p><img src="https://images2.imgbox.com/4e/d4/AXo4spPk_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="_1385"></a></h6> 
<h4><a id="Shell_1387"></a>Shell变量总结</h4> 
<h5><a id="_1389"></a>变量类型</h5> 
<ol><li>环境变量</li><li>自定义变量</li><li>特殊变量</li></ol> 
<h5><a id="_1395"></a>作用域</h5> 
<ol><li> <p>环境变量</p> <p>系统Shell配置文件提供, 全局都可以使用</p> 
  <table><thead><tr><th>分类</th><th>初始化环境变量过程执行文件顺序</th></tr></thead><tbody><tr><td>shell登录环境变量初始化过程</td><td>/etc/profile–》/etc/profile.d/*.sh–》<sub>/.bash_profile–》</sub>/.bashrc–》/etc/bashrc</td></tr><tr><td>shell非登录环境变量初始化过程</td><td>~/.bashrc–》/etc/bashrc–》/etc/profile.d/*.sh</td></tr></tbody></table></li><li> <p>自定义变量</p> <p>局部变量: 当前Shell可以使用</p> <p>全局变量: 当前Shell与子Shell可以使用</p> </li><li> <p>特殊变量</p> <p>全局都可以使用</p> </li></ol> 
<h5><a id="_1416"></a>常用系统环境变量</h5> 
<table><thead><tr><th>变量名称</th><th>含义</th></tr></thead><tbody><tr><td>PATH</td><td></td></tr><tr><td>HOSTTYPE</td><td></td></tr><tr><td>LANG</td><td></td></tr><tr><td>HISTFILE</td><td></td></tr><tr><td>PWD</td><td></td></tr></tbody></table> 
<h5><a id="_1426"></a>常用系统特殊符号变量</h5> 
<table><thead><tr><th>特殊变量</th><th>含义</th></tr></thead><tbody><tr><td><code>$n</code></td><td></td></tr><tr><td><code>$#</code></td><td></td></tr><tr><td><code>$*</code> 与 <code>$@</code></td><td></td></tr><tr><td><code>$?</code></td><td></td></tr><tr><td><code>$$</code></td><td></td></tr></tbody></table> 
<h5><a id="shell_1436"></a>切换shell环境命令</h5> 
<table><thead><tr><th align="center">分类</th><th>命令介绍</th></tr></thead><tbody><tr><td align="center">切换为shell登录环境命令</td><td>方式1：直接使用用户名与密码登录系统<br>方式2：bash -l shell脚本文件 或 bash --login shell脚本文件<br>方式3：su 用户名 --login 或 -l</td></tr><tr><td align="center">切换为shell非登录环境命令</td><td>方式1：bash<br>方式2：su 用户名</td></tr></tbody></table>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/62e70fc0674f00b7f2c478501040d289/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【深度学习-图像分类】03 - VGG 论文学习与总结</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1be29be24587e5cc657bc18df9709b9c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">双击编辑el-table的单元格数据</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程爱好者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151260"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>