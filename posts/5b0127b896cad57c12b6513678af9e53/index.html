<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>工作流程引擎之flowable（集成springboot） - 编程爱好者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="工作流程引擎之flowable（集成springboot）" />
<meta property="og:description" content="0、背景 现状：公司各部门业务系统有各自的工作流引擎，也有cross function的业务在不同系统或OA系统流转，没有统一的去规划布局统一的BPM解决方案，近期由于一个项目引发朝着整合统一的BPM方案，特了解一下市面上比较主流的开源和收费的工作流引擎。本文主要介绍开源的工作流引擎flowable.
1、开源工作流引擎比较 开源工作流引擎是一种用于管理和自动化业务流程的软件，它可以帮助用户实现业务流程的可视化设计、流程编排、任务调度、监控和优化等功能。本文将介绍几种常见的开源工作流引擎，并进行比较。目前市场上比较主流的开源流程引擎有：Activiti、Camunda、Flowable。
1.1、Activiti Activiti是一个轻量级的开源工作流引擎，采用Java语言开发，基于BPMN 2.0规范，支持嵌入式部署和分布式部署。Activiti提供了丰富的API和插件，支持与Java应用程序进行集成。它还提供了Web界面和REST API，可以方便地进行流程设计、部署、调度和监控。Activiti具有以下优点：
易用性和灵活性：Activiti提供了简单易用的流程设计器和API，支持多种流程模型和任务类型，可以满足不同场景和需求的使用。可伸缩性和性能：Activiti支持嵌入式和分布式部署，可以扩展集群规模以支持更大的业务流程和更高的并发量。此外，它还提供了优化和缓存机制，可以提高性能和响应速度。社区支持和生态系统：Activiti拥有庞大的社区和活跃的开发者，提供了丰富的插件和工具，可以扩展其功能和使用。例如，Activiti Explorer可以用于流程设计和管理，Camunda Modeler可以用于编辑BPMN模型，Flowable Task可以用于任务管理等。安全性和可靠性：Activiti提供了可靠的安全性控制，可以对数据进行访问控制和加密，以满足不同场景和需求的安全要求。它还提供了事务管理和错误处理机制，可以保证业务流程的可靠性和稳定性。 1.2、Camunda Camunda是一个强大的开源工作流引擎，采用Java语言开发，支持BPMN 2.0规范和CMMN规范。Camunda提供了丰富的API和插件，支持与Java应用程序进行集成。它还提供了Web界面和REST API，可以方便地进行流程设计、部署、调度和监控。Camunda具有以下优点：
功能丰富和灵活性：Camunda提供了丰富的功能和灵活的流程设计，支持多种流程模型和任务类型，可以满足不同场景和需求的使用。可伸缩性和性能：Camunda支持嵌入式和分布式部署，可以扩展集群规模以支持更大的业务流程和更高的并发量。此外，它还提供了优化和缓存机制，可以提高性能和响应速度。社区支持和生态系统：Camunda拥有庞大的社区和活跃的开发者，提供了丰富的插件和工具，可以扩展其功能和使用。例如，Camunda Modeler可以用于编辑BPMN模型，Camunda Cockpit可以用于任务管理和流程监控，Camunda Tasklist可以用于任务列表等。可扩展的架构和API：Camunda采用可扩展的架构和API，可以方便地进行集成和扩展。例如，它支持自定义流程引擎插件、外部任务处理器、表单引擎等。安全性和可靠性：Camunda提供了可靠的安全性控制，可以对数据进行访问控制和加密，以满足不同场景和需求的安全要求。它还提供了事务管理和错误处理机制，可以保证业务流程的可靠性和稳定性。 1.3、Flowable Flowable是一个开源的轻量级工作流引擎，基于Activiti 5.x版本开发，支持BPMN 2.0规范和CMMN规范。Flowable提供了丰富的API和插件，支持与Java应用程序进行集成。它还提供了Web界面和REST API，可以方便地进行流程设计、部署、调度和监控。Flowable具有以下优点：
易用性和灵活性：Flowable提供了简单易用的流程设计器和API，支持多种流程模型和任务类型，可以满足不同场景和需求的使用。可伸缩性和性能：Flowable支持嵌入式和分布式部署，可以扩展集群规模以支持更大的业务流程和更高的并发量。此外，它还提供了优化和缓存机制，可以提高性能和响应速度。社区支持和生态系统：Flowable拥有庞大的社区和活跃的开发者，提供了丰富的插件和工具，可以扩展其功能和使用。例如，Flowable Modeler可以用于流程设计和管理，Flowable Task可以用于任务管理和流程监控，Flowable Admin可以用于集群管理等。可扩展的架构和API：Flowable采用可扩展的架构和API，可以方便地进行集成和扩展。例如，它支持自定义流程引擎插件、外部任务处理器、表单引擎等。安全性和可靠性：Flowable提供了可靠的安全性控制，可以对数据进行访问控制和加密，以满足不同场景和需求的安全要求。它还提供了事务管理和错误处理机制，可以保证业务流程的可靠性和稳定性。 2、flowable安装 2.1、下载软件 Github链接，目前flowable已经更新到Flowable 7.0.0.M2版本了。
安装方式有很多，可以通过下载zip包也可以通过docker拉取镜像进行部署，本文采用zip的window环境部署。
下载安装包，我下载的是flowable-6.7.0版本，同时需要配合tomcat（选择的是apache-tomcat-9.0.79版本）服务进行部署，tomcat下载地址：
下载上面两个软件之后还需要配置flowale的配置数据存储，我选择的mysql数据库，当然他还支持其他数据库类型。mysql数据库是docker镜像运行的，这里不再赘述安装过程，可以看我往期docker mysql安装.
2.2、解压运行 分别解压tomcat和flowable：
把flowable-6.7.0\wars目录下的flowable-ui.war拷贝到apache-tomcat-9.0.79\webapps下面启动tomcat startup.bat
此时会解压war文件，同时会删除war文件，同时会生成新文件apache-tomcat-9.0.79\webapps\flowable-ui.
2.3、配置数据源 修改apache-tomcat-9.0.79\webapps\flowable-ui\WEB-INF\classes\flowable-default.properties
参考：
server.port=8080 server.servlet.context-path=/flowable-ui spring.jmx.unique-names=true # This is needed to force use of JDK proxies instead of using CGLIB spring.aop.proxy-target-class=false spring.aop.auto=false spring.application.name=flowable-ui spring.banner.location=classpath:/org/flowable/spring/boot/flowable-banner.txt # The default domain for generating ObjectNames must be specified." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bchobby.github.io/posts/5b0127b896cad57c12b6513678af9e53/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-08-23T20:05:36+08:00" />
<meta property="article:modified_time" content="2023-08-23T20:05:36+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程爱好者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程爱好者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">工作流程引擎之flowable（集成springboot）</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>0、背景</h2> 
<blockquote> 
 <p>现状：公司各部门业务系统有各自的工作流引擎，也有cross function的业务在不同系统或OA系统流转，没有统一的去规划布局统一的BPM解决方案，近期由于一个项目引发朝着整合统一的BPM方案，特了解一下市面上比较主流的开源和收费的工作流引擎。本文主要介绍开源的工作流引擎flowable.</p> 
</blockquote> 
<h2>1、开源工作流引擎比较</h2> 
<p>开源工作流引擎是一种用于管理和自动化业务流程的软件，它可以帮助用户实现业务流程的可视化设计、流程编排、任务调度、监控和优化等功能。本文将介绍几种常见的开源工作流引擎，并进行比较。目前市场上比较主流的开源流程引擎有：Activiti、Camunda、Flowable。</p> 
<h3>1.1、Activiti</h3> 
<p><strong>Activiti</strong>是一个轻量级的开源工作流引擎，采用Java语言开发，基于BPMN 2.0规范，支持嵌入式部署和分布式部署。Activiti提供了丰富的API和插件，支持与Java应用程序进行集成。它还提供了Web界面和REST API，可以方便地进行流程设计、部署、调度和监控。Activiti具有以下优点：</p> 
<ul><li><strong>易用性和灵活性</strong>：Activiti提供了简单易用的流程设计器和API，支持多种流程模型和任务类型，可以满足不同场景和需求的使用。</li><li><strong>可伸缩性和性能</strong>：Activiti支持嵌入式和分布式部署，可以扩展集群规模以支持更大的业务流程和更高的并发量。此外，它还提供了优化和缓存机制，可以提高性能和响应速度。</li><li><strong>社区支持和生态系统</strong>：Activiti拥有庞大的社区和活跃的开发者，提供了丰富的插件和工具，可以扩展其功能和使用。例如，Activiti Explorer可以用于流程设计和管理，Camunda Modeler可以用于编辑BPMN模型，Flowable Task可以用于任务管理等。</li><li><strong>安全性和可靠性</strong>：Activiti提供了可靠的安全性控制，可以对数据进行访问控制和加密，以满足不同场景和需求的安全要求。它还提供了事务管理和错误处理机制，可以保证业务流程的可靠性和稳定性。</li></ul> 
<h3>1.2、Camunda</h3> 
<p><strong>Camunda</strong>是一个强大的开源工作流引擎，采用Java语言开发，支持BPMN 2.0规范和CMMN规范。Camunda提供了丰富的API和插件，支持与Java应用程序进行集成。它还提供了Web界面和REST API，可以方便地进行流程设计、部署、调度和监控。Camunda具有以下优点：</p> 
<ul><li><strong>功能丰富和灵活性</strong>：Camunda提供了丰富的功能和灵活的流程设计，支持多种流程模型和任务类型，可以满足不同场景和需求的使用。</li><li><strong>可伸缩性和性能</strong>：Camunda支持嵌入式和分布式部署，可以扩展集群规模以支持更大的业务流程和更高的并发量。此外，它还提供了优化和缓存机制，可以提高性能和响应速度。</li><li><strong>社区支持和生态系统</strong>：Camunda拥有庞大的社区和活跃的开发者，提供了丰富的插件和工具，可以扩展其功能和使用。例如，Camunda Modeler可以用于编辑BPMN模型，Camunda Cockpit可以用于任务管理和流程监控，Camunda Tasklist可以用于任务列表等。</li><li><strong>可扩展的架构和API</strong>：Camunda采用可扩展的架构和API，可以方便地进行集成和扩展。例如，它支持自定义流程引擎插件、外部任务处理器、表单引擎等。</li><li><strong>安全性和可靠性</strong>：Camunda提供了可靠的安全性控制，可以对数据进行访问控制和加密，以满足不同场景和需求的安全要求。它还提供了事务管理和错误处理机制，可以保证业务流程的可靠性和稳定性。</li></ul> 
<h3>1.3、Flowable</h3> 
<p><strong>Flowable</strong>是一个开源的轻量级工作流引擎，基于Activiti 5.x版本开发，支持BPMN 2.0规范和CMMN规范。Flowable提供了丰富的API和插件，支持与Java应用程序进行集成。它还提供了Web界面和REST API，可以方便地进行流程设计、部署、调度和监控。Flowable具有以下优点：</p> 
<ul><li><strong>易用性和灵活性</strong>：Flowable提供了简单易用的流程设计器和API，支持多种流程模型和任务类型，可以满足不同场景和需求的使用。</li><li><strong>可伸缩性和性能</strong>：Flowable支持嵌入式和分布式部署，可以扩展集群规模以支持更大的业务流程和更高的并发量。此外，它还提供了优化和缓存机制，可以提高性能和响应速度。</li><li><strong>社区支持和生态系统</strong>：Flowable拥有庞大的社区和活跃的开发者，提供了丰富的插件和工具，可以扩展其功能和使用。例如，Flowable Modeler可以用于流程设计和管理，Flowable Task可以用于任务管理和流程监控，Flowable Admin可以用于集群管理等。</li><li><strong>可扩展的架构和API</strong>：Flowable采用可扩展的架构和API，可以方便地进行集成和扩展。例如，它支持自定义流程引擎插件、外部任务处理器、表单引擎等。</li><li><strong>安全性和可靠性</strong>：Flowable提供了可靠的安全性控制，可以对数据进行访问控制和加密，以满足不同场景和需求的安全要求。它还提供了事务管理和错误处理机制，可以保证业务流程的可靠性和稳定性。</li></ul> 
<h2>2、flowable安装</h2> 
<h3>2.1、下载软件</h3> 
<p><a class="link-info" href="https://github.com/flowable/flowable-engine" title="Github链接">Github链接</a>，目前flowable已经更新到Flowable 7.0.0.M2版本了。</p> 
<p><img alt="" height="686" src="https://images2.imgbox.com/9c/2e/VVVTdm39_o.png" width="1200"></p> 
<p> 安装方式有很多，可以通过下载zip包也可以通过docker拉取镜像进行部署，本文采用zip的window环境部署。</p> 
<p>下载安装包，我下载的是flowable-6.7.0版本，同时需要配合tomcat（选择的是apache-tomcat-9.0.79版本）服务进行部署，tomcat下载地址：</p> 
<p><img alt="" height="1009" src="https://images2.imgbox.com/d8/e4/FVqSMSNE_o.png" width="1200"><img alt="" height="704" src="https://images2.imgbox.com/08/ef/JTZKi0wF_o.png" width="1200"></p> 
<p> <img alt="" height="1147" src="https://images2.imgbox.com/f3/6c/XUfPwCpW_o.png" width="1200"></p> 
<p> 下载上面两个软件之后还需要配置flowale的配置数据存储，我选择的mysql数据库，当然他还支持其他数据库类型。mysql数据库是docker镜像运行的，这里不再赘述安装过程，可以看我往期<a class="link-info" href="https://blog.csdn.net/juanxiaseng0838/article/details/126706681?ops_request_misc=&amp;request_id=d77a1ee726f74485bf7b492d7a94be6d&amp;biz_id=&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~blog~koosearch~default-4-126706681-null-null.268%5Ev1%5Econtrol&amp;utm_term=mysql&amp;spm=1018.2226.3001.4450" title="docker mysql安装">docker mysql安装</a>.</p> 
<h3>2.2、解压运行</h3> 
<p>分别解压tomcat和flowable：</p> 
<p><img alt="" height="405" src="https://images2.imgbox.com/ce/3e/PBX0POdt_o.png" width="1200"></p> 
<p> <img alt="" height="75" src="https://images2.imgbox.com/c0/43/4xFjt52w_o.png" width="748"></p> 
<p>把flowable-6.7.0\wars目录下的flowable-ui.war拷贝到apache-tomcat-9.0.79\webapps下面启动tomcat  startup.bat</p> 
<p><img alt="" height="686" src="https://images2.imgbox.com/82/1c/gz6mamSP_o.png" width="928">此时会解压war文件，同时会删除war文件，同时会生成新文件apache-tomcat-9.0.79\webapps\flowable-ui.</p> 
<h3>2.3、配置数据源</h3> 
<p> 修改apache-tomcat-9.0.79\webapps\flowable-ui\WEB-INF\classes\flowable-default.properties</p> 
<p><img alt="" height="707" src="https://images2.imgbox.com/84/f0/KDxM5N77_o.png" width="1200"></p> 
<p> 参考：</p> 
<pre><code class="hljs">server.port=8080
server.servlet.context-path=/flowable-ui
spring.jmx.unique-names=true
# This is needed to force use of JDK proxies instead of using CGLIB
spring.aop.proxy-target-class=false
spring.aop.auto=false
spring.application.name=flowable-ui
spring.banner.location=classpath:/org/flowable/spring/boot/flowable-banner.txt
# The default domain for generating ObjectNames must be specified. Otherwise when multiple Spring Boot applications start in the same servlet container
# all would be created with the same name (com.zaxxer.hikari:name=dataSource,type=HikariDataSource) for example
spring.jmx.default-domain=${spring.application.name}
#
# SECURITY
#
spring.security.filter.dispatcher-types=REQUEST,FORWARD,ASYNC

# Expose all actuator endpoints to the web
# They are exposed, but only authenticated users can see /info and /health abd users with access-admin can see the others
management.endpoints.web.exposure.include=*
# Full health details should only be displayed when a user is authorized
management.endpoint.health.show-details=when_authorized
# Only users with role access-admin can access full health details
management.endpoint.health.roles=access-admin
# Spring prefixes the roles with ROLE_. However, Flowable does not have that concept yet, so we need to override that with an empty string
flowable.common.app.role-prefix=

#
# SECURITY OAuth2
# Examples are for Keycloak
#
#spring.security.oauth2.resourceserver.jwt.issuer-uri=&lt;keycloakLocation&gt;/auth/realms/&lt;realmName&gt;
#spring.security.oauth2.client.registration.keycloak.client-id=&lt;clientId&gt;
#spring.security.oauth2.client.registration.keycloak.client-secret=&lt;clientSecret&gt;
#spring.security.oauth2.client.registration.keycloak.client-name=Flowable UI Keycloak
#spring.security.oauth2.client.registration.keycloak.authorization-grant-type=authorization_code
#spring.security.oauth2.client.provider.keycloak.issuer-uri=&lt;keycloakLocation&gt;/auth/realms/&lt;realmName&gt;
#spring.security.oauth2.client.provider.keycloak.user-name-attribute=preferred_username

#flowable.common.app.security.type=oauth2
#flowable.common.app.security.oauth2.authorities-attribute=groups
#flowable.common.app.security.oauth2.groups-attribute=userGroups
#flowable.common.app.security.oauth2.default-authorities=access-task
#flowable.common.app.security.oauth2.default-groups=flowableUser
#flowable.common.app.security.oauth2.full-name-attribute=name
#flowable.common.app.security.oauth2.email-attribute=email

#
# DATABASE
#

#spring.datasource.driver-class-name=org.h2.Driver
#spring.datasource.url=jdbc:h2:~/flowable-db/engine-db;AUTO_SERVER=TRUE;AUTO_SERVER_PORT=9093;DB_CLOSE_DELAY=-1

spring.datasource.driver-class-name=com.mysql.jdbc.Driver
spring.datasource.url=jdbc:mysql://192.168.56.100:13306/flowable?characterEncoding=UTF-8

#spring.datasource.driver-class-name=org.postgresql.Driver
#spring.datasource.url=jdbc:postgresql://localhost:5432/flowable

#spring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver
#spring.datasource.url=jdbc:sqlserver://localhost:1433;databaseName=flowablea

#spring.datasource.driver-class-name=oracle.jdbc.driver.OracleDriver
#spring.datasource.url=jdbc:oracle:thin:@localhost:1521:FLOWABLE

#spring.datasource.driver-class-name=com.ibm.db2.jcc.DB2Driver
#spring.datasource.url=jdbc:db2://localhost:50000/flowable

spring.datasource.username=root
spring.datasource.password=my-secret-pw

# JNDI CONFIG

# If uncommented, the datasource will be looked up using the configured JNDI name.
# This will have preference over any datasource configuration done below that doesn't use JNDI
#
# Eg for JBoss: java:jboss/datasources/flowableDS
#
#spring.datasource.jndi-name==jdbc/flowableDS

# Set whether the lookup occurs in a J2EE container, i.e. if the prefix "java:comp/env/" needs to be added if the JNDI
# name doesn't already contain it. Default is "true".
#datasource.jndi.resourceRef=true

#
# Connection pool (see https://github.com/brettwooldridge/HikariCP#configuration-knobs-baby)
#

spring.datasource.hikari.poolName=${spring.application.name}
# 10 minutes
spring.datasource.hikari.maxLifetime=600000
# 5 minutes
spring.datasource.hikari.idleTimeout=300000
spring.datasource.hikari.minimumIdle=10
spring.datasource.hikari.maximumPoolSize=50
# test query for H2, MySQL, PostgreSQL and Microsoft SQL Server
#spring.datasource.hikari.connection-test-query=select 1
# test query for Oracle
#spring.datasource.hikari.connection-test-query=SELECT 1 FROM DUAL
# test query for DB2
#spring.datasource.hikari.connection-test-query=SELECT current date FROM sysibm.sysdummy1

#
# Default Task Executor (will be used for @Async)
#
spring.task.execution.pool.core-size=2
spring.task.execution.pool.max-size=50
spring.task.execution.pool.queue-capacity=10000
spring.task.execution.thread-name-prefix=flowable-ui-task-Executor-

#
# Task scheduling
#
spring.task.scheduling.pool.size=5

#
# EMAIL
#

#flowable.mail.server.host=localhost
#flowable.mail.server.port=1025
#flowable.mail.server.username=
#flowable.mail.server.password=

#
# FLOWABLE
#

flowable.process.definition-cache-limit=512
#flowable.dmn.strict-mode=false
flowable.process.async.executor.default-async-job-acquire-wait-time=PT5S
flowable.process.async.executor.default-timer-job-acquire-wait-time=PT5S

flowable.cmmn.async.executor.default-async-job-acquire-wait-time=PT5S
flowable.cmmn.async.executor.default-timer-job-acquire-wait-time=PT5S

# The maximum file upload limit. Set to -1 to set to 'no limit'. Expressed in bytes
spring.servlet.multipart.max-file-size=10MB
# The maximum request size limit. Set to -1 to set to 'no limit'.
# When multiple files can be uploaded this needs to be more than the 'max-file-size'.
spring.servlet.multipart.max-request-size=10MB

# For development purposes, data folder is created inside the sources ./data folder
flowable.content.storage.root-folder=data/
flowable.content.storage.create-root=true

flowable.common.app.idm-admin.user=admin
flowable.common.app.idm-admin.password=test

flowable.experimental.debugger.enabled=false

# Rest API in task application

# If false, disables the rest api in the task app
flowable.task.app.rest-enabled=true

# Configures the way user credentials are verified when doing a REST API call:
# 'any-user' : the user needs to exist and the password need to match. Any user is allowed to do the call (this is the pre 6.3.0 behavior)
# 'verify-privilege' : the user needs to exist, the password needs to match and the user needs to have the 'rest-api' privilege
# If nothing set, defaults to 'verify-privilege'
flowable.rest.app.authentication-mode=verify-privilege

# Enable form field validation after form submission on the engine side
flowable.form-field-validation-enabled=false

# Flowable Admin Properties

# Passwords for rest endpoints and master configs are stored encrypted in the database using AES/CBC/PKCS5PADDING
# It needs a 128-bit initialization vector (http://en.wikipedia.org/wiki/Initialization_vector)
# and a 128-bit secret key represented as 16 ascii characters below
#
# Do note that if these properties are changed after passwords have been saved, all existing passwords
# will not be able to be decrypted and the password would need to be reset in the UI.
flowable.admin.app.security.encryption.credentials-i-v-spec=j8kdO2hejA9lKmm6
flowable.admin.app.security.encryption.credentials-secret-spec=9FGl73ngxcOoJvmL
#flowable.admin.app.security.preemptive-basic-authentication=true

# Flowable IDM Properties

#
# LDAP
#
#flowable.idm.ldap.enabled=true
#flowable.idm.ldap.server=ldap://localhost
#flowable.idm.ldap.port=10389
#flowable.idm.ldap.user=uid=admin, ou=system
#flowable.idm.ldap.password=secret
#flowable.idm.ldap.base-dn=o=flowable
#flowable.idm.ldap.query.user-by-id=(&amp;(objectClass=inetOrgPerson)(uid={0}))
#flowable.idm.ldap.query.user-by-full-name-like=(&amp;(objectClass=inetOrgPerson)(|({0}=*{1}*)({2}=*{3}*)))
#flowable.idm.ldap.query.all-users=(objectClass=inetOrgPerson)
#flowable.idm.ldap.query.groups-for-user=(&amp;(objectClass=groupOfUniqueNames)(uniqueMember={0}))
#flowable.idm.ldap.query.all-groups=(objectClass=groupOfUniqueNames)
#flowable.idm.ldap.query.group-by-id=(&amp;(objectClass=groupOfUniqueNames)(uniqueId={0}))
#flowable.idm.ldap.attribute.user-id=uid
#flowable.idm.ldap.attribute.first-name=cn
#flowable.idm.ldap.attribute.last-name=sn
#flowable.idm.ldap.attribute.email=mail
#flowable.idm.ldap.attribute.group-id=cn
#flowable.idm.ldap.attribute.group-name=cn
#flowable.idm.ldap.cache.group-size=10000
#flowable.idm.ldap.cache.group-expiration=180000

#
# Keycloak
#
#flowable.idm.app.keycloak.enabled=true
#flowable.idm.app.keycloak.server=&lt;keycloakLocation&gt;
#flowable.idm.app.keycloak.authentication-realm=master
#flowable.idm.app.keycloak.authentication-user=admin
#flowable.idm.app.keycloak.authentication-password=admin
#flowable.idm.app.keycloak.realm=&lt;realm&gt;

#
# DEFAULT ADMINISTRATOR ACCOUNT
#

flowable.idm.app.admin.user-id=admin
flowable.idm.app.admin.password=test
flowable.idm.app.admin.first-name=Test
flowable.idm.app.admin.last-name=Administrator
flowable.idm.app.admin.email=test-admin@example-domain.tld

# Enable and configure JMS
#flowable.task.app.jms-enabled=true
#spring.activemq.broker-url=tcp://localhost:61616

# Enable and configure RabbitMQ
#flowable.task.app.rabbit-enabled=true
#spring.rabbitmq.addresses=localhost:5672
#spring.rabbitmq.username=guest
#spring.rabbitmq.password=guest

# Enable and configure Kafka
#flowable.task.app.kafka-enabled=true
#spring.kafka.bootstrap-servers=localhost:9092
</code></pre> 
<p> 默认情况下flowable有没有把mysql驱动程序打入到war包里面，需要手动添加对应的驱动。apache-tomcat-9.0.79\webapps\flowable-ui\WEB-INF\lib 我选择的是mysql-connector-java-5.1.45.jar驱动，具体可以从网上下载也可以通过maven方式从中央仓库拉取。</p> 
<p><img alt="" height="629" src="https://images2.imgbox.com/f2/2d/dMJVcOXO_o.png" width="982"></p> 
<p> 再次启动tomcat，访问<a href="http://127.0.0.1:8080/flowable-ui" rel="nofollow" title="http://127.0.0.1:8080/flowable-ui">http://127.0.0.1:8080/flowable-ui</a> 初始用户名和密码：admin/test</p> 
<h2>3、springboot接入flowable</h2> 
<p>登录flowable之后选择建模器应用程序，添加一个流程，我这边已经添加了一个简单的请假流程。</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/f9/4a/9KRU1eVv_o.png" width="1200"></p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/a6/21/YqYgSHlE_o.png" width="1200"></p> 
<p>新入门可以导入我们流程定义，具体文件在看的我资源。重点介绍springboot如何集成flowable，配置后续有机会在单独介绍里程配置说明。</p> 
<p>新建springboot项目添加响应的依赖。</p> 
<pre><code class="hljs"> &lt;dependencies&gt;
        
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
        &lt;/dependency&gt;
        
        &lt;dependency&gt;
            &lt;groupId&gt;org.flowable&lt;/groupId&gt;
            &lt;artifactId&gt;flowable-spring-boot-starter&lt;/artifactId&gt;
            &lt;version&gt;6.7.0&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;mysql&lt;/groupId&gt;
            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
            &lt;version&gt;5.1.45&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;!-- Flowable 内部日志采用 SLF4J --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;
            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;
            &lt;version&gt;1.7.21&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;
            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;
            &lt;version&gt;1.7.21&lt;/version&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;</code></pre> 
<p><img alt="" height="718" src="https://images2.imgbox.com/0c/8c/nzDEvxXy_o.png" width="661"></p> 
<p>application.yml配置：</p> 
<pre><code class="hljs">spring:
  datasource:
    url: jdbc:mysql://192.168.56.100:13306/flowable?useSSL=false&amp;characterEncoding=UTF-8&amp;serverTimezone=GMT%2B8
    driver-class-name: com.mysql.jdbc.Driver
    username: root
    password: my-secret-pw
# flowable 配置
flowable:
  # 关闭异步，不关闭历史数据的插入就是异步的，会在同一个事物里面，无法回滚
  # 开发可开启会提高些效率，上线需要关闭
  async-executor-activate: false
server:
  port: 18080</code></pre> 
<p>Controller</p> 
<pre><code class="hljs">import liquibase.pro.packaged.O;
import liquibase.pro.packaged.U;
import org.flowable.bpmn.model.BpmnModel;
import org.flowable.engine.*;
import org.flowable.engine.history.HistoricActivityInstance;
import org.flowable.engine.history.HistoricProcessInstance;
import org.flowable.engine.runtime.ActivityInstance;
import org.flowable.engine.runtime.Execution;
import org.flowable.engine.runtime.ProcessInstance;
import org.flowable.image.ProcessDiagramGenerator;
import org.flowable.task.api.Task;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

import javax.servlet.http.HttpServletResponse;
import java.io.InputStream;
import java.io.OutputStream;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

/**
 * @author pyj
 * @date 2019/10/30
 */
@RestController
@RequestMapping("flowable")
public class TestController {

    @Autowired
    private RuntimeService runtimeService;
    @Autowired
    private TaskService taskService;
    @Autowired
    private HistoryService historyService;
    @Autowired
    private RepositoryService repositoryService;
    @Autowired
    private ProcessEngine processEngine;

    /**
     * 创建流程
     *
     * @param userId
     * @param days
     * @param reason
     * @return
     */
    @GetMapping("add")
    public String addExpense(String userId, String days, String reason) {
        Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();
        map.put("employee", userId);
        map.put("nrOfHolidays", days);
        map.put("description", reason);

        ProcessInstance processInstance = runtimeService.startProcessInstanceByKey("holidayRequest", map);
        return "提交成功,流程ID为：" + processInstance.getId();
    }

    /**
     * 获取指定用户组流程任务列表
     *
     * @return
     */
    @GetMapping("listtask")
    public Object listtask() {
        StringBuffer btf = new StringBuffer();
        List&lt;Task&gt; list = taskService.createTaskQuery().list();
        for (Task task : list){
            btf.append(task.getId()+"\r\n");
            System.out.println(task.getId());
        }
        return btf.toString();
    }

    /**
     * 获取指定用户组流程任务列表
     *
     * @param group
     * @return
     */
    @GetMapping("list")
    public Object list(String group) {
        List&lt;Task&gt; list = taskService.createTaskQuery().list();
        List&lt;Task&gt; tasks = taskService.createTaskQuery().taskCandidateGroup(group).list();
        return tasks.toString();
    }

    /**
     * 通过/拒绝任务
     *
     * @param taskId
     * @param approved 1 ：true  2：false
     * @return
     */
    @GetMapping("apply")
    public String apply(String taskId, String approved) {
        Task task = taskService.createTaskQuery().taskId(taskId).singleResult();
        if (task == null) {
            return "流程不存在";
        }
        Map&lt;String, Object&gt; variables = new HashMap&lt;&gt;();
        Boolean apply = approved.equals("1") ? true : false;
        variables.put("approved", apply);
        taskService.complete(taskId, variables);
        return "审批是否通过：" + approved;

    }

    /**
     * 查看历史流程记录
     *
     * @param processInstanceId
     * @return
     */
    @GetMapping("historyList")
    public Object getHistoryList(String processInstanceId) {
        List&lt;HistoricActivityInstance&gt; historicActivityInstances = historyService.createHistoricActivityInstanceQuery()
                .processInstanceId(processInstanceId).finished().orderByHistoricActivityInstanceEndTime().asc().list();

        return historicActivityInstances;
    }

    /**
     * 驳回流程实例
     *
     * @param taskId
     * @param targetTaskKey
     * @return
     */
    @GetMapping("rollbask")
    public String rollbaskTask(String taskId, String targetTaskKey) {
        Task currentTask = taskService.createTaskQuery().taskId(taskId).singleResult();
        if (currentTask == null) {
            return "节点不存在";
        }
        List&lt;String&gt; key = new ArrayList&lt;&gt;();
        key.add(currentTask.getTaskDefinitionKey());


        runtimeService.createChangeActivityStateBuilder()
                .processInstanceId(currentTask.getProcessInstanceId())
                .moveActivityIdsToSingleActivityId(key, targetTaskKey)
                .changeState();
        return "驳回成功...";
    }


    /**
     * 终止流程实例
     *
     * @param processInstanceId
     */
    public String deleteProcessInstanceById(String processInstanceId) {
        // ""这个参数本来可以写删除原因
        runtimeService.deleteProcessInstance(processInstanceId, "");
        return "终止流程实例成功";
    }


    /**
     * 挂起流程实例
     *
     * @param processInstanceId 当前流程实例id
     */
    @GetMapping("hangUp")
    public String handUpProcessInstance(String processInstanceId) {
        runtimeService.suspendProcessInstanceById(processInstanceId);
        return "挂起流程成功...";
    }

    /**
     * 恢复（唤醒）被挂起的流程实例
     *
     * @param processInstanceId 流程实例id
     */
    @GetMapping("recovery")
    public String activateProcessInstance(String processInstanceId) {
        runtimeService.activateProcessInstanceById(processInstanceId);
        return "恢复流程成功...";
    }


    /**
     * 判断传入流程实例在运行中是否存在
     *
     * @param processInstanceId
     * @return
     */
    @GetMapping("isExist/running")
    public Boolean isExistProcIntRunning(String processInstanceId) {
        ProcessInstance processInstance = runtimeService.createProcessInstanceQuery().processInstanceId(processInstanceId).singleResult();
        if (processInstance == null) {
            return false;
        }
        return true;
    }

    /**
     * 判断流程实例在历史记录中是否存在
     * @param processInstanceId
     * @return
     */
    @GetMapping("isExist/history")
    public Boolean isExistProcInHistory(String processInstanceId) {
        HistoricProcessInstance historicProcessInstance = historyService.createHistoricProcessInstanceQuery().processInstanceId(processInstanceId).singleResult();
        if (historicProcessInstance == null) {
            return false;
        }
        return true;
    }


    /**
     * 我发起的流程实例列表
     *
     * @param userId
     * @return 流程实例列表
     */
    @GetMapping("myTasks")
    public List&lt;HistoricProcessInstance&gt; getMyStartProcint(String userId) {
        List&lt;HistoricProcessInstance&gt; list = historyService
                .createHistoricProcessInstanceQuery()
                .startedBy(userId)
                .orderByProcessInstanceStartTime()
                .asc()
                .list();
        return list;
    }


    /**
     * 查询流程图
     *
     * @param httpServletResponse
     * @param processId
     * @throws Exception
     */
    @RequestMapping(value = "processDiagram")
    public void genProcessDiagram(HttpServletResponse httpServletResponse, String processId) throws Exception {

        List&lt;ActivityInstance&gt; activityInstanceList =  runtimeService.createActivityInstanceQuery().list();
        for(ActivityInstance activityInstance : activityInstanceList){
            System.out.println(activityInstance.getId());
        }

        System.out.println("=========================================================================");

        List&lt;ProcessInstance&gt; list =  runtimeService.createProcessInstanceQuery().list();
        for(ProcessInstance processInstance : list){
            System.out.println(processInstance.getId());
        }

        ProcessInstance pi = runtimeService.createProcessInstanceQuery().processInstanceId(processId).singleResult();

        //流程走完的不显示图
        if (pi == null) {
            return;
        }
        Task task = taskService.createTaskQuery().processInstanceId(pi.getId()).singleResult();
        //使用流程实例ID，查询正在执行的执行对象表，返回流程实例对象
        String InstanceId = task.getProcessInstanceId();
        List&lt;Execution&gt; executions = runtimeService
                .createExecutionQuery()
                .processInstanceId(InstanceId)
                .list();

        //得到正在执行的Activity的Id
        List&lt;String&gt; activityIds = new ArrayList&lt;&gt;();
        List&lt;String&gt; flows = new ArrayList&lt;&gt;();
        for (Execution exe : executions) {
            List&lt;String&gt; ids = runtimeService.getActiveActivityIds(exe.getId());
            activityIds.addAll(ids);
        }

        //获取流程图
        BpmnModel bpmnModel = repositoryService.getBpmnModel(pi.getProcessDefinitionId());
        ProcessEngineConfiguration engconf = processEngine.getProcessEngineConfiguration();
        ProcessDiagramGenerator diagramGenerator = engconf.getProcessDiagramGenerator();
        InputStream in = diagramGenerator.generateDiagram(bpmnModel, "png", activityIds, flows, engconf.getActivityFontName(), engconf.getLabelFontName(), engconf.getAnnotationFontName(), engconf.getClassLoader(), 1.0,true);
        OutputStream out = null;
        byte[] buf = new byte[1024];
        int legth = 0;
        try {
            out = httpServletResponse.getOutputStream();
            while ((legth = in.read(buf)) != -1) {
                out.write(buf, 0, legth);
            }
        } finally {
            if (in != null) {
                in.close();
            }
            if (out != null) {
                out.close();
            }
        }
    }

}
</code></pre> 
<p>Flowable提供了几个Service接口和实现类，可以通过service拿到流程的一些定义、流转等信息。</p> 
<p>正如TestController里面定义的几个方法，分别是实例化流程，审批流程，查看流程等操作。如下</p> 
<p>实例化流程：</p> 
<p><img alt="" height="967" src="https://images2.imgbox.com/97/30/UQJtq2vA_o.png" width="1200"></p> 
<p>审批流程：</p> 
<p><img alt="" height="658" src="https://images2.imgbox.com/f6/94/x8m1JOet_o.png" width="1200"></p> 
<p>拉取当前流程任务清单：</p> 
<p><img alt="" height="722" src="https://images2.imgbox.com/6e/2c/v5n3UP8h_o.png" width="1200"></p> 
<p>查看流程状态：</p> 
<p><img alt="" height="424" src="https://images2.imgbox.com/e7/ba/6J7OENKK_o.png" width="1200"></p> 
<p>具体大家可以参考如下文章有详细的springboot集成指引。</p> 
<p><a href="https://tkjohn.github.io/flowable-userguide/#springSpringBoot" rel="nofollow" title="Flowable BPMN 用户手册 (v 6.3.0)">Flowable BPMN 用户手册 (v 6.3.0)</a></p> 
<p> </p> 
<p> </p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7204b2f3b00a5d629514c607d05e79b9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">一文读懂clickhouse 的normal join和global join区别</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3fc233a330f5b47559a5b475dd88dde6/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">STM32使用printf的方法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程爱好者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151260"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>