<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Java电商秒杀系统项目笔记（不断完善中） - 编程爱好者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Java电商秒杀系统项目笔记（不断完善中）" />
<meta property="og:description" content="主要业务包括用户的注册、登录；商品的创建、商品详细信息的展示、单个商品的详情与下单。采用前后端分离的设计思想，使用Ajax进行交互
后端：SpringBoot &#43; Mybatis &#43; Mysql &#43; Redis &#43; Nginx &#43; RocketMQ
前端：Html &#43; CSS &#43; JS
部署在阿里云服务器上面。
项目源码地址：Gitee
MySQL数据库设计 主键查询：千万级别数据 = 1-10 毫秒唯一索引查询：千万级别数据 = 10-100 毫秒非唯一索引查询：千万级别数据 = 100-1000 毫秒无索引：百万条数据 = 1000 毫秒&#43; 表结构 用户信息表：user_info（id、name、gender、age、telephone）用户密码表：uesr_password（id、encrypte_password、user_id）商品信息表：item（id、title、price、description、sales、img_url）商品库存表：item_stock（id、stock、item_id）活动商品信息表：promo（id、promo_name、start_time、end_time、item_id、promo_item_price）订单信息表：order_info（id、user_id、item_id、promo_id、item_price、amount、order_price）序列号信息表：sequence_info（name、current_value、step）库存流水表：stock_log_id（stock_log_id、item_id、amount、status） 💡 用户信息表（user_info）存放用户的个人信息，用户密码表（uesr_password）存放用户加密后的密码。密码和用户的主表信息分开存储，一是方便管理、二是一般企业级项目中密码可能会由第三方管理平台托管。
💡 库存流水表（stock_log_id）用于在 RocketMQ 调用 checkLocalTransaction() 方法时判断消息的下一步操作（回滚还是提交）
系统设计 系统设计遵从领域模型的分层设计思想
接入层（View Object）：与前端对接的模型，隐藏内部实现，供展示的聚合模型。
View Object：返回给前端的业务模型，保证了 UI 只使用到需要展示的字段业务层（Domain Model）：领域模型，业务核心模型，拥有生命周期，贫血并以服务输出能力。
Domain Model：核心领域模型。在 Service 层组装了核心的领域模型，真正意义上处理业务逻辑的模型。数据层（Data Object）：数据模型，同数据库映射，用以 ORM 方式操作数据库的能力模型。
Data Object：与数据库字段一一映射。负责数据存储到 Service 层的数据传输 用户模块 otp 短信获取otp 用户注册用户登录（建立 token 和用户登录态之间的联系，存入 Redis 中，实现分布式会话的管理） 商品模块 商品创建商品列表页展示商品详情页展示（多级缓存的实现：先从本地缓存中查找商品详情数据，未命中本地缓存，再从 Redis 中查询数据，未命中 Redis，就查询数据库返回数据，并同步到 Redis 和本地缓存中）发布活动商品（该接口用于上架活动商品，并将商品库存同步到 Redis 中，同时设置秒杀大闸的限制数字（秒杀令牌的发放数量） 订单模块 生成验证码（将验证码存储到 Redis 中，用于和用户输入的验证码进行校验）生成秒杀令牌（用户下单之前会调用此接口，获取秒杀令牌，拥有秒杀令牌的用户才能下单，秒杀令牌存放在 Redis 中）下单（RateLimiter 进行限流，校验用户登录信息，校验秒杀令牌信息。线程池队列泄洪，用来控制流量的大量涌入。初始化订单流水，之后就是真正的下单逻辑，使用 RocketMQ 事务型消息机制） ⭐️ 下单逻辑 用户点击商品详情页面的下单按钮，请求下单接口." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bchobby.github.io/posts/5b2d3e5c770ff95f1de857fbc3eb91ec/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-04-29T18:22:23+08:00" />
<meta property="article:modified_time" content="2023-04-29T18:22:23+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程爱好者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程爱好者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Java电商秒杀系统项目笔记（不断完善中）</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p>主要业务包括用户的注册、登录；商品的创建、商品详细信息的展示、单个商品的详情与下单。采用前后端分离的设计思想，使用Ajax进行交互<br> 后端：SpringBoot + Mybatis + Mysql + Redis + Nginx + RocketMQ<br> 前端：Html + CSS + JS<br> 部署在阿里云服务器上面。<br> 项目源码地址：<a href="https://gitee.com/SongJian-99/miaosha" rel="nofollow">Gitee</a></p> 
</blockquote> 
<h2><a id="MySQL_6"></a>MySQL数据库设计</h2> 
<ul><li>主键查询：千万级别数据 = 1-10 毫秒</li><li>唯一索引查询：千万级别数据 = 10-100 毫秒</li><li>非唯一索引查询：千万级别数据 = 100-1000 毫秒</li><li>无索引：百万条数据 = 1000 毫秒+</li></ul> 
<h3><a id="_11"></a>表结构</h3> 
<ul><li>用户信息表：user_info（id、name、gender、age、telephone）</li><li>用户密码表：uesr_password（id、encrypte_password、user_id）</li><li>商品信息表：item（id、title、price、description、sales、img_url）</li><li>商品库存表：item_stock（id、stock、item_id）</li><li>活动商品信息表：promo（id、promo_name、start_time、end_time、item_id、promo_item_price）</li><li>订单信息表：order_info（id、user_id、item_id、promo_id、item_price、amount、order_price）</li><li>序列号信息表：sequence_info（name、current_value、step）</li><li>库存流水表：stock_log_id（stock_log_id、item_id、amount、status）</li></ul> 
<p>💡 用户信息表（user_info）存放用户的个人信息，用户密码表（uesr_password）存放用户加密后的密码。密码和用户的主表信息分开存储，一是方便管理、二是一般企业级项目中密码可能会由第三方管理平台托管。<br> 💡 库存流水表（stock_log_id）用于在 RocketMQ 调用 checkLocalTransaction() 方法时判断消息的下一步操作（回滚还是提交）</p> 
<h2><a id="_23"></a>系统设计</h2> 
<p>系统设计遵从领域模型的分层设计思想</p> 
<ul><li>接入层（View Object）：与前端对接的模型，隐藏内部实现，供展示的聚合模型。<br> View Object：返回给前端的业务模型，保证了 UI 只使用到需要展示的字段</li><li>业务层（Domain Model）：领域模型，业务核心模型，拥有生命周期，贫血并以服务输出能力。<br> Domain Model：核心领域模型。在 Service 层组装了核心的领域模型，真正意义上处理业务逻辑的模型。</li><li>数据层（Data Object）：数据模型，同数据库映射，用以 ORM 方式操作数据库的能力模型。<br> Data Object：与数据库字段一一映射。负责数据存储到 Service 层的数据传输</li></ul> 
<h3><a id="_31"></a>用户模块</h3> 
<ol><li>otp 短信获取</li><li>otp 用户注册</li><li>用户登录（建立 token 和用户登录态之间的联系，存入 Redis 中，实现分布式会话的管理）</li></ol> 
<h3><a id="_35"></a>商品模块</h3> 
<ol><li>商品创建</li><li>商品列表页展示</li><li>商品详情页展示（多级缓存的实现：先从本地缓存中查找商品详情数据，未命中本地缓存，再从 Redis 中查询数据，未命中 Redis，就查询数据库返回数据，并同步到 Redis 和本地缓存中）</li><li>发布活动商品（该接口用于上架活动商品，并将商品库存同步到 Redis 中，同时设置秒杀大闸的限制数字（秒杀令牌的发放数量）</li></ol> 
<h3><a id="_41"></a>订单模块</h3> 
<ol><li>生成验证码（将验证码存储到 Redis 中，用于和用户输入的验证码进行校验）</li><li>生成秒杀令牌（用户下单之前会调用此接口，获取秒杀令牌，拥有秒杀令牌的用户才能下单，秒杀令牌存放在 Redis 中）</li><li>下单（RateLimiter 进行限流，校验用户登录信息，校验秒杀令牌信息。线程池队列泄洪，用来控制流量的大量涌入。初始化订单流水，之后就是真正的下单逻辑，使用 RocketMQ 事务型消息机制）</li></ol> 
<h3><a id="star__47"></a>⭐️ 下单逻辑</h3> 
<ul><li><font color="red">用户点击商品详情页面的下单按钮，请求下单接口.在下单接口中会调用 mqProducer 的事务型同步扣减库存的方法，在该方法中 RocketMQ 的 producer 发送了一条 message 到 broker 中，此时这条消息在 broker 中是 prepared 状态（还不能被 comsumr 消费），然后回调 TransactionListener 接口中我们重写的 executeLocalTransaction() 方法，在这个方法中我们进行真正的下单操作（减 Redis 中的库存、订单入库、增加商品销量、设置库存流水状态为成功）。如果下单过程中长时间不返回，RocketMQ 就会自动调用 TransactionListener 接口中另外一个我们重写的 checkLocalTransaction() 方法，在这个方法中我们就可以根据库存流水状态来判断下单操作是否执行成功， 确定 broker 中的 message 是回滚还是提交。如果下单过程中出现异常，我们就会捕获到异常，同时设置订单流水状态为回滚状态，返回 ROLLBACK_MESSAGE，代表下单失败。没有异常就代表下单成功，返回 COMMIT_MESSAGE，这时 broker 中的 message 就会被 consumer 发现，调用 consumer 中的方法，进行数据库中同步扣减库存的操作。</font></li><li>这一套下单逻辑就能确保如果我下单失败，数据库同步库存扣减的消息也会发送失败。如果下单成功，我的消息也会发送成功，数据库库存就会扣减成功。始终与Redis中的库存保持一致</li></ul> 
<h2><a id="_Tomcat__51"></a>修改内嵌 Tomcat 默认配置</h2> 
<p>在<code>spring-configuration.metedata.json</code>文件中查看 Tomcat 的默认配置。可以在 application.yaml 文件中修改 Tomcat 配置。</p> 
<ul><li> <p>server.tomcat.accept-count：等待队列长度，默认为 100</p> <pre><code class="prism language-json"><span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"server.tomcat.accept-count"</span><span class="token punctuation">,</span>
<span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"java.lang.Integer"</span><span class="token punctuation">,</span>
<span class="token string-property property">"description"</span><span class="token operator">:</span> <span class="token string">"Maximum queue length for incoming connection requests when all possible request processing threads are in use."</span><span class="token punctuation">,</span>
<span class="token string-property property">"sourceType"</span><span class="token operator">:</span> <span class="token string">"org.springframework.boot.autoconfigure.web.ServerProperties$Tomcat"</span><span class="token punctuation">,</span>
<span class="token string-property property">"defaultValue"</span><span class="token operator">:</span> <span class="token number">100</span>
</code></pre> </li><li> <p>server.tomcat.max-connections：最大可被连接数，默认为 8192</p> <pre><code class="prism language-json"><span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"server.tomcat.max-connections"</span><span class="token punctuation">,</span>
<span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"java.lang.Integer"</span><span class="token punctuation">,</span>
<span class="token string-property property">"description"</span><span class="token operator">:</span> <span class="token string">"Maximum number of connections that the server accepts and processes at any given time. Once the limit has been reached, the operating system may still accept connections based on the \"acceptCount\" property."</span><span class="token punctuation">,</span>
<span class="token string-property property">"sourceType"</span><span class="token operator">:</span> <span class="token string">"org.springframework.boot.autoconfigure.web.ServerProperties$Tomcat"</span><span class="token punctuation">,</span>
<span class="token string-property property">"defaultValue"</span><span class="token operator">:</span> <span class="token number">8192</span>	
</code></pre> </li><li> <p>server.tomcat.threads.max：最大工作线程数，默认为 200。（经验配置：4 核 8g 的机器 800 个线程）</p> <pre><code class="prism language-json"><span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"server.tomcat.threads.max"</span><span class="token punctuation">,</span>
<span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"java.lang.Integer"</span><span class="token punctuation">,</span>
<span class="token string-property property">"description"</span><span class="token operator">:</span> <span class="token string">"Maximum amount of worker threads."</span><span class="token punctuation">,</span>
<span class="token string-property property">"sourceType"</span><span class="token operator">:</span><span class="token string">"org.springframework.boot.autoconfigure.web.ServerProperties$Tomcat$Threads"</span><span class="token punctuation">,</span>
<span class="token string-property property">"defaultValue"</span><span class="token operator">:</span> <span class="token number">200</span>
</code></pre> </li><li> <p>server.tomcat.threads.min-spare：最小工作线程数，默认为 10</p> <pre><code class="prism language-json"><span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"server.tomcat.threads.min-spare"</span><span class="token punctuation">,</span>
<span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"java.lang.Integer"</span><span class="token punctuation">,</span>
<span class="token string-property property">"description"</span><span class="token operator">:</span> <span class="token string">"Minimum amount of worker threads."</span><span class="token punctuation">,</span>
<span class="token string-property property">"sourceType"</span><span class="token operator">:</span> <span class="token string">"org.springframework.boot.autoconfigure.web.ServerProperties$Tomcat$Threads"</span><span class="token punctuation">,</span>
<span class="token string-property property">"defaultValue"</span><span class="token operator">:</span> <span class="token number">10</span>
</code></pre> </li></ul> 
<ul><li> <p>默认配置下，连接数超过 8192（最大可被连接数）后会出现拒接连接情况</p> </li><li> <p>默认配置下，触发的请求超过 200（最大工作线程数）+ 100（等待队列长度）后拒绝处理</p> </li></ul> 
<h2><a id="RocketMQ_99"></a>RocketMQ</h2> 
<h3><a id="_100"></a>默认内存大小设置</h3> 
<p>下载安装后，RocketMQ 默认内存设置比较大。如果服务器内存比较大，可以不调整；如果服务器内存比较小，需要修改默认内存大小。总共有三个配置文件，位于<font color="green"> <strong>bin</strong> </font>目录下的 runserver.sh、runbroker.sh、tools.sh 。不调整这三个文件，会导致服务无法启动。</p> 
<pre><code># vim bin/runserver.sh　　
JAVA_OPT="${JAVA_OPT} -server -Xms256m -Xmx256m -Xmn512m -XX:MetaspaceSize=128m -XX:MaxMetaspaceSize=320m"

# vim bin/runbroker.sh
JAVA_OPT="${JAVA_OPT} -server -Xms256m -Xmx256m -Xmn128m"

# vim bin/tools.sh
JAVA_OPT="${JAVA_OPT} -server -Xms256m -Xmx256m -Xmn256m -XX:PermSize=128m -XX:MaxPermSize=128m"
</code></pre> 
<h3><a id="Start_Name_Server_115"></a>Start Name Server(摘自官网)</h3> 
<pre><code class="prism language-java"> <span class="token operator">&gt;</span> nohup sh bin<span class="token operator">/</span>mqnamesrv <span class="token operator">&amp;</span>
 <span class="token operator">&gt;</span> tail <span class="token operator">-</span>f <span class="token operator">~</span><span class="token operator">/</span>logs<span class="token operator">/</span>rocketmqlogs<span class="token operator">/</span>namesrv<span class="token punctuation">.</span>log
 <span class="token class-name">The</span> <span class="token class-name">Name</span> <span class="token class-name">Server</span> boot success<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre> 
<h3><a id="Start_Broker_123"></a>Start Broker(摘自官网)</h3> 
<pre><code class="prism language-java"> <span class="token operator">&gt;</span> nohup sh bin<span class="token operator">/</span>mqbroker <span class="token operator">-</span>n localhost<span class="token operator">:</span><span class="token number">9876</span> <span class="token operator">&amp;</span>
 <span class="token operator">&gt;</span> tail <span class="token operator">-</span>f <span class="token operator">~</span><span class="token operator">/</span>logs<span class="token operator">/</span>rocketmqlogs<span class="token operator">/</span>broker<span class="token punctuation">.</span>log 
 <span class="token class-name">The</span> broker<span class="token punctuation">[</span><span class="token operator">%</span>s<span class="token punctuation">,</span> <span class="token number">172.30</span><span class="token number">.30</span><span class="token number">.233</span><span class="token operator">:</span><span class="token number">10911</span><span class="token punctuation">]</span> boot success<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre> 
<h3><a id="Send__Receive_Messages_131"></a>Send &amp; Receive Messages(摘自官网)</h3> 
<p>Before sending/receiving messages, we need to tell clients the location of name servers. RocketMQ provides multiple ways to achieve this. For simplicity, we use environment variable <code>NAMESRV_ADDR</code>(在发送或者接收消息之前，我们需要告诉客户端 name servers 的位置，RocketMQ 提供了多种实现方式。例如，我们使用环境变量NAMESRV_ADDR)</p> 
<pre><code> &gt; export NAMESRV_ADDR=localhost:9876
 &gt; sh bin/tools.sh org.apache.rocketmq.example.quickstart.Producer
 SendResult [sendStatus=SEND_OK, msgId= ...

 &gt; sh bin/tools.sh org.apache.rocketmq.example.quickstart.Consumer
 ConsumeMessageThread_%d Receive New Messages: [MessageExt...
</code></pre> 
<h3><a id="Shutdown_Servers_144"></a>Shutdown Servers(摘自官网)</h3> 
<pre><code>&gt; sh bin/mqshutdown broker
The mqbroker(36695) is running...
Send shutdown request to mqbroker(36695) OK

&gt; sh bin/mqshutdown namesrv
The mqnamesrv(36664) is running...
Send shutdown request to mqnamesrv(36664) OK
</code></pre> 
<h3><a id="RocketMQTopic_156"></a>RocketMQ创建Topic</h3> 
<p>创建 Topic 命令：<code>./mqadmin updateTopic -n localhost:9876 -t stock -c DefaultCluster</code></p> 
<ul><li>updateTopic：创建 Topic</li><li>-n：指定 nameserver 的地址</li><li>-t：指定 Topic 的名字</li></ul> 
<h2><a id="_164"></a>问题汇总</h2> 
<h3><a id="_166"></a>前后端跨域请求</h3> 
<p>后端支持跨域请求：在 Controller 上面加上 @CrossOrigin() 注解</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@CrossOrigin</span><span class="token punctuation">(</span>allowCredentials <span class="token operator">=</span> <span class="token string">"true"</span><span class="token punctuation">,</span>originPatterns <span class="token operator">=</span> <span class="token string">"*"</span><span class="token punctuation">)</span>
<span class="token comment">//	@CrossOrigin()注解：支持跨域请求</span>
<span class="token comment">//	allowCredentials参数需配合前端设置xhrFields授信后使得跨域session共享</span>
<span class="token comment">//	originPatterns参数允许跨域传输所有的header参数，将用于使用token放入header域做session共享的跨域请求(跨域请求的session共享)</span>
</code></pre> 
<p>在对应接口的 @RequestMapping() 注解中添加参数 consumes = {“application/x-www-form-urlencoded”}</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/register"</span><span class="token punctuation">,</span>method <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token class-name">RequestMethod</span><span class="token punctuation">.</span>POST<span class="token punctuation">}</span><span class="token punctuation">,</span>consumes <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">"application/x-www-form-urlencoded"</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<p>前端页面 Ajax 请求中添加下面的请求头，以支持跨域请求，与后端呼应。</p> 
<pre><code class="prism language-html">contentType: "application/x-www-form-urlencoded",
xhrFields:{withCredentials:true},
</code></pre> 
<h3><a id="_190"></a>超卖问题</h3> 
<p>​ 秒杀场景下，并发会特别的大，有两种情况会导致库存卖超：</p> 
<ol><li>一个用户同时发出了多个请求，如果库存足够，没加限制，用户就可以下多个订单。</li><li>减库存的 SQL 上没有加库存数量的判断，并发的时候也会导致把库存减成负数。</li></ol> 
<p>对于第一种情况，可以通过在页面上添加验证码的方式，防止合法用户快速点鼠标同时发出多个请求，并且在数据库的 order_info 表中，对 user_id 和 item_id 加唯一索引，确保就算是刷接口一个用户对一个商品也绝对不会生成两个订单。对于第二种情况需要在扣减库存的 SQL 语句上加上库存数量的判断，只有扣减库存成功才可以生成订单</p> 
<p><strong>总结如何解决超卖问题</strong></p> 
<ul><li>在sql语句上面加上判断防止数据变为负数</li><li>数据库加上唯一索引防止用户重复购买</li><li>Redis 预减库存以减少数据库访问，库存标记减少 Redis 访问，请求先入队列，异步下单，增强用户体验</li></ul> 
<h3><a id="RocketMQ__Topic_205"></a>RocketMQ 第一次创建 Topic</h3> 
<p>第一次创建topic时报错如下：</p> 
<p><code>org.apache.rocketmq.tools.command.SubCommandException: UpdateTopicSubCommand command failed site:blog.csdn.net</code></p> 
<p>错误原因：jar包引用失败<br> 解决办法：在tool.sh中${JAVA_HOME}/jre/lib/ext后加上ext文件夹的绝对路径（jdk路径）</p> 
<pre><code>vim /app/rocketmq/bin/tools.sh
如JAVA_OPT="${JAVA_OPT} -Djava.ext.dirs=${BASE_DIR}/lib:${JAVA_HOME}/jre/lib/ext:${JAVA_HOME}/lib/ext:/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.252.b09-2.el7_8.x86_64/jre/lib/ext"
</code></pre>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d4af496fe67e44e2605c8fa2cd0c00d3/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">图像分割模型性能的指标IOU与ACC</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a2dc8fed46d2c603c9b1538ae57f85c7/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">安装了Volar插件vue文件没有显示Volar的图标</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程爱好者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151260"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>