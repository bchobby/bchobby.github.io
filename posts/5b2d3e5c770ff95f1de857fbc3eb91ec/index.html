<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Javaç”µå•†ç§’æ€ç³»ç»Ÿé¡¹ç›®ç¬”è®°ï¼ˆä¸æ–­å®Œå–„ä¸­ï¼‰ - ç¼–ç¨‹çˆ±å¥½è€…åšå®¢</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Javaç”µå•†ç§’æ€ç³»ç»Ÿé¡¹ç›®ç¬”è®°ï¼ˆä¸æ–­å®Œå–„ä¸­ï¼‰" />
<meta property="og:description" content="ä¸»è¦ä¸šåŠ¡åŒ…æ‹¬ç”¨æˆ·çš„æ³¨å†Œã€ç™»å½•ï¼›å•†å“çš„åˆ›å»ºã€å•†å“è¯¦ç»†ä¿¡æ¯çš„å±•ç¤ºã€å•ä¸ªå•†å“çš„è¯¦æƒ…ä¸ä¸‹å•ã€‚é‡‡ç”¨å‰åç«¯åˆ†ç¦»çš„è®¾è®¡æ€æƒ³ï¼Œä½¿ç”¨Ajaxè¿›è¡Œäº¤äº’
åç«¯ï¼šSpringBoot &#43; Mybatis &#43; Mysql &#43; Redis &#43; Nginx &#43; RocketMQ
å‰ç«¯ï¼šHtml &#43; CSS &#43; JS
éƒ¨ç½²åœ¨é˜¿é‡Œäº‘æœåŠ¡å™¨ä¸Šé¢ã€‚
é¡¹ç›®æºç åœ°å€ï¼šGitee
MySQLæ•°æ®åº“è®¾è®¡ ä¸»é”®æŸ¥è¯¢ï¼šåƒä¸‡çº§åˆ«æ•°æ® = 1-10 æ¯«ç§’å”¯ä¸€ç´¢å¼•æŸ¥è¯¢ï¼šåƒä¸‡çº§åˆ«æ•°æ® = 10-100 æ¯«ç§’éå”¯ä¸€ç´¢å¼•æŸ¥è¯¢ï¼šåƒä¸‡çº§åˆ«æ•°æ® = 100-1000 æ¯«ç§’æ— ç´¢å¼•ï¼šç™¾ä¸‡æ¡æ•°æ® = 1000 æ¯«ç§’&#43; è¡¨ç»“æ„ ç”¨æˆ·ä¿¡æ¯è¡¨ï¼šuser_infoï¼ˆidã€nameã€genderã€ageã€telephoneï¼‰ç”¨æˆ·å¯†ç è¡¨ï¼šuesr_passwordï¼ˆidã€encrypte_passwordã€user_idï¼‰å•†å“ä¿¡æ¯è¡¨ï¼šitemï¼ˆidã€titleã€priceã€descriptionã€salesã€img_urlï¼‰å•†å“åº“å­˜è¡¨ï¼šitem_stockï¼ˆidã€stockã€item_idï¼‰æ´»åŠ¨å•†å“ä¿¡æ¯è¡¨ï¼špromoï¼ˆidã€promo_nameã€start_timeã€end_timeã€item_idã€promo_item_priceï¼‰è®¢å•ä¿¡æ¯è¡¨ï¼šorder_infoï¼ˆidã€user_idã€item_idã€promo_idã€item_priceã€amountã€order_priceï¼‰åºåˆ—å·ä¿¡æ¯è¡¨ï¼šsequence_infoï¼ˆnameã€current_valueã€stepï¼‰åº“å­˜æµæ°´è¡¨ï¼šstock_log_idï¼ˆstock_log_idã€item_idã€amountã€statusï¼‰ ğŸ’¡ ç”¨æˆ·ä¿¡æ¯è¡¨ï¼ˆuser_infoï¼‰å­˜æ”¾ç”¨æˆ·çš„ä¸ªäººä¿¡æ¯ï¼Œç”¨æˆ·å¯†ç è¡¨ï¼ˆuesr_passwordï¼‰å­˜æ”¾ç”¨æˆ·åŠ å¯†åçš„å¯†ç ã€‚å¯†ç å’Œç”¨æˆ·çš„ä¸»è¡¨ä¿¡æ¯åˆ†å¼€å­˜å‚¨ï¼Œä¸€æ˜¯æ–¹ä¾¿ç®¡ç†ã€äºŒæ˜¯ä¸€èˆ¬ä¼ä¸šçº§é¡¹ç›®ä¸­å¯†ç å¯èƒ½ä¼šç”±ç¬¬ä¸‰æ–¹ç®¡ç†å¹³å°æ‰˜ç®¡ã€‚
ğŸ’¡ åº“å­˜æµæ°´è¡¨ï¼ˆstock_log_idï¼‰ç”¨äºåœ¨ RocketMQ è°ƒç”¨ checkLocalTransaction() æ–¹æ³•æ—¶åˆ¤æ–­æ¶ˆæ¯çš„ä¸‹ä¸€æ­¥æ“ä½œï¼ˆå›æ»šè¿˜æ˜¯æäº¤ï¼‰
ç³»ç»Ÿè®¾è®¡ ç³»ç»Ÿè®¾è®¡éµä»é¢†åŸŸæ¨¡å‹çš„åˆ†å±‚è®¾è®¡æ€æƒ³
æ¥å…¥å±‚ï¼ˆView Objectï¼‰ï¼šä¸å‰ç«¯å¯¹æ¥çš„æ¨¡å‹ï¼Œéšè—å†…éƒ¨å®ç°ï¼Œä¾›å±•ç¤ºçš„èšåˆæ¨¡å‹ã€‚
View Objectï¼šè¿”å›ç»™å‰ç«¯çš„ä¸šåŠ¡æ¨¡å‹ï¼Œä¿è¯äº† UI åªä½¿ç”¨åˆ°éœ€è¦å±•ç¤ºçš„å­—æ®µä¸šåŠ¡å±‚ï¼ˆDomain Modelï¼‰ï¼šé¢†åŸŸæ¨¡å‹ï¼Œä¸šåŠ¡æ ¸å¿ƒæ¨¡å‹ï¼Œæ‹¥æœ‰ç”Ÿå‘½å‘¨æœŸï¼Œè´«è¡€å¹¶ä»¥æœåŠ¡è¾“å‡ºèƒ½åŠ›ã€‚
Domain Modelï¼šæ ¸å¿ƒé¢†åŸŸæ¨¡å‹ã€‚åœ¨ Service å±‚ç»„è£…äº†æ ¸å¿ƒçš„é¢†åŸŸæ¨¡å‹ï¼ŒçœŸæ­£æ„ä¹‰ä¸Šå¤„ç†ä¸šåŠ¡é€»è¾‘çš„æ¨¡å‹ã€‚æ•°æ®å±‚ï¼ˆData Objectï¼‰ï¼šæ•°æ®æ¨¡å‹ï¼ŒåŒæ•°æ®åº“æ˜ å°„ï¼Œç”¨ä»¥ ORM æ–¹å¼æ“ä½œæ•°æ®åº“çš„èƒ½åŠ›æ¨¡å‹ã€‚
Data Objectï¼šä¸æ•°æ®åº“å­—æ®µä¸€ä¸€æ˜ å°„ã€‚è´Ÿè´£æ•°æ®å­˜å‚¨åˆ° Service å±‚çš„æ•°æ®ä¼ è¾“ ç”¨æˆ·æ¨¡å— otp çŸ­ä¿¡è·å–otp ç”¨æˆ·æ³¨å†Œç”¨æˆ·ç™»å½•ï¼ˆå»ºç«‹ token å’Œç”¨æˆ·ç™»å½•æ€ä¹‹é—´çš„è”ç³»ï¼Œå­˜å…¥ Redis ä¸­ï¼Œå®ç°åˆ†å¸ƒå¼ä¼šè¯çš„ç®¡ç†ï¼‰ å•†å“æ¨¡å— å•†å“åˆ›å»ºå•†å“åˆ—è¡¨é¡µå±•ç¤ºå•†å“è¯¦æƒ…é¡µå±•ç¤ºï¼ˆå¤šçº§ç¼“å­˜çš„å®ç°ï¼šå…ˆä»æœ¬åœ°ç¼“å­˜ä¸­æŸ¥æ‰¾å•†å“è¯¦æƒ…æ•°æ®ï¼Œæœªå‘½ä¸­æœ¬åœ°ç¼“å­˜ï¼Œå†ä» Redis ä¸­æŸ¥è¯¢æ•°æ®ï¼Œæœªå‘½ä¸­ Redisï¼Œå°±æŸ¥è¯¢æ•°æ®åº“è¿”å›æ•°æ®ï¼Œå¹¶åŒæ­¥åˆ° Redis å’Œæœ¬åœ°ç¼“å­˜ä¸­ï¼‰å‘å¸ƒæ´»åŠ¨å•†å“ï¼ˆè¯¥æ¥å£ç”¨äºä¸Šæ¶æ´»åŠ¨å•†å“ï¼Œå¹¶å°†å•†å“åº“å­˜åŒæ­¥åˆ° Redis ä¸­ï¼ŒåŒæ—¶è®¾ç½®ç§’æ€å¤§é—¸çš„é™åˆ¶æ•°å­—ï¼ˆç§’æ€ä»¤ç‰Œçš„å‘æ”¾æ•°é‡ï¼‰ è®¢å•æ¨¡å— ç”ŸæˆéªŒè¯ç ï¼ˆå°†éªŒè¯ç å­˜å‚¨åˆ° Redis ä¸­ï¼Œç”¨äºå’Œç”¨æˆ·è¾“å…¥çš„éªŒè¯ç è¿›è¡Œæ ¡éªŒï¼‰ç”Ÿæˆç§’æ€ä»¤ç‰Œï¼ˆç”¨æˆ·ä¸‹å•ä¹‹å‰ä¼šè°ƒç”¨æ­¤æ¥å£ï¼Œè·å–ç§’æ€ä»¤ç‰Œï¼Œæ‹¥æœ‰ç§’æ€ä»¤ç‰Œçš„ç”¨æˆ·æ‰èƒ½ä¸‹å•ï¼Œç§’æ€ä»¤ç‰Œå­˜æ”¾åœ¨ Redis ä¸­ï¼‰ä¸‹å•ï¼ˆRateLimiter è¿›è¡Œé™æµï¼Œæ ¡éªŒç”¨æˆ·ç™»å½•ä¿¡æ¯ï¼Œæ ¡éªŒç§’æ€ä»¤ç‰Œä¿¡æ¯ã€‚çº¿ç¨‹æ± é˜Ÿåˆ—æ³„æ´ªï¼Œç”¨æ¥æ§åˆ¶æµé‡çš„å¤§é‡æ¶Œå…¥ã€‚åˆå§‹åŒ–è®¢å•æµæ°´ï¼Œä¹‹åå°±æ˜¯çœŸæ­£çš„ä¸‹å•é€»è¾‘ï¼Œä½¿ç”¨ RocketMQ äº‹åŠ¡å‹æ¶ˆæ¯æœºåˆ¶ï¼‰ â­ï¸ ä¸‹å•é€»è¾‘ ç”¨æˆ·ç‚¹å‡»å•†å“è¯¦æƒ…é¡µé¢çš„ä¸‹å•æŒ‰é’®ï¼Œè¯·æ±‚ä¸‹å•æ¥å£." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bchobby.github.io/posts/5b2d3e5c770ff95f1de857fbc3eb91ec/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-04-29T18:22:23+08:00" />
<meta property="article:modified_time" content="2023-04-29T18:22:23+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹çˆ±å¥½è€…åšå®¢" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹çˆ±å¥½è€…åšå®¢</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Javaç”µå•†ç§’æ€ç³»ç»Ÿé¡¹ç›®ç¬”è®°ï¼ˆä¸æ–­å®Œå–„ä¸­ï¼‰</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p>ä¸»è¦ä¸šåŠ¡åŒ…æ‹¬ç”¨æˆ·çš„æ³¨å†Œã€ç™»å½•ï¼›å•†å“çš„åˆ›å»ºã€å•†å“è¯¦ç»†ä¿¡æ¯çš„å±•ç¤ºã€å•ä¸ªå•†å“çš„è¯¦æƒ…ä¸ä¸‹å•ã€‚é‡‡ç”¨å‰åç«¯åˆ†ç¦»çš„è®¾è®¡æ€æƒ³ï¼Œä½¿ç”¨Ajaxè¿›è¡Œäº¤äº’<br> åç«¯ï¼šSpringBoot + Mybatis + Mysql + Redis + Nginx + RocketMQ<br> å‰ç«¯ï¼šHtml + CSS + JS<br> éƒ¨ç½²åœ¨é˜¿é‡Œäº‘æœåŠ¡å™¨ä¸Šé¢ã€‚<br> é¡¹ç›®æºç åœ°å€ï¼š<a href="https://gitee.com/SongJian-99/miaosha" rel="nofollow">Gitee</a></p> 
</blockquote> 
<h2><a id="MySQL_6"></a>MySQLæ•°æ®åº“è®¾è®¡</h2> 
<ul><li>ä¸»é”®æŸ¥è¯¢ï¼šåƒä¸‡çº§åˆ«æ•°æ® = 1-10 æ¯«ç§’</li><li>å”¯ä¸€ç´¢å¼•æŸ¥è¯¢ï¼šåƒä¸‡çº§åˆ«æ•°æ® = 10-100 æ¯«ç§’</li><li>éå”¯ä¸€ç´¢å¼•æŸ¥è¯¢ï¼šåƒä¸‡çº§åˆ«æ•°æ® = 100-1000 æ¯«ç§’</li><li>æ— ç´¢å¼•ï¼šç™¾ä¸‡æ¡æ•°æ® = 1000 æ¯«ç§’+</li></ul> 
<h3><a id="_11"></a>è¡¨ç»“æ„</h3> 
<ul><li>ç”¨æˆ·ä¿¡æ¯è¡¨ï¼šuser_infoï¼ˆidã€nameã€genderã€ageã€telephoneï¼‰</li><li>ç”¨æˆ·å¯†ç è¡¨ï¼šuesr_passwordï¼ˆidã€encrypte_passwordã€user_idï¼‰</li><li>å•†å“ä¿¡æ¯è¡¨ï¼šitemï¼ˆidã€titleã€priceã€descriptionã€salesã€img_urlï¼‰</li><li>å•†å“åº“å­˜è¡¨ï¼šitem_stockï¼ˆidã€stockã€item_idï¼‰</li><li>æ´»åŠ¨å•†å“ä¿¡æ¯è¡¨ï¼špromoï¼ˆidã€promo_nameã€start_timeã€end_timeã€item_idã€promo_item_priceï¼‰</li><li>è®¢å•ä¿¡æ¯è¡¨ï¼šorder_infoï¼ˆidã€user_idã€item_idã€promo_idã€item_priceã€amountã€order_priceï¼‰</li><li>åºåˆ—å·ä¿¡æ¯è¡¨ï¼šsequence_infoï¼ˆnameã€current_valueã€stepï¼‰</li><li>åº“å­˜æµæ°´è¡¨ï¼šstock_log_idï¼ˆstock_log_idã€item_idã€amountã€statusï¼‰</li></ul> 
<p>ğŸ’¡ ç”¨æˆ·ä¿¡æ¯è¡¨ï¼ˆuser_infoï¼‰å­˜æ”¾ç”¨æˆ·çš„ä¸ªäººä¿¡æ¯ï¼Œç”¨æˆ·å¯†ç è¡¨ï¼ˆuesr_passwordï¼‰å­˜æ”¾ç”¨æˆ·åŠ å¯†åçš„å¯†ç ã€‚å¯†ç å’Œç”¨æˆ·çš„ä¸»è¡¨ä¿¡æ¯åˆ†å¼€å­˜å‚¨ï¼Œä¸€æ˜¯æ–¹ä¾¿ç®¡ç†ã€äºŒæ˜¯ä¸€èˆ¬ä¼ä¸šçº§é¡¹ç›®ä¸­å¯†ç å¯èƒ½ä¼šç”±ç¬¬ä¸‰æ–¹ç®¡ç†å¹³å°æ‰˜ç®¡ã€‚<br> ğŸ’¡ åº“å­˜æµæ°´è¡¨ï¼ˆstock_log_idï¼‰ç”¨äºåœ¨ RocketMQ è°ƒç”¨ checkLocalTransaction() æ–¹æ³•æ—¶åˆ¤æ–­æ¶ˆæ¯çš„ä¸‹ä¸€æ­¥æ“ä½œï¼ˆå›æ»šè¿˜æ˜¯æäº¤ï¼‰</p> 
<h2><a id="_23"></a>ç³»ç»Ÿè®¾è®¡</h2> 
<p>ç³»ç»Ÿè®¾è®¡éµä»é¢†åŸŸæ¨¡å‹çš„åˆ†å±‚è®¾è®¡æ€æƒ³</p> 
<ul><li>æ¥å…¥å±‚ï¼ˆView Objectï¼‰ï¼šä¸å‰ç«¯å¯¹æ¥çš„æ¨¡å‹ï¼Œéšè—å†…éƒ¨å®ç°ï¼Œä¾›å±•ç¤ºçš„èšåˆæ¨¡å‹ã€‚<br> View Objectï¼šè¿”å›ç»™å‰ç«¯çš„ä¸šåŠ¡æ¨¡å‹ï¼Œä¿è¯äº† UI åªä½¿ç”¨åˆ°éœ€è¦å±•ç¤ºçš„å­—æ®µ</li><li>ä¸šåŠ¡å±‚ï¼ˆDomain Modelï¼‰ï¼šé¢†åŸŸæ¨¡å‹ï¼Œä¸šåŠ¡æ ¸å¿ƒæ¨¡å‹ï¼Œæ‹¥æœ‰ç”Ÿå‘½å‘¨æœŸï¼Œè´«è¡€å¹¶ä»¥æœåŠ¡è¾“å‡ºèƒ½åŠ›ã€‚<br> Domain Modelï¼šæ ¸å¿ƒé¢†åŸŸæ¨¡å‹ã€‚åœ¨ Service å±‚ç»„è£…äº†æ ¸å¿ƒçš„é¢†åŸŸæ¨¡å‹ï¼ŒçœŸæ­£æ„ä¹‰ä¸Šå¤„ç†ä¸šåŠ¡é€»è¾‘çš„æ¨¡å‹ã€‚</li><li>æ•°æ®å±‚ï¼ˆData Objectï¼‰ï¼šæ•°æ®æ¨¡å‹ï¼ŒåŒæ•°æ®åº“æ˜ å°„ï¼Œç”¨ä»¥ ORM æ–¹å¼æ“ä½œæ•°æ®åº“çš„èƒ½åŠ›æ¨¡å‹ã€‚<br> Data Objectï¼šä¸æ•°æ®åº“å­—æ®µä¸€ä¸€æ˜ å°„ã€‚è´Ÿè´£æ•°æ®å­˜å‚¨åˆ° Service å±‚çš„æ•°æ®ä¼ è¾“</li></ul> 
<h3><a id="_31"></a>ç”¨æˆ·æ¨¡å—</h3> 
<ol><li>otp çŸ­ä¿¡è·å–</li><li>otp ç”¨æˆ·æ³¨å†Œ</li><li>ç”¨æˆ·ç™»å½•ï¼ˆå»ºç«‹ token å’Œç”¨æˆ·ç™»å½•æ€ä¹‹é—´çš„è”ç³»ï¼Œå­˜å…¥ Redis ä¸­ï¼Œå®ç°åˆ†å¸ƒå¼ä¼šè¯çš„ç®¡ç†ï¼‰</li></ol> 
<h3><a id="_35"></a>å•†å“æ¨¡å—</h3> 
<ol><li>å•†å“åˆ›å»º</li><li>å•†å“åˆ—è¡¨é¡µå±•ç¤º</li><li>å•†å“è¯¦æƒ…é¡µå±•ç¤ºï¼ˆå¤šçº§ç¼“å­˜çš„å®ç°ï¼šå…ˆä»æœ¬åœ°ç¼“å­˜ä¸­æŸ¥æ‰¾å•†å“è¯¦æƒ…æ•°æ®ï¼Œæœªå‘½ä¸­æœ¬åœ°ç¼“å­˜ï¼Œå†ä» Redis ä¸­æŸ¥è¯¢æ•°æ®ï¼Œæœªå‘½ä¸­ Redisï¼Œå°±æŸ¥è¯¢æ•°æ®åº“è¿”å›æ•°æ®ï¼Œå¹¶åŒæ­¥åˆ° Redis å’Œæœ¬åœ°ç¼“å­˜ä¸­ï¼‰</li><li>å‘å¸ƒæ´»åŠ¨å•†å“ï¼ˆè¯¥æ¥å£ç”¨äºä¸Šæ¶æ´»åŠ¨å•†å“ï¼Œå¹¶å°†å•†å“åº“å­˜åŒæ­¥åˆ° Redis ä¸­ï¼ŒåŒæ—¶è®¾ç½®ç§’æ€å¤§é—¸çš„é™åˆ¶æ•°å­—ï¼ˆç§’æ€ä»¤ç‰Œçš„å‘æ”¾æ•°é‡ï¼‰</li></ol> 
<h3><a id="_41"></a>è®¢å•æ¨¡å—</h3> 
<ol><li>ç”ŸæˆéªŒè¯ç ï¼ˆå°†éªŒè¯ç å­˜å‚¨åˆ° Redis ä¸­ï¼Œç”¨äºå’Œç”¨æˆ·è¾“å…¥çš„éªŒè¯ç è¿›è¡Œæ ¡éªŒï¼‰</li><li>ç”Ÿæˆç§’æ€ä»¤ç‰Œï¼ˆç”¨æˆ·ä¸‹å•ä¹‹å‰ä¼šè°ƒç”¨æ­¤æ¥å£ï¼Œè·å–ç§’æ€ä»¤ç‰Œï¼Œæ‹¥æœ‰ç§’æ€ä»¤ç‰Œçš„ç”¨æˆ·æ‰èƒ½ä¸‹å•ï¼Œç§’æ€ä»¤ç‰Œå­˜æ”¾åœ¨ Redis ä¸­ï¼‰</li><li>ä¸‹å•ï¼ˆRateLimiter è¿›è¡Œé™æµï¼Œæ ¡éªŒç”¨æˆ·ç™»å½•ä¿¡æ¯ï¼Œæ ¡éªŒç§’æ€ä»¤ç‰Œä¿¡æ¯ã€‚çº¿ç¨‹æ± é˜Ÿåˆ—æ³„æ´ªï¼Œç”¨æ¥æ§åˆ¶æµé‡çš„å¤§é‡æ¶Œå…¥ã€‚åˆå§‹åŒ–è®¢å•æµæ°´ï¼Œä¹‹åå°±æ˜¯çœŸæ­£çš„ä¸‹å•é€»è¾‘ï¼Œä½¿ç”¨ RocketMQ äº‹åŠ¡å‹æ¶ˆæ¯æœºåˆ¶ï¼‰</li></ol> 
<h3><a id="star__47"></a>â­ï¸ ä¸‹å•é€»è¾‘</h3> 
<ul><li><font color="red">ç”¨æˆ·ç‚¹å‡»å•†å“è¯¦æƒ…é¡µé¢çš„ä¸‹å•æŒ‰é’®ï¼Œè¯·æ±‚ä¸‹å•æ¥å£.åœ¨ä¸‹å•æ¥å£ä¸­ä¼šè°ƒç”¨ mqProducer çš„äº‹åŠ¡å‹åŒæ­¥æ‰£å‡åº“å­˜çš„æ–¹æ³•ï¼Œåœ¨è¯¥æ–¹æ³•ä¸­ RocketMQ çš„ producer å‘é€äº†ä¸€æ¡ message åˆ° broker ä¸­ï¼Œæ­¤æ—¶è¿™æ¡æ¶ˆæ¯åœ¨ broker ä¸­æ˜¯ prepared çŠ¶æ€ï¼ˆè¿˜ä¸èƒ½è¢« comsumr æ¶ˆè´¹ï¼‰ï¼Œç„¶åå›è°ƒ TransactionListener æ¥å£ä¸­æˆ‘ä»¬é‡å†™çš„ executeLocalTransaction() æ–¹æ³•ï¼Œåœ¨è¿™ä¸ªæ–¹æ³•ä¸­æˆ‘ä»¬è¿›è¡ŒçœŸæ­£çš„ä¸‹å•æ“ä½œï¼ˆå‡ Redis ä¸­çš„åº“å­˜ã€è®¢å•å…¥åº“ã€å¢åŠ å•†å“é”€é‡ã€è®¾ç½®åº“å­˜æµæ°´çŠ¶æ€ä¸ºæˆåŠŸï¼‰ã€‚å¦‚æœä¸‹å•è¿‡ç¨‹ä¸­é•¿æ—¶é—´ä¸è¿”å›ï¼ŒRocketMQ å°±ä¼šè‡ªåŠ¨è°ƒç”¨ TransactionListener æ¥å£ä¸­å¦å¤–ä¸€ä¸ªæˆ‘ä»¬é‡å†™çš„ checkLocalTransaction() æ–¹æ³•ï¼Œåœ¨è¿™ä¸ªæ–¹æ³•ä¸­æˆ‘ä»¬å°±å¯ä»¥æ ¹æ®åº“å­˜æµæ°´çŠ¶æ€æ¥åˆ¤æ–­ä¸‹å•æ“ä½œæ˜¯å¦æ‰§è¡ŒæˆåŠŸï¼Œ ç¡®å®š broker ä¸­çš„ message æ˜¯å›æ»šè¿˜æ˜¯æäº¤ã€‚å¦‚æœä¸‹å•è¿‡ç¨‹ä¸­å‡ºç°å¼‚å¸¸ï¼Œæˆ‘ä»¬å°±ä¼šæ•è·åˆ°å¼‚å¸¸ï¼ŒåŒæ—¶è®¾ç½®è®¢å•æµæ°´çŠ¶æ€ä¸ºå›æ»šçŠ¶æ€ï¼Œè¿”å› ROLLBACK_MESSAGEï¼Œä»£è¡¨ä¸‹å•å¤±è´¥ã€‚æ²¡æœ‰å¼‚å¸¸å°±ä»£è¡¨ä¸‹å•æˆåŠŸï¼Œè¿”å› COMMIT_MESSAGEï¼Œè¿™æ—¶ broker ä¸­çš„ message å°±ä¼šè¢« consumer å‘ç°ï¼Œè°ƒç”¨ consumer ä¸­çš„æ–¹æ³•ï¼Œè¿›è¡Œæ•°æ®åº“ä¸­åŒæ­¥æ‰£å‡åº“å­˜çš„æ“ä½œã€‚</font></li><li>è¿™ä¸€å¥—ä¸‹å•é€»è¾‘å°±èƒ½ç¡®ä¿å¦‚æœæˆ‘ä¸‹å•å¤±è´¥ï¼Œæ•°æ®åº“åŒæ­¥åº“å­˜æ‰£å‡çš„æ¶ˆæ¯ä¹Ÿä¼šå‘é€å¤±è´¥ã€‚å¦‚æœä¸‹å•æˆåŠŸï¼Œæˆ‘çš„æ¶ˆæ¯ä¹Ÿä¼šå‘é€æˆåŠŸï¼Œæ•°æ®åº“åº“å­˜å°±ä¼šæ‰£å‡æˆåŠŸã€‚å§‹ç»ˆä¸Redisä¸­çš„åº“å­˜ä¿æŒä¸€è‡´</li></ul> 
<h2><a id="_Tomcat__51"></a>ä¿®æ”¹å†…åµŒ Tomcat é»˜è®¤é…ç½®</h2> 
<p>åœ¨<code>spring-configuration.metedata.json</code>æ–‡ä»¶ä¸­æŸ¥çœ‹ Tomcat çš„é»˜è®¤é…ç½®ã€‚å¯ä»¥åœ¨ application.yaml æ–‡ä»¶ä¸­ä¿®æ”¹ Tomcat é…ç½®ã€‚</p> 
<ul><li> <p>server.tomcat.accept-countï¼šç­‰å¾…é˜Ÿåˆ—é•¿åº¦ï¼Œé»˜è®¤ä¸º 100</p> <pre><code class="prism language-json"><span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"server.tomcat.accept-count"</span><span class="token punctuation">,</span>
<span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"java.lang.Integer"</span><span class="token punctuation">,</span>
<span class="token string-property property">"description"</span><span class="token operator">:</span> <span class="token string">"Maximum queue length for incoming connection requests when all possible request processing threads are in use."</span><span class="token punctuation">,</span>
<span class="token string-property property">"sourceType"</span><span class="token operator">:</span> <span class="token string">"org.springframework.boot.autoconfigure.web.ServerProperties$Tomcat"</span><span class="token punctuation">,</span>
<span class="token string-property property">"defaultValue"</span><span class="token operator">:</span> <span class="token number">100</span>
</code></pre> </li><li> <p>server.tomcat.max-connectionsï¼šæœ€å¤§å¯è¢«è¿æ¥æ•°ï¼Œé»˜è®¤ä¸º 8192</p> <pre><code class="prism language-json"><span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"server.tomcat.max-connections"</span><span class="token punctuation">,</span>
<span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"java.lang.Integer"</span><span class="token punctuation">,</span>
<span class="token string-property property">"description"</span><span class="token operator">:</span> <span class="token string">"Maximum number of connections that the server accepts and processes at any given time. Once the limit has been reached, the operating system may still accept connections based on the \"acceptCount\" property."</span><span class="token punctuation">,</span>
<span class="token string-property property">"sourceType"</span><span class="token operator">:</span> <span class="token string">"org.springframework.boot.autoconfigure.web.ServerProperties$Tomcat"</span><span class="token punctuation">,</span>
<span class="token string-property property">"defaultValue"</span><span class="token operator">:</span> <span class="token number">8192</span>	
</code></pre> </li><li> <p>server.tomcat.threads.maxï¼šæœ€å¤§å·¥ä½œçº¿ç¨‹æ•°ï¼Œé»˜è®¤ä¸º 200ã€‚ï¼ˆç»éªŒé…ç½®ï¼š4 æ ¸ 8g çš„æœºå™¨ 800 ä¸ªçº¿ç¨‹ï¼‰</p> <pre><code class="prism language-json"><span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"server.tomcat.threads.max"</span><span class="token punctuation">,</span>
<span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"java.lang.Integer"</span><span class="token punctuation">,</span>
<span class="token string-property property">"description"</span><span class="token operator">:</span> <span class="token string">"Maximum amount of worker threads."</span><span class="token punctuation">,</span>
<span class="token string-property property">"sourceType"</span><span class="token operator">:</span><span class="token string">"org.springframework.boot.autoconfigure.web.ServerProperties$Tomcat$Threads"</span><span class="token punctuation">,</span>
<span class="token string-property property">"defaultValue"</span><span class="token operator">:</span> <span class="token number">200</span>
</code></pre> </li><li> <p>server.tomcat.threads.min-spareï¼šæœ€å°å·¥ä½œçº¿ç¨‹æ•°ï¼Œé»˜è®¤ä¸º 10</p> <pre><code class="prism language-json"><span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"server.tomcat.threads.min-spare"</span><span class="token punctuation">,</span>
<span class="token string-property property">"type"</span><span class="token operator">:</span> <span class="token string">"java.lang.Integer"</span><span class="token punctuation">,</span>
<span class="token string-property property">"description"</span><span class="token operator">:</span> <span class="token string">"Minimum amount of worker threads."</span><span class="token punctuation">,</span>
<span class="token string-property property">"sourceType"</span><span class="token operator">:</span> <span class="token string">"org.springframework.boot.autoconfigure.web.ServerProperties$Tomcat$Threads"</span><span class="token punctuation">,</span>
<span class="token string-property property">"defaultValue"</span><span class="token operator">:</span> <span class="token number">10</span>
</code></pre> </li></ul> 
<ul><li> <p>é»˜è®¤é…ç½®ä¸‹ï¼Œè¿æ¥æ•°è¶…è¿‡ 8192ï¼ˆæœ€å¤§å¯è¢«è¿æ¥æ•°ï¼‰åä¼šå‡ºç°æ‹’æ¥è¿æ¥æƒ…å†µ</p> </li><li> <p>é»˜è®¤é…ç½®ä¸‹ï¼Œè§¦å‘çš„è¯·æ±‚è¶…è¿‡ 200ï¼ˆæœ€å¤§å·¥ä½œçº¿ç¨‹æ•°ï¼‰+ 100ï¼ˆç­‰å¾…é˜Ÿåˆ—é•¿åº¦ï¼‰åæ‹’ç»å¤„ç†</p> </li></ul> 
<h2><a id="RocketMQ_99"></a>RocketMQ</h2> 
<h3><a id="_100"></a>é»˜è®¤å†…å­˜å¤§å°è®¾ç½®</h3> 
<p>ä¸‹è½½å®‰è£…åï¼ŒRocketMQ é»˜è®¤å†…å­˜è®¾ç½®æ¯”è¾ƒå¤§ã€‚å¦‚æœæœåŠ¡å™¨å†…å­˜æ¯”è¾ƒå¤§ï¼Œå¯ä»¥ä¸è°ƒæ•´ï¼›å¦‚æœæœåŠ¡å™¨å†…å­˜æ¯”è¾ƒå°ï¼Œéœ€è¦ä¿®æ”¹é»˜è®¤å†…å­˜å¤§å°ã€‚æ€»å…±æœ‰ä¸‰ä¸ªé…ç½®æ–‡ä»¶ï¼Œä½äº<font color="green"> <strong>bin</strong> </font>ç›®å½•ä¸‹çš„ runserver.shã€runbroker.shã€tools.sh ã€‚ä¸è°ƒæ•´è¿™ä¸‰ä¸ªæ–‡ä»¶ï¼Œä¼šå¯¼è‡´æœåŠ¡æ— æ³•å¯åŠ¨ã€‚</p> 
<pre><code># vim bin/runserver.shã€€ã€€
JAVA_OPT="${JAVA_OPT} -server -Xms256m -Xmx256m -Xmn512m -XX:MetaspaceSize=128m -XX:MaxMetaspaceSize=320m"

# vim bin/runbroker.sh
JAVA_OPT="${JAVA_OPT} -server -Xms256m -Xmx256m -Xmn128m"

# vim bin/tools.sh
JAVA_OPT="${JAVA_OPT} -server -Xms256m -Xmx256m -Xmn256m -XX:PermSize=128m -XX:MaxPermSize=128m"
</code></pre> 
<h3><a id="Start_Name_Server_115"></a>Start Name Server(æ‘˜è‡ªå®˜ç½‘)</h3> 
<pre><code class="prism language-java"> <span class="token operator">&gt;</span> nohup sh bin<span class="token operator">/</span>mqnamesrv <span class="token operator">&amp;</span>
 <span class="token operator">&gt;</span> tail <span class="token operator">-</span>f <span class="token operator">~</span><span class="token operator">/</span>logs<span class="token operator">/</span>rocketmqlogs<span class="token operator">/</span>namesrv<span class="token punctuation">.</span>log
 <span class="token class-name">The</span> <span class="token class-name">Name</span> <span class="token class-name">Server</span> boot success<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre> 
<h3><a id="Start_Broker_123"></a>Start Broker(æ‘˜è‡ªå®˜ç½‘)</h3> 
<pre><code class="prism language-java"> <span class="token operator">&gt;</span> nohup sh bin<span class="token operator">/</span>mqbroker <span class="token operator">-</span>n localhost<span class="token operator">:</span><span class="token number">9876</span> <span class="token operator">&amp;</span>
 <span class="token operator">&gt;</span> tail <span class="token operator">-</span>f <span class="token operator">~</span><span class="token operator">/</span>logs<span class="token operator">/</span>rocketmqlogs<span class="token operator">/</span>broker<span class="token punctuation">.</span>log 
 <span class="token class-name">The</span> broker<span class="token punctuation">[</span><span class="token operator">%</span>s<span class="token punctuation">,</span> <span class="token number">172.30</span><span class="token number">.30</span><span class="token number">.233</span><span class="token operator">:</span><span class="token number">10911</span><span class="token punctuation">]</span> boot success<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre> 
<h3><a id="Send__Receive_Messages_131"></a>Send &amp; Receive Messages(æ‘˜è‡ªå®˜ç½‘)</h3> 
<p>Before sending/receiving messages, we need to tell clients the location of name servers. RocketMQ provides multiple ways to achieve this. For simplicity, we use environment variable <code>NAMESRV_ADDR</code>(åœ¨å‘é€æˆ–è€…æ¥æ”¶æ¶ˆæ¯ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å‘Šè¯‰å®¢æˆ·ç«¯ name servers çš„ä½ç½®ï¼ŒRocketMQ æä¾›äº†å¤šç§å®ç°æ–¹å¼ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬ä½¿ç”¨ç¯å¢ƒå˜é‡NAMESRV_ADDR)</p> 
<pre><code> &gt; export NAMESRV_ADDR=localhost:9876
 &gt; sh bin/tools.sh org.apache.rocketmq.example.quickstart.Producer
 SendResult [sendStatus=SEND_OK, msgId= ...

 &gt; sh bin/tools.sh org.apache.rocketmq.example.quickstart.Consumer
 ConsumeMessageThread_%d Receive New Messages: [MessageExt...
</code></pre> 
<h3><a id="Shutdown_Servers_144"></a>Shutdown Servers(æ‘˜è‡ªå®˜ç½‘)</h3> 
<pre><code>&gt; sh bin/mqshutdown broker
The mqbroker(36695) is running...
Send shutdown request to mqbroker(36695) OK

&gt; sh bin/mqshutdown namesrv
The mqnamesrv(36664) is running...
Send shutdown request to mqnamesrv(36664) OK
</code></pre> 
<h3><a id="RocketMQTopic_156"></a>RocketMQåˆ›å»ºTopic</h3> 
<p>åˆ›å»º Topic å‘½ä»¤ï¼š<code>./mqadmin updateTopic -n localhost:9876 -t stock -c DefaultCluster</code></p> 
<ul><li>updateTopicï¼šåˆ›å»º Topic</li><li>-nï¼šæŒ‡å®š nameserver çš„åœ°å€</li><li>-tï¼šæŒ‡å®š Topic çš„åå­—</li></ul> 
<h2><a id="_164"></a>é—®é¢˜æ±‡æ€»</h2> 
<h3><a id="_166"></a>å‰åç«¯è·¨åŸŸè¯·æ±‚</h3> 
<p>åç«¯æ”¯æŒè·¨åŸŸè¯·æ±‚ï¼šåœ¨ Controller ä¸Šé¢åŠ ä¸Š @CrossOrigin() æ³¨è§£</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@CrossOrigin</span><span class="token punctuation">(</span>allowCredentials <span class="token operator">=</span> <span class="token string">"true"</span><span class="token punctuation">,</span>originPatterns <span class="token operator">=</span> <span class="token string">"*"</span><span class="token punctuation">)</span>
<span class="token comment">//	@CrossOrigin()æ³¨è§£ï¼šæ”¯æŒè·¨åŸŸè¯·æ±‚</span>
<span class="token comment">//	allowCredentialså‚æ•°éœ€é…åˆå‰ç«¯è®¾ç½®xhrFieldsæˆä¿¡åä½¿å¾—è·¨åŸŸsessionå…±äº«</span>
<span class="token comment">//	originPatternså‚æ•°å…è®¸è·¨åŸŸä¼ è¾“æ‰€æœ‰çš„headerå‚æ•°ï¼Œå°†ç”¨äºä½¿ç”¨tokenæ”¾å…¥headeråŸŸåšsessionå…±äº«çš„è·¨åŸŸè¯·æ±‚(è·¨åŸŸè¯·æ±‚çš„sessionå…±äº«)</span>
</code></pre> 
<p>åœ¨å¯¹åº”æ¥å£çš„ @RequestMapping() æ³¨è§£ä¸­æ·»åŠ å‚æ•° consumes = {â€œapplication/x-www-form-urlencodedâ€}</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/register"</span><span class="token punctuation">,</span>method <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token class-name">RequestMethod</span><span class="token punctuation">.</span>POST<span class="token punctuation">}</span><span class="token punctuation">,</span>consumes <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">"application/x-www-form-urlencoded"</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<p>å‰ç«¯é¡µé¢ Ajax è¯·æ±‚ä¸­æ·»åŠ ä¸‹é¢çš„è¯·æ±‚å¤´ï¼Œä»¥æ”¯æŒè·¨åŸŸè¯·æ±‚ï¼Œä¸åç«¯å‘¼åº”ã€‚</p> 
<pre><code class="prism language-html">contentType: "application/x-www-form-urlencoded",
xhrFields:{withCredentials:true},
</code></pre> 
<h3><a id="_190"></a>è¶…å–é—®é¢˜</h3> 
<p>â€‹ ç§’æ€åœºæ™¯ä¸‹ï¼Œå¹¶å‘ä¼šç‰¹åˆ«çš„å¤§ï¼Œæœ‰ä¸¤ç§æƒ…å†µä¼šå¯¼è‡´åº“å­˜å–è¶…ï¼š</p> 
<ol><li>ä¸€ä¸ªç”¨æˆ·åŒæ—¶å‘å‡ºäº†å¤šä¸ªè¯·æ±‚ï¼Œå¦‚æœåº“å­˜è¶³å¤Ÿï¼Œæ²¡åŠ é™åˆ¶ï¼Œç”¨æˆ·å°±å¯ä»¥ä¸‹å¤šä¸ªè®¢å•ã€‚</li><li>å‡åº“å­˜çš„ SQL ä¸Šæ²¡æœ‰åŠ åº“å­˜æ•°é‡çš„åˆ¤æ–­ï¼Œå¹¶å‘çš„æ—¶å€™ä¹Ÿä¼šå¯¼è‡´æŠŠåº“å­˜å‡æˆè´Ÿæ•°ã€‚</li></ol> 
<p>å¯¹äºç¬¬ä¸€ç§æƒ…å†µï¼Œå¯ä»¥é€šè¿‡åœ¨é¡µé¢ä¸Šæ·»åŠ éªŒè¯ç çš„æ–¹å¼ï¼Œé˜²æ­¢åˆæ³•ç”¨æˆ·å¿«é€Ÿç‚¹é¼ æ ‡åŒæ—¶å‘å‡ºå¤šä¸ªè¯·æ±‚ï¼Œå¹¶ä¸”åœ¨æ•°æ®åº“çš„ order_info è¡¨ä¸­ï¼Œå¯¹ user_id å’Œ item_id åŠ å”¯ä¸€ç´¢å¼•ï¼Œç¡®ä¿å°±ç®—æ˜¯åˆ·æ¥å£ä¸€ä¸ªç”¨æˆ·å¯¹ä¸€ä¸ªå•†å“ä¹Ÿç»å¯¹ä¸ä¼šç”Ÿæˆä¸¤ä¸ªè®¢å•ã€‚å¯¹äºç¬¬äºŒç§æƒ…å†µéœ€è¦åœ¨æ‰£å‡åº“å­˜çš„ SQL è¯­å¥ä¸ŠåŠ ä¸Šåº“å­˜æ•°é‡çš„åˆ¤æ–­ï¼Œåªæœ‰æ‰£å‡åº“å­˜æˆåŠŸæ‰å¯ä»¥ç”Ÿæˆè®¢å•</p> 
<p><strong>æ€»ç»“å¦‚ä½•è§£å†³è¶…å–é—®é¢˜</strong></p> 
<ul><li>åœ¨sqlè¯­å¥ä¸Šé¢åŠ ä¸Šåˆ¤æ–­é˜²æ­¢æ•°æ®å˜ä¸ºè´Ÿæ•°</li><li>æ•°æ®åº“åŠ ä¸Šå”¯ä¸€ç´¢å¼•é˜²æ­¢ç”¨æˆ·é‡å¤è´­ä¹°</li><li>Redis é¢„å‡åº“å­˜ä»¥å‡å°‘æ•°æ®åº“è®¿é—®ï¼Œåº“å­˜æ ‡è®°å‡å°‘ Redis è®¿é—®ï¼Œè¯·æ±‚å…ˆå…¥é˜Ÿåˆ—ï¼Œå¼‚æ­¥ä¸‹å•ï¼Œå¢å¼ºç”¨æˆ·ä½“éªŒ</li></ul> 
<h3><a id="RocketMQ__Topic_205"></a>RocketMQ ç¬¬ä¸€æ¬¡åˆ›å»º Topic</h3> 
<p>ç¬¬ä¸€æ¬¡åˆ›å»ºtopicæ—¶æŠ¥é”™å¦‚ä¸‹ï¼š</p> 
<p><code>org.apache.rocketmq.tools.command.SubCommandException: UpdateTopicSubCommand command failed site:blog.csdn.net</code></p> 
<p>é”™è¯¯åŸå› ï¼šjaråŒ…å¼•ç”¨å¤±è´¥<br> è§£å†³åŠæ³•ï¼šåœ¨tool.shä¸­${JAVA_HOME}/jre/lib/extååŠ ä¸Šextæ–‡ä»¶å¤¹çš„ç»å¯¹è·¯å¾„ï¼ˆjdkè·¯å¾„ï¼‰</p> 
<pre><code>vim /app/rocketmq/bin/tools.sh
å¦‚JAVA_OPT="${JAVA_OPT} -Djava.ext.dirs=${BASE_DIR}/lib:${JAVA_HOME}/jre/lib/ext:${JAVA_HOME}/lib/ext:/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.252.b09-2.el7_8.x86_64/jre/lib/ext"
</code></pre>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d4af496fe67e44e2605c8fa2cd0c00d3/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">å›¾åƒåˆ†å‰²æ¨¡å‹æ€§èƒ½çš„æŒ‡æ ‡IOUä¸ACC</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a2dc8fed46d2c603c9b1538ae57f85c7/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">å®‰è£…äº†Volaræ’ä»¶vueæ–‡ä»¶æ²¡æœ‰æ˜¾ç¤ºVolarçš„å›¾æ ‡</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹çˆ±å¥½è€…åšå®¢.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151260"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>