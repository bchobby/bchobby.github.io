<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>HCIE云计算备考知识点记录 - 编程爱好者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="HCIE云计算备考知识点记录" />
<meta property="og:description" content="仅针对个人觉得需要记录的知识点记录，可能会有错误
kubernetes由master节点与node节点组
Dockerfile基础镜像中有一个特殊镜像scratch，表示一个空白镜像
kubernetes组件功能：
kube-apiserver——暴露kubernetes的API接口，负责接收所有请求
kube-proxy——kubernetes的数据库
kube-schedule——kubernetes集群调度器，用于为新pod选择node
Eggo是openEuler21.09推出的kubernetes集群部署工具
CCE服务的pod访问类型不需要配置为负载均衡
创建pod的yaml文件，但不真正创建pod：kubectl run nginx-image=xxxx -o yaml —dry-run=client &gt;test.yaml
dockerfile中ADD命令可以用于将文件、目录从构建上下文或远程URL复制到容器中，与COPY指令类似，可以多次使用ADD指令，实现多个文件和目录的复制操作
创建Cronjob和job时，kind参数应该设置为不同的Cronjob和job两种
kubectl get deployment命令回显的字段含义：
NAME：部署的名称。
READY：展示有多少个副本已经就绪（Ready）。
UP-TO-DATE：展示有多少个副本与部署期望的副本数一致。
AVAILABLE：展示有多少个副本可以提供服务（Available）。
AGE：展示部署对象创建的时间长度。
安全容器指的是每一个pod都运行在独立的微型虚拟机中，拥有独立的操作系统和内核，以及虚拟化层的安全隔离
kubernetes中image pull policy用于设置镜像拉取策略，支持三种拉取策略：
Always——总是从从远端仓库拉取镜像
IfNotPresent——本地有则使用本地镜像，本地没有则从从远端仓库拉取镜像
Never——只使用本地镜像，如果本地没有就会报错
调度pod运行节点的两种方式node selector和node affinity：
node affinity支持更为复杂的pod调度策略，
node selector相对简单，只能使用基于集合的标签选择器匹配节点
docker run 命令指定了参数会把CMD里的参数覆盖，但如果使用ENTRYPOINT就不会被覆盖
K8s启动pod容器时，会按照配置文件中顺序启动，如果其中一个容器没有启动成功，会影响其他容器，为了避免这种情况建议在编写yaml时规定容器启动顺序
k8s中通过yaml创建的对象可以通过yaml文件或者指定对象名称删除
k8s中的Cronjob在完成一次任务后，pod是running状态
pod中的容器都被成功终止之后，pod会处于conpleted状态
dockerfile在容器构建时，可以使用entrypoint指定镜像启动时执行的命令，且不会像CMD一样被覆盖，一般是一些脚本，用以启动时进行初始化配置
docker run如果指定了参数会把dockerflie制作时的CMD参数覆盖
docker中docker daemon负责接收客户端对容器的操作请求
HCS的CCE服务在架构上分为管理面、控制面和数据面，进行一站式kubernetes创建的是“云容器引擎”
HCS的SWR服务是一个容器镜像存储和管理服务。SWR提供了一个集中的、安全的容器镜像仓库，用于存储、分享和管理容器镜像。
eReplication与IAM需要部署在Global区
bind mounts与volumes的区别在于bind mounts是将宿主机的任意文件和文件夹挂载到容器，而volumes本质是将docker服务管理的一块区域挂载到容器
pod的污点类型：
preferNoSchedule：尽可能不调度到该节点
NoSchedule：新创建的pod不调度到该节点，已运行的pod不受影响
NoExecute：完全不调度到该节点
kubernetes管理层面的组件在本质上属于静态容器
在测试阶段使用kubernetes部署测试应用，可以使用容器默认权限级别
Kubernetes生态系统中有许多常用的插件和工具，用于增强和扩展Kubernetes的功能。以下是一些常见的Kubernetes插件：
Ingress Controllers：用于实现HTTP和HTTPS流量的入口控制和路由。常见的Ingress Controllers包括Nginx Ingress Controller、Traefik、HAProxy Ingress等。Prometheus：用于监控和度量Kubernetes集群的开源监控系统。它可以采集指标数据并提供强大的查询和报警功能。Grafana：一个可视化和监控仪表盘工具，可与Prometheus等数据源集成，用于展示和分析监控数据。Helm：一个Kubernetes包管理器，用于简化应用程序的部署、升级和管理。它允许用户定义和分享应用程序的Chart，以便轻松部署到Kubernetes集群。Istio：一个用于微服务架构的服务网格平台，提供流量管理、安全性、可观察性和策略执行等功能。Calico：一个网络和安全插件，用于提供高性能的网络功能和网络策略。它支持Kubernetes集群的网络隔离和安全性。Flannel：一个网络插件，用于创建覆盖整个Kubernetes集群的容器网络。它提供IP地址管理和网络通信功能。CoreDNS：一个用于Kubernetes集群的DNS插件，提供服务发现和DNS解析功能，简化了对服务的访问和管理。Velero：一个备份和恢复工具，用于保护和迁移Kubernetes集群中的应用程序和数据。MetalLB：一个用于在裸金属（Bare Metal）环境中提供负载均衡服务的插件。 docker run的参数 —cpu-period 10000 —cpu-quota 2500的数字以纳秒为单位" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bchobby.github.io/posts/6b08ddf006ce54195be206b765a346b0/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-02T15:12:15+08:00" />
<meta property="article:modified_time" content="2024-01-02T15:12:15+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程爱好者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程爱好者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">HCIE云计算备考知识点记录</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>仅针对个人觉得需要记录的知识点记录，可能会有错误</p> 
<p>kubernetes由master节点与node节点组</p> 
<p>Dockerfile基础镜像中有一个特殊镜像scratch，表示一个空白镜像</p> 
<p>kubernetes组件功能：<br> kube-apiserver——暴露kubernetes的API接口，负责接收所有请求<br> kube-proxy——kubernetes的数据库<br> kube-schedule——kubernetes集群调度器，用于为新pod选择node</p> 
<p>Eggo是openEuler21.09推出的kubernetes集群部署工具</p> 
<p>CCE服务的pod访问类型不需要配置为负载均衡</p> 
<p>创建pod的yaml文件，但不真正创建pod：kubectl run nginx-image=xxxx -o yaml —dry-run=client &gt;test.yaml</p> 
<p>dockerfile中ADD命令可以用于将文件、目录从构建上下文或远程URL复制到容器中，与COPY指令类似，可以多次使用ADD指令，实现多个文件和目录的复制操作</p> 
<p>创建Cronjob和job时，kind参数应该设置为不同的Cronjob和job两种</p> 
<p>kubectl get deployment命令回显的字段含义：<br> NAME：部署的名称。<br> READY：展示有多少个副本已经就绪（Ready）。<br> UP-TO-DATE：展示有多少个副本与部署期望的副本数一致。<br> AVAILABLE：展示有多少个副本可以提供服务（Available）。<br> AGE：展示部署对象创建的时间长度。</p> 
<p>安全容器指的是每一个pod都运行在独立的微型虚拟机中，拥有独立的操作系统和内核，以及虚拟化层的安全隔离</p> 
<p>kubernetes中image pull policy用于设置镜像拉取策略，支持三种拉取策略：<br> Always——总是从从远端仓库拉取镜像<br> IfNotPresent——本地有则使用本地镜像，本地没有则从从远端仓库拉取镜像<br> Never——只使用本地镜像，如果本地没有就会报错</p> 
<p>调度pod运行节点的两种方式node selector和node affinity：</p> 
<p>node affinity支持更为复杂的pod调度策略，<br> node selector相对简单，只能使用基于集合的标签选择器匹配节点</p> 
<p>docker run 命令指定了参数会把CMD里的参数覆盖，但如果使用ENTRYPOINT就不会被覆盖</p> 
<p>K8s启动pod容器时，会按照配置文件中顺序启动，如果其中一个容器没有启动成功，会影响其他容器，为了避免这种情况建议在编写yaml时规定容器启动顺序</p> 
<p>k8s中通过yaml创建的对象可以通过yaml文件或者指定对象名称删除</p> 
<p>k8s中的Cronjob在完成一次任务后，pod是running状态</p> 
<p>pod中的容器都被成功终止之后，pod会处于conpleted状态</p> 
<p>dockerfile在容器构建时，可以使用entrypoint指定镜像启动时执行的命令，且不会像CMD一样被覆盖，一般是一些脚本，用以启动时进行初始化配置</p> 
<p>docker run如果指定了参数会把dockerflie制作时的CMD参数覆盖</p> 
<p>docker中docker daemon负责接收客户端对容器的操作请求</p> 
<p>HCS的CCE服务在架构上分为管理面、控制面和数据面，进行一站式kubernetes创建的是“云容器引擎”</p> 
<p>HCS的SWR服务是一个容器镜像存储和管理服务。SWR提供了一个集中的、安全的容器镜像仓库，用于存储、分享和管理容器镜像。</p> 
<p>eReplication与IAM需要部署在Global区</p> 
<p>bind mounts与volumes的区别在于bind mounts是将宿主机的任意文件和文件夹挂载到容器，而volumes本质是将docker服务管理的一块区域挂载到容器</p> 
<p>pod的污点类型：<br> preferNoSchedule：尽可能不调度到该节点<br> NoSchedule：新创建的pod不调度到该节点，已运行的pod不受影响<br> NoExecute：完全不调度到该节点</p> 
<p>kubernetes管理层面的组件在本质上属于静态容器</p> 
<p>在测试阶段使用kubernetes部署测试应用，可以使用容器默认权限级别</p> 
<p>Kubernetes生态系统中有许多常用的插件和工具，用于增强和扩展Kubernetes的功能。以下是一些常见的Kubernetes插件：</p> 
<ol><li>Ingress Controllers：用于实现HTTP和HTTPS流量的入口控制和路由。常见的Ingress Controllers包括Nginx Ingress Controller、Traefik、HAProxy Ingress等。</li><li>Prometheus：用于监控和度量Kubernetes集群的开源监控系统。它可以采集指标数据并提供强大的查询和报警功能。</li><li>Grafana：一个可视化和监控仪表盘工具，可与Prometheus等数据源集成，用于展示和分析监控数据。</li><li>Helm：一个Kubernetes包管理器，用于简化应用程序的部署、升级和管理。它允许用户定义和分享应用程序的Chart，以便轻松部署到Kubernetes集群。</li><li>Istio：一个用于微服务架构的服务网格平台，提供流量管理、安全性、可观察性和策略执行等功能。</li><li>Calico：一个网络和安全插件，用于提供高性能的网络功能和网络策略。它支持Kubernetes集群的网络隔离和安全性。</li><li>Flannel：一个网络插件，用于创建覆盖整个Kubernetes集群的容器网络。它提供IP地址管理和网络通信功能。</li><li>CoreDNS：一个用于Kubernetes集群的DNS插件，提供服务发现和DNS解析功能，简化了对服务的访问和管理。</li><li>Velero：一个备份和恢复工具，用于保护和迁移Kubernetes集群中的应用程序和数据。</li><li>MetalLB：一个用于在裸金属（Bare Metal）环境中提供负载均衡服务的插件。</li></ol> 
<p>docker run的参数 —cpu-period 10000 —cpu-quota 2500的数字以纳秒为单位</p> 
<p>yaml文件基本格式<br> 1、GVK信息，由groupAPI组，versionAPI版本和kind组成，决定了对象的类型<br> 2、元数据信息，包含对象名称，标签<br> 3、对象规格，对应对象的规格参数</p> 
<p>kubernetes的GVK中version有三种类型：<br> Alpha内部测试版本，未经严格测试；<br> Beta版本，是用户体验版，比Alpha版更加完善但仍然存在问题；<br> Stable版本是最终版本，也称为正式版或生产版，稳定和可靠。</p> 
<p>CronJob* * * * *对应分 时 天 月 周</p> 
<p>为了防止网络抖动或其他原因误把容器杀死，在容器探活时应选择readinessPribe</p> 
<p>OCI容器规范是为了保证不同容器之间可以兼容，并没有定义容器网络中的通信方式</p> 
<p>Volcano是一个kubernetes的扩展调度器框架</p> 
<p>Canal是一个开源的网络覆盖层网络插件</p> 
<p>ROMA Factory DevOps提供了云原生一站式应用托管与治理，可以随时随地在云端交付软件全生命周期</p> 
<p>Appube提供零代码/低代码开发模式，学习成本低</p> 
<p>初始化容器是用来检查依赖服务是否正常</p> 
<p>DaemonSet通常用于在每个kubernetes节点上运行系统级别的任务或代理程序，例如日志收集、监控、网络代理等。</p> 
<p>StatefulSet是一种用于部署和管理需要状态和持久性的有状态应用程序的Kubernetes控制器对象，它提供了稳定的网络标识、持久性存储和有序部署的功能。不支持策略更新</p> 
<p>SSL网关-旁挂核心 管理墙-旁挂 外部接入TOR-串联</p> 
<p>三层组网中SSL网关旁挂在border leaf上</p> 
<p>网络安全等保二级和等保三级的差异：<br> 1、结构安全方面：三级在二级的基础上要求网络设备满足高峰时需求，业务终端与业务服务器之间建立安全路径，带宽优先级管理<br> 2、访问控制方面：三级在二级防火墙ACL的基础上，要求进行端口级控制，协议命令过滤，会话控制等<br> 3、安全审计方面：三级对审计日志保存提出了更高的要求，需要采用日志服务器<br> 4、网络设备防护：三级要求对主要网络设备实施双因素认证进行身份<br> 5、边界完整性：二级要求部署终端安全系统，三级要求能够进行阻断<br> 6、入侵防护：二级要求部署IPS，三级要求配置日志模块<br> 7、恶意代码：二级无要求，三级要求部署UTM或AV、IPS</p> 
<p>三种不同类型的防护针对点：<br> 安全组-针对虚机网卡进行访问控制，配置允许放行的流量<br> 云防火墙-针对业务逻辑设置角色，基于角色进行流量管控，RBMC<br> 网络ACL-基于子网进行访问控制</p> 
<p>EdgeFW是边界防火墙，位于内外网的边界处，连接内网与外网。<br> edgeFW针对云数据中心与外部网络的南北向流量，支持对EIP流量进行访问控制，入侵防御，流量日志，网络防病毒<br> EdgeFW采用主备模式，单核心场景通过10GE口旁挂在核心交换机，双核心场景通过10GE接口直挂在业务核心交换机。三层组网时，旁挂在Border Leaf。可以与数据中心的出口防火墙合并部署<br> EdgeFW针对EIP进行保护，但不会保护绑定了EIP的ECS<br> EdgeFW需要硬件支持，可以是华为防火墙，也可以选择第三方的防火墙</p> 
<p>SecoManager是华为硬件防火墙管理平台，在EdgeFW中，SecoManager和ManagerOne对接，驱动HCS管理EdgeFW</p> 
<p>CSP计算安全平台，提供服务器的资产管理、漏洞检测、基线检查、入侵检测功能。能够主动防御、智能检测<br> CSP可以和数据库审计服务DBAS同一个工程中进行部署安装<br> CSP服务Agent可以安装在物理机中，可以安装在基础服务和高阶服务的管理节点中，不能代替的ECS的CloudAgent</p> 
<p>Cgroup 是 Linux 控制组（Control Group）的缩写。它是 Linux 内核提供的一种机制，用于对进程和任务进行分组并分配资源。通过 Cgroup，华为云容器服务可以提供更加可靠和高效的容器资源管理，确保容器应用程序在共享资源环境中的稳定性和性能。</p> 
<p>HCS对计算节点进行扩容时，如果新增的AZ需要用KVM虚拟化或发放通用型ECS，就需要设置成新增计算节点，新增节点承载分布式网关要设置扩容SDI节点；新增容器业务要扩容MCS节点</p> 
<p>进行管理区管理节点数量计算时，不需要考虑计算节点网口数量信息</p> 
<p>HCS中cloudnetDebug工具可以通过ID和IP查询VM信息</p> 
<p>HCSD部署HCS时，如果LLD中填错管理节点地址错误，在启动后无法修改，只能重新创建工程并重新导入LLD表；如果计算节点地址错误，在启动安装后可跳过“计算节点安装”</p> 
<p>HCS的VHA服务依赖华为存储的HyperMetro特性实现</p> 
<p>HCS中VHA服务不支持业务存储的分布式存储。但CSDR可以支持业务存储为华为分布式存储的异地容灾</p> 
<p>备份是基于存储的快照技术和快照对比技术来实现的。每次备份时，eBackup会为待备份的云硬盘创建一个快照。首次备份时，通过快照数据进行全量备份，第N次备份时，eBackup通过对比上一个快照数据进行增量备份，只备份变化数据</p> 
<p>恢复是基于快照比对技术来实现。eBackup获取备份副本数据与目标磁盘的数据差异，仅将差异的数据恢复至目标磁盘，恢复前无需合成完整的磁盘数据</p> 
<p>VHA的实现原理：<br> 1、申请VHA实例<br> 2、BCManager eReplication调用Nova查询ECS或BMS挂载的卷，创建保护组<br> 3、BCManager eReplication调用cinder，在双活存储设备上创建双活从卷<br> 4、BCManager eReplication调用DRextend创建主卷和从卷的双活pair，将所有双活pair加入到双活一致性组<br> 5、BCManager eReplication调用Nova，将双活LUN挂载给ECS或BMS</p> 
<p>HCS中将业务从x86像ARM迁移的过程中，应该从非核心业务入手，逐步的替换迁移</p> 
<p>HCS中，VPN用于在本地网络、数据中心和云上网络之间搭建安全可靠的加密通道连接。</p> 
<p>云专线搭建本地数据中心和华为云VPC之间专属通道。</p> 
<p>二层桥接L2BR为VPC和云外网段提供高速安全的二层互通：可以实现云外网段与云内VPC同网段子网二层互通，不同网段三层互通</p> 
<p>HCS的SIS是一个关于云环境的安全评估服务</p> 
<p>HCS的KMS是密钥管理服务，可以通过KMS创建软件密钥登录云服务器，也可以使用硬件加密机</p> 
<p>CBH云堡垒机是4A统一安全管控平台，4A包括集中账号、授权、认证、审计</p> 
<p>CMDB配置管理平台：用来存储与管理企业IT架构中设备和系统的各种数据信息，依赖相关流程保证数据的准确、及时有效，实现信息共享，发挥配置信息的价值。</p> 
<p>HCS中安全组、云防火墙、网络ACL都是通过软件实现，基于iptables进行规则配置</p> 
<p>HCS中分化的各类VRF，如果有互通需求，需要在防火墙上配置安全策略后进行流量打通</p> 
<p>稀疏文件（Sparse file）是指在文件系统中占据磁盘空间的部分连续数据块中包含大量的空闲或未使用的数据块。这种文件只使用了部分块来存储实际数据，而其余的块被标记为空闲状态，不占用实际磁盘空间。</p> 
<p>windows在线块级迁移步骤<br> 1、对目标虚拟机分区格式化<br> 2、源端启动扇区追踪程序，记录变化扇区，在内存中生成变化扇区追踪表<br> 3、根据源端bitmap追踪表读取标记为使用的扇区，并复制到目的端<br> 4、各分区扇区复制完成后再进行数据同步<br> 5、修改windows启动项并重启</p> 
<p>Rainbow进行Linux主机在线文件迁移，全量迁移主要依赖源端tar脚本，再使用rsync脚本进行增量同步与最终同步</p> 
<p>Rainbow在迁移windows的场景中，8899端口是源端和目的端agent的管理端口，8900是agent的数据传输端口，445端口是smb文件共享端口</p> 
<p>Rainbow在迁移windows的场景中，1888是linux块迁移源端agent管理端口，1889是目的端agent管理端口</p> 
<p>Rainbow工具迁移时，在windows端使用pfx类型证书，Linux不涉及pfx证书</p> 
<p>Rainbow工具迁移windows主机时，不支持盘类型为共享的磁盘</p> 
<p>AB两台VM相互通信时，A将流量发送给B时，A所在的计算节点会判断该流量是否需要跨VPC，如果需要则进行VXLAN封装，并发送给vRouter</p> 
<p>统一运营、分级运维的技术框架，是总部与分部全部使用统一一朵云，由总部统一运营，各分部采购自己所需的资源，各分部各自进行本地运维</p> 
<p>HCS涉及ECS的流量都不经过brcps</p> 
<p>HCS安全防护解决方案中，硬件安全设备和服务一般采用旁挂核心交换机模式部署 出口安全设备和服务一般采用旁路模式部署，用来提升便捷网络的可用性</p> 
<p>网络类型VLAN：支持映射到实际网络上，支持内网与外网的连通<br> LOCAL：不会进入物理网络，支持主机内部互通</p> 
<p>HCS标准组网中，核心交换机配置租户VPC访问外网的下一跳指向管理墙</p> 
<p>HCS容灾场景中，Global运维区是HCS容灾解决方案的特殊区域，用于管理配置和监控整个容灾方案</p> 
<p>HCS中两个网桥之间使用veth pair连接</p> 
<p>HCS交付前需要完成的前期准备工作包括HDL方案输出，BOQ输出，硬件设备到货开箱验收</p> 
<p>HCS中SC服务中心面向用户，提供统一运营管理平台，OC运维中心面向管理员，提供统一的运维管理平台，OCC运营指挥中心同时面向运营运维人员</p> 
<p>HCS中BR网元不需要接入DMZservice平面</p> 
<p>HCS的HSS服务是一种集成了主机安全、容器安全、网页防篡改功能的安全产品，主要解决混合云和多云数据中心的负载保护要求。但无法防护数据敏感与数据屏蔽的问题</p> 
<p>HCS中CBH主机状态故障时，管理员可在service OM登录进行故障排查</p> 
<p>HCS中备份服务通过Karbor组件进行保存和调度备份策略</p> 
<p>AB两个虚机需要通信时，如果处于一个VPC的不同子网，不需要进行VXLAN封装，在计算节点内判断时候需要跨VPC，如果需要则将流量进行VXLAN封装，发送给vRouter网元</p> 
<p>HCS中CVS网元可以提供健康检查和会话保持功能，根据租户的健康检查策略，用业务网络对业务虚机进行健康检查</p> 
<p>HCS中防火墙根据功能不同分为管理墙，运维墙，边界墙，其中边界墙主要用于对租户业务进行保护</p> 
<p>管理墙，需要被旁挂到核心交换机侧，用于对管理区和业务区之间的安全防护</p> 
<p>管理墙如果遇到无法提供明细路由的流量，就会将其默认核心交换机</p> 
<p>HCS云服务中包括<br> 云防火墙基础包CFW<br> ——微隔离<br> ——流量可视<br> ——业务标签<br> ——策略继承</p> 
<p>边界防火墙EdgeFW<br> 数据库审计DBAS<br> 数据库安全DBSS<br> 安全指数服务SIS<br> 数据加密服务DEW<br> 云备份服务CSBS-VBS<br> 应用运维管理AOM<br> 应用性能管理服务APW<br> 消息通知服务SMN<br> 分布式缓存服务DCS</p> 
<p>华为智慧医保解决方案中，“大支撑”指的是自主可控的第二计算平面与高可用的灾备服务</p> 
<p>CSHA是用于在同一个region内做双活 CSDR是跨region做主备的容灾，CSHA+CSDR实现两地三中心容灾，RTO=0 但CSDR RPO≠0</p> 
<p>CSDR计划性迁移过程（BCManager eReplication）<br> 1、主节点nova接口停止云服务器<br> 2、主节点调用DRextend启动存储复制<br> 3、备节点调用DRextend启动灾备卷资源，DRextend Driver调用存储进行备端读写<br> 4、备节点nova接口设置占位虚机为正常虚机<br> 5、备节点nova将备端磁盘挂载给云服务，通过cinder完成LUN映射<br> 6、备节点Neutron禁用测试网络，启用容灾恢复网络<br> 7、备节点nova启动云服务器并接入容灾网络<br> 8、主节点nova卸载原生产服务器卷，并锁定原生产服务器</p> 
<p>CSBS备份流程：<br> 1、租户通过CSBS控制台进行手工备份、或按照备份策略自动备份<br> 2、karbor启动云服务器备份调度，下发任务到eBackup Manager<br> 3、eBackup Workflow调用FS接口获取云服务和云硬盘信息，并在生产阵列上创建快照，下发任务给ebackup server&amp;proxy进行备份<br> 4、ebackup proxy负责从生产存储快照中读取数据写入备份存储</p> 
<p>VBS备份流程：<br> 1、租户通过VBS控制台进行手工备份、或按照备份策略自动备份<br> 2、karbor启动云硬盘备份调度，调用cinder对卷创建快照<br> 3、karbor调用cinder备份接口，通过ebackup Driver通知ebackup server&amp;proxy创建备份卷快照 4、ebackup proxy负责从生产存储快照中读取数据写入备份存储</p> 
<p>HCS的CCE（Container Cluster Engine）服务是一种容器集群引擎服务。CCE为用户提供了一种高度可扩展的容器化解决方案，用于部署、管理和运行容器化应用程序</p> 
<p>HCS的CCE服务中，要实现HPA策略需要安装metric-server插件</p> 
<p>HCS单核心组网应用于业务规模较小时，管理和业务合布的场景；双核心是业务规模较大时，管理和业务分开部署的场景。如果需要物理隔离则必须使用双核心组网</p> 
<p>HCS安装CCE时，不需要规划management storage data平面的地址，因为本身就是容器服务 CCE使用Everest插件实现对于IAAS层的调用</p> 
<p>HCSD新建工程部署云服务中没有CCE选项，安装CCE后，无法通过HCSD进行自动调测</p> 
<p>在安装CCE之前，需要完成ALB上VIP网络等价路由的配置，以确保ALB应用负载均衡器能够正常工作</p> 
<p>CC服务于VPC-peering的区别：<br> VPC-peering主要关注虚拟私有云之间的内部连接，而CC服务则更侧重于实现跨地域、跨云平台的网络连接。<br> VPC-peering适用于同一云平台内的VPC之间的连接需求，而CC服务适用于不同云平台之间或云与企业数据中心之间的连接需求。</p> 
<p>相对于容器隧道网络，VPC网络有着性能较高、容器网络与节点网络相互独立的特点</p> 
<p>HCS中，SOC、WAF服务可以和ISAP服务在相同工程中部署，因为同属于高阶安全服务</p> 
<p>WAF可以提供CC攻击的防护，防篡改，</p> 
<p>WAF只有软WAF一种模式，没有硬WAF</p> 
<p>HCS的规划中，支持同一套存储设备创建两套存储池，可以映射给不同cpu架构的AZ；但两套设备无法互相映射，因为跨AZ无法通信</p> 
<p>HCS的业务容灾，基于ECS部署的</p> 
<p>HCS的FDI数据集成服务，能够提供多种异构数据源灵活转化入户入库能力</p> 
<p>HCS网络节点要求6网口，至少是万兆网口 HCS中eSight 是一种网络管理软件，用于监控和管理企业网络设备和服务。<br> 在G/R解耦的场景中，eSight的资源占用需要在Global和Region区域中分别进行计算</p> 
<p>G/R合布场景下，首Region管理节点CPU架构需要保持一致；在G/R解耦场景中，Global区管理节点CPU可以和首Region内管理节点CPU架构不一致</p> 
<p>在Global独立部署的场景中，Global和Region需要分别单独部署一套FSO、分布式存储、ServiceOM等组件。</p> 
<p>HCS三层组网架构中，Underlay网络使用eBGP协议打通不同区域的网络</p> 
<p>HCS中，新增的AZ与原有的AZ可以共享网络出口与华为分布式存储的存储池，但不能共享IPSAN/FCSAN提供的存储池</p> 
<p>UnionFS联合文件系统是实现docker镜像的技术基础</p> 
<p>HCS的云联邦2.0功能能够解决电子政务遇到的“数据不敢共享，不愿共享，不敢使用”的痛点</p> 
<p>eDesigner工具是一种用于网络设计和规划的软件。其功能包括1、网络拓扑设计2、网络配置设置3、网络性能评估4、链路规划和优化5、故障模拟和容灾规划</p> 
<p>LDAP（轻量级目录访问协议，Lightweight Directory Access Protocol）是一种用于访问和维护分布式目录服务的开放标准协议。LDAP服务器是实现LDAP协议的服务器软件，用于存储、管理和提供访问分布式目录数据的服务。常见的LDAP服务器软件包括OpenLDAP、Microsoft Active Directory等。</p> 
<p>在VPC内创建一个新子网，相当于让OpenStack创建一个新的Network，然后再创建一个新subnet</p> 
<p>横向越权：访问与攻击者拥有同级别权限的用户资源。<br> 预防方法：可用过建立用户和可操作资源的绑定关系，用户对任何资源进行操作，通过绑定关系确保该资源是属于该用户所有</p> 
<p>纵向越权：访问比攻击者拥有权限更高级别的用户资源。<br> 预防方法：使用基于角色的访问控制机制，预定义不同权限的角色，为角色分配不同权重，每个用户属于特定角色</p> 
<p>数据库、 数据仓库和数据湖之间的区别：<br> 数据库通常用于存储相对较小且高度结构化的数据<br> 数据湖用于存储大量未经处理的原始数据<br> 数据仓库则介于两者之间，通常用于存储结构化和清洗过的数据，以便进行分析和报告<br> 区别还包括数据的处理方式、访问模式、用例等</p> 
<p>HTTPS使用HTTP传输，加入了TLS为传输提供身份验证，加密和校验 通过TLS协议，HTTPS提供以下功能：<br> 1、身份验证：TLS协议使用数字证书来验证服务器的身份。客户端可以验证服务器的证书以确保与正确的服务器建立连接。<br> 2、加密：TLS使用对称加密和公钥加密的技术来加密传输的数据。这样，即使在网络传输过程中，第三方也无法读取或篡改传输的数据。<br> 3、完整性校验：TLS使用消息认证码（MAC）来验证数据的完整性。接收方可以确保数据在传输过程中没有被更改。</p> 
<p>关于HCS的L2BR二层桥接技术： L2BR 支持将云上的虚拟局域网（VLAN）与云下的物理局域网桥接，实现二层的透明通信。 云上虚拟机和云下物理服务器的MAC地址学习和转发，提供VLAN与网络ACL的安全策略</p> 
<p>要进行二层桥接网络，bgp_broker_float_ip与inter_connect网络平面需要提前规划</p> 
<p></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0d44bdb264384a3cb521512cf84dada6/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">如何在 Ubuntu 20.04 上以独立模式设置 MinIO 对象存储服务器</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f2c7242b398d59beb59edbdd20bd075c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">nextTick的使用</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程爱好者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151260"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>