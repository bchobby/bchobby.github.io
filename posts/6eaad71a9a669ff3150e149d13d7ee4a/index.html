<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>使用 Spring Boot 开发 - 编程爱好者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="使用 Spring Boot 开发" />
<meta property="og:description" content="本文为官方文档直译版本。原文链接
使用 Spring Boot 开发 引言构建系统依赖管理 MavenGradleAntStarters结构化你的代码使用 &#34;默认&#34; 包查找主应用程序类配置类导入更多配置类导入 XML 配置 自动配置逐步取代自动配置禁用特定的自动配置类自动配置包 Spring Beans 和依赖注入使用 @SpringBootApplication 注解运行你的应用程序从集成开发环境中运行以包的形式运行使用 Maven 插件使用 Gradle 插件热部署 开发工具诊断类加载问题属性默认值自动重启记录条件评估中的变化排除资源监听更多路径禁用重启使用触发器文件自定义重启类加载器已知的局限性 LiveReload全局设置配置文件系统监视器 远程应用运行远程客户端程序远程更新 打包你的应用程序到生产 引言 本节将详细介绍如何使用 Spring Boot。它涵盖了构建系统、自动配置以及如何运行应用程序等主题。我们还将介绍一些 Spring Boot 最佳实践。尽管 Spring Boot 并没有什么特别之处（它只是另一个可以使用的库），但我们还是提出了一些建议，只要遵循这些建议，开发过程就会变得更加轻松。
如果您刚开始使用 Spring Boot，在阅读本节内容之前，最好先阅读入门指南。
构建系统 强烈建议您选择一个支持依赖关系管理的构建系统，该系统可以使用发布到 “Maven Central” 资源库的工件。我们建议您选择 Maven 或 Gradle。Spring Boot 也可以与其他构建系统（例如 Ant）配合使用，但它们的支持并不完善。
依赖管理 Spring Boot 的每个版本都会提供其支持的依赖项的精选列表。实际上，您无需在构建配置中提供这些依赖项的版本，因为 Spring Boot 会为您管理这些依赖项。当您升级 Spring Boot 本身时，这些依赖项也会以一致的方式升级。
如果需要，您仍然可以指定一个版本并覆盖 Spring Boot 的建议。
精选列表包含了可与 Spring Boot 配合使用的所有 Spring 模块，以及第三方库的细化列表。该列表以标准材料清单 (spring-boot-dependencies) 的形式提供，可与 Maven 和 Gradle 一起使用。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bchobby.github.io/posts/6eaad71a9a669ff3150e149d13d7ee4a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-20T08:50:33+08:00" />
<meta property="article:modified_time" content="2023-12-20T08:50:33+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程爱好者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程爱好者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">使用 Spring Boot 开发</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p>本文为官方文档直译版本。<a href="https://docs.spring.io/spring-boot/docs/current/reference/html/using.html#using" rel="nofollow">原文链接</a></p> 
</blockquote> 
<p></p> 
<div class="toc"> 
 <h4>使用 Spring Boot 开发</h4> 
 <ul><li><ul><li><a href="#_4" rel="nofollow">引言</a></li><li><a href="#_7" rel="nofollow">构建系统</a></li><li><ul><li><a href="#_9" rel="nofollow">依赖管理</a></li></ul> 
   </li><li><a href="#Maven_16" rel="nofollow">Maven</a></li><li><a href="#Gradle_21" rel="nofollow">Gradle</a></li><li><a href="#Ant_26" rel="nofollow">Ant</a></li><li><a href="#Starters_80" rel="nofollow">Starters</a></li><li><a href="#_159" rel="nofollow">结构化你的代码</a></li><li><ul><li><a href="#___163" rel="nofollow">使用 "默认" 包</a></li><li><a href="#_167" rel="nofollow">查找主应用程序类</a></li><li><a href="#_204" rel="nofollow">配置类</a></li><li><ul><li><a href="#_208" rel="nofollow">导入更多配置类</a></li><li><a href="#_XML__210" rel="nofollow">导入 XML 配置</a></li></ul> 
   </li></ul> 
   </li><li><a href="#_212" rel="nofollow">自动配置</a></li><li><ul><li><a href="#_217" rel="nofollow">逐步取代自动配置</a></li><li><a href="#_220" rel="nofollow">禁用特定的自动配置类</a></li><li><a href="#_236" rel="nofollow">自动配置包</a></li></ul> 
   </li><li><a href="#Spring_Beans__238" rel="nofollow">Spring Beans 和依赖注入</a></li><li><a href="#_SpringBootApplication__289" rel="nofollow">使用 @SpringBootApplication 注解</a></li><li><a href="#_330" rel="nofollow">运行你的应用程序</a></li><li><ul><li><a href="#_334" rel="nofollow">从集成开发环境中运行</a></li><li><a href="#_339" rel="nofollow">以包的形式运行</a></li><li><a href="#_Maven__349" rel="nofollow">使用 Maven 插件</a></li><li><a href="#_Gradle__358" rel="nofollow">使用 Gradle 插件</a></li><li><a href="#_367" rel="nofollow">热部署</a></li></ul> 
   </li><li><a href="#_370" rel="nofollow">开发工具</a></li><li><ul><li><a href="#_394" rel="nofollow">诊断类加载问题</a></li><li><a href="#_397" rel="nofollow">属性默认值</a></li><li><a href="#_426" rel="nofollow">自动重启</a></li><li><ul><li><a href="#_448" rel="nofollow">记录条件评估中的变化</a></li><li><a href="#_457" rel="nofollow">排除资源</a></li><li><a href="#_467" rel="nofollow">监听更多路径</a></li><li><a href="#_469" rel="nofollow">禁用重启</a></li><li><a href="#_486" rel="nofollow">使用触发器文件</a></li><li><a href="#_509" rel="nofollow">自定义重启类加载器</a></li><li><a href="#_524" rel="nofollow">已知的局限性</a></li></ul> 
    </li><li><a href="#LiveReload_527" rel="nofollow">LiveReload</a></li><li><a href="#_534" rel="nofollow">全局设置</a></li><li><ul><li><a href="#_554" rel="nofollow">配置文件系统监视器</a></li></ul> 
    </li><li><a href="#_564" rel="nofollow">远程应用</a></li><li><ul><li><a href="#_584" rel="nofollow">运行远程客户端程序</a></li><li><a href="#_615" rel="nofollow">远程更新</a></li></ul> 
   </li></ul> 
   </li><li><a href="#_621" rel="nofollow">打包你的应用程序到生产</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="_4"></a>引言</h3> 
<p>本节将详细介绍如何使用 Spring Boot。它涵盖了构建系统、自动配置以及如何运行应用程序等主题。我们还将介绍一些 Spring Boot 最佳实践。尽管 Spring Boot 并没有什么特别之处（它只是另一个可以使用的库），但我们还是提出了一些建议，只要遵循这些建议，开发过程就会变得更加轻松。<br> 如果您刚开始使用 Spring Boot，在阅读本节内容之前，最好先阅读入门指南。</p> 
<h3><a id="_7"></a>构建系统</h3> 
<p>强烈建议您选择一个支持依赖关系管理的构建系统，该系统可以使用发布到 “Maven Central” 资源库的工件。我们建议您选择 Maven 或 Gradle。Spring Boot 也可以与其他构建系统（例如 Ant）配合使用，但它们的支持并不完善。</p> 
<h4><a id="_9"></a>依赖管理</h4> 
<p>Spring Boot 的每个版本都会提供其支持的依赖项的精选列表。实际上，您无需在构建配置中提供这些依赖项的版本，因为 Spring Boot 会为您管理这些依赖项。当您升级 Spring Boot 本身时，这些依赖项也会以一致的方式升级。</p> 
<blockquote> 
 <p>如果需要，您仍然可以指定一个版本并覆盖 Spring Boot 的建议。</p> 
</blockquote> 
<p>精选列表包含了可与 Spring Boot 配合使用的所有 Spring 模块，以及第三方库的细化列表。该列表以标准材料清单 (<code>spring-boot-dependencies</code>) 的形式提供，可与 Maven 和 Gradle 一起使用。</p> 
<blockquote> 
 <p>Spring Boot 的每个版本都与 Spring Framework 的基础版本相关联。我们强烈建议您不要指定其版本。</p> 
</blockquote> 
<h3><a id="Maven_16"></a>Maven</h3> 
<p>要了解如何将 Spring Boot 与 Maven 结合使用，请参阅 Spring Boot 的 Maven 插件文档：</p> 
<ul><li>参考资料（<a href="https://docs.spring.io/spring-boot/docs/3.2.0/maven-plugin/reference/htmlsingle/" rel="nofollow">HTML</a> 和 <a href="https://docs.spring.io/spring-boot/docs/3.2.0/maven-plugin/reference/pdf/spring-boot-maven-plugin-reference.pdf" rel="nofollow">PDF</a>）</li><li><a href="https://docs.spring.io/spring-boot/docs/3.2.0/maven-plugin/api/" rel="nofollow">API</a></li></ul> 
<h3><a id="Gradle_21"></a>Gradle</h3> 
<p>要了解如何将 Spring Boot 与 Gradle 结合使用，请参阅 Spring Boot 的 Gradle 插件文档：</p> 
<ul><li>参考资料（<a href="https://docs.spring.io/spring-boot/docs/3.2.0/gradle-plugin/reference/htmlsingle/" rel="nofollow">HTML</a> 和 <a href="https://docs.spring.io/spring-boot/docs/3.2.0/gradle-plugin/reference/pdf/spring-boot-gradle-plugin-reference.pdf" rel="nofollow">PDF</a>）</li><li><a href="https://docs.spring.io/spring-boot/docs/3.2.0/gradle-plugin/api/" rel="nofollow">API</a></li></ul> 
<h3><a id="Ant_26"></a>Ant</h3> 
<p>使用 Apache Ant+Ivy 可以构建 Spring Boot 项目。<code>spring-boot-antlib</code> "AntLib "模块也可帮助 Ant 创建可执行的 jar。<br> 要声明依赖关系，典型的 <code>ivy.xml</code> 文件看起来与下面的示例类似：</p> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ivy-module</span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>info</span> <span class="token attr-name">organisation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>org.springframework.boot<span class="token punctuation">"</span></span> <span class="token attr-name">module</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>spring-boot-sample-ant<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configurations</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>conf</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>compile<span class="token punctuation">"</span></span> <span class="token attr-name">description</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>everything needed to compile this module<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>conf</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>runtime<span class="token punctuation">"</span></span> <span class="token attr-name">extends</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>compile<span class="token punctuation">"</span></span> <span class="token attr-name">description</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>everything needed to run this module<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configurations</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span> <span class="token attr-name">org</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>org.springframework.boot<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>spring-boot-starter<span class="token punctuation">"</span></span>
            <span class="token attr-name">rev</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${spring-boot.version}<span class="token punctuation">"</span></span> <span class="token attr-name">conf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>compile<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ivy-module</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>典型的 build.xml 文件与下面的示例相似：</p> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span>
    <span class="token attr-name"><span class="token namespace">xmlns:</span>ivy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>antlib:org.apache.ivy.ant<span class="token punctuation">"</span></span>
    <span class="token attr-name"><span class="token namespace">xmlns:</span>spring-boot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>antlib:org.springframework.boot.ant<span class="token punctuation">"</span></span>
    <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myapp<span class="token punctuation">"</span></span> <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>build<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>spring-boot.version<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>3.2.0<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>target</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>resolve<span class="token punctuation">"</span></span> <span class="token attr-name">description</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>--&gt; retrieve dependencies with ivy<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">ivy:</span>retrieve</span> <span class="token attr-name">pattern</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lib/[conf]/[artifact]-[type]-[revision].[ext]<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>target</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>target</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>classpaths<span class="token punctuation">"</span></span> <span class="token attr-name">depends</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>resolve<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>compile.classpath<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fileset</span> <span class="token attr-name">dir</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lib/compile<span class="token punctuation">"</span></span> <span class="token attr-name">includes</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>*.jar<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>path</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>target</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>target</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>init<span class="token punctuation">"</span></span> <span class="token attr-name">depends</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>classpaths<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mkdir</span> <span class="token attr-name">dir</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>build/classes<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>target</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>target</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>compile<span class="token punctuation">"</span></span> <span class="token attr-name">depends</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>init<span class="token punctuation">"</span></span> <span class="token attr-name">description</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>compile<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>javac</span> <span class="token attr-name">srcdir</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>src/main/java<span class="token punctuation">"</span></span> <span class="token attr-name">destdir</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>build/classes<span class="token punctuation">"</span></span> <span class="token attr-name">classpathref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>compile.classpath<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>target</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>target</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>build<span class="token punctuation">"</span></span> <span class="token attr-name">depends</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>compile<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">spring-boot:</span>exejar</span> <span class="token attr-name">destfile</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>build/myapp.jar<span class="token punctuation">"</span></span> <span class="token attr-name">classes</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>build/classes<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">spring-boot:</span>lib</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fileset</span> <span class="token attr-name">dir</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lib/runtime<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">spring-boot:</span>lib</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">spring-boot:</span>exejar</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>target</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<blockquote> 
 <p>如果不想使用 <code>spring-boot-antlib</code> 模块，请参见 <a href="https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.build.build-an-executable-archive-with-ant-without-using-spring-boot-antlib" rel="nofollow"><em>howto.html</em></a> “How-to”。</p> 
</blockquote> 
<h3><a id="Starters_80"></a>Starters</h3> 
<p>Starters是一组方便的依赖关系描述符，您可以将其包含在应用程序中。您可以一站式获得所需的所有 Spring 及相关技术，而无需翻阅示例代码和复制粘贴大量依赖关系描述符。例如，如果您想开始使用 Spring 和 JPA 访问数据库，请在项目中包含 <code>Spring-boot-starter-data-jpa</code> 依赖关系。<br> Starters包含了大量的依赖项，这些依赖项可以让项目快速启动和运行，并提供一套一致的、受支持的受管传递依赖项。</p> 
<blockquote> 
 <p>名称的含义<br> 所有官方启动程序都遵循类似的命名模式：<code>spring-boot-starter-*</code>，其中 <code>*</code> 表示特定类型的应用程序。这种命名结构的目的是在需要查找启动程序时提供帮助。许多集成开发环境中的 Maven 集成可让您按名称搜索依赖项。例如，如果安装了相应的 Eclipse 或 Spring Tools 插件，就可以在 POM 编辑器中按下 <code>ctrl-space</code>，然后键入 “spring-boot-starter”，查看完整列表。</p> 
</blockquote> 
<p>以下应用程序starters由 Spring Boot 在 <code>org.springframework.boot</code> 组下提供：</p> 
<table><thead><tr><th><strong>名称</strong></th><th><strong>描述</strong></th></tr></thead><tbody><tr><td><code>spring-boot-starter</code></td><td>核心Starter，包括自动配置支持、日志和 YAML</td></tr><tr><td><code>spring-boot-starter-activemq</code></td><td>使用 Apache ActiveMQ 发送 JMS 消息的Starter</td></tr><tr><td><code>spring-boot-starter-amqp</code></td><td>使用 Spring AMQP 和 Rabbit MQ 的Starter</td></tr><tr><td><code>spring-boot-starter-aop</code></td><td>使用 Spring AOP 和 AspectJ 进行面向方面编程的Starter</td></tr><tr><td><code>spring-boot-starter-artemis</code></td><td>使用 Apache Artemis 发送 JMS 消息的Starter</td></tr><tr><td><code>spring-boot-starter-batch</code></td><td>使用 Spring Batch 的Starter</td></tr><tr><td><code>spring-boot-starter-cache</code></td><td>使用 Spring Framework 缓存支持的Starter</td></tr><tr><td><code>spring-boot-starter-data-cassandra</code></td><td>使用 Cassandra 分布式数据库和 Spring Data Cassandra 的Starter</td></tr><tr><td><code>spring-boot-starter-data-cassandra-reactive</code></td><td>使用 Cassandra 分布式数据库和 Spring Data Cassandra Reactive 的Starter</td></tr><tr><td><code>spring-boot-starter-data-couchbase</code></td><td>使用面向文档的 Couchbase 数据库和 Spring Data Couchbase 的Starter</td></tr><tr><td><code>spring-boot-starter-data-couchbase-reactive</code></td><td>使用面向文档的 Couchbase 数据库和 Spring Data Couchbase Reactive 的Starter</td></tr><tr><td><code>spring-boot-starter-data-elasticsearch</code></td><td>使用 Elasticsearch 搜索和分析引擎以及 Spring Data Elasticsearch 的Starter</td></tr><tr><td><code>spring-boot-starter-data-jdbc</code></td><td>使用 Spring Data JDBC 的Starter</td></tr><tr><td><code>spring-boot-starter-data-jpa</code></td><td>将 Spring Data JPA 与 Hibernate 结合使用的Starter</td></tr><tr><td><code>spring-boot-starter-data-ldap</code></td><td>使用 Spring Data LDAP 的Starter</td></tr><tr><td><code>spring-boot-starter-data-mongodb</code></td><td>使用 MongoDB 面向文档的数据库和 Spring Data MongoDB 的入Starter</td></tr><tr><td><code>spring-boot-starter-data-mongodb-reactive</code></td><td>使用 MongoDB 面向文档的数据库和 Spring Data MongoDB Reactive 的Starter</td></tr><tr><td><code>spring-boot-starter-data-neo4j</code></td><td>使用 Neo4j 图形数据库和 Spring Data Neo4j 的Starter</td></tr><tr><td><code>spring-boot-starter-data-r2dbc</code></td><td>使用 Spring Data R2DBC 的Starter</td></tr><tr><td><code>spring-boot-starter-data-redis</code></td><td>利用 Spring Data Redis 和 Lettuce 客户端使用 Redis 键值数据存储的Starter</td></tr><tr><td><code>spring-boot-starter-data-redis-reactive</code></td><td>利用 Spring Data Redis reactive 和 Lettuce 客户端使用 Redis 键值数据存储的Starter</td></tr><tr><td><code>spring-boot-starter-data-rest</code></td><td>使用 Spring Data REST 和 Spring MVC 通过 REST 公开 Spring 数据存储库的Starter</td></tr><tr><td><code>spring-boot-starter-freemarker</code></td><td>使用 FreeMarker 视图构建 MVC 网络应用程序的Starter</td></tr><tr><td><code>spring-boot-starter-graphql</code></td><td>使用 Spring GraphQL 构建 GraphQL 应用程序的Starter</td></tr><tr><td><code>spring-boot-starter-groovy-templates</code></td><td>使用 Groovy 模板视图构建 MVC 网络应用程序的Starter</td></tr><tr><td><code>spring-boot-starter-hateoas</code></td><td>使用 Spring MVC 和 Spring HATEOAS 构建基于超媒体的 RESTful 网络应用程序的Starter</td></tr><tr><td><code>spring-boot-starter-integration</code></td><td>使用 Spring Integration 的Starter</td></tr><tr><td><code>spring-boot-starter-jdbc</code></td><td>与 HikariCP 连接池一起使用 JDBC 的Starter</td></tr><tr><td><code>spring-boot-starter-jersey</code></td><td>使用 JAX-RS 和 Jersey 构建 RESTful 网络应用程序的Starter。<a href="https://docs.spring.io/spring-boot/docs/current/reference/html/using.html#spring-boot-starter-web" rel="nofollow">spring-boot-starter-web</a> 的替代方案</td></tr><tr><td><code>spring-boot-starter-jooq</code></td><td>使用 jOOQ 通过 JDBC 访问 SQL 数据库的Starter。<a href="https://docs.spring.io/spring-boot/docs/current/reference/html/using.html#spring-boot-starter-data-jpa" rel="nofollow">spring-boot-starter-data-jpa</a> 或 <a href="https://docs.spring.io/spring-boot/docs/current/reference/html/using.html#spring-boot-starter-jdbc" rel="nofollow">spring-boot-starter-jdbc</a> 的替代方案</td></tr><tr><td><code>spring-boot-starter-json</code></td><td>读写 json 的Starter</td></tr><tr><td><code>spring-boot-starter-mail</code></td><td>使用 Java Mail 和 Spring Framework 电子邮件发送支持的Starter</td></tr><tr><td><code>spring-boot-starter-mustache</code></td><td>使用 Mustache 视图构建网络应用程序的Starter</td></tr><tr><td><code>spring-boot-starter-oauth2-authorization-server</code></td><td>使用 Spring Authorization Server 功能的Starter</td></tr><tr><td><code>spring-boot-starter-oauth2-client</code></td><td>使用 Spring Security 的 OAuth2/OpenID Connect 客户端功能的Starter</td></tr><tr><td><code>spring-boot-starter-oauth2-resource-server</code></td><td>使用 Spring Security 的 OAuth2 资源服务器功能的Starter</td></tr><tr><td><code>spring-boot-starter-pulsar</code></td><td>将 Spring 用于 Apache Pulsar 的Starter</td></tr><tr><td><code>spring-boot-starter-pulsar-reactive</code></td><td>将 Spring 用于 Apache Pulsar Reactive 的Starter</td></tr><tr><td><code>spring-boot-starter-quartz</code></td><td>使用 Quartz 调度程序的Starter</td></tr><tr><td><code>spring-boot-starter-rsocket</code></td><td>构建 RSocket 客户端和服务器的Starter</td></tr><tr><td><code>spring-boot-starter-security</code></td><td>使用 Spring Security 的Starter</td></tr><tr><td><code>spring-boot-starter-test</code></td><td>使用 JUnit Jupiter、Hamcrest 和 Mockito 等库测试 Spring Boot 应用程序的Starter</td></tr><tr><td><code>spring-boot-starter-thymeleaf</code></td><td>使用 Thymeleaf 视图构建 MVC 网络应用程序的Starter</td></tr><tr><td><code>spring-boot-starter-validation</code></td><td>使用 Hibernate 验证器进行 Java Bean 验证的Starter</td></tr><tr><td><code>spring-boot-starter-web</code></td><td>使用 Spring MVC 构建网络（包括 RESTful）应用程序的Starter。使用 Tomcat 作为默认嵌入式容器</td></tr><tr><td><code>spring-boot-starter-web-services</code></td><td>使用 Spring Web Services 的Starter</td></tr><tr><td><code>spring-boot-starter-webflux</code></td><td>使用 Spring Framework 的反应式 Web 支持构建 WebFlux 应用程序的Starter</td></tr><tr><td><code>spring-boot-starter-websocket</code></td><td>使用 Spring Framework 的 MVC WebSocket 支持构建 WebSocket 应用程序的Starter</td></tr></tbody></table> 
<p>除应用程序启动器外，还可使用以下启动器来添加<a href="https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator" rel="nofollow">生产就绪</a>功能：</p> 
<table><thead><tr><th><strong>名称</strong></th><th><strong>描述</strong></th></tr></thead><tbody><tr><td><code>spring-boot-starter-actuator</code></td><td>使用 Spring Boot Actuator 的Starter，该Starter提供生产就绪功能，可帮助您监控和管理应用程序</td></tr></tbody></table> 
<p>最后，Spring Boot 还包括以下Starter，如果你想排除或交换特定的技术层面，可以使用这些启动器：</p> 
<table><thead><tr><th>名称</th><th>描述</th></tr></thead><tbody><tr><td><code>spring-boot-starter-jetty</code></td><td>将 Jetty 用作嵌入式 servlet 容器的Starter。spring-boot-starter-tomcat 的替代方案</td></tr><tr><td><code>spring-boot-starter-log4j2</code></td><td>使用 Log4j2 记录日志的Starter。spring-boot-starter-logging 的替代方案</td></tr><tr><td><code>spring-boot-starter-logging</code></td><td>使用 Logback 记录日志的启动器。默认日志记录Starter</td></tr><tr><td><code>spring-boot-starter-reactor-netty</code></td><td>将 Reactor Netty 用作嵌入式反应式 HTTP 服务器的Starter。</td></tr><tr><td><code>spring-boot-starter-tomcat</code></td><td>将 Tomcat 用作嵌入式 servlet 容器的Starter。spring-boot-starter-web 使用的默认服务器容器Starter</td></tr><tr><td><code>spring-boot-starter-undertow</code></td><td>将 Undertow 用作嵌入式 servlet 容器的Starter。spring-boot-starter-tomcat 的替代方案</td></tr></tbody></table> 
<p>要了解如何交换技术层面，请参阅如何<a href="https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.webserver.use-another" rel="nofollow">交换网络服务器</a>和<a href="https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.logging.log4j" rel="nofollow">日志系统</a>的文档。</p> 
<blockquote> 
 <p>有关其他社区贡献的启动器列表，请参阅 GitHub 上 <code>spring-boot-starters</code> 模块中的 <a href="https://github.com/spring-projects/spring-boot/tree/main/spring-boot-project/spring-boot-starters/README.adoc">README 文件</a>。</p> 
</blockquote> 
<h3><a id="_159"></a>结构化你的代码</h3> 
<p>Spring Boot 的运行不需要任何特定的代码布局。不过，有一些最佳实践会有所帮助。</p> 
<blockquote> 
 <p>如果你希望基于领域来执行结构，不妨看看 <a href="https://spring.io/projects/spring-modulith#overview" rel="nofollow">Spring Modulith</a>。</p> 
</blockquote> 
<h4><a id="___163"></a>使用 “默认” 包</h4> 
<p>当一个类没有包含<code>package</code>声明时，它被认为是在 “default package” 中。一般不鼓励使用 “default package”，应避免使用。它会给使用 <code>@ComponentScan</code>、<code>@ConfigurationPropertiesScan</code>、<code>@EntityScan</code> 或 <code>@SpringBootApplication</code> 注解的 Spring Boot 应用程序带来特别的问题，因为每个 jar 中的每个类都会被读取。</p> 
<blockquote> 
 <p>我们建议您遵循 Java 推荐的软件包命名约定，并使用相反的域名（例如 <code>com.example.project</code>）。</p> 
</blockquote> 
<h4><a id="_167"></a>查找主应用程序类</h4> 
<p>一般来说，我们建议将主程序类放在根包中，高于其他类。<code>@SpringBootApplication</code>注解通常会放在主类中，它隐含地为某些项目定义了一个基础 “搜索包”。例如，如果你正在编写一个 JPA 应用程序，那么 <code>@SpringBootApplication</code> 注解类的包就会被用来搜索 <code>@Entity</code> 项目。使用根包还能让组件扫描只适用于你的项目。</p> 
<blockquote> 
 <p>如果不想使用 <code>@SpringBootApplication</code>，它导入的 <code>@EnableAutoConfiguration</code> 和 <code>@ComponentScan</code> 注解也定义了该行为，因此也可以用它们来代替。</p> 
</blockquote> 
<p>下面列出了一个典型的布局：</p> 
<pre><code>com
 +- example
     +- myapplication
         +- MyApplication.java
         |
         +- customer
         |   +- Customer.java
         |   +- CustomerController.java
         |   +- CustomerService.java
         |   +- CustomerRepository.java
         |
         +- order
             +- Order.java
             +- OrderController.java
             +- OrderService.java
             +- OrderRepository.java
</code></pre> 
<p><code>MyApplication.java</code> 文件将声明 <code>main</code> 方法以及基本的 <code>@SpringBootApplication</code> 方法，如下所示：</p> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyApplication</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">MyApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_204"></a>配置类</h4> 
<p>Spring Boot 偏好基于 Java 的配置。虽然 <code>SpringApplication</code> 可以与 XML 源一起使用，但我们通常建议您将单个 <code>@Configuration</code> 类作为主要源。通常，定义 <code>main</code> 方法的类适合作为主要 <code>@Configuration</code> 类。</p> 
<blockquote> 
 <p>互联网上发布了许多使用 XML 配置的 Spring 配置示例。如果可能，请尽量使用基于 Java 的等效配置。搜索 <code>Enable*</code> 注解是一个很好的起点。</p> 
</blockquote> 
<h5><a id="_208"></a>导入更多配置类</h5> 
<p>您不必将所有 <code>@Configuration</code> 都放在一个类中。<code>@Import</code> 注解可用于导入其他配置类。或者，也可以使用 <code>@ComponentScan</code> 自动获取所有 Spring 组件，包括 <code>@Configuration</code> 类。</p> 
<h5><a id="_XML__210"></a>导入 XML 配置</h5> 
<p>如果您绝对必须使用基于 XML 的配置，我们建议您仍从 <code>@Configuration</code> 类开始。然后，您可以使用 <code>@ImportResource</code> 注解来加载 XML 配置文件。</p> 
<h3><a id="_212"></a>自动配置</h3> 
<p>Spring Boot 自动配置会尝试根据您添加的 jar 依赖关系自动配置您的 Spring 应用程序。例如，如果 <code>HSQLDB</code> 位于类路径上，而您没有手动配置任何数据库连接 Bean，那么 Spring Boot 就会自动配置内存数据库。<br> 您需要在 <code>@Configuration</code> 类中添加 <code>@EnableAutoConfiguration</code> 或 <code>@SpringBootApplication</code> 注解，选择加入自动配置。</p> 
<blockquote> 
 <p>你只能添加一个 <code>@SpringBootApplication</code> 或 <code>@EnableAutoConfiguration</code> 注解。我们通常建议只在主 <code>@Configuration</code> 类中添加其中一个注解。</p> 
</blockquote> 
<h4><a id="_217"></a>逐步取代自动配置</h4> 
<p>自动配置是非侵入式的。在任何时候，您都可以开始定义自己的配置，以取代自动配置的特定部分。例如，如果您添加了自己的 <code>DataSource</code> Bean，默认的嵌入式数据库支持就会退出。<br> 如果需要了解当前应用的自动配置及其原因，请使用 <code>--debug</code> 开关启动应用程序。这样做可以为选定的核心日志记录器启用调试日志，并将条件报告记录到控制台。</p> 
<h4><a id="_220"></a>禁用特定的自动配置类</h4> 
<p>如果发现不需要的特定自动配置类被应用，可以使用 <code>@SpringBootApplication</code> 的排除属性来禁用它们，如下例所示：</p> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span>jdbc<span class="token punctuation">.</span></span><span class="token class-name">DataSourceAutoConfiguration</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@SpringBootApplication</span><span class="token punctuation">(</span>exclude <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token class-name">DataSourceAutoConfiguration</span><span class="token punctuation">.</span><span class="token keyword">class</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyApplication</span> <span class="token punctuation">{<!-- --></span>

<span class="token punctuation">}</span>
</code></pre> 
<p>如果类不在类路径上，可以使用注解的 <code>excludeName</code> 属性来指定全限定名。如果你更喜欢使用 <code>@EnableAutoConfiguration</code> 而不是 <code>@SpringBootApplication</code>，也可以使用 <code>exclude</code> 和 <code>excludeName</code>。最后，你还可以使用 <code>spring.autoconfigure.exclude</code> 属性来控制要排除的自动配置类列表。</p> 
<blockquote> 
 <p>您既可以在注释层定义排除项，也可以使用属性定义排除项。</p> 
</blockquote> 
<blockquote> 
 <p>尽管自动配置类是<code>public</code>的，但该类中唯一被视为公共 API 的方面是该类的名称，该名称可用于禁用自动配置。这些类的实际内容（如嵌套配置类或 bean 方法）仅供内部使用，我们不建议直接使用这些内容。</p> 
</blockquote> 
<h4><a id="_236"></a>自动配置包</h4> 
<p>自动配置包是各种自动配置功能在扫描实体和 Spring Data 资源库时默认查找的包。<code>@EnableAutoConfiguration</code> 注解（可直接使用，也可在 <code>@SpringBootApplication</code> 中使用）决定了默认的自动配置包。可使用 <code>@AutoConfigurationPackage</code> 注解配置其他软件包。</p> 
<h3><a id="Spring_Beans__238"></a>Spring Beans 和依赖注入</h3> 
<p>您可以自由使用任何标准的 Spring Framework 技术来定义您的 Bean 及其注入的依赖关系。我们通常建议使用构造器注入来连接依赖关系，并使用 <code>@ComponentScan</code> 来查找 Bean。<br> 如果你按照上面的建议构建代码（将应用程序类放在顶级包中），你就可以添加 <code>@ComponentScan</code> 而不需要任何参数，或者使用 <code>@SpringBootApplication</code> 注解来隐式地包含它。所有应用程序组件（<code>@Component</code>、<code>@Service</code>、<code>@Repository</code>、<code>@Controller</code> 及其他）都会自动注册为 Spring Bean。<br> 下面的示例展示了一个 <code>@Service</code> Bean，它使用构造器注入来获取所需的 <code>RiskAssessor</code> Bean：</p> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Service</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyAccountService</span> <span class="token keyword">implements</span> <span class="token class-name">AccountService</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">RiskAssessor</span> riskAssessor<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">MyAccountService</span><span class="token punctuation">(</span><span class="token class-name">RiskAssessor</span> riskAssessor<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>riskAssessor <span class="token operator">=</span> riskAssessor<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// ...</span>

<span class="token punctuation">}</span>
</code></pre> 
<p>如果一个 Bean 有多个构造函数，则需要用 <code>@Autowired</code> 标记您希望 Spring 使用的构造函数：</p> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">PrintStream</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Service</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyAccountService</span> <span class="token keyword">implements</span> <span class="token class-name">AccountService</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">RiskAssessor</span> riskAssessor<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">PrintStream</span> out<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">public</span> <span class="token class-name">MyAccountService</span><span class="token punctuation">(</span><span class="token class-name">RiskAssessor</span> riskAssessor<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>riskAssessor <span class="token operator">=</span> riskAssessor<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>out <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">MyAccountService</span><span class="token punctuation">(</span><span class="token class-name">RiskAssessor</span> riskAssessor<span class="token punctuation">,</span> <span class="token class-name">PrintStream</span> out<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>riskAssessor <span class="token operator">=</span> riskAssessor<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>out <span class="token operator">=</span> out<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// ...</span>

<span class="token punctuation">}</span>
</code></pre> 
<blockquote> 
 <p>请注意，使用构造函数注入可以将 <code>riskAssessor</code> 字段标记为最终字段，表示以后不能更改。</p> 
</blockquote> 
<h3><a id="_SpringBootApplication__289"></a>使用 @SpringBootApplication 注解</h3> 
<p>许多 Spring Boot 开发人员都希望自己的应用程序能使用自动配置、组件扫描，并能在 “application class” 上定义额外的配置。一个 <code>@SpringBootApplication</code> 注解就可以启用这三个功能，即：“自动配置”、"组件扫描 "和 “应用程序类”：</p> 
<ul><li><code>@EnableAutoConfiguration</code>：启用 Spring Boot 的自动配置机制</li><li><code>@ComponentScan</code>：在应用程序所在的包上启用 <code>@Component</code> 扫描（请参阅最佳实践）</li><li><code>@SpringBootConfiguration</code>：启用在上下文中注册额外的 Bean 或导入额外的配置类。它是 Spring 标准 <code>@Configuration</code> 的替代方案，有助于在集成测试中进行<a href="https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.testing.spring-boot-applications.detecting-configuration" rel="nofollow">配置检测</a>。</li></ul> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span></span><span class="token punctuation">;</span>

<span class="token comment">// Same as @SpringBootConfiguration @EnableAutoConfiguration @ComponentScan</span>
<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyApplication</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">MyApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> 
<blockquote> 
 <p><code>@SpringBootApplication</code> 还提供了别名来定制 <code>@EnableAutoConfiguration</code> 和 <code>@ComponentScan</code> 的属性。</p> 
</blockquote> 
<p>这些功能都不是强制性的，你可以选择用它所启用的任何功能来替代这个单一注解。例如，您可能不想在应用程序中使用组件扫描或配置属性扫描：</p> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringBootConfiguration</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">EnableAutoConfiguration</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Import</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@SpringBootConfiguration</span><span class="token punctuation">(</span>proxyBeanMethods <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@EnableAutoConfiguration</span>
<span class="token annotation punctuation">@Import</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> <span class="token class-name">SomeConfiguration</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token class-name">AnotherConfiguration</span><span class="token punctuation">.</span><span class="token keyword">class</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyApplication</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">MyApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> 
<p>在此示例中，<code>MyApplication</code> 与其他 Spring Boot 应用程序一样，只是 <code>@Component</code>-annotated 类和 <code>@ConfigurationProperties</code>-annotated 类不会被自动检测到，而用户定义的 Bean 会被显式导入（请参阅 <code>@Import</code>）。</p> 
<h3><a id="_330"></a>运行你的应用程序</h3> 
<p>将应用程序打包为 jar 并使用嵌入式 HTTP 服务器的最大优势之一是，您可以像运行其他应用程序一样运行应用程序。该示例适用于调试 Spring Boot 应用程序。您不需要任何特殊的集成开发环境插件或扩展。</p> 
<blockquote> 
 <p>本节仅涉及基于 jar 的打包。如果您选择将应用程序打包为 war 文件，请参阅服务器和 IDE 文档。</p> 
</blockquote> 
<h4><a id="_334"></a>从集成开发环境中运行</h4> 
<p>您可以将 Spring Boot 应用程序作为 Java 应用程序从集成开发环境中运行。不过，您首先需要导入您的项目。导入步骤因集成开发环境和构建系统而异。大多数 IDE 可以直接导入 Maven 项目。例如，Eclipse 用户可以从 “<code>File</code>” 菜单中选择 “<code>Import...</code> → <code>Existing Maven Projects</code>”。<br> 如果无法直接将项目导入集成开发环境，可以使用构建插件生成集成开发环境元数据。Maven 包括用于 <a href="https://maven.apache.org/plugins/maven-eclipse-plugin/" rel="nofollow">Eclipse</a> 和 <a href="https://maven.apache.org/plugins/maven-idea-plugin/" rel="nofollow">IDEA</a> 的插件。Gradle 为<a href="https://docs.gradle.org/current/userguide/userguide.html" rel="nofollow">各种集成开发环境</a>提供了插件。</p> 
<blockquote> 
 <p>如果不小心运行网络应用程序两次，就会出现 “Port already in use” 的错误。Spring Tools 用户可以使用 “重新启动”（<code>Relaunch</code>）按钮而不是 “运行”（<code>Run</code>）按钮来确保关闭任何现有实例。</p> 
</blockquote> 
<h4><a id="_339"></a>以包的形式运行</h4> 
<p>如果使用 Spring Boot Maven 或 Gradle 插件创建可执行 jar，则可以使用 <code>java -jar</code> 运行应用程序，如下例所示：</p> 
<pre><code class="prism language-shell">$ <span class="token function">java</span> <span class="token parameter variable">-jar</span> target/myapplication-0.0.1-SNAPSHOT.jar
</code></pre> 
<p>也可以在启用远程调试支持的情况下运行打包应用程序。这样做可以将调试器附加到打包应用程序上，如下例所示：</p> 
<pre><code class="prism language-shell">$ <span class="token function">java</span> <span class="token parameter variable">-Xdebug</span> <span class="token parameter variable">-Xrunjdwp:server</span><span class="token operator">=</span>y,transport<span class="token operator">=</span>dt_socket,address<span class="token operator">=</span><span class="token number">8000</span>,suspend<span class="token operator">=</span>n <span class="token punctuation">\</span>
       <span class="token parameter variable">-jar</span> target/myapplication-0.0.1-SNAPSHOT.jar
</code></pre> 
<h4><a id="_Maven__349"></a>使用 Maven 插件</h4> 
<p>Spring Boot Maven 插件包含一个<code>run</code>目标(goal)，可用于快速编译和运行应用程序。应用程序会以展开（exploded，按博主理解即为非打包、文件夹）形式运行，就像在集成开发环境中一样。下面的示例展示了运行 Spring Boot 应用程序的典型 Maven 命令：</p> 
<pre><code class="prism language-shell">$ mvn spring-boot:run
</code></pre> 
<p>您可能还想使用 <code>MAVEN_OPTS</code> 操作系统环境变量，如下例所示：</p> 
<pre><code class="prism language-shell">$ <span class="token builtin class-name">export</span> <span class="token assign-left variable">MAVEN_OPTS</span><span class="token operator">=</span>-Xmx1024m
</code></pre> 
<h4><a id="_Gradle__358"></a>使用 Gradle 插件</h4> 
<p>Spring Boot Gradle 插件还包含一个 <code>bootRun</code> 任务，可用于以展开（exploded，按博主理解即为非打包、文件夹）形式运行应用程序。只要应用 <code>org.springframework.boot</code> 和 <code>java</code> 插件，就会添加 <code>bootRun</code> 任务，如下示例所示：</p> 
<pre><code class="prism language-shell">$ gradle bootRun
</code></pre> 
<p>您可能还想使用 <code>JAVA_OPTS</code> 操作系统环境变量，如下例所示：</p> 
<pre><code class="prism language-shell">$ <span class="token builtin class-name">export</span> <span class="token assign-left variable">JAVA_OPTS</span><span class="token operator">=</span>-Xmx1024m
</code></pre> 
<h4><a id="_367"></a>热部署</h4> 
<p>由于 Spring Boot 应用程序是纯 Java 应用程序，因此 JVM 热部署开箱即用。JVM 热部署所能替换的字节码有限。要获得更完整的解决方案，可以使用 <a href="https://www.jrebel.com/products/jrebel" rel="nofollow">JRebel</a>。<br> <code>spring-boot-devtools</code> 模块也支持快速重启应用程序。详情请参阅<a href="https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.hotswapping" rel="nofollow">热部署 “如何操作”</a>。</p> 
<h3><a id="_370"></a>开发工具</h3> 
<p>Spring Boot 包含一套额外的工具，可让应用程序开发体验更加愉快。<code>spring-boot-devtools</code> 模块可包含在任何项目中，以提供额外的开发时间功能。要包含 devtools 支持，请将模块依赖关系添加到您的构建中，如以下针对 Maven 和 Gradle 的列表所示：</p> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<pre><code class="prism language-groovy">dependencies <span class="token punctuation">{<!-- --></span>
    <span class="token function">developmentOnly</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">"org.springframework.boot:spring-boot-devtools"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> 
<blockquote> 
 <p>Devtools 可能会导致类加载问题，尤其是在多模块项目中。<a href="https://docs.spring.io/spring-boot/docs/current/reference/html/using.html#using.devtools.diagnosing-classloading-issues" rel="nofollow">诊断类加载问题</a>介绍了如何诊断和解决这些问题。</p> 
</blockquote> 
<blockquote> 
 <p>运行完全打包的应用程序时，开发工具会自动禁用。如果应用程序是从 <code>java -jar</code> 启动的，或者是从特殊的类加载器启动的，那么它将被视为 “生产应用程序”。您可以使用 <code>spring.devtools.restart.enabled</code> 系统属性来控制这一行为。要启用 devtools（无论使用哪个类加载器启动应用程序），请设置 <code>-Dspring.devtools.restart.enabled=true </code>系统属性。在运行 devtools 会带来安全风险的生产环境中，切勿这样做。要禁用 devtools，请排除依赖关系或设置 <code>-Dspring.devtools.restart.enabled=false</code> 系统属性。</p> 
</blockquote> 
<blockquote> 
 <p>在 Maven 中将依赖关系标记为可选，或在 Gradle 中使用 <code>developmentOnly</code> 配置（如上图所示），可以防止 devtools 被临时应用到使用项目的其他模块中。</p> 
</blockquote> 
<blockquote> 
 <p>重新打包的归档文件默认不包含 devtools。如果要使用某种远程 devtools 功能，则需要将其包含在内。使用 Maven 插件时，将 <code>excludeDevtools</code> 属性设置为 <code>false</code>。使用 Gradle 插件时，<a href="https://docs.spring.io/spring-boot/docs/3.2.0/gradle-plugin/reference/htmlsingle/#packaging-executable-configuring-including-development-only-dependencies" rel="nofollow">配置任务的类路径以包含 developmentOnly 配置</a>。</p> 
</blockquote> 
<h4><a id="_394"></a>诊断类加载问题</h4> 
<p>正如 "重启与重载 "部分所述，重启功能是通过使用两个类加载器来实现的。对于大多数应用程序来说，这种方法效果很好。但有时也会导致类加载问题，尤其是在多模块项目中。<br> 要诊断类加载问题是否确实由 devtools 及其两个类加载器引起，请尝试禁用重启。如果问题得到解决，请自定义重启类加载器，使其包含整个项目。</p> 
<h4><a id="_397"></a>属性默认值</h4> 
<p>Spring Boot 支持的一些库使用缓存来提高性能。例如，<a href="https://docs.spring.io/spring-boot/docs/current/reference/html/web.html#web.servlet.spring-mvc.template-engines" rel="nofollow">模板引擎</a>会缓存已编译的模板，以避免重复解析模板文件。此外，Spring MVC 还能在提供静态资源时为响应添加 HTTP 缓存标头。<br> 虽然缓存在生产中非常有益，但在开发过程中却可能适得其反，让你无法看到刚刚在应用程序中做出的更改。因此，<code>spring-boot-devtools</code> 默认禁用缓存选项。<br> 缓存选项通常由<code>application.properties</code>文件中的设置来配置。例如，Thymeleaf 提供了 <code>spring.thymeleaf.cache</code> 属性。<code>spring-boot-devtools</code> 模块无需手动设置这些属性，而是在开发时自动应用合理的配置。<br> 下表列出了应用的所有属性：</p> 
<table><thead><tr><th><strong>名称</strong></th><th><strong>默认值</strong></th></tr></thead><tbody><tr><td><code>server.error.include-binding-errors</code></td><td><code>always</code></td></tr><tr><td><code>server.error.include-message</code></td><td><code>always</code></td></tr><tr><td><code>server.error.include-stacktrace</code></td><td><code>always</code></td></tr><tr><td><code>server.servlet.jsp.init-parameters.development</code></td><td><code>true</code></td></tr><tr><td><code>server.servlet.session.persistent</code></td><td><code>true</code></td></tr><tr><td><code>spring.docker.compose.readiness.wait</code></td><td><code>only-if-started</code></td></tr><tr><td><code>spring.freemarker.cache</code></td><td><code>false</code></td></tr><tr><td><code>spring.graphql.graphiql.enabled</code></td><td><code>true</code></td></tr><tr><td><code>spring.groovy.template.cache</code></td><td><code>false</code></td></tr><tr><td><code>spring.h2.console.enabled</code></td><td><code>true</code></td></tr><tr><td><code>spring.mustache.servlet.cache</code></td><td><code>false</code></td></tr><tr><td><code>spring.mvc.log-resolved-exception</code></td><td><code>true</code></td></tr><tr><td><code>spring.reactor.netty.shutdown-quiet-period</code></td><td><code>0s</code></td></tr><tr><td><code>spring.template.provider.cache</code></td><td><code>false</code></td></tr><tr><td><code>spring.thymeleaf.cache</code></td><td><code>false</code></td></tr><tr><td><code>spring.web.resources.cache.period</code></td><td><code>0</code></td></tr><tr><td><code>spring.web.resources.chain.cache</code></td><td><code>false</code></td></tr></tbody></table> 
<blockquote> 
 <p>如果不想应用属性默认值，可以在<code>application.properties</code>中将 <code>spring.devtools.add-properties</code> 设置为 <code>false</code>。</p> 
</blockquote> 
<p>由于在开发 Spring MVC 和 Spring WebFlux 应用程序时需要更多有关 Web 请求的信息，开发工具建议您启用 Web 日志组的 <code>DEBUG</code> 日志。这将为你提供有关传入请求、处理程序、响应结果和其他细节的信息。如果希望记录所有请求细节（包括潜在的敏感信息），可以打开 <code>spring.mvc.log-request-details</code> 或 <code>spring.codec.log-request-details</code> 配置属性。</p> 
<h4><a id="_426"></a>自动重启</h4> 
<p>只要类路径上的文件发生变化，使用 <code>spring-boot-devtools</code> 的应用程序就会自动重新启动。在集成开发环境中工作时，这是一项非常有用的功能，因为它能为代码更改提供非常快速的反馈回路。默认情况下，类路径上指向目录的任何条目都会受到监控，以防发生变化。请注意，某些资源（如静态资产和视图模板）不需要重新启动应用程序。</p> 
<blockquote> 
 <p>触发重启<br> 由于 DevTools 会监控类路径资源，因此触发重启的唯一方法就是更新类路径。无论您使用的是集成开发环境还是构建插件，都必须重新编译修改后的文件才能触发重启。更新类路径的方式取决于你使用的工具：</p> 
 <ul><li>在 Eclipse 中，保存修改后的文件会更新类路径并触发重启。</li><li>在 IntelliJ IDEA 中，构建项目（<code>Build +→+ Build Project</code>）也有同样的效果。</li><li>如果使用编译插件，运行 Maven 的 mvn 编译或 Gradle 的 gradle 编译将触发重启。</li></ul> 
</blockquote> 
<blockquote> 
 <p>如果使用构建插件通过 Maven 或 Gradle 重新启动，则必须将<code>forking</code>设置为启用。如果禁用<code>forking</code>，devtools 使用的隔离应用程序类加载器将无法创建，重启将无法正常运行。</p> 
</blockquote> 
<blockquote> 
 <p>自动重启与 LiveReload 配合使用时效果非常好。详情请参阅 LiveReload 部分。如果使用 JRebel，自动重启将被禁用，转而使用动态类重载。但仍可使用其他 devtools 功能（如 LiveReload 和属性重载）。</p> 
</blockquote> 
<blockquote> 
 <p>DevTools 依靠应用程序上下文的关闭钩子在重启时关闭应用程序。如果禁用了关闭钩子（<code>SpringApplication.setRegisterShutdownHook(false)</code>），它就无法正常工作。</p> 
</blockquote> 
<blockquote> 
 <p>DevTools 需要定制 <code>ApplicationContext</code> 使用的 <code>ResourceLoader</code>。如果您的应用程序已经提供了资源加载器，它将被封装。不支持直接覆盖 <code>ApplicationContext</code> 上的 <code>getResource</code> 方法。</p> 
</blockquote> 
<blockquote> 
 <p>使用 AspectJ 织入时不支持自动重启。</p> 
</blockquote> 
<blockquote> 
 <p>重新启动与重新加载<br> Spring Boot 提供的重启技术通过使用两个类加载器来工作。不会更改的类（例如，来自第三方 jar 的类）会加载到基础类加载器中。正在开发的类会加载到重启类加载器中。重启应用程序时，重启类加载器会被丢弃，然后创建一个新的类加载器。这种方法意味着应用程序重启通常比 "冷启动 "要快得多，因为基类加载器已经可用并已填充。<br> 如果你发现重启对你的应用程序来说不够快，或者你遇到类加载问题，你可以考虑重载技术，比如 ZeroTurnaround 的 <a href="https://jrebel.com/software/jrebel/" rel="nofollow">JRebel</a>。这些技术的工作原理是在加载类时对其进行重写，使其更易于重载。</p> 
</blockquote> 
<h5><a id="_448"></a>记录条件评估中的变化</h5> 
<p>默认情况下，每次重新启动应用程序时，都会记录一份显示条件评估 delta 的报告。当您进行添加或删除 Bean 以及设置配置属性等更改时，该报告会显示应用程序自动配置的更改。<br> 要禁用报告记录，请设置以下属性：</p> 
<pre><code class="prism language-yaml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">devtools</span><span class="token punctuation">:</span>
    <span class="token key atrule">restart</span><span class="token punctuation">:</span>
      <span class="token key atrule">log-condition-evaluation-delta</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
</code></pre> 
<h5><a id="_457"></a>排除资源</h5> 
<p>某些资源在更改时不一定需要触发重启。例如，Thymeleaf 模板可以就地编辑。默认情况下，更改 <code>/META-INF/maven</code>、<code>/META-INF/resources</code>、<code>/resources</code>、<code>/static</code>、<code>/public</code> 或 <code>/templates</code> 中的资源不会触发重启，但会触发实时重新加载。如果要自定义这些排除项，可以使用 <code>spring.devtools.restart.exclude</code> 属性。例如，如果只想排除 <code>/static</code> 和 <code>/public</code>，可以设置以下属性：</p> 
<pre><code class="prism language-yaml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">devtools</span><span class="token punctuation">:</span>
    <span class="token key atrule">restart</span><span class="token punctuation">:</span>
      <span class="token key atrule">exclude</span><span class="token punctuation">:</span> <span class="token string">"static/**,public/**"</span>
</code></pre> 
<blockquote> 
 <p>如果要保留默认值并添加额外的排除项，请使用 <code>spring.devtools.restart.additional-exclude</code> 属性。</p> 
</blockquote> 
<h5><a id="_467"></a>监听更多路径</h5> 
<p>您可能希望在更改不在类路径上的文件时重启或重新加载应用程序。为此，可使用 <code>spring.devtools.restart.additional-paths</code> 属性配置额外路径，以监控更改。你可以使用前面介绍的 <code>spring.devtools.restart.exclude</code> 属性来控制附加路径下的更改是触发完全重启还是实时重载。</p> 
<h5><a id="_469"></a>禁用重启</h5> 
<p>如果不想使用重启功能，可以使用 <code>spring.devtools.restart.enabled</code> 属性将其禁用。在大多数情况下，你可以在 <code>application.properties</code> 中设置该属性（这样做仍会初始化重启类加载器，但不会监控文件更改）。<br> 如果需要完全禁用重启支持（例如，因为它无法与特定库配合使用），则需要在调用 <code>SpringApplication.run(...)</code> 之前将 <code>spring.devtools.restart.enabled</code> <code>System</code> 属性设置为 <code>false</code>，如下例所示：</p> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyApplication</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">"spring.devtools.restart.enabled"</span><span class="token punctuation">,</span> <span class="token string">"false"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">MyApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="_486"></a>使用触发器文件</h5> 
<p>如果您使用的集成开发环境会持续编译已更改的文件，那么您可能更希望只在特定时间触发重启。要做到这一点，可以使用 “触发文件”，这是一个特殊的文件，必须在实际触发重启检查时进行修改。</p> 
<blockquote> 
 <p>文件的任何更新都会触发检查，但只有在 Devtools 检测到它有事情要做时，才会实际重启。</p> 
</blockquote> 
<p>要使用触发器文件，请将 <code>spring.devtools.restart.trigger-file</code> 属性设置为触发器文件的名称（不包括任何路径）。触发器文件必须出现在类路径的某个位置。<br> 例如，如果你有一个结构如下的项目：</p> 
<pre><code>src
+- main
   +- resources
      +- .reloadtrigger
</code></pre> 
<p>那么，您的<code>trigger-file</code>属性就是：</p> 
<pre><code class="prism language-yaml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">devtools</span><span class="token punctuation">:</span>
    <span class="token key atrule">restart</span><span class="token punctuation">:</span>
      <span class="token key atrule">trigger-file</span><span class="token punctuation">:</span> <span class="token string">".reloadtrigger"</span>
</code></pre> 
<p>现在只有在更新 <code>src/main/resources/.reloadtrigger</code> 时才会重启。</p> 
<blockquote> 
 <p>您可能希望将 <code>spring.devtools.restart.trigger-file</code> 设置为全局设置，这样所有项目都能以相同方式运行。</p> 
</blockquote> 
<p>有些集成开发环境具有免于手动更新触发器文件的功能。<a href="https://spring.io/tools" rel="nofollow">Eclipse Spring Tools</a> 和 <a href="https://www.jetbrains.com/idea/" rel="nofollow">IntelliJ IDEA（Ultimate Edition）</a>都支持这种功能。使用 Spring Tools，你可以使用控制台视图中的 "reload "按钮（只要你的触发器文件命名为 <code>.reloadtrigger</code>）。对于 IntelliJ IDEA，可以按照其文档中的<a href="https://www.jetbrains.com/help/idea/spring-boot.html#application-update-policies" rel="nofollow">说明</a>进行操作。</p> 
<h5><a id="_509"></a>自定义重启类加载器</h5> 
<p>如前文 “重启与重载” 部分所述，重启功能是通过使用两个类加载器来实现的。如果这引起了问题，你可能需要自定义哪个类加载器加载哪个项目。<br> 默认情况下，集成开发环境中任何打开的项目都会使用 “重启” 类加载器加载，而任何普通 <code>.jar</code> 文件都会使用 “基本” 类加载器加载。使用 <code>mvn spring-boot:run</code> 或 <code>gradle bootRun</code> 时也是如此：包含 <code>@SpringBootApplication</code> 的项目使用 “重启” 类加载器加载，其他项目使用 “基本” 类加载器加载。<br> 您可以通过创建 <code>META-INF/spring-devtools.properties</code> 文件，指示 Spring Boot 使用不同的类加载器加载项目的部分内容。<code>spring-devtools.properties</code> 文件可包含以 <code>restart.exclude</code> 和 <code>restart.include</code> 为前缀的属性。<code>include</code> 元素指的是应上拉到 “重启” 类加载器中的项目，而 <code>exclude</code> 元素指的是应下推到 “基本” 类加载器中的项目。该属性的值是一个应用于 classpath 的 regex 模式，如下例所示：</p> 
<pre><code class="prism language-yaml"><span class="token key atrule">restart</span><span class="token punctuation">:</span>
  <span class="token key atrule">exclude</span><span class="token punctuation">:</span>
    <span class="token key atrule">companycommonlibs</span><span class="token punctuation">:</span> <span class="token string">"/mycorp-common-[\\w\\d-\\.]+\\.jar"</span>
  <span class="token key atrule">include</span><span class="token punctuation">:</span>
    <span class="token key atrule">projectcommon</span><span class="token punctuation">:</span> <span class="token string">"/mycorp-myproj-[\\w\\d-\\.]+\\.jar"</span>
</code></pre> 
<blockquote> 
 <p>所有属性键都必须是唯一的。只要属性以 <code>restart.include.</code> 或 <code>restart.exclude.</code> 开头，就会被认为是唯一的。</p> 
</blockquote> 
<blockquote> 
 <p>类路径中的所有 <code>META-INF/spring-devtools.properties</code> 都会被加载。你可以在项目中打包文件，也可以在项目使用的库中打包文件。</p> 
</blockquote> 
<h5><a id="_524"></a>已知的局限性</h5> 
<p>对于使用标准 <code>ObjectInputStream</code> 反序列化的对象，重启功能无法正常工作。如果需要反序列化数据，可能需要将 Spring 的 <code>ConfigurableObjectInputStream</code> 与 <code>Thread.currentThread().getContextClassLoader()</code> 结合使用。<br> 遗憾的是，一些第三方库在进行反序列化时没有考虑上下文类加载器。如果发现此类问题，需要向原作者申请修复。</p> 
<h4><a id="LiveReload_527"></a>LiveReload</h4> 
<p><code>spring-boot-devtools</code> 模块包含一个嵌入式 LiveReload 服务器，可用于在资源发生变化时触发浏览器刷新。LiveReload 浏览器扩展可免费用于 Chrome、Firefox 和 Safari。你可以在所选浏览器的市场或商店中搜索 “LiveReload”，找到这些扩展。<br> 如果不想在应用程序运行时启动 LiveReload 服务器，可以将 <code>spring.devtools.livereload.enabled</code> 属性设置为 <code>false</code>。</p> 
<blockquote> 
 <p>一次只能运行一个 LiveReload 服务器。启动应用程序前，请确保没有其他 LiveReload 服务器在运行。如果从集成开发环境启动多个应用程序，只有第一个支持 LiveReload。</p> 
</blockquote> 
<blockquote> 
 <p>要在文件更改时触发 LiveReload，必须启用自动重启。</p> 
</blockquote> 
<h4><a id="_534"></a>全局设置</h4> 
<p>在 <code>$HOME/.config/spring-boot</code> 目录中添加以下任意文件，即可配置全局 devtools 设置：</p> 
<ul><li><code>spring-boot-devtools.properties</code></li><li><code>spring-boot-devtools.yaml</code></li><li><code>spring-boot-devtools.yml</code></li></ul> 
<p>添加到这些文件中的任何属性都适用于机器上使用 devtools 的所有 Spring Boot 应用程序。例如，要配置重启始终使用触发器文件，可以在 <code>spring-boot-devtools</code> 文件中添加以下属性：</p> 
<pre><code class="prism language-yaml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">devtools</span><span class="token punctuation">:</span>
    <span class="token key atrule">restart</span><span class="token punctuation">:</span>
      <span class="token key atrule">trigger-file</span><span class="token punctuation">:</span> <span class="token string">".reloadtrigger"</span>
</code></pre> 
<p>默认情况下，<code>$HOME</code> 是用户的主目录。要自定义该位置，请设置 <code>SPRING_DEVTOOLS_HOME</code> 环境变量或 <code>spring.devtools.home</code> 系统属性。</p> 
<blockquote> 
 <p>如果在 <code>$HOME/.config/spring-boot</code> 中找不到 devtools 配置文件，则会搜索 <code>$HOME</code> 目录根目录中是否存在 <code>.spring-boot-devtools.properties</code> 文件。这样，您就可以与使用不支持 <code>$HOME/.config/spring-boot</code> 位置的旧版 Spring Boot 的应用程序共享 devtools 全局配置。</p> 
</blockquote> 
<blockquote> 
 <p>devtools properties/yaml 文件不支持配置文件。<br> 在 <code>.spring-boot-devtools.properties</code> 中激活的任何配置文件都不会影响<a href="https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.files.profile-specific" rel="nofollow">特定的配置文件</a>加载。不支持 YAML 文件和属性文件中的配置文件特定文件名（形式为 <code>spring-boot-devtools-&lt;profile&gt;.properties</code>）和 <code>spring.config.activate.on-profile</code> 文件。</p> 
</blockquote> 
<h5><a id="_554"></a>配置文件系统监视器</h5> 
<p><a href="https://github.com/spring-projects/spring-boot/tree/v3.2.0/spring-boot-project/spring-boot-devtools/src/main/java/org/springframework/boot/devtools/filewatch/FileSystemWatcher.java">FileSystemWatcher</a> 的工作原理是以一定的时间间隔轮询类的更改，然后等待预定义的静默期，以确保不再有更改。由于 Spring Boot 完全依赖集成开发环境来编译文件并将其复制到 Spring Boot 可以读取的位置，因此您可能会发现，当 devtools 重新启动应用程序时，某些更改有时无法反映出来。如果您经常发现此类问题，请尝试将 <code>spring.devtools.restart.poll-interval</code> 和 <code>spring.devtools.restart.quiet-period</code> 参数设置为适合您开发环境的值：</p> 
<pre><code class="prism language-yaml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">devtools</span><span class="token punctuation">:</span>
    <span class="token key atrule">restart</span><span class="token punctuation">:</span>
      <span class="token key atrule">poll-interval</span><span class="token punctuation">:</span> <span class="token string">"2s"</span>
      <span class="token key atrule">quiet-period</span><span class="token punctuation">:</span> <span class="token string">"1s"</span>
</code></pre> 
<p>现在，每 2 秒钟就会轮询一次受监控的类路径目录是否有变化，并保持 1 秒钟的静默期，以确保没有其他类变化。</p> 
<h4><a id="_564"></a>远程应用</h4> 
<p>Spring Boot 开发人员工具不仅限于本地开发。您还可以在远程运行应用程序时使用多项功能。远程支持是选择性的，因为启用它可能存在安全风险。只有在受信任的网络上运行或使用 SSL 确保安全时，才能启用远程支持。如果这两个选项都不可用，则不应使用 DevTools 的远程支持。绝对不能在生产部署中启用支持。<br> 要启用远程支持，您需要确保重新打包的存档中包含 <code>devtools</code>，如下表所示：</p> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>excludeDevtools</span><span class="token punctuation">&gt;</span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>excludeDevtools</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>然后需要设置 <code>spring.devtools.remote.secret</code> 属性。就像任何重要的密码或秘密一样，该值应是唯一且强大的，以防被猜测或暴力破解。<br> 远程 devtools 支持由两部分组成：接受连接的服务器端端点和在集成开发环境中运行的客户端应用程序。当设置了 <code>spring.devtools.remote.secret</code> 属性后，服务器组件就会自动启用。客户端组件必须手动启动。</p> 
<blockquote> 
 <p>Spring WebFlux 应用程序不支持远程 devtools。</p> 
</blockquote> 
<h5><a id="_584"></a>运行远程客户端程序</h5> 
<p>远程客户端应用程序可在集成开发环境中运行。您需要运行 <code>org.springframework.boot.devtools.RemoteSpringApplication</code>，其 classpath 应与您连接的远程项目相同。该应用程序的唯一必要参数是它所连接的远程 URL。<br> 例如，如果您使用的是 Eclipse 或 Spring Tools，并且您有一个名为 <code>my-app</code> 的项目已部署到 Cloud Foundry，您将执行以下操作：</p> 
<ul><li>从 “<code>Run</code>” 菜单中选择 “<code>Run Configurations…</code>”。</li><li>创建一个新的 Java 应用程序 “启动配置”。</li><li>浏览 <code>my-app</code> 项目。</li><li>使用 <code>org.springframework.boot.devtools.RemoteSpringApplication</code> 作为主类。</li><li>在程序参数（或任何远程 URL）中添加 <code>https://myapp.cfapps.io</code>。</li></ul> 
<p>运行中的远程客户端可能类似于下面的列表：</p> 
<pre><code>  .   ____          _                                              __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _          ___               _      \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` |        | _ \___ _ __  ___| |_ ___ \ \ \ \
 \\/  ___)| |_)| | | | | || (_| []::::::[]   / -_) '  \/ _ \  _/ -_) ) ) ) )
  '  |____| .__|_| |_|_| |_\__, |        |_|_\___|_|_|_\___/\__\___|/ / / /
 =========|_|==============|___/===================================/_/_/_/
 :: Spring Boot Remote ::  (v3.2.0)

2023-11-23T13:40:36.387Z  INFO 39306 --- [           main] o.s.b.devtools.RemoteSpringApplication   : Starting RemoteSpringApplication v3.2.0 using Java 17.0.9 with PID 39306 (/Users/myuser/.m2/repository/org/springframework/boot/spring-boot-devtools/3.2.0/spring-boot-devtools-3.2.0.jar started by myuser in /opt/apps/)
2023-11-23T13:40:36.394Z  INFO 39306 --- [           main] o.s.b.devtools.RemoteSpringApplication   : No active profile set, falling back to 1 default profile: "default"
2023-11-23T13:40:36.794Z  INFO 39306 --- [           main] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2023-11-23T13:40:36.823Z  INFO 39306 --- [           main] o.s.b.devtools.RemoteSpringApplication   : Started RemoteSpringApplication in 0.923 seconds (process running for 1.313)
</code></pre> 
<blockquote> 
 <p>由于远程客户端使用与真实应用程序相同的类路径，因此它可以直接读取应用程序属性。<code>Spring.devtools.remote.secret</code> 属性就是这样被读取并传递给服务器进行身份验证的。</p> 
</blockquote> 
<blockquote> 
 <p>建议始终使用 <code>https://</code> 作为连接协议，这样可以对流量进行加密，密码也不会被截获。</p> 
</blockquote> 
<blockquote> 
 <p>如果需要使用代理访问远程应用程序，请配置 <code>spring.devtools.remote.proxy.host</code> 和 <code>spring.devtools.remote.proxy.port</code> 属性。</p> 
</blockquote> 
<h5><a id="_615"></a>远程更新</h5> 
<p>远程客户端以与本地重启相同的方式监控应用程序类路径的变化。任何更新的资源都会推送到远程应用程序，并（在需要时）触发重启。如果您迭代的功能使用的是本地没有的云服务，这将很有帮助。一般来说，远程更新和重启比完整的重建和部署周期要快得多。<br> 在开发速度较慢的环境中，可能会出现静默期不够的情况，类的更改可能会分成几批进行。第一批类更改上传后，服务器会重新启动。由于服务器正在重启，下一批更改无法发送到应用程序。<br> 这种情况通常会在 <code>RemoteSpringApplication</code> 日志中出现警告，提示无法上传某些类，并随之重试。但它也可能导致应用程序代码不一致，以及在上传第一批变更后无法重启。如果经常出现此类问题，请尝试将 <code>spring.devtools.restart.poll-interval</code> 和 <code>spring.devtools.restart.quiet-period</code> 参数设置为适合您开发环境的值。有关配置这些属性的信息，请参阅 "配置文件系统监视器 "部分。</p> 
<blockquote> 
 <p>只有在远程客户端运行时，文件才会受到监控。如果在启动远程客户端之前更改文件，则不会将其推送到远程服务器。</p> 
</blockquote> 
<h3><a id="_621"></a>打包你的应用程序到生产</h3> 
<p>可执行 jar 可用于生产部署。由于它们是独立的，因此也非常适合基于云的部署。<br> 如需获得更多 "生产就绪 "功能，如健康、审计和度量 REST 或 JMX 端点，可考虑添加 <code>spring-boot-actuator</code>。详情请参见 <a href="https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator" rel="nofollow">actuator.html</a>。</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/4918f301eedb11dbb43017aae8614be6/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Elasticsearch 性能调优基础知识</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9af72c80c1a8ae4d2b392decce5cc88f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Observability：捕获 Elastic Agent 和 Elasticsearch 之间的延迟</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程爱好者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151260"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>