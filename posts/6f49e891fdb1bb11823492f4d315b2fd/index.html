<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Kubectl - 编程爱好者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Kubectl" />
<meta property="og:description" content="目录
一、资源管理
1.kubernetes集群管理
2.kubectl
3.kubectl 的命令
(1)查看版本信息
(2)查看资源对象简写信息
(3)查看集群信息
(4)配置kubectl自动补全
(5)node节点查看日志
(6)K8s核心组件日志
二、基本信息查看
1.查看master节点状态
2.查看命令空间
3.查看default命名空间的所有资源
4.创建命名空间app
5.删除命名空间app
6.描述某个资源的详细信息
7.查看命名空间kube-public 中的pod 信息
8.扩缩容
9.删除副本控制器
10.定义自动扩容、缩容规则
三、项目的生命周期
1.创建kubectl create命令
2.发布kubectl expose命令
3.查看pod网络状态详细信息和service暴露的端口
4.查看关联后端的节点
5.查看service的描述信息
6.在节点上操作，查看负载均衡端口
(1)node01
(2)node02 (3)查看访问日志
四、更新kubectl set
1.更改现有应用资源一些信息
2.获取修改模板
3.查看当前nginx 的版本号
4.将nginx版本更新为1.21版本
5.更新好后的Pod的ip会改变
6.再看nqinx的版本号
五、回滚kubectl rollout
1.对资源进行回滚管理
2.查看历史版本
3.执行回滚到上一个版本
4.执行回滚到指定版本
5.检查回滚状态
六、删除kubectl delete
1.删除副本控制器
2.删除service
3.金丝雀发布(Canary Release)
(1)更新deployment的版本，并配置暂停deployment
(2)监控更新的过程
(3)确保更新的pod没问题了， 继续更新
(4)查看最后的更新情况
七、声明式管理方法
1.查看资源配置清单
2.解释资源配置清单
3.修改资源配置清单并应用
4.删除资源配置清单" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bchobby.github.io/posts/6f49e891fdb1bb11823492f4d315b2fd/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-11-06T11:25:43+08:00" />
<meta property="article:modified_time" content="2022-11-06T11:25:43+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程爱好者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程爱好者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Kubectl</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E4%B8%80%E3%80%81%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86-toc" style="margin-left:0px;"><a href="#%E4%B8%80%E3%80%81%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86" rel="nofollow">一、资源管理</a></p> 
<p id="1.kubernetes%E9%9B%86%E7%BE%A4%E7%AE%A1%E7%90%86-toc" style="margin-left:40px;"><a href="#1.kubernetes%E9%9B%86%E7%BE%A4%E7%AE%A1%E7%90%86" rel="nofollow">1.kubernetes集群管理</a></p> 
<p id="2.kubectl-toc" style="margin-left:40px;"><a href="#2.kubectl" rel="nofollow">2.kubectl</a></p> 
<p id="3.kubectl%20%E7%9A%84%E5%91%BD%E4%BB%A4-toc" style="margin-left:40px;"><a href="#3.kubectl%20%E7%9A%84%E5%91%BD%E4%BB%A4" rel="nofollow">3.kubectl 的命令</a></p> 
<p id="(1)%E6%9F%A5%E7%9C%8B%E7%89%88%E6%9C%AC%E4%BF%A1%E6%81%AF-toc" style="margin-left:80px;"><a href="#%281%29%E6%9F%A5%E7%9C%8B%E7%89%88%E6%9C%AC%E4%BF%A1%E6%81%AF" rel="nofollow">(1)查看版本信息</a></p> 
<p id="(2)%E6%9F%A5%E7%9C%8B%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1%E7%AE%80%E5%86%99%E4%BF%A1%E6%81%AF-toc" style="margin-left:80px;"><a href="#%282%29%E6%9F%A5%E7%9C%8B%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1%E7%AE%80%E5%86%99%E4%BF%A1%E6%81%AF" rel="nofollow">(2)查看资源对象简写信息</a></p> 
<p id="(3)%E6%9F%A5%E7%9C%8B%E9%9B%86%E7%BE%A4%E4%BF%A1%E6%81%AF-toc" style="margin-left:80px;"><a href="#%283%29%E6%9F%A5%E7%9C%8B%E9%9B%86%E7%BE%A4%E4%BF%A1%E6%81%AF" rel="nofollow">(3)查看集群信息</a></p> 
<p id="(4)%E9%85%8D%E7%BD%AEkubectl%E8%87%AA%E5%8A%A8%E8%A1%A5%E5%85%A8-toc" style="margin-left:80px;"><a href="#%284%29%E9%85%8D%E7%BD%AEkubectl%E8%87%AA%E5%8A%A8%E8%A1%A5%E5%85%A8" rel="nofollow">(4)配置kubectl自动补全</a></p> 
<p id="(5)node%E8%8A%82%E7%82%B9%E6%9F%A5%E7%9C%8B%E6%97%A5%E5%BF%97-toc" style="margin-left:80px;"><a href="#%285%29node%E8%8A%82%E7%82%B9%E6%9F%A5%E7%9C%8B%E6%97%A5%E5%BF%97" rel="nofollow">(5)node节点查看日志</a></p> 
<p id="(6)K8s%E6%A0%B8%E5%BF%83%E7%BB%84%E4%BB%B6%E6%97%A5%E5%BF%97-toc" style="margin-left:80px;"><a href="#%286%29K8s%E6%A0%B8%E5%BF%83%E7%BB%84%E4%BB%B6%E6%97%A5%E5%BF%97" rel="nofollow">(6)K8s核心组件日志</a></p> 
<p id="%E4%BA%8C%E3%80%81%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF%E6%9F%A5%E7%9C%8B-toc" style="margin-left:0px;"><a href="#%E4%BA%8C%E3%80%81%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF%E6%9F%A5%E7%9C%8B" rel="nofollow">二、基本信息查看</a></p> 
<p id="%C2%A01.%E6%9F%A5%E7%9C%8Bmaster%E8%8A%82%E7%82%B9%E7%8A%B6%E6%80%81-toc" style="margin-left:40px;"><a href="#%C2%A01.%E6%9F%A5%E7%9C%8Bmaster%E8%8A%82%E7%82%B9%E7%8A%B6%E6%80%81" rel="nofollow"> 1.查看master节点状态</a></p> 
<p id="2.%E6%9F%A5%E7%9C%8B%E5%91%BD%E4%BB%A4%E7%A9%BA%E9%97%B4-toc" style="margin-left:40px;"><a href="#2.%E6%9F%A5%E7%9C%8B%E5%91%BD%E4%BB%A4%E7%A9%BA%E9%97%B4" rel="nofollow">2.查看命令空间</a></p> 
<p id="3.%E6%9F%A5%E7%9C%8Bdefault%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E7%9A%84%E6%89%80%E6%9C%89%E8%B5%84%E6%BA%90-toc" style="margin-left:40px;"><a href="#3.%E6%9F%A5%E7%9C%8Bdefault%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E7%9A%84%E6%89%80%E6%9C%89%E8%B5%84%E6%BA%90" rel="nofollow">3.查看default命名空间的所有资源</a></p> 
<p id="4.%E5%88%9B%E5%BB%BA%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4app-toc" style="margin-left:40px;"><a href="#4.%E5%88%9B%E5%BB%BA%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4app" rel="nofollow">4.创建命名空间app</a></p> 
<p id="5.%E5%88%A0%E9%99%A4%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4app-toc" style="margin-left:40px;"><a href="#5.%E5%88%A0%E9%99%A4%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4app" rel="nofollow">5.删除命名空间app</a></p> 
<p id="6.%E6%8F%8F%E8%BF%B0%E6%9F%90%E4%B8%AA%E8%B5%84%E6%BA%90%E7%9A%84%E8%AF%A6%E7%BB%86%E4%BF%A1%E6%81%AF-toc" style="margin-left:40px;"><a href="#6.%E6%8F%8F%E8%BF%B0%E6%9F%90%E4%B8%AA%E8%B5%84%E6%BA%90%E7%9A%84%E8%AF%A6%E7%BB%86%E4%BF%A1%E6%81%AF" rel="nofollow">6.描述某个资源的详细信息</a></p> 
<p id="7.%E6%9F%A5%E7%9C%8B%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4kube-public%20%E4%B8%AD%E7%9A%84pod%20%E4%BF%A1%E6%81%AF-toc" style="margin-left:40px;"><a href="#7.%E6%9F%A5%E7%9C%8B%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4kube-public%20%E4%B8%AD%E7%9A%84pod%20%E4%BF%A1%E6%81%AF" rel="nofollow">7.查看命名空间kube-public 中的pod 信息</a></p> 
<p id="8.%E6%89%A9%E7%BC%A9%E5%AE%B9-toc" style="margin-left:40px;"><a href="#8.%E6%89%A9%E7%BC%A9%E5%AE%B9" rel="nofollow">8.扩缩容</a></p> 
<p id="9.%E5%88%A0%E9%99%A4%E5%89%AF%E6%9C%AC%E6%8E%A7%E5%88%B6%E5%99%A8-toc" style="margin-left:40px;"><a href="#9.%E5%88%A0%E9%99%A4%E5%89%AF%E6%9C%AC%E6%8E%A7%E5%88%B6%E5%99%A8" rel="nofollow">9.删除副本控制器</a></p> 
<p id="10.%E5%AE%9A%E4%B9%89%E8%87%AA%E5%8A%A8%E6%89%A9%E5%AE%B9%E3%80%81%E7%BC%A9%E5%AE%B9%E8%A7%84%E5%88%99-toc" style="margin-left:40px;"><a href="#10.%E5%AE%9A%E4%B9%89%E8%87%AA%E5%8A%A8%E6%89%A9%E5%AE%B9%E3%80%81%E7%BC%A9%E5%AE%B9%E8%A7%84%E5%88%99" rel="nofollow">10.定义自动扩容、缩容规则</a></p> 
<p id="%E4%B8%89%E3%80%81%E9%A1%B9%E7%9B%AE%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F-toc" style="margin-left:0px;"><a href="#%E4%B8%89%E3%80%81%E9%A1%B9%E7%9B%AE%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F" rel="nofollow">三、项目的生命周期</a></p> 
<p id="1.%E5%88%9B%E5%BB%BAkubectl%20create%E5%91%BD%E4%BB%A4-toc" style="margin-left:40px;"><a href="#1.%E5%88%9B%E5%BB%BAkubectl%20create%E5%91%BD%E4%BB%A4" rel="nofollow">1.创建kubectl create命令</a></p> 
<p id="2.%E5%8F%91%E5%B8%83kubectl%20expose%E5%91%BD%E4%BB%A4-toc" style="margin-left:40px;"><a href="#2.%E5%8F%91%E5%B8%83kubectl%20expose%E5%91%BD%E4%BB%A4" rel="nofollow">2.发布kubectl expose命令</a></p> 
<p id="3.%E6%9F%A5%E7%9C%8Bpod%E7%BD%91%E7%BB%9C%E7%8A%B6%E6%80%81%E8%AF%A6%E7%BB%86%E4%BF%A1%E6%81%AF%E5%92%8Cservice%E6%9A%B4%E9%9C%B2%E7%9A%84%E7%AB%AF%E5%8F%A3-toc" style="margin-left:40px;"><a href="#3.%E6%9F%A5%E7%9C%8Bpod%E7%BD%91%E7%BB%9C%E7%8A%B6%E6%80%81%E8%AF%A6%E7%BB%86%E4%BF%A1%E6%81%AF%E5%92%8Cservice%E6%9A%B4%E9%9C%B2%E7%9A%84%E7%AB%AF%E5%8F%A3" rel="nofollow">3.查看pod网络状态详细信息和service暴露的端口</a></p> 
<p id="4.%E6%9F%A5%E7%9C%8B%E5%85%B3%E8%81%94%E5%90%8E%E7%AB%AF%E7%9A%84%E8%8A%82%E7%82%B9-toc" style="margin-left:40px;"><a href="#4.%E6%9F%A5%E7%9C%8B%E5%85%B3%E8%81%94%E5%90%8E%E7%AB%AF%E7%9A%84%E8%8A%82%E7%82%B9" rel="nofollow">4.查看关联后端的节点</a></p> 
<p id="5.%E6%9F%A5%E7%9C%8Bservice%E7%9A%84%E6%8F%8F%E8%BF%B0%E4%BF%A1%E6%81%AF-toc" style="margin-left:40px;"><a href="#5.%E6%9F%A5%E7%9C%8Bservice%E7%9A%84%E6%8F%8F%E8%BF%B0%E4%BF%A1%E6%81%AF" rel="nofollow">5.查看service的描述信息</a></p> 
<p id="6.%E5%9C%A8%E8%8A%82%E7%82%B9%E4%B8%8A%E6%93%8D%E4%BD%9C%EF%BC%8C%E6%9F%A5%E7%9C%8B%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E7%AB%AF%E5%8F%A3-toc" style="margin-left:40px;"><a href="#6.%E5%9C%A8%E8%8A%82%E7%82%B9%E4%B8%8A%E6%93%8D%E4%BD%9C%EF%BC%8C%E6%9F%A5%E7%9C%8B%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E7%AB%AF%E5%8F%A3" rel="nofollow">6.在节点上操作，查看负载均衡端口</a></p> 
<p id="(1)node01-toc" style="margin-left:80px;"><a href="#%281%29node01" rel="nofollow">(1)node01</a></p> 
<p id="(2)node02%C2%A0-toc" style="margin-left:80px;"><a href="#%282%29node02%C2%A0" rel="nofollow">(2)node02 </a></p> 
<p id="(3)%E6%9F%A5%E7%9C%8B%E8%AE%BF%E9%97%AE%E6%97%A5%E5%BF%97-toc" style="margin-left:80px;"><a href="#%283%29%E6%9F%A5%E7%9C%8B%E8%AE%BF%E9%97%AE%E6%97%A5%E5%BF%97" rel="nofollow">(3)查看访问日志</a></p> 
<p id="%E5%9B%9B%E3%80%81%E6%9B%B4%E6%96%B0kubectl%20set-toc" style="margin-left:0px;"><a href="#%E5%9B%9B%E3%80%81%E6%9B%B4%E6%96%B0kubectl%20set" rel="nofollow">四、更新kubectl set</a></p> 
<p id="1.%E6%9B%B4%E6%94%B9%E7%8E%B0%E6%9C%89%E5%BA%94%E7%94%A8%E8%B5%84%E6%BA%90%E4%B8%80%E4%BA%9B%E4%BF%A1%E6%81%AF-toc" style="margin-left:40px;"><a href="#1.%E6%9B%B4%E6%94%B9%E7%8E%B0%E6%9C%89%E5%BA%94%E7%94%A8%E8%B5%84%E6%BA%90%E4%B8%80%E4%BA%9B%E4%BF%A1%E6%81%AF" rel="nofollow">1.更改现有应用资源一些信息</a></p> 
<p id="2.%E8%8E%B7%E5%8F%96%E4%BF%AE%E6%94%B9%E6%A8%A1%E6%9D%BF-toc" style="margin-left:40px;"><a href="#2.%E8%8E%B7%E5%8F%96%E4%BF%AE%E6%94%B9%E6%A8%A1%E6%9D%BF" rel="nofollow">2.获取修改模板</a></p> 
<p id="3.%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8Dnginx%20%E7%9A%84%E7%89%88%E6%9C%AC%E5%8F%B7-toc" style="margin-left:40px;"><a href="#3.%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8Dnginx%20%E7%9A%84%E7%89%88%E6%9C%AC%E5%8F%B7" rel="nofollow">3.查看当前nginx 的版本号</a></p> 
<p id="4.%E5%B0%86nginx%E7%89%88%E6%9C%AC%E6%9B%B4%E6%96%B0%E4%B8%BA1.21%E7%89%88%E6%9C%AC-toc" style="margin-left:40px;"><a href="#4.%E5%B0%86nginx%E7%89%88%E6%9C%AC%E6%9B%B4%E6%96%B0%E4%B8%BA1.21%E7%89%88%E6%9C%AC" rel="nofollow">4.将nginx版本更新为1.21版本</a></p> 
<p id="5.%E6%9B%B4%E6%96%B0%E5%A5%BD%E5%90%8E%E7%9A%84Pod%E7%9A%84ip%E4%BC%9A%E6%94%B9%E5%8F%98-toc" style="margin-left:40px;"><a href="#5.%E6%9B%B4%E6%96%B0%E5%A5%BD%E5%90%8E%E7%9A%84Pod%E7%9A%84ip%E4%BC%9A%E6%94%B9%E5%8F%98" rel="nofollow">5.更新好后的Pod的ip会改变</a></p> 
<p id="6.%E5%86%8D%E7%9C%8Bnqinx%E7%9A%84%E7%89%88%E6%9C%AC%E5%8F%B7-toc" style="margin-left:40px;"><a href="#6.%E5%86%8D%E7%9C%8Bnqinx%E7%9A%84%E7%89%88%E6%9C%AC%E5%8F%B7" rel="nofollow">6.再看nqinx的版本号</a></p> 
<p id="%E4%BA%94%E3%80%81%E5%9B%9E%E6%BB%9Akubectl%20rollout-toc" style="margin-left:0px;"><a href="#%E4%BA%94%E3%80%81%E5%9B%9E%E6%BB%9Akubectl%20rollout" rel="nofollow">五、回滚kubectl rollout</a></p> 
<p id="1.%E5%AF%B9%E8%B5%84%E6%BA%90%E8%BF%9B%E8%A1%8C%E5%9B%9E%E6%BB%9A%E7%AE%A1%E7%90%86-toc" style="margin-left:40px;"><a href="#1.%E5%AF%B9%E8%B5%84%E6%BA%90%E8%BF%9B%E8%A1%8C%E5%9B%9E%E6%BB%9A%E7%AE%A1%E7%90%86" rel="nofollow">1.对资源进行回滚管理</a></p> 
<p id="2.%E6%9F%A5%E7%9C%8B%E5%8E%86%E5%8F%B2%E7%89%88%E6%9C%AC-toc" style="margin-left:40px;"><a href="#2.%E6%9F%A5%E7%9C%8B%E5%8E%86%E5%8F%B2%E7%89%88%E6%9C%AC" rel="nofollow">2.查看历史版本</a></p> 
<p id="3.%E6%89%A7%E8%A1%8C%E5%9B%9E%E6%BB%9A%E5%88%B0%E4%B8%8A%E4%B8%80%E4%B8%AA%E7%89%88%E6%9C%AC-toc" style="margin-left:40px;"><a href="#3.%E6%89%A7%E8%A1%8C%E5%9B%9E%E6%BB%9A%E5%88%B0%E4%B8%8A%E4%B8%80%E4%B8%AA%E7%89%88%E6%9C%AC" rel="nofollow">3.执行回滚到上一个版本</a></p> 
<p id="4.%E6%89%A7%E8%A1%8C%E5%9B%9E%E6%BB%9A%E5%88%B0%E6%8C%87%E5%AE%9A%E7%89%88%E6%9C%AC-toc" style="margin-left:40px;"><a href="#4.%E6%89%A7%E8%A1%8C%E5%9B%9E%E6%BB%9A%E5%88%B0%E6%8C%87%E5%AE%9A%E7%89%88%E6%9C%AC" rel="nofollow">4.执行回滚到指定版本</a></p> 
<p id="5.%E6%A3%80%E6%9F%A5%E5%9B%9E%E6%BB%9A%E7%8A%B6%E6%80%81-toc" style="margin-left:40px;"><a href="#5.%E6%A3%80%E6%9F%A5%E5%9B%9E%E6%BB%9A%E7%8A%B6%E6%80%81" rel="nofollow">5.检查回滚状态</a></p> 
<p id="%E5%85%AD%E3%80%81%E5%88%A0%E9%99%A4kubectl%20delete-toc" style="margin-left:0px;"><a href="#%E5%85%AD%E3%80%81%E5%88%A0%E9%99%A4kubectl%20delete" rel="nofollow">六、删除kubectl delete</a></p> 
<p id="1.%E5%88%A0%E9%99%A4%E5%89%AF%E6%9C%AC%E6%8E%A7%E5%88%B6%E5%99%A8-toc" style="margin-left:40px;"><a href="#1.%E5%88%A0%E9%99%A4%E5%89%AF%E6%9C%AC%E6%8E%A7%E5%88%B6%E5%99%A8" rel="nofollow">1.删除副本控制器</a></p> 
<p id="2.%E5%88%A0%E9%99%A4service-toc" style="margin-left:40px;"><a href="#2.%E5%88%A0%E9%99%A4service" rel="nofollow">2.删除service</a></p> 
<p id="3.%E9%87%91%E4%B8%9D%E9%9B%80%E5%8F%91%E5%B8%83(Canary%20Release)-toc" style="margin-left:40px;"><a href="#3.%E9%87%91%E4%B8%9D%E9%9B%80%E5%8F%91%E5%B8%83%28Canary%20Release%29" rel="nofollow">3.金丝雀发布(Canary Release)</a></p> 
<p id="(1)%E6%9B%B4%E6%96%B0deployment%E7%9A%84%E7%89%88%E6%9C%AC%EF%BC%8C%E5%B9%B6%E9%85%8D%E7%BD%AE%E6%9A%82%E5%81%9Cdeployment-toc" style="margin-left:80px;"><a href="#%281%29%E6%9B%B4%E6%96%B0deployment%E7%9A%84%E7%89%88%E6%9C%AC%EF%BC%8C%E5%B9%B6%E9%85%8D%E7%BD%AE%E6%9A%82%E5%81%9Cdeployment" rel="nofollow">(1)更新deployment的版本，并配置暂停deployment</a></p> 
<p id="(2)%E7%9B%91%E6%8E%A7%E6%9B%B4%E6%96%B0%E7%9A%84%E8%BF%87%E7%A8%8B-toc" style="margin-left:80px;"><a href="#%282%29%E7%9B%91%E6%8E%A7%E6%9B%B4%E6%96%B0%E7%9A%84%E8%BF%87%E7%A8%8B" rel="nofollow">(2)监控更新的过程</a></p> 
<p id="(3)%E7%A1%AE%E4%BF%9D%E6%9B%B4%E6%96%B0%E7%9A%84pod%E6%B2%A1%E9%97%AE%E9%A2%98%E4%BA%86%EF%BC%8C%20%E7%BB%A7%E7%BB%AD%E6%9B%B4%E6%96%B0-toc" style="margin-left:80px;"><a href="#%283%29%E7%A1%AE%E4%BF%9D%E6%9B%B4%E6%96%B0%E7%9A%84pod%E6%B2%A1%E9%97%AE%E9%A2%98%E4%BA%86%EF%BC%8C%20%E7%BB%A7%E7%BB%AD%E6%9B%B4%E6%96%B0" rel="nofollow">(3)确保更新的pod没问题了， 继续更新</a></p> 
<p id="(4)%E6%9F%A5%E7%9C%8B%E6%9C%80%E5%90%8E%E7%9A%84%E6%9B%B4%E6%96%B0%E6%83%85%E5%86%B5-toc" style="margin-left:80px;"><a href="#%284%29%E6%9F%A5%E7%9C%8B%E6%9C%80%E5%90%8E%E7%9A%84%E6%9B%B4%E6%96%B0%E6%83%85%E5%86%B5" rel="nofollow">(4)查看最后的更新情况</a></p> 
<p id="%E4%B8%83%E3%80%81%E5%A3%B0%E6%98%8E%E5%BC%8F%E7%AE%A1%E7%90%86%E6%96%B9%E6%B3%95-toc" style="margin-left:0px;"><a href="#%E4%B8%83%E3%80%81%E5%A3%B0%E6%98%8E%E5%BC%8F%E7%AE%A1%E7%90%86%E6%96%B9%E6%B3%95" rel="nofollow">七、声明式管理方法</a></p> 
<p id="1.%E6%9F%A5%E7%9C%8B%E8%B5%84%E6%BA%90%E9%85%8D%E7%BD%AE%E6%B8%85%E5%8D%95-toc" style="margin-left:40px;"><a href="#1.%E6%9F%A5%E7%9C%8B%E8%B5%84%E6%BA%90%E9%85%8D%E7%BD%AE%E6%B8%85%E5%8D%95" rel="nofollow">1.查看资源配置清单</a></p> 
<p id="2.%E8%A7%A3%E9%87%8A%E8%B5%84%E6%BA%90%E9%85%8D%E7%BD%AE%E6%B8%85%E5%8D%95-toc" style="margin-left:40px;"><a href="#2.%E8%A7%A3%E9%87%8A%E8%B5%84%E6%BA%90%E9%85%8D%E7%BD%AE%E6%B8%85%E5%8D%95" rel="nofollow">2.解释资源配置清单</a></p> 
<p id="3.%E4%BF%AE%E6%94%B9%E8%B5%84%E6%BA%90%E9%85%8D%E7%BD%AE%E6%B8%85%E5%8D%95%E5%B9%B6%E5%BA%94%E7%94%A8-toc" style="margin-left:40px;"><a href="#3.%E4%BF%AE%E6%94%B9%E8%B5%84%E6%BA%90%E9%85%8D%E7%BD%AE%E6%B8%85%E5%8D%95%E5%B9%B6%E5%BA%94%E7%94%A8" rel="nofollow">3.修改资源配置清单并应用</a></p> 
<p id="4.%E5%88%A0%E9%99%A4%E8%B5%84%E6%BA%90%E9%85%8D%E7%BD%AE%E6%B8%85%E5%8D%95-toc" style="margin-left:40px;"><a href="#4.%E5%88%A0%E9%99%A4%E8%B5%84%E6%BA%90%E9%85%8D%E7%BD%AE%E6%B8%85%E5%8D%95" rel="nofollow">4.删除资源配置清单</a></p> 
<hr id="hr-toc"> 
<h2>一、资源管理</h2> 
<h3 id="1.kubernetes%E9%9B%86%E7%BE%A4%E7%AE%A1%E7%90%86" style="margin-left:.0001pt;text-align:justify;">1.kubernetes集群管理</h3> 
<p style="margin-left:.0001pt;text-align:justify;">集群资源的唯一入口是通过相应的方法调用apiserver 的接口</p> 
<h3 id="2.kubectl" style="margin-left:.0001pt;text-align:justify;">2.kubectl</h3> 
<p style="margin-left:.0001pt;text-align:justify;">       是官方的CLT命令行工具，用于与 apiserver进行通信，将用户在命令行输入的命令，组织并转化为 apiserver能识别的信息，进而实现管理k8s各种资源的一种有效途径。</p> 
<h3 id="3.kubectl%20%E7%9A%84%E5%91%BD%E4%BB%A4" style="margin-left:.0001pt;text-align:justify;">3.kubectl 的命令</h3> 
<p style="margin-left:.0001pt;text-align:justify;">kubectl --help</p> 
<p style="margin-left:.0001pt;text-align:justify;">k8s中文文档:http://docs.kubernetes.org.cn/683.html</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="651" src="https://images2.imgbox.com/f5/52/e0IhcyxT_o.png" width="692"></p> 
<p></p> 
<h4 id="(1)%E6%9F%A5%E7%9C%8B%E7%89%88%E6%9C%AC%E4%BF%A1%E6%81%AF" style="margin-left:.0001pt;text-align:justify;">(1)查看版本信息</h4> 
<pre><code>kubectl version</code></pre> 
<h4 id="%E2%80%8B%E7%BC%96%E8%BE%91" style="margin-left:.0001pt;text-align:justify;"><img alt="" height="145" src="https://images2.imgbox.com/8a/02/WmjR7Ztq_o.png" width="691"></h4> 
<p></p> 
<h4 id="(2)%E6%9F%A5%E7%9C%8B%E8%B5%84%E6%BA%90%E5%AF%B9%E8%B1%A1%E7%AE%80%E5%86%99%E4%BF%A1%E6%81%AF" style="margin-left:.0001pt;text-align:justify;">(2)查看资源对象简写信息</h4> 
<pre><code>kubectl api-resources</code></pre> 
<h4><img alt="" height="794" src="https://images2.imgbox.com/cc/64/yycTJgbJ_o.png" width="660"></h4> 
<p></p> 
<h4 id="(3)%E6%9F%A5%E7%9C%8B%E9%9B%86%E7%BE%A4%E4%BF%A1%E6%81%AF">(3)查看集群信息</h4> 
<pre><code>kubectl cluster-info</code></pre> 
<h4><img alt="" height="118" src="https://images2.imgbox.com/1d/45/dxHWFyRf_o.png" width="693"></h4> 
<p></p> 
<h4 id="(4)%E9%85%8D%E7%BD%AEkubectl%E8%87%AA%E5%8A%A8%E8%A1%A5%E5%85%A8">(4)配置kubectl自动补全</h4> 
<pre><code>source&lt;(kubectl completion bash)</code></pre> 
<h4 id="(5)node%E8%8A%82%E7%82%B9%E6%9F%A5%E7%9C%8B%E6%97%A5%E5%BF%97">(5)node节点查看日志</h4> 
<pre><code>journalctl -u kubelet -f</code></pre> 
<h4 id="(6)K8s%E6%A0%B8%E5%BF%83%E7%BB%84%E4%BB%B6%E6%97%A5%E5%BF%97">(6)K8s核心组件日志</h4> 
<p style="margin-left:.0001pt;text-align:justify;">kubeadm部署的 kubectl logs -t pod组件名 -n kube-system /journalctl -u kubelet -t    指向对应服务</p> 
<p style="margin-left:.0001pt;text-align:justify;">二进制部署的journalctl -u kubelet -f                                                                                    对应节点</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="284" src="https://images2.imgbox.com/7f/61/Ihu68Kl8_o.png" width="695"></p> 
<p><img alt="" height="627" src="https://images2.imgbox.com/fa/34/tFaBtsOJ_o.png" width="671"></p> 
<p><img alt="" height="125" src="https://images2.imgbox.com/a6/a9/py5SURej_o.png" width="531"></p> 
<p></p> 
<h2 id="%E4%BA%8C%E3%80%81%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF%E6%9F%A5%E7%9C%8B" style="margin-left:.0001pt;text-align:justify;">二、基本信息查看</h2> 
<pre><code>kubectl get &lt;resource&gt;[-o wideljson|yaml] [-n namespace]</code></pre> 
<p style="margin-left:.0001pt;text-align:justify;">获取资源的相关信息，-n指定命令空间，-o指定输出格式</p> 
<p style="margin-left:.0001pt;text-align:justify;">resource可以是具体资源名称，如pod nginx-xxx:也可以是资源类型，如pod;或者all(仅展示几种核心资源，并不完整)</p> 
<p style="margin-left:.0001pt;text-align:justify;">--all-namespaces或-A:表示显示所有命令空间，</p> 
<p style="margin-left:.0001pt;text-align:justify;">--show-labels :显示所有标签</p> 
<p style="margin-left:.0001pt;text-align:justify;">-l app :仅显示标签为app的资源</p> 
<p style="margin-left:.0001pt;text-align:justify;">-l app=nginx :仅显示包含app标签，且值为nginx的资源</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="327" src="https://images2.imgbox.com/e6/53/oCTJbUDu_o.png" width="698"></p> 
<p><img alt="" height="367" src="https://images2.imgbox.com/12/74/zPyknzyP_o.png" width="494"></p> 
<p><img alt="" height="649" src="https://images2.imgbox.com/63/ba/pilQHbNS_o.png" width="695"></p> 
<p> <img alt="" height="252" src="https://images2.imgbox.com/db/88/QLpvFSTs_o.png" width="696"></p> 
<p><img alt="" height="226" src="https://images2.imgbox.com/35/85/PG1z0QP2_o.png" width="692"></p> 
<p><img alt="" height="438" src="https://images2.imgbox.com/45/c4/FmjubbCe_o.png" width="699"></p> 
<h3 id="%C2%A01.%E6%9F%A5%E7%9C%8Bmaster%E8%8A%82%E7%82%B9%E7%8A%B6%E6%80%81"> 1.查看master节点状态</h3> 
<pre><code>kubectl get componentatatuses
kubectl get cs</code></pre> 
<h3><img alt="" height="149" src="https://images2.imgbox.com/82/0f/zdeizD98_o.png" width="606"></h3> 
<p></p> 
<h3 id="2.%E6%9F%A5%E7%9C%8B%E5%91%BD%E4%BB%A4%E7%A9%BA%E9%97%B4">2.查看命令空间</h3> 
<pre><code>kubectl get namespace
kubectl get ns</code></pre> 
<p style="margin-left:.0001pt;text-align:justify;">命令空间的作用:用于允许不同命令空间的相同类型的资源重名的</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="166" src="https://images2.imgbox.com/fd/61/rNZmHJ0x_o.png" width="481"></p> 
<p></p> 
<h3 id="3.%E6%9F%A5%E7%9C%8Bdefault%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E7%9A%84%E6%89%80%E6%9C%89%E8%B5%84%E6%BA%90">3.查看default命名空间的所有资源</h3> 
<pre><code>kubectl get all [-n default] [-A] / [--all-namespaces]</code></pre> 
<h3 id="4.%E5%88%9B%E5%BB%BA%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4app">4.创建命名空间app</h3> 
<pre><code>kubectl create ns app
kubectl get ns</code></pre> 
<h3><img alt="" height="44" src="https://images2.imgbox.com/73/04/OrfIli6c_o.png" width="425"></h3> 
<p> <img alt="" height="189" src="https://images2.imgbox.com/87/cd/yKT8yoaV_o.png" width="377"></p> 
<p></p> 
<h3 id="5.%E5%88%A0%E9%99%A4%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4app">5.删除命名空间app</h3> 
<pre><code>kubectl delete namespace app
kubectl get ns</code></pre> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="211" src="https://images2.imgbox.com/fd/11/3hkfB56h_o.png" width="428"></p> 
<p></p> 
<p style="margin-left:.0001pt;text-align:justify;">在命名空间kube-public创建无状态控制器（ deployment）来启动Pod (nginx-ls)</p> 
<pre><code>kubectl create deployment nginx-ls --image=nginx -n kube-public</code></pre> 
<h3 id="6.%E6%8F%8F%E8%BF%B0%E6%9F%90%E4%B8%AA%E8%B5%84%E6%BA%90%E7%9A%84%E8%AF%A6%E7%BB%86%E4%BF%A1%E6%81%AF">6.描述某个资源的详细信息</h3> 
<pre><code>kubectl describe deployment nginx-ls -n kube-public
kubectl describe pod nginx-ls-d47f99cb6-hv6gz -n kube-public60</code></pre> 
<h3><img alt="" height="455" src="https://images2.imgbox.com/7f/d2/DM68KoVE_o.png" width="692"></h3> 
<p></p> 
<h3 id="7.%E6%9F%A5%E7%9C%8B%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4kube-public%20%E4%B8%AD%E7%9A%84pod%20%E4%BF%A1%E6%81%AF">7.查看命名空间kube-public 中的pod 信息</h3> 
<pre><code>kubectl get pods -n kube-public</code></pre> 
<p style="margin-left:.0001pt;text-align:justify;">kubectl exec可以跨主机登录容器，docker exec只能在容器所在主机上登录</p> 
<pre><code>kubectl exec -it nginx-ls-7b74f4674f-9mh2b bash -n kube-public </code></pre> 
<p> 删除(重启) pod资源，由于存在deployment/ rc之类的副本控制器，删除pod也会重新拉起来</p> 
<pre><code>kubectl delete pod nginx-ls-7b74f4674f-9mh2b -n kube-public</code></pre> 
<p> 若pod无法删除，总是处于terminate状态，则要强行删除pod</p> 
<pre><code>kubectl delete pod. &lt;pod-name&gt;. -n &lt;namespace&gt; --force --grace-period=0</code></pre> 
<p>qrace-period表示过渡 存活期，默认30s，在删除pod之前允许POD慢慢终止其上的容器进程，从而优雅退出，0表示立即终止pod </p> 
<p><img alt="" height="153" src="https://images2.imgbox.com/79/39/oSnzdZ5u_o.png" width="694"></p> 
<p><img alt="" height="99" src="https://images2.imgbox.com/46/1f/x9PbZOkq_o.png" width="702"></p> 
<p><img alt="" height="433" src="https://images2.imgbox.com/88/d0/BEmAgAZh_o.png" width="691"></p> 
<p> <img alt="" height="66" src="https://images2.imgbox.com/58/c6/n3NH35HE_o.png" width="633"></p> 
<p> <img alt="" height="173" src="https://images2.imgbox.com/be/94/QpEIOXTC_o.png" width="692"></p> 
<p><img alt="" height="93" src="https://images2.imgbox.com/cc/5e/zCFvwo4I_o.png" width="423"></p> 
<p><img alt="" height="63" src="https://images2.imgbox.com/96/22/Q9cFkgVu_o.png" width="605"></p> 
<p> <img alt="" height="237" src="https://images2.imgbox.com/99/fe/KzDZa7WO_o.png" width="692"></p> 
<p> <img alt="" height="237" src="https://images2.imgbox.com/99/49/mlSAb8Ng_o.png" width="668"></p> 
<p><img alt="" height="628" src="https://images2.imgbox.com/7c/3f/028g8x6q_o.png" width="680"></p> 
<p> <img alt="" height="72" src="https://images2.imgbox.com/d1/b4/MbrQutOt_o.png" width="461"></p> 
<p> <img alt="" height="75" src="https://images2.imgbox.com/79/80/WPybATWe_o.png" width="691"></p> 
<p> <img alt="" height="104" src="https://images2.imgbox.com/de/e4/gTBLvtA3_o.png" width="643"></p> 
<p> <img alt="" height="88" src="https://images2.imgbox.com/6e/e0/84auCYOr_o.png" width="642"></p> 
<p> <img alt="" height="162" src="https://images2.imgbox.com/ea/c1/162fWgxB_o.png" width="693"></p> 
<p> <img alt="" height="127" src="https://images2.imgbox.com/e9/65/sXPRFrCt_o.png" width="692"></p> 
<p></p> 
<h3 id="8.%E6%89%A9%E7%BC%A9%E5%AE%B9">8.扩缩容</h3> 
<pre><code>kubect1 scale deployment nginx-ls --replicas=2 -n kube-public    扩容
kubectl scalc dcployment nginx-ls --replicas=1 -n kube-public    缩容</code></pre> 
<p style="margin-left:.0001pt;text-align:justify;">scale :调整副本集</p> 
<p style="margin-left:.0001pt;text-align:justify;">语法（扩容和缩容）</p> 
<p style="margin-left:.0001pt;">命令字操作指令主控制器pod_name指定副本集数量-n指定名称空间kubectl scaledeployment  nginx-ls --replicas=2 -n kube-public</p> 
<p style="margin-left:.0001pt;"><img alt="" height="159" src="https://images2.imgbox.com/ab/a2/SERc7GoU_o.png" width="687"></p> 
<p><img alt="" height="154" src="https://images2.imgbox.com/d8/d7/YG5pvfHB_o.png" width="690"></p> 
<p></p> 
<h3 id="9.%E5%88%A0%E9%99%A4%E5%89%AF%E6%9C%AC%E6%8E%A7%E5%88%B6%E5%99%A8">9.删除副本控制器</h3> 
<pre><code>kubectl delete deployment nginx-ls -n kube-public
kubectl delete deployment/nginx-ls -n kube-public</code></pre> 
<h3><img alt="" height="303" src="https://images2.imgbox.com/18/fb/eH8tWnBR_o.png" width="695"></h3> 
<p> <img alt="" height="153" src="https://images2.imgbox.com/2c/c0/SrsSxgUB_o.png" width="691"></p> 
<p><img alt="" height="125" src="https://images2.imgbox.com/58/ed/xI2Pr9iY_o.png" width="692"></p> 
<p><img alt="" height="526" src="https://images2.imgbox.com/3d/bb/gdokwlLT_o.png" width="687"></p> 
<p><img alt="" height="117" src="https://images2.imgbox.com/79/81/i74DVzPh_o.png" width="673"></p> 
<p> <img alt="" height="90" src="https://images2.imgbox.com/60/39/Hyw8t1vl_o.png" width="695"></p> 
<p><img alt="" height="199" src="https://images2.imgbox.com/ce/f7/hPFMPyxJ_o.png" width="693"></p> 
<p> <img alt="" height="400" src="https://images2.imgbox.com/dc/4c/9otlbLh6_o.png" width="689"></p> 
<p> <img alt="" height="398" src="https://images2.imgbox.com/4c/9d/6owCM1yX_o.png" width="693"></p> 
<p> <img alt="" height="199" src="https://images2.imgbox.com/51/5b/2xWrL0zQ_o.png" width="693"></p> 
<p> <img alt="" height="66" src="https://images2.imgbox.com/4e/ac/KrWmAkhE_o.png" width="692"></p> 
<p></p> 
<h3 id="10.%E5%AE%9A%E4%B9%89%E8%87%AA%E5%8A%A8%E6%89%A9%E5%AE%B9%E3%80%81%E7%BC%A9%E5%AE%B9%E8%A7%84%E5%88%99">10.定义自动扩容、缩容规则</h3> 
<p style="margin-left:.0001pt;text-align:justify;">使用Deployment "foo”设定，使用默认的自动伸缩策略，指定目标CPU使用率，使其Pod数虽在2到10之间。</p> 
<pre><code>kubectl autoscale. deployment_ foo --min=2 --max=10
使用RC"foo"设定，使其Pod的数量介于1和5之间，CPU使用率维持在80%。

RC RepliCation
RS ReplicaSet

kubect1 autoscale rc too --max=5 --cpu-percent=80</code></pre> 
<p style="margin-left:.0001pt;text-align:justify;">自动扩容、缩容触发条件</p> 
<p style="margin-left:.0001pt;text-align:justify;">①定义最大、最小Pod数量</p> 
<p style="margin-left:.0001pt;text-align:justify;">②定义扩容条件→往往和Pod使用的基础资源百分比相关，例如使用到cpu资源 80%的时候触发扩容</p> 
<p style="margin-left:.0001pt;text-align:justify;">80%→不是指node节点的80%，而是指pod内limit上限的80%</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="46" src="https://images2.imgbox.com/07/f9/5WM2JSR0_o.png" width="682"></p> 
<p> <img alt="" height="248" src="https://images2.imgbox.com/8f/2b/xHQqIv87_o.png" width="692"></p> 
<p></p> 
<h2 id="%E4%B8%89%E3%80%81%E9%A1%B9%E7%9B%AE%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F">三、项目的生命周期</h2> 
<p style="margin-left:.0001pt;text-align:justify;">Pod生命周期操作过程：创建→发布→更新→回滚→删除</p> 
<p style="margin-left:.0001pt;text-align:justify;">Pod 生命周期→指的是Pod在从创建到删除过程中，所包含、经历过的状态（running error ImagePullBackOFF)</p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<h3 id="1.%E5%88%9B%E5%BB%BAkubectl%20create%E5%91%BD%E4%BB%A4" style="margin-left:.0001pt;text-align:justify;">1.创建kubectl create命令</h3> 
<p style="margin-left:.0001pt;text-align:justify;">创建并运行一个或多个容器镜像。</p> 
<p style="margin-left:.0001pt;text-align:justify;">创建一个deployment或job来管理容器。</p> 
<pre><code>kubectl create --help</code></pre> 
<p>启动nginx 实例，暴露容器端口80， 设置副本数3</p> 
<pre><code>kubectl create deployment nginx -- image-nginx:1.15 --port=80 --replicas=3

kubectl get pods
kubectl get a1l</code></pre> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="343" src="https://images2.imgbox.com/9e/d4/LptKgSl7_o.png" width="691"></p> 
<p> <img alt="" height="110" src="https://images2.imgbox.com/bb/13/Pa2LoQ7R_o.png" width="688"></p> 
<p></p> 
<p style="margin-left:.0001pt;text-align:justify;">Pod两种类型</p> 
<p style="margin-left:.0001pt;text-align:justify;">1)自主式</p> 
<p style="margin-left:.0001pt;text-align:justify;">没有控制器管理的,就是自主式</p> 
<p style="margin-left:.0001pt;text-align:justify;">2)申明式</p> 
<p style="margin-left:.0001pt;text-align:justify;">有控制器管理的pod，创建时,就是申明式</p> 
<h3 id="2.%E5%8F%91%E5%B8%83kubectl%20expose%E5%91%BD%E4%BB%A4">2.发布kubectl expose命令</h3> 
<p style="margin-left:.0001pt;text-align:justify;">将资源暴露为新的Service。</p> 
<pre><code>kubectl expose --help </code></pre> 
<p>       为deployment的nginx创建service,并通过Serv ice的80端I 1转发至容器的80端口上，Service的名称为nginx-service，类型为NodePort</p> 
<pre><code>kubectl expose deployment nginx --port=80 --target -port=80 --name=nginx-service --type=NodePort</code></pre> 
<p><img alt="" height="195" src="https://images2.imgbox.com/2f/31/RFxODLOC_o.png" width="692"></p> 
<p><img alt="" height="175" src="https://images2.imgbox.com/9e/97/vGg4b6we_o.png" width="687"></p> 
<p> <img alt="" height="279" src="https://images2.imgbox.com/ea/52/VAlLAdvt_o.png" width="694"></p> 
<p><img alt="" height="230" src="https://images2.imgbox.com/85/20/PzNkbZbz_o.png" width="692"></p> 
<p><img alt="" height="275" src="https://images2.imgbox.com/54/fa/ZdgDOFHB_o.png" width="692"></p> 
<p> <img alt="" height="279" src="https://images2.imgbox.com/13/b0/QRk1Bnn8_o.png" width="693"></p> 
<p> <img alt="" height="60" src="https://images2.imgbox.com/d5/ad/fdAkbfUT_o.png" width="692"></p> 
<p><img alt="" height="62" src="https://images2.imgbox.com/d9/56/gQMZKfSb_o.png" width="692"></p> 
<p><img alt="" height="57" src="https://images2.imgbox.com/67/cd/7ds9Enmi_o.png" width="692"></p> 
<p></p> 
<p style="margin-left:.0001pt;text-align:left;">        Kubernetes 之所以需要Service，一方面是因为Pod的IP不是固定的(Pod可能会重建)，另一方面则是因为一组Pod实例之问总公有负载均衡的需求。</p> 
<p style="margin-left:.0001pt;text-align:left;">service 通过Label Selector 实现的对一组的Pod的访问。</p> 
<p style="margin-left:.0001pt;text-align:left;">        对于容器应用而言，Kubernetes 提供了基于VIP (虚拟IP) 的网桥的方式访问service， 再由Service 重定向到相应的Pod.</p> 
<p style="margin-left:.0001pt;text-align:left;">service 的type类型:</p> 
<p style="margin-left:.0001pt;text-align:left;">①ClusterIP: 提供一个集群内部的虚拟1P以供Pod访问(service默认类型)</p> 
<p style="margin-left:.0001pt;text-align:left;">②NodePort:在每个Node上打开一个端口以供外部访问，Kubernetes将会在每个Node.上打开一个端口并且每个Node的端口都是一样的，通过NodeIp:NodePort 的万式Kubernetes集群外部的程序可以访问Service。</p> 
<p style="margin-left:.0001pt;text-align:left;">每个端口只能是一种服务，端口范围只能是30000-32767。</p> 
<p style="margin-left:.0001pt;text-align:left;">K8S集群之间做联邦</p> 
<p style="margin-left:.0001pt;text-align:left;">③LoadBalancer: 通过设置LoadBalance r映射到云服务商提供的LoadBalancer地址。 这种用法仅用于在公有云服务提供商的云平台上设置Service的场景。通过外部的负载均衡器来访问，通常在云平台部署LoadBalancer还需要额外的费用。</p> 
<p style="margin-left:.0001pt;text-align:left;">       在service提交后，Kube rnetes就会调用CloudProvider在公有云上为你创建一个负载均衡服务，并且把被代埋的Pod的IP地址配置给负载均衡服务做后端。</p> 
<p style="margin-left:.0001pt;text-align:left;">④externalName: 将service名称映射到一个DNS域名上，相当于DNS服务的CNAME记录，用于让Pod去访问集群外部的资源，它本身没有绑定任何的资源。</p> 
<p style="margin-left:.0001pt;text-align:left;">⑤Headless：无头服务：pod会经过service发布出去，但是并不适用service ip 来做为集群中通讯的IP地址，而是使用pod的IP来做为暴露的IP地址。</p> 
<h3 id="3.%E6%9F%A5%E7%9C%8Bpod%E7%BD%91%E7%BB%9C%E7%8A%B6%E6%80%81%E8%AF%A6%E7%BB%86%E4%BF%A1%E6%81%AF%E5%92%8Cservice%E6%9A%B4%E9%9C%B2%E7%9A%84%E7%AB%AF%E5%8F%A3" style="margin-left:.0001pt;text-align:left;">3.查看pod网络状态详细信息和service暴露的端口</h3> 
<pre><code>kubectl get pods,svc -o wide</code></pre> 
<h3><img alt="" height="450" src="https://images2.imgbox.com/28/d2/PB8XoWR9_o.png" width="689"></h3> 
<p></p> 
<h3 id="4.%E6%9F%A5%E7%9C%8B%E5%85%B3%E8%81%94%E5%90%8E%E7%AB%AF%E7%9A%84%E8%8A%82%E7%82%B9">4.查看关联后端的节点</h3> 
<pre><code>kubectl get endpoints</code></pre> 
<h3 id="5.%E6%9F%A5%E7%9C%8Bservice%E7%9A%84%E6%8F%8F%E8%BF%B0%E4%BF%A1%E6%81%AF">5.查看service的描述信息</h3> 
<pre><code>kubecll describe svc nginx</code></pre> 
<h3><img alt="" height="425" src="https://images2.imgbox.com/2b/98/pOVqBFIS_o.png" width="692"></h3> 
<p></p> 
<h3 id="6.%E5%9C%A8%E8%8A%82%E7%82%B9%E4%B8%8A%E6%93%8D%E4%BD%9C%EF%BC%8C%E6%9F%A5%E7%9C%8B%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E7%AB%AF%E5%8F%A3">6.在节点上操作，查看负载均衡端口</h3> 
<h4 id="(1)node01">(1)node01</h4> 
<pre><code>yum install ipvsadm -y
ipvsadm -Ln</code></pre> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="133" src="https://images2.imgbox.com/70/5d/qJnNZQU2_o.png" width="694"></p> 
<p><img alt="" height="175" src="https://images2.imgbox.com/e6/96/56ZeW9fL_o.png" width="658"></p> 
<p> <img alt="" height="55" src="https://images2.imgbox.com/91/3e/CmDuDjfv_o.png" width="687"></p> 
<p><img alt="" height="112" src="https://images2.imgbox.com/7a/bb/JXbhQIRo_o.png" width="691"></p> 
<p><img alt="" height="418" src="https://images2.imgbox.com/b8/70/JYcelTjH_o.png" width="597"></p> 
<p></p> 
<p style="margin-left:.0001pt;text-align:left;">外部访问的IP和端口</p> 
<pre><code>TCP 主机IP:31718 rr

TCP 10.125.55.25:80 rr</code></pre> 
<h4 id="(2)node02%C2%A0" style="margin-left:.0001pt;text-align:left;">(2)node02 </h4> 
<pre><code>yum install ipvsadm -y
ipvsadm -Ln 

TCP 主机IP:31718 rr

TCP 10.125.55.25:80 rr</code></pre> 
<h4 id="(3)%E6%9F%A5%E7%9C%8B%E8%AE%BF%E9%97%AE%E6%97%A5%E5%BF%97" style="margin-left:.0001pt;text-align:left;">(3)查看访问日志</h4> 
<pre><code>kubectl logs </code></pre> 
<h2 id="%E5%9B%9B%E3%80%81%E6%9B%B4%E6%96%B0kubectl%20set">四、更新kubectl set</h2> 
<h3 id="1.%E6%9B%B4%E6%94%B9%E7%8E%B0%E6%9C%89%E5%BA%94%E7%94%A8%E8%B5%84%E6%BA%90%E4%B8%80%E4%BA%9B%E4%BF%A1%E6%81%AF">1.更改现有应用资源一些信息</h3> 
<pre><code>kubectl set --help</code></pre> 
<h3 id="2.%E8%8E%B7%E5%8F%96%E4%BF%AE%E6%94%B9%E6%A8%A1%E6%9D%BF">2.获取修改模板</h3> 
<pre><code>kubectl set image --help</code></pre> 
<h3 id="3.%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8Dnginx%20%E7%9A%84%E7%89%88%E6%9C%AC%E5%8F%B7">3.查看当前nginx 的版本号</h3> 
<pre><code>curl -l </code></pre> 
<h3><img alt="" height="221" src="https://images2.imgbox.com/39/df/022s14Oq_o.png" width="689"></h3> 
<p></p> 
<h3 id="4.%E5%B0%86nginx%E7%89%88%E6%9C%AC%E6%9B%B4%E6%96%B0%E4%B8%BA1.21%E7%89%88%E6%9C%AC">4.将nginx版本更新为1.21版本</h3> 
<pre><code>kubectl set image-deployment/nginx nginx=nginx:1.21</code></pre> 
<p style="margin-left:.0001pt;text-align:left;">        处于动态监听pod状态，由于使用的是滚动更新方式，所以公先生成一个新的pod，然后删除一个旧的pod,往后依次类推。</p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="48" src="https://images2.imgbox.com/ea/a2/HjaqHzgM_o.png" width="689"></p> 
<p><img alt="" height="42" src="https://images2.imgbox.com/9a/dd/4gpVjWC9_o.png" width="690"></p> 
<p><img alt="" height="129" src="https://images2.imgbox.com/f3/1c/lbpIUutB_o.png" width="691"></p> 
<p><img alt="" height="347" src="https://images2.imgbox.com/9b/69/kpxCGfdL_o.png" width="605"></p> 
<p></p> 
<h3 id="5.%E6%9B%B4%E6%96%B0%E5%A5%BD%E5%90%8E%E7%9A%84Pod%E7%9A%84ip%E4%BC%9A%E6%94%B9%E5%8F%98" style="margin-left:.0001pt;text-align:left;">5.更新好后的Pod的ip会改变</h3> 
<pre><code>kubectl get pods -o wide</code></pre> 
<h3 id="6.%E5%86%8D%E7%9C%8Bnqinx%E7%9A%84%E7%89%88%E6%9C%AC%E5%8F%B7">6.再看nqinx的版本号</h3> 
<pre><code>curl -I http</code></pre> 
<h2 id="%E4%BA%94%E3%80%81%E5%9B%9E%E6%BB%9Akubectl%20rollout">五、回滚kubectl rollout</h2> 
<h3 id="1.%E5%AF%B9%E8%B5%84%E6%BA%90%E8%BF%9B%E8%A1%8C%E5%9B%9E%E6%BB%9A%E7%AE%A1%E7%90%86">1.对资源进行回滚管理</h3> 
<pre><code>Kubectl rollout --help</code></pre> 
<h3 id="2.%E6%9F%A5%E7%9C%8B%E5%8E%86%E5%8F%B2%E7%89%88%E6%9C%AC">2.查看历史版本</h3> 
<pre><code>kubecl rolloul history deploymenl/nginx</code></pre> 
<h3><img alt="" height="353" src="https://images2.imgbox.com/af/a4/ZSrPiTde_o.png" width="691"></h3> 
<p></p> 
<h3 id="3.%E6%89%A7%E8%A1%8C%E5%9B%9E%E6%BB%9A%E5%88%B0%E4%B8%8A%E4%B8%80%E4%B8%AA%E7%89%88%E6%9C%AC">3.执行回滚到上一个版本</h3> 
<pre><code>kubectl rollout: undo deployment/nginx</code></pre> 
<h3 id="4.%E6%89%A7%E8%A1%8C%E5%9B%9E%E6%BB%9A%E5%88%B0%E6%8C%87%E5%AE%9A%E7%89%88%E6%9C%AC">4.执行回滚到指定版本</h3> 
<pre><code>kubectl rollout undo deployment/nginx --to-revision=1</code></pre> 
<h3><img alt="" height="45" src="https://images2.imgbox.com/26/71/j8mWFNki_o.png" width="618"></h3> 
<p><img alt="" height="36" src="https://images2.imgbox.com/40/c7/7UEUCNMq_o.png" width="690"></p> 
<p><img alt="" height="119" src="https://images2.imgbox.com/07/29/qOorBYP3_o.png" width="690"></p> 
<p> <img alt="" height="225" src="https://images2.imgbox.com/63/b8/0QRJbAnq_o.png" width="689"></p> 
<p></p> 
<h3 id="5.%E6%A3%80%E6%9F%A5%E5%9B%9E%E6%BB%9A%E7%8A%B6%E6%80%81">5.检查回滚状态</h3> 
<pre><code>kubectl rollout status deployment/nginx</code></pre> 
<h2><img alt="" height="48" src="https://images2.imgbox.com/01/b9/dV7KF7ie_o.png" width="689"></h2> 
<p></p> 
<h2 id="%E5%85%AD%E3%80%81%E5%88%A0%E9%99%A4kubectl%20delete">六、删除kubectl delete</h2> 
<h3 id="1.%E5%88%A0%E9%99%A4%E5%89%AF%E6%9C%AC%E6%8E%A7%E5%88%B6%E5%99%A8">1.删除副本控制器</h3> 
<pre><code>kubectl delotc deployment/nginx</code></pre> 
<h3 id="2.%E5%88%A0%E9%99%A4service">2.删除service</h3> 
<pre><code>kubectl delete svc/ nginx-service
kubectl get all</code></pre> 
<h3><img alt="" height="313" src="https://images2.imgbox.com/b7/57/hRKh4BBp_o.png" width="691"></h3> 
<p><img alt="" height="113" src="https://images2.imgbox.com/99/a8/KwqauH1s_o.png" width="693"></p> 
<p> <img alt="" height="35" src="https://images2.imgbox.com/96/aa/gfOESdzU_o.png" width="517"></p> 
<p> <img alt="" height="143" src="https://images2.imgbox.com/98/ae/RWRlBRxa_o.png" width="689"></p> 
<p><img alt="" height="52" src="https://images2.imgbox.com/d2/c4/dSabeSiy_o.png" width="666"></p> 
<p><img alt="" height="61" src="https://images2.imgbox.com/40/3f/6UZYsDcz_o.png" width="693"></p> 
<p></p> 
<h3 id="3.%E9%87%91%E4%B8%9D%E9%9B%80%E5%8F%91%E5%B8%83(Canary%20Release)">3.金丝雀发布(Canary Release)</h3> 
<p style="margin-left:.0001pt;text-align:left;">        Deployment控制器 支持自定义控制更新过程中的滚动节奏，如“暂停(pause)"或“继续(resume)“更新操作。比如等待第一批新的Pod资源创建完成后立即暂停更新过程，此时，仪存在一部分新版本的应用，主体部分还是旧的版本。然后，再筛选一小部分的用户请求露出到新版本的Pod应用，继续观察能否稳定地按期望的方式运行。确定没问题之后再继续完成余下的Pod资源滚动更新，否则立即回滚更新操作。这就是所谓的金丝雀发布。 </p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="536" src="https://images2.imgbox.com/b7/66/bpt2FGhR_o.gif" width="865"></p> 
<p style="margin-left:.0001pt;text-align:left;"><img alt="" height="543" src="https://images2.imgbox.com/b4/6a/dOKhBY5a_o.gif" width="670"></p> 
<p><img alt="" height="536" src="https://images2.imgbox.com/8e/1e/Xrls6gGA_o.gif" width="865"></p> 
<p><img alt="" height="563" src="https://images2.imgbox.com/36/58/PEjwlutC_o.gif" width="670"></p> 
<p></p> 
<h4 id="(1)%E6%9B%B4%E6%96%B0deployment%E7%9A%84%E7%89%88%E6%9C%AC%EF%BC%8C%E5%B9%B6%E9%85%8D%E7%BD%AE%E6%9A%82%E5%81%9Cdeployment" style="margin-left:.0001pt;text-align:left;">(1)更新deployment的版本，并配置暂停deployment</h4> 
<pre><code>kubectl set image deployment/nginx nginx nginx:1.14 &amp;&amp; kubectl rollout pause deployment/ nginx

kubectl rollout stattus po deployment/nginx       观察更新状态</code></pre> 
<h4 style="margin-left:.0001pt;text-align:justify;"><img alt="" height="257" src="https://images2.imgbox.com/e7/12/B1ymirvs_o.png" width="689"></h4> 
<p><img alt="" height="231" src="https://images2.imgbox.com/ea/6e/WRPRq2jf_o.png" width="695">  </p> 
<h4 id="(2)%E7%9B%91%E6%8E%A7%E6%9B%B4%E6%96%B0%E7%9A%84%E8%BF%87%E7%A8%8B" style="margin-left:.0001pt;text-align:justify;">(2)监控更新的过程</h4> 
<p style="margin-left:.0001pt;text-align:left;">        可以看到已经新增了一个资源，但是并未按照预期的状态去删除一个旧的资源，就是因为使用了pause暂停命令。</p> 
<pre><code>kubectl get pods -w

cur1 [-T] 10.125.55.25

curl [-I]</code></pre> 
<h4 style="margin-left:.0001pt;text-align:left;"><img alt="" height="245" src="https://images2.imgbox.com/98/17/yWt4KfoE_o.png" width="606"></h4> 
<p><img alt="" height="554" src="https://images2.imgbox.com/60/25/FoyRdmht_o.png" width="692">  </p> 
<h4 id="(3)%E7%A1%AE%E4%BF%9D%E6%9B%B4%E6%96%B0%E7%9A%84pod%E6%B2%A1%E9%97%AE%E9%A2%98%E4%BA%86%EF%BC%8C%20%E7%BB%A7%E7%BB%AD%E6%9B%B4%E6%96%B0" style="margin-left:.0001pt;text-align:left;">(3)确保更新的pod没问题了， 继续更新</h4> 
<pre><code>kubectl rollout resume deployment/nginx</code></pre> 
<h4 style="margin-left:.0001pt;text-align:left;"><img alt="" height="196" src="https://images2.imgbox.com/21/e8/BIZznyEo_o.png" width="627"></h4> 
<p></p> 
<h4 id="(4)%E6%9F%A5%E7%9C%8B%E6%9C%80%E5%90%8E%E7%9A%84%E6%9B%B4%E6%96%B0%E6%83%85%E5%86%B5" style="margin-left:.0001pt;text-align:left;">(4)查看最后的更新情况</h4> 
<pre><code>kubectl get pods -w

curl [-I] 10.125.55.25:

curl [-I]</code></pre> 
<h2 id="%E4%B8%83%E3%80%81%E5%A3%B0%E6%98%8E%E5%BC%8F%E7%AE%A1%E7%90%86%E6%96%B9%E6%B3%95" style="margin-left:.0001pt;text-align:left;">七、声明式管理方法</h2> 
<p style="margin-left:.0001pt;text-align:left;">1)适合于对资源的修改操作</p> 
<p style="margin-left:.0001pt;text-align:left;">2)声明式资源管理方法依赖于资源配置清单文件对资源进行管理</p> 
<p style="margin-left:.0001pt;text-align:left;">资源配置清单文件有两种格式: yaml (人性化，易读)，json (易于api接口解析)</p> 
<p style="margin-left:.0001pt;text-align:left;">3)对资源的管理，是通过事先定义在统--资源配置清单内，冉通过陈述式命令应用到k8s集群里</p> 
<p style="margin-left:.0001pt;text-align:left;">4)语法格式: kubectl create/apply/delete -f xxxx. yaml</p> 
<h3 id="1.%E6%9F%A5%E7%9C%8B%E8%B5%84%E6%BA%90%E9%85%8D%E7%BD%AE%E6%B8%85%E5%8D%95" style="margin-left:.0001pt;text-align:left;">1.查看资源配置清单</h3> 
<pre><code>kubectl get deployment nginx -o yaml</code></pre> 
<h3 id="2.%E8%A7%A3%E9%87%8A%E8%B5%84%E6%BA%90%E9%85%8D%E7%BD%AE%E6%B8%85%E5%8D%95">2.解释资源配置清单</h3> 
<pre><code>kubectl explain deployment.metadata
klbectl get.service nginx -o yaml
kubectl explain service.metadata</code></pre> 
<h3><img alt="" height="388" src="https://images2.imgbox.com/2c/03/oropGqYu_o.png" width="683"></h3> 
<p></p> 
<h3 id="3.%E4%BF%AE%E6%94%B9%E8%B5%84%E6%BA%90%E9%85%8D%E7%BD%AE%E6%B8%85%E5%8D%95%E5%B9%B6%E5%BA%94%E7%94%A8">3.修改资源配置清单并应用</h3> 
<p style="margin-left:.0001pt;text-align:left;">离线修改:</p> 
<p style="margin-left:.0001pt;text-align:left;">修改yaml文件，并用kubectl apply -f xxxx.yaml 文件使之生效</p> 
<p style="margin-left:.0001pt;text-align:left;">注意:当apply不生效时，先使用delete清除资源，再apply创建资源</p> 
<pre><code>kubectl get service nginx -o yaml  &gt; nginx-svc. yaml
vim nginx-svc. Yaml                   修改port: 8080
kubectl delete -f nginx-svc. yaml
kubectl  apply -f nginx-svc.yaml
kubectl get ave</code></pre> 
<p style="margin-left:.0001pt;text-align:left;">在线修改:</p> 
<p style="margin-left:.0001pt;text-align:left;">直接使用kubectl edit service nginx 在线编辑资源配置清单并保存退出即时生效(如port: 888)</p> 
<p style="margin-left:.0001pt;text-align:left;">PS:此修改方式不会对yaml文件内容修改</p> 
<h3 style="margin-left:.0001pt;text-align:left;"><img alt="" height="366" src="https://images2.imgbox.com/1e/0a/VEIvEn0U_o.png" width="686"></h3> 
<p><img alt="" height="86" src="https://images2.imgbox.com/5a/a7/pkYE8wXF_o.png" width="573"></p> 
<p><img alt="" height="100" src="https://images2.imgbox.com/d7/db/EkBkklur_o.png" width="695"></p> 
<p><img alt="" height="48" src="https://images2.imgbox.com/92/d7/pKlGMgU1_o.png" width="546"></p> 
<p></p> 
<p><img alt="" height="465" src="https://images2.imgbox.com/94/d5/9vV5u23C_o.png" width="601"></p> 
<p> <img alt="" height="70" src="https://images2.imgbox.com/68/b6/qymsJFNb_o.png" width="532"></p> 
<p><img alt="" height="315" src="https://images2.imgbox.com/bb/40/ecg7YegQ_o.png" width="698"> </p> 
<p><img alt="" height="42" src="https://images2.imgbox.com/f0/ed/JW40RAlR_o.png" width="519"> </p> 
<p><img alt="" height="132" src="https://images2.imgbox.com/09/0c/YH4Ycd8h_o.png" width="698"> </p> 
<p><img alt="" height="37" src="https://images2.imgbox.com/d2/d7/lWtSnBgM_o.png" width="532"> </p> 
<p><img alt="" height="305" src="https://images2.imgbox.com/37/52/MbvwJcLd_o.png" width="618"> </p> 
<p><img alt="" height="81" src="https://images2.imgbox.com/0a/bb/BCtY8aRT_o.png" width="542"> </p> 
<p><img alt="" height="431" src="https://images2.imgbox.com/1f/8b/Fyfk3dec_o.png" width="466"> </p> 
<p><img alt="" height="290" src="https://images2.imgbox.com/a5/78/Fy4fx0D1_o.png" width="704"> </p> 
<p><img alt="" height="652" src="https://images2.imgbox.com/52/61/YMfXMg6q_o.png" width="699"> </p> 
<p><img alt="" height="658" src="https://images2.imgbox.com/c6/b4/aWlmKTwL_o.png" width="700"></p> 
<h3 id="4.%E5%88%A0%E9%99%A4%E8%B5%84%E6%BA%90%E9%85%8D%E7%BD%AE%E6%B8%85%E5%8D%95" style="margin-left:.0001pt;text-align:left;">4.删除资源配置清单</h3> 
<p style="margin-left:.0001pt;text-align:left;">陈述式删除</p> 
<pre><code class="hljs">kubectl delete service nginx</code></pre> 
<p style="margin-left:.0001pt;text-align:left;">声明式删除</p> 
<pre><code class="hljs">kubectl delete -f nginx-svc.yaml</code></pre> 
<p></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2a9231596b1e4bf0c85a80b3f16cc325/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">vs code无法输入代码</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c6f33b1c0797245e2601da43b6eabdc3/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Java控制台实现循环计算加减乘除</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程爱好者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151260"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>