<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>USB xHCI控制器使用总结 - 编程爱好者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="USB xHCI控制器使用总结" />
<meta property="og:description" content="VI行超过80字符长度提示：set colorcolumn=81
1 APL USB xHCI控制器
1.1 驱动架构
14nm Apollo Lake (Gen9, A39X0) was released in September 2016.
APL 8-port MPH xHCI控制器实际上有两个roothub，一个是roothub 2.0的，一个是roothub 3.0。因为xHCI的这个特性，在Linux内核里，如果发现了PCI或者PCIe总线上具有xHCI控制器，那么驱动会向USB Core子系统注册两个roothub控制器，一个是roothub 2.0，一个是roothub 3.0，代码参见xhci-pci.c中的xhci_pci_probe()函数。
UEFI中xHCI驱动没有使用中断方式，而是用的轮训方式。
xhci_get_endpoint_index()
ep_index = (epnum * 2) &#43; direction - 1
ep_index = 6 means ep3in
1.2 OTG架构
寄存器地址：PCI_BAR0 &#43; 80D8h
8-port MPH xHCI和dwc3组成一个PCI多功能设备，xHCI的func号为0，dwc3的func号为1，Synopsys dwc3 usb comes from inSilicon。由于PCI总线一般只有INTA#到INTD#的4个中断引脚，所以PCI多功能设备的func一般不会超过4个，但是共享中断除外。
/sys/bus/platform/drivers/intel_usb_dr_phy/intel_usb_dr_phy.0/mux_state
1.3 xHCI Scheduler Async Delay
Datasheet
21.1 xHCI - including OTG MUX Registers" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bchobby.github.io/posts/7aa815c90e35be4e08e0fe03710c23b6/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-03T09:07:32+08:00" />
<meta property="article:modified_time" content="2023-11-03T09:07:32+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程爱好者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程爱好者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">USB xHCI控制器使用总结</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>VI行超过80字符长度提示：set colorcolumn=81<br><br> 1 APL USB xHCI控制器<br> 1.1 驱动架构<br> 14nm Apollo Lake (Gen9, A39X0) was released in September 2016.<br> APL 8-port MPH xHCI控制器实际上有两个roothub，一个是roothub 2.0的，一个是roothub 3.0。因为xHCI的这个特性，在Linux内核里，如果发现了PCI或者PCIe总线上具有xHCI控制器，那么驱动会向USB Core子系统注册两个roothub控制器，一个是roothub 2.0，一个是roothub 3.0，代码参见xhci-pci.c中的xhci_pci_probe()函数。<br><br> UEFI中xHCI驱动没有使用中断方式，而是用的轮训方式。<br><br> xhci_get_endpoint_index()<br> ep_index = (epnum * 2) + direction - 1<br> ep_index = 6 means ep3in<br><br> 1.2 OTG架构<br> 寄存器地址：PCI_BAR0 + 80D8h<br> 8-port MPH xHCI和dwc3组成一个PCI多功能设备，xHCI的func号为0，dwc3的func号为1，Synopsys dwc3 usb comes from inSilicon。由于PCI总线一般只有INTA#到INTD#的4个中断引脚，所以PCI多功能设备的func一般不会超过4个，但是共享中断除外。<br><br> /sys/bus/platform/drivers/intel_usb_dr_phy/intel_usb_dr_phy.0/mux_state<br><br> 1.3 xHCI Scheduler Async Delay<br> Datasheet<br> 21.1 xHCI - including OTG MUX Registers<br> 21.2 xHCI PCI Config Registers<br> 21.3 DBC<br> 21.4 DWC3<br> 21.5 DWC3<br> 21.6 xHCI Proprietary Registers<br> 21.7 DWC3 PCI Config Registers<br> 21.9 DWC3 PCI Config Registers<br><br> 寄存器地址：PCI_BAR0 + 80D4h<br> 在控制或者Bulk令牌传输之间插入延时，否则IN或者OUT令牌发送太快会导致ublox M8030全速设备丢包。<br><br> 1.4 PIPE PHY数据线宽度<br> DWC_usb3_databook_2.50a.pdf<br> USB 3.0 PIPE PHY（SerDes = PCIe Gen2）的数据线宽度是可以设置的，最大宽度分别是Tx 32bit、Rx 32bit，需要根据PIPE PHY的接口频率来设置数据线宽度。如果PIPE PHY运行在128MHz，那么Tx和Rx的数据线宽度都是32bit；如果PIPE PHY运行在256MHz，那么Tx和Rx的数据线宽度都是16bit。<br><br> USB 3.0 Gen1的速度5Gbps，是指Tx和Rx的速率都是5Gbps（128MHz x 4bytes或者256MHz x 2bytes）。<br> USB 3.0 Gen1的速度5Gbps（625MB/s），协议开销（overhead）占用了20%带宽，所以实际有效速度是500MB/s。<br> USB 3.0 Tx或者Rx的传输速率虽然是5Gbps，但实际上数字信号的方波频率是2.5GHz（传输2个bit对应一个方波）。<br><br> Intel APL (Gen9, A39X0) 8-port MPH xHCI的物理层名字是ModPHY（High Speed I/O Modular Physical Layer for Intel USB 3.0）。<br><br> 1.5 USB babble<br> babble错误表示在IN或者OUT token后，而在ACK之前，端点接收数据多于端点的bMaxPacketSize。<br><br> 1.6 USB DCI DbC调试技术<br> CONFIG_USB_XHCI_DBGCAP<br> /sys/bus/pci/devices/0000:00:14.0/dbc<br><br> 用于调试的USB 3.0 Debugging Cable的VBUS、DP和DM不连接，也就是pinout的1到3不连接，仅连接pinout的4到9。DbC软件工具是Intel System Studio。<br><br> Windows目标机需要打开调试功能，输入msconfig打开系统配置工具。在引导 - 高级选项下面：勾选调试，调试端口选择USB，USB目标名称随便写一个自己能记住的名字。将来Host和Target两端要靠这个名字进行匹配。<br><br> 1.7 Other Atom xHCI<br> 1) Atom E3800 (Bay Trail, BYT, Gen7, 2013) has a 7-port MPH xHCI, 1 port supports DEBUG capability, 2 ports support HSIC, 4 ports are shared with 4-port MPH EHCI. It has an independent super speed USB device controller, but does not support OTG.<br> 2) Atom Z8000 (Cherry Trail, CHT, Gen8, 2014) has an 8-port MPH xHCI, port1 supports OTG, 2 ports support HSIC (LVCMOS 1.2V), 2 ports support SSIC. It is similar to APL.<br><br> 1.8 Interrupt on Short Packet<br> xhci_hcd WARN Event TRB for slot x ep y with no TDs queued<br> http://billauer.co.il/blog/2019/11/xhci-controller-bug-warning/<br><br> https://lore.kernel.org/patchwork/patch/860018/<br> https://lkml.org/lkml/2016/1/5/1035<br><br> 1.9 LTSSM stuck issue<br> not warm reset yet, waiting 200ms<br> not enabled, trying warm reset again<br><br> This log shows ss port stuck issue.<br> Disable USB3 roothub port: Clear power Feature and Set BH_Reset Feature.<br> In Hex format.<br> 23 01 0008 port1 0000<br> 23 03 001c port1 0000<br> Disable USB3 non roothub port: Set Rx.disabled Feature.<br> In Hex format.<br> 23 03 0005 0400|port1 0000<br> Add # define DEBUG at the first line of the hub.c file (above the header files) for enabling Linux dynamic debug log.<br><br> 1.10 debug<br> 1) A3940 full-speed token sends fast<br> 2) LTSSM stuck<br> 3) over-current<br> 4) UFD accessory setup + INQUIRY concurrent issue<br> 5) USB Eye Pattern Issue<br> NRZI编码遇到原始数据0反转，原始数据1不反转，遇到连续6个1强插一个0。<br> USB packet format: Sync|PID (SETUP/IN/OUT/DATA0/ACK)|data|CRC|EOP<br> 6.4.5 TRB Completion Codes of xHCI spec.<br> COMP_USB_TRANSACTION_ERROR (Bad PID or CRC) - EPROTO<br> Enable the xhci_dbg of handle_tx_event() in xhci-ring.c<br><br> DWC3 gadget: DWC3_DEVICE_EVENT_LINK_STATUS_CHANGE<br><br> 2 Bulk传输速度计算<br> - Full-speed<br> 每个frame最大可以传输19个Bulk包，每个Bulk包最大是64 Bytes，所以其最大传输速率是：19 x 64 x 1000 = 1.16 MB/s。<br> - High-speed<br> USB 2.0在每个微帧中最大可传输13个Bulk包，每个Bulk包最大是512 Bytes，而每个微帧长固定为125 μs，所以其最大传输速率为：13 x 512 x 8 x 1000 = 51 MB/s。<br> - Super-speed<br> USB 3.0在每个微帧中最大可传输13个Bulk包，每个Bulk包最大是1024 Bytes，而每个微帧长固定为125 μs，所以其最大传输速率为：13 x 1024 x 8 x 1000 = 102 MB/s。<br><br> 3 APL xHCI HS眼图调试<br> 3.1 P2SB USB2 tunning registers<br> reg_addr = 0xf8000000 (P2SB bar0) + (PortID &lt;&lt; 16) + offset;<br><br> 3.2 EHCI眼图调试寄存器设置流程<br> 第一步：把寄存器USBCMD的bit4和bit5设成0<br> 第二步：把寄存器USBCMD的bit0和bit6设成0<br> 第三步：<br> - 对应的USB port的PORTSC，port suspend（bit7）设置成0<br> - 然后把测试模式selector（取值范围：&gt;0，&lt;5，这个数字对应眼图夹具上的那个开关的拨弄的编号）写到PORTSC中（selector &lt;&lt; 16）<br><br> 3.3 xHCI每个port的4个寄存器<br> - EHCI每个port都有一个寄存器PORTSC<br> - xHCI中每个2.0和3.0 port entry的寄存器个数（包括PORTSC）都是4，并且每个port entry占了16个字节<br><br> drivers/usb/host/xhci-hub.c <br> xhci_get_ports()<br><br> 3.4 xHCI HS眼图调试寄存器设置流程<br> 第一步：把寄存器USBCMD的bit0设成0<br> 第二步：<br> - 对应的USB port的PORTSC，port power（bit9）设置成0<br> - 然后把测试模式selector（取值范围：&gt;0，&lt;5，这个数字对应眼图夹具上的那个开关的拨弄的编号）写到PORTPMSC中（selector &lt;&lt; 28）<br><br> 验证方法：<br> 1）把selector的值设成1，这时候你用万用表去量D+的电压为高（0.4V），而D-的电压为0，就说明寄存器设置对了<br> 2）要测试眼图，只要把selector设成4就行了<br><br> 注意点：<br> 1）测试Host眼图时Golden Device参考板使用Cypress Ref Board<br> 2）APL 8-port MPH xHCI HS不支持修改DC level（400mV）<br><br> 3.5 xHCI HS Roothub眼图测试patch<br> in xhci-hub.c<br> int xhci_hub_control(struct usb_hcd *hcd,<br>     u16 typeReq, u16 wValue,<br>     u16 wIndex, char *buf, u16 wLength)<br> {<!-- --><br>     [...]<br>     unsigned selector;<br>     [...]<br><br>         case SetPortFeature:<br>             if (IS_ENABLED(<br>                 CONFIG_USB_EHSET_TEST_FIXTURE))<br>                 selector = wIndex &gt;&gt; 8;<br>             [...]<br>             /* p320, s4.19.6 Port Test Modes<br>              * in xhci spec<br>              */<br>             case USB_PORT_FEAT_TEST:<br>                 if (!IS_ENABLED(<br>                 CONFIG_USB_EHSET_TEST_FIXTURE))<br>                 {<!-- --><br>                     (void)selector;<br>                     goto error;<br>                 }<br><br>                 if (hcd-&gt;speed &gt;= HCD_USB3)<br>                     goto error;<br><br>                 if (!selector || selector &gt; 5)<br>                     goto error;<br><br>                 spin_unlock_irqrestore(&amp;xhci-&gt;lock,<br>                     flags);<br>                 xhci_quiesce(xhci);<br>                 spin_lock_irqsave(&amp;xhci-&gt;lock,<br>                     flags);<br><br>                 /*<br>                  * Put all enabled ports into<br>                  * Disabled state, Port Power = 0<br>                  * FIXME: only can set<br>                  * port_array[#wIndex] to PP = 0<br>                  */<br>                 temp = readl(port_array[wIndex]);<br><br>                 temp &amp;= ~(1 &lt;&lt; 9);<br>                 writel(temp, port_array[wIndex]);<br>                 temp = readl(port_array[wIndex]);<br><br>                 spin_unlock_irqrestore(&amp;xhci-&gt;lock,<br>                     flags);<br>                 retval = xhci_halt(xhci);<br>                 spin_lock_irqsave(&amp;xhci-&gt;lock,<br>                     flags);<br><br>                 temp = readl(port_array[wIndex] +<br>                     PORTPMSC);<br>                 temp &amp;= ~(0xf &lt;&lt; 28);<br>                 temp |= selector &lt;&lt; 28;<br>                 writel(temp, port_array[wIndex] +<br>                     PORTPMSC);<br><br>                 break;<br>     [...]<br> }<br><br> 4 EMC测试<br> 4.1 出问题的RF频点<br> 步长20MHz，380MHz和440Mhz容易出问题。<br><br> 4.2 EMC干扰后，USB设备断开走的代码路径<br> - U盘，走hub.c的usb_reset_device()；USB设备使用过程中复位与设备第一次连接复位的区别是udev-&gt;config非空；获得syspath路径函数kobject_get_path(kobj, GFP_KERNEL)<br> - USB转以太网，走hub.c的EM interference<br> - 表现与手工插入、移除一样<br><br> 4.3 寄存器判断 - xHCI<br> 宏中有大写C（change）的表示描述的是wPortChange。<br> 每次insertion有多次portsc寄存器打印，是因为：<br> - USB reset前，调用hub_port_debounce()多次轮训portsc寄存器，确认设备连接<br> - USB reset时，调用hub_port_wait_reset()多次轮训portsc寄存器确认复位是否成功（检查portsc.bit1是否为1，1表示成功，否则失败）<br><br> wPortStatus（对应到xHCI portsc.bit0 - portsc.bit15）：<br> bit0 - 有无设备连接，portsc.bit0<br> bit1 - 端口是否使能，portsc.bit1<br> bit4 - 端口是否有复位信号，portsc.bit4<br> bit8 - 端口电源，portsc.bit9，for USB2<br> bit8...bit5 - PORT_LINK_STATE，portsc.bit8...portsc.bit5，for USB3<br> wPortChange（对应到xHCI portsc.bit17 - portsc.bit31）：<br> bit0 - 端口连接改变位，portsc.bit17<br> bit1- 端口使能/禁止改变位，portsc.bit18<br><br> 5 电源管理<br> 5.1 全局禁止运行时autosuspend<br> echo -1 &gt;<br> /sys/module/usbcore/parameters/autosuspend<br><br> 5.2 xHCI autosuspend<br> Intel APL (Gen9, A39X0) 8-port MPH xHCI会注册2个host，一个是usb1（LS/FS/HS），另一个是usb2（SS）。<br> 禁止usb1电源管理：<br> echo on &gt;<br> /sys/bus/usb/devices/usb1/power/control<br> 禁止usb2电源管理：<br> echo on &gt;<br> /sys/bus/usb/devices/usb2/power/control<br><br> 6 ACPI<br> 6.1 iasl_win<br> cat /sys/firmware/acpi/tables/DSDT &gt; DSDT.aml<br> sudo apt-get install iasl<br> iasl -d DSDT.aml<br> cat DSDT.dsl<br><br> 6.2 URLs<br> WINDOWS BINARY TOOLS<br> https://www.acpica.org/downloads/binary-tools<br><br> 7 ARM xHCI<br> 7.1 Faraday Technology<br> [29th-Mar-2022]<br> Faraday Technology provides USB 2.0 and xHCI controller IP.<br> IP Memory provides DDR PHY IP.<br><br> 7.2 28nm iMX 8QuadMax MEK<br> iMX 8QuadMax was released in Q1, 2017.<br> MEK: Multisensory Enablement Kit<br> SABRESD: NXP Smart Application Blueprint for Rapid Engineering Smart Device<br> USBOTG1: 0x5b0d_0000, Chipidea<br> USBH1: 0x5b0e_0000, Chipidea Host HSIC<br> USBOTG3: 0x5b11_0000, Cadence xHCI, connected to PTN5110<br><br> 7.3 28nm MT2712<br> MT2712 was released in 2017.<br> MT2712包含2个MPH xHCI，每个xHCI包含2个port，一个3.0口和一个2.0口。其中3.0口通过外接Richtek的PD控制器RT1711H（支持TCPCI规范）后，可以支持USB Type-C；而2.0口支持OTG。<br><br> echo device &gt;<br> /sys/kernel/debug/usb/11271000.usb/mode<br><br> ESIT: INT/ISO Endpoint Service Interval Time, = max_packet_size x num_of_burst<br><br> 7.4 Nvidia 12nm Xavier<br> 4-port MPH, 3 ports support SuperSpeed, it integrated Falcon controller.<br> 2-port CYPD4226-40LQXIT<br> bus-port.port.port...<br><br> Tegra186 4-port MPH xHCI port3 connected to Microchip MOST OS81118 in Daimler NTG6 head unit.<br> Tegra30 was based on 40nm process technology, and released on November 9th, 2011. It integrated 3 Chipidea SPH EHCI.<br><br> 7.5 qcom 7nm SA8155<br> 7.5.1 Gen3 Cockpit<br> DWC_usb3_databook_2.50a.pdf<br> SA8155 and SA8195 are the Gen3 Cockpit SoC.<br> SA8295 is the Gen4 Cockpit SoC.<br><br> SA8155 includes 2 SPH dwc3 xHCI, it was based on 855 SM8150, and released in 2019.<br> SA8195 includes 4 SPH dwc3 xHCI. USB0 and USB1 support high speed, USB2 and USB3 support super speed.<br><br> USB3 QMP SerDes offset: 0x1000<br> DP SerDes offset: 0x2000<br><br> overlay.dtbo-base: to be overlaid dtb<br> dts-dirs += $(DEVELOP_PRODUCT)<br><br> /sys/devices/platform/soc/a600000.ssusb/mode<br> echo "file dwc3-msm.c +p" &gt;<br> /sys/kernel/debug/dynamic_debug/control<br><br> CONFIG_STRICT_DEVMEM<br> CONFIG_DEVMEM<br> drivers/char/mem.c<br> busybox hexdump -C /proc/device-tree/xxx/reg<br> echo on &gt;<br> /sys/bus/usb/devices/usb1/power/control<br> busybox devmem 0xa6f8858 32<br><br> 7.5.2 8cx<br> 8cx means 8 Compute eXtreme. SC8280XP dwc3-msm.c uses qcom,dual-port to implement 2-port MPH xHCI.<br><br> 7.6 Raspberry Pi<br> Raspberry Pi 4B uses VL805 xHCI.<br> Raspberry Pi 5 uses RP1 chipset to implement v3.30b dwc_usb3 xHCI.<br><br> 7.7 Samsung 8nm EA9<br> EA9 includes 4 SPH dwc3_v3.20a xHCI, controller 0 and 1 support Super-speed, controller 2 and 3 support High-speed. EA9 was released in 2017. EA9 uses 36bit physical memory address bus.<br> USB0: 0x1720_0000<br> USB1: 0x1730_0000<br> USB2: 0x1740_0000<br> USB3: 0x1750_0000<br> Synopsys PHY0 Base: 0x171C_0000<br> Synopsys PHY1 Base: 0x171D_0000<br> Synopsys PHY2 Base: 0x171E_0000<br> Synopsys PHY3 Base: 0x171F_0000<br> LTSTATE_HIS: offset 0x0014, USB30 Link Training History Register. 5 history state, each history has a 4-bit field recording one of 16 LTSSM training state.<br><br> 7.8 VMware Ubuntu xHCI<br> bus 1: EHCI<br> bus 2: OHCI<br> bus 3: 4-port xHCI high-speed<br> bus 4: 4-port xHCI super-speed<br> And USB flash drive is attached to bus 4 port1.<br><br> 8 URLs<br> [RFC v2 00/22] USB 3.0 hub support &amp; xHCI split roothub for 2.6.38<br> http://www.spinics.net/lists/linux-usb/msg40949.html<br><br> [1/1] usb: Check if port status is equal to RxDetect<br> https://lore.kernel.org/patchwork/patch/482049/<br><br> 9 Abbreviations<br> ARC：Argonant RISC Core<br> AT91SAM9260：SAM means Smart ARM-based Microcontroller<br> ATMEL SAMBA：ATMEL Smart ARM-based Microcontroller Boot Assistant<br> DCI：Direct Connection Interface<br> DWC2：Design Ware Controller 2，Apple的嵌入式设备，包括iPad和iPhone都是使用的DWC2；DWC技术来至于收购的InSilicon<br> Falcon：FAst Logic CONtroller。NVIDIA私有的RISC MCU，主要用在桌面GPU（Falcon中的寄存器一般映射到PCI BAR0）或者Tegra xHCI控制器中。NVIDIA正在把私有的Falcon MCU架构换成RISC-V<br> HSIO：x86 High-Speed Input/Output<br> ISP1161：Philips' Integrated host Solution Pairs 1161，“Firms introduce USB host controllers”，https://www.eetimes.com/document.asp?doc_id=1290054<br> MPH：USB Multi-Port Host，Intel的MPH的Port1作为OTG使用，和DWC3（仅作为slave）使用一个MUX开关来控制Host还是UDC连接到该Port1<br> MTU3 ippc：MTK USB3 IP Port Control<br> PAM-4：每个符号表示2个bit，眼图有3个眼睛；而NRZ眼图只有一个眼睛<br> SL811HS：Cypress/ScanLogic 811 Host/Slave，性能上与ISP1161（Integrated host Solution Pairs 1161）相当<br> SOM: Intel Atom Processor System on Module<br> SPH：USB Single-Port Host<br> TDI：TransDimension Inc.，该公司首先发明了将TT集成到EHCI RootHub中的方法，这样对于嵌入式系统来说，就省去了OHCI/UHCI的硬件，同时降低了成本，作为对该公司的纪念，Linux内核定义了宏ehci_is_TDI(ehci)；产品UHC124表示USB Host Controller；收购了ARC USB技术；现已被chipidea收购，chipidea又被mips收购<br> TT：Transaction Translator（事务转换器，将USB2.0的包转换成USB1.1的包）<br> U0：USB SS link is Up<br> USB BH reset：Bigger Hammer or Brad Hosler，表示warm reset；you may be confused why the USB 3.0 spec calls the same type of reset "warm reset" in some places and "BH reset" in other places. "BH" reset is supposed to stand for "Big Hammer" reset, but it also stands for "Brad Hosler". Brad died shortly after the USB 3.0 bus specification was started, and they decided to name the reset after him. The suggestion was made shortly before the spec was finalized, so the wording is a bit inconsistent.<br> USB overhead：开销，包头包尾等由协议层而不是应用层添加的字节，也就是说，一个USB包中除了payload之外的附加字节（Token、ACK、CRC等）都叫overhead<br> xECP：xHCI Extended Capabilities Pointer<br> XUSB2PR: Intel xHC USB 2.0 Port Routing Register</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a9ec632af8ce6689c201007d3b97b0df/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Makefile学习</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/bff17f25eadb1709168ca650a6c53272/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">ZooKeeper那些事</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程爱好者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151260"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>