<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Elasticsearch搜索引擎 - 编程爱好者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Elasticsearch搜索引擎" />
<meta property="og:description" content="The Elastic Stack, 包括 Elasticsearch【搜索，分析】、 Kibana【可视化】、 Beats 和 Logstash【数据的搜集】（也称为 ELK Stack）。能够安全可靠地获取任何来源、任何格式的数据，然后实时地对数据进行搜索、分析和可视化。
Elaticsearch，简称为 ES， ES 是一个开源的高扩展的分布式全文搜索引擎， 是整个 ElasticStack 技术栈的核心。
它可以近乎实时的存储、检索数据；本身扩展性很好，可以扩展到上百台服务器，处理 PB 级别的数据。
文章目录 目录
文章目录
前言
一、倒排索引
二、es的安装 三、ES中常见的概念
四、ES常用API接口
4.1查询匹配
4.2多条件查询
4.3匹配数组
4.4精确匹配 五、ik分词器 六、spring boot整合es 总结
前言 使用场景
国外：
维基百科，类似百度百科，“网络七层协议”的维基百科，全文检索，高亮，搜索推荐
Stack Overflow（国外的程序讨论论坛），相当于程序员的贴吧。遇到it问题去上面发帖，热心网友下面回帖解答。
GitHub（开源代码管理），搜索上千亿行代码。
电商网站，检索商品
日志数据分析，logstash采集日志，ES进行复杂的数据分析（ELK技术，elasticsearch&#43;logstash&#43;kibana）
商品价格监控网站，用户设定某商品的价格阈值，当低于该阈值的时候，发送通知消息给用户，比如说订阅《java编程思想》的监控，如果价格低于27块钱，就通知我，我就去买。
BI系统，商业智能（Business Intelligence）。大型连锁超市，分析全国网点传回的数据，分析各个商品在什么季节的销售量最好、利润最高。成本管理，店面租金、员工工资、负债等信息进行分析。从而部署下一个阶段的战略目标。
国内：
百度搜索，第一次查询，使用es。
OA、ERP系统站内搜索。
一、倒排索引 倒排索引源于实际应用中需要根据属性的值来查找记录。这种索引表中的每一项都包括一个属性值和具有该属性值的各记录的地址。由于不是由记录来确定属性值，而是由属性值来确定记录的位置，因而称为倒排索引(inverted index)。带有倒排索引的文件我们称为倒排索引文件，简称倒排文件(inverted file)。 二、es的安装 需要电脑有jdk环境
1.下载安装包并解压
下载地址：下载 Elastic 产品 | Elastic/
解压后，进入 bin 文件目录，点击 elasticsearch.bat 文件启动 ES 服务 。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bchobby.github.io/posts/899b2c6e6f476c9fe4bb786388ce4d46/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-05-07T18:21:04+08:00" />
<meta property="article:modified_time" content="2023-05-07T18:21:04+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程爱好者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程爱好者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Elasticsearch搜索引擎</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <blockquote> 
 <p>The Elastic Stack, 包括 Elasticsearch【搜索，分析】、 Kibana【可视化】、 Beats 和 Logstash【数据的搜集】（也称为 ELK Stack）。能够安全可靠地获取任何来源、任何格式的数据，然后实时地对数据进行搜索、分析和可视化。</p> 
 <p>Elaticsearch，简称为 ES， ES 是一个<strong>开源的高扩展的分布式全文搜索引擎</strong>， 是整个 ElasticStack 技术栈的核心。</p> 
 <p>它可以近乎实时的存储、检索数据；本身扩展性很好，可以扩展到上百台服务器，处理 PB 级别的数据。</p> 
</blockquote> 
<p></p> 
<div> 
 <h4 id="%E6%96%87%E7%AB%A0%E7%9B%AE%E5%BD%95">文章目录</h4> 
</div> 
<p id="main-toc"><strong>目录</strong></p> 
<p id="%E6%96%87%E7%AB%A0%E7%9B%AE%E5%BD%95-toc" style="margin-left:80px;"><a href="#%E6%96%87%E7%AB%A0%E7%9B%AE%E5%BD%95" rel="nofollow">文章目录</a></p> 
<p id="%E5%89%8D%E8%A8%80-toc" style="margin-left:0px;"><a href="#%E5%89%8D%E8%A8%80" rel="nofollow">前言</a></p> 
<p id="%E4%B8%80%E3%80%81%E5%80%92%E6%8E%92%E7%B4%A2%E5%BC%95-toc" style="margin-left:0px;"><a href="#%E4%B8%80%E3%80%81%E5%80%92%E6%8E%92%E7%B4%A2%E5%BC%95" rel="nofollow">一、倒排索引</a></p> 
<p id="%E4%BA%8C%E3%80%81es%E7%9A%84%E5%AE%89%E8%A3%85%C2%A0-toc" style="margin-left:0px;"><a href="#%E4%BA%8C%E3%80%81es%E7%9A%84%E5%AE%89%E8%A3%85%C2%A0" rel="nofollow">二、es的安装 </a></p> 
<p id="%E4%B8%89%E3%80%81ES%E4%B8%AD%E5%B8%B8%E8%A7%81%E7%9A%84%E6%A6%82%E5%BF%B5-toc" style="margin-left:0px;"><a href="#%E4%B8%89%E3%80%81ES%E4%B8%AD%E5%B8%B8%E8%A7%81%E7%9A%84%E6%A6%82%E5%BF%B5" rel="nofollow">三、ES中常见的概念</a></p> 
<p id="%E5%9B%9B%E3%80%81ES%E5%B8%B8%E7%94%A8API%E6%8E%A5%E5%8F%A3-toc" style="margin-left:0px;"><a href="#%E5%9B%9B%E3%80%81ES%E5%B8%B8%E7%94%A8API%E6%8E%A5%E5%8F%A3" rel="nofollow">四、ES常用API接口</a></p> 
<p id="4.1%E6%9F%A5%E8%AF%A2%E5%8C%B9%E9%85%8D-toc" style="margin-left:40px;"><a href="#4.1%E6%9F%A5%E8%AF%A2%E5%8C%B9%E9%85%8D" rel="nofollow">4.1查询匹配</a></p> 
<p id="%C2%A04.2%E5%A4%9A%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2-toc" style="margin-left:40px;"><a href="#%C2%A04.2%E5%A4%9A%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2" rel="nofollow"> 4.2多条件查询</a></p> 
<p id="4.3%E5%8C%B9%E9%85%8D%E6%95%B0%E7%BB%84-toc" style="margin-left:40px;"><a href="#4.3%E5%8C%B9%E9%85%8D%E6%95%B0%E7%BB%84" rel="nofollow">4.3匹配数组</a></p> 
<p id="4.4%E7%B2%BE%E7%A1%AE%E5%8C%B9%E9%85%8D%C2%A0%C2%A0-toc" style="margin-left:40px;"><a href="#4.4%E7%B2%BE%E7%A1%AE%E5%8C%B9%E9%85%8D%C2%A0%C2%A0" rel="nofollow">4.4精确匹配  </a></p> 
<p id="%E4%BA%94%E3%80%81ik%E5%88%86%E8%AF%8D%E5%99%A8%C2%A0-toc" style="margin-left:0px;"><a href="#%E4%BA%94%E3%80%81ik%E5%88%86%E8%AF%8D%E5%99%A8%C2%A0" rel="nofollow">五、ik分词器 </a></p> 
<p id="%E5%85%AD%E3%80%81spring%20boot%E6%95%B4%E5%90%88es%C2%A0-toc" style="margin-left:0px;"><a href="#%E5%85%AD%E3%80%81spring%20boot%E6%95%B4%E5%90%88es%C2%A0" rel="nofollow">六、spring boot整合es </a></p> 
<p id="-toc" style="margin-left:0px;"></p> 
<p id="-toc" style="margin-left:40px;"></p> 
<p id="%E6%80%BB%E7%BB%93-toc" style="margin-left:0px;"><a href="#%E6%80%BB%E7%BB%93" rel="nofollow">总结</a></p> 
<hr id="hr-toc"> 
<p></p> 
<hr> 
<h2 id="%E5%89%8D%E8%A8%80"><a id="_7"></a>前言</h2> 
<p>使用场景</p> 
<p>国外：</p> 
<ul><li> <p>维基百科，类似百度百科，“网络七层协议”的维基百科，全文检索，高亮，搜索推荐</p> </li><li> <p>Stack Overflow（国外的程序讨论论坛），相当于程序员的贴吧。遇到it问题去上面发帖，热心网友下面回帖解答。</p> </li><li> <p>GitHub（开源代码管理），搜索上千亿行代码。</p> </li><li> <p>电商网站，检索商品</p> </li><li> <p>日志数据分析，logstash采集日志，ES进行复杂的数据分析（ELK技术，elasticsearch+logstash+kibana）</p> </li><li> <p>商品价格监控网站，用户设定某商品的价格阈值，当低于该阈值的时候，发送通知消息给用户，比如说订阅《java编程思想》的监控，如果价格低于27块钱，就通知我，我就去买。</p> </li><li> <p>BI系统，商业智能（Business Intelligence）。大型连锁超市，分析全国网点传回的数据，分析各个商品在什么季节的销售量最好、利润最高。成本管理，店面租金、员工工资、负债等信息进行分析。从而部署下一个阶段的战略目标。</p> </li></ul> 
<p>国内：</p> 
<ul><li> <p>百度搜索，第一次查询，使用es。</p> </li><li> <p>OA、ERP系统站内搜索。</p> </li></ul> 
<hr> 
<p></p> 
<h2 id="%E4%B8%80%E3%80%81%E5%80%92%E6%8E%92%E7%B4%A2%E5%BC%95"><a id="pandas_16"></a>一、倒排索引</h2> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/2e/3f/wYeY32sv_o.jpg"></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/08/ad/z95HneNU_o.jpg"></p> 
<blockquote> 
 <p>倒排索引源于实际应用中需要根据属性的值来查找记录。这种索引表中的每一项都包括一个属性值和具有该属性值的各记录的地址。由于不是由记录来确定属性值，而是由属性值来确定记录的位置，因而称为倒排索引(inverted index)。带有倒排索引的文件我们称为倒排<a href="https://baike.baidu.com/item/%E7%B4%A2%E5%BC%95%E6%96%87%E4%BB%B6" rel="nofollow" title="索引文件">索引文件</a>，简称<a href="https://baike.baidu.com/item/%E5%80%92%E6%8E%92%E6%96%87%E4%BB%B6/4137688" rel="nofollow" title="倒排文件">倒排文件</a>(inverted file)。  </p> 
</blockquote> 
<h2 id="%E4%BA%8C%E3%80%81es%E7%9A%84%E5%AE%89%E8%A3%85%C2%A0">二、es的安装 </h2> 
<blockquote> 
 <p>需要电脑有jdk环境</p> 
</blockquote> 
<p>1.下载安装包并解压</p> 
<p>下载地址：<a href="https://www.elastic.co/cn/downloads" rel="nofollow" title="下载 Elastic 产品 | Elastic">下载 Elastic 产品 | Elastic</a>/</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/a7/99/oypfk9zM_o.jpg"></p> 
<p>解压后，进入 bin 文件目录，点击 elasticsearch.bat 文件启动 ES 服务 。</p> 
<p>注意： 9300 端口为 Elasticsearch 集群间组件的通信端口， 9200 端口为浏览器访问的 http协议 RESTful 端口。</p> 
<p>打开浏览器，输入地址： <a href="http://localhost:9200" rel="nofollow" title="http://localhost:9200">http://localhost:9200</a>，测试返回结果</p> 
<p> 2.kibana是es数据的前端展现，数据分析时，可以方便地看到数据。</p> 
<p>历史版本下载：<a href="https://www.elastic.co/cn/downloads/past-releases" rel="nofollow" title="Past Releases of Elastic Stack Software | Elastic">Past Releases of Elastic Stack Software | Elastic</a>/</p> 
<blockquote> 
 <p>1、下载，解压kibana。</p> 
 <p>2、启动Kibana：bin\kibana.bat</p> 
 <p>3、浏览器访问 <a href="http://localhost:5601" rel="nofollow" title="http://localhost:5601">http://localhost:5601</a> 进入Dev Tools界面。像plsql一样支持代码提示。</p> 
 <p>4、发送get请求，查看集群状态GET _cluster/health。相当于浏览器访问。</p> 
</blockquote> 
<h2 id="%E4%B8%89%E3%80%81ES%E4%B8%AD%E5%B8%B8%E8%A7%81%E7%9A%84%E6%A6%82%E5%BF%B5">三、ES中常见的概念</h2> 
<p>集群</p> 
<p>集群这一概念已经遍及天下了，在Elasticsearch中也不例外，可以将多台Elasticsearch节点组成集群使用，可以在任意一台节点上进行搜索。</p> 
<p>节点</p> 
<p>节点是一台Elasticsearch服务器，可以存储、查询、创建索引，也可以与其它节点一共组成一个集群。</p> 
<p>索引---数据库</p> 
<p>索引是具有某种相似特性的文档集合，熟悉mysql的应该不会对于这个名词陌生，Elasticsearch使用的是倒排索引。</p> 
<p>文档---一条记录</p> 
<p>一个文档是一个可以被索引的基础信息单元。</p> 
<p>分片</p> 
<p>单个索引包含数据太大的话，将会降低索引速度。为此，Elasticsearch提供了将索引细分成多个片段的能力，就是分片。</p> 
<p>副本</p> 
<p>副本是ElasticSearch索引分片的备份，主要应对与节点故障时保存数据的可用性。副本与它的原始分片不会在同一个节点上，以此来保存单节点故障时的高可用。</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/69/22/Xr43Iwsd_o.jpg"></p> 
<p></p> 
<p></p> 
<p>注意: ES6.0以后Type这个概念模糊了，7.0以后不在使用Type. 默认索引的type都是_doc</p> 
<blockquote> 
 <ol><li> <p>索引----数据库</p> </li><li> <p>类型---表</p> </li><li> <p>文档---一条记录</p> </li><li> <p>字段---列</p> </li></ol> 
</blockquote> 
<p>Elasticsearch 是<strong>面向文档型数据库</strong>，一条数据在这里就是一个文档。 为了方便大家理解，我们将 Elasticsearch 里存储文档数据和关系型数据库 MySQL 存储数据的概念进行一个类比</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/8f/85/gtlf6Tq1_o.jpg"></p> 
<p></p> 
<p></p> 
<p>ES 里的 Index 可以看做一个库，而 Types 相当于表， Documents 则相当于表的行。这里 Types 的概念已经被逐渐弱化， Elasticsearch 6.X 中，一个 index 下已经<strong>只能包含一个type</strong>， Elasticsearch 7.X 中, Type 的概念<strong>已经被删除了。</strong></p> 
<p></p> 
<h2 id="%E5%9B%9B%E3%80%81ES%E5%B8%B8%E7%94%A8API%E6%8E%A5%E5%8F%A3">四、ES常用API接口</h2> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/d0/ff/dc7L3k07_o.jpg"></p> 
<pre><code class="language-bash">#查询所有
GET /qy158-index/_search
{
  "query": {
    "match_all": {
      
    }
  }
}
#创建索引
PUT /myindex
{
  "mappings": {
    "properties": {
      "id":{"type": "integer"},
      "name":{"type": "text"},
      "age":{"type": "integer"}
    }
  }
}
#获取索引的结构
GET /qy158-index
#查询kibana里面所有的索引
GET /_cat/indices?v
#删除索引
DELETE /myindex
#添加文档
PUT /myindex/_doc/4
{
  "name":"likeyou",
  "age":11
}
#根据id查询文档
GET  /qy158-index/_doc/6

#修改文档内容
POST /myindex/_doc/1/_update
{
  "doc":{
    "name":"修改为张三"
  }
}

#删除1号文档文档
DELETE  /qy158-index/_doc/1
#传递参数查询
GET /myindex/_search?q=name:修

#模糊查询 term精度匹配
GET /qy158-index/_search
{
  "query": {
    "match": {
      "name": "张"
    }
  }
}
#范围匹配
GET /myindex/_search
{
  "query": {
    "range": {
      "age": {
        "gte":16
      }
    }
  }
}
#排序
GET /myindex/_search
{
   "query": {
    "match": {
      "name": "老"
    }
  },
  "_source": ["name","age"],
  "sort": [
    {
      "age": {
        "order": "desc"
      }
    }
  ]
}
#分页查询
GET /myindex/_search
{
  "query": {
    "match": {
      "name": "老"
    }
  },
  "from": 1,
  "size": 1
}
#多条件查询
GET /myindex/_search
{
  "query": {
    "bool": {
      "must": [
        {
          "match": {
            "name": "老"
          }
        },
        {
          "match": {
            "age": 11
          }
        }
      ]
    }
  }
}
#自定义高亮的前缀和后缀
GET /myindex/_search
{
  "query": {
    "match": {
      "name": "老"
    }
  },
  "highlight": {
    "pre_tags": "&lt;font color:'red'&gt;",
    "post_tags": "&lt;/font&gt;",
     "fields": {
        "name": {}
    }
  }
}


GET _search
{
  "query": {
    "match_all": {}
  }
}</code></pre> 
<h3 id="4.1%E6%9F%A5%E8%AF%A2%E5%8C%B9%E9%85%8D">4.1查询匹配</h3> 
<ul><li> <p><code>match</code>：匹配（会使用分词器解析（先分析文档，然后进行查询））</p> </li><li> <p><code>_source</code>：过滤字段</p> </li><li> <p><code>sort</code>：排序</p> </li><li> <p><code>form</code>、<code>size</code> 分页</p> </li></ul> 
<blockquote> 
 <p>  // 查询匹配<br>   GET /blog/user/_search<br>   {<!-- --><br>     "query":{<!-- --><br>       "match":{<!-- --><br>         "name":"流"<br>       }<br>     }<br>     ,<br>     "_source": ["name","desc"]<br>     ,<br>     "sort": [<br>       {<!-- --><br>         "age": {<!-- --><br>           "order": "asc"<br>         }<br>       }<br>     ]<br>     ,<br>     "from": 0<br>     ,<br>     "size": 1<br>   } </p> 
</blockquote> 
<h3 id="%C2%A04.2%E5%A4%9A%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2"> 4.2多条件查询</h3> 
<ul><li> <p><code>must</code> 相当于 <code>and</code></p> </li><li> <p><code>should</code> 相当于 <code>or</code></p> </li><li> <p><code>must_not</code> 相当于 <code>not (... and ...)</code></p> </li><li> <p><code>filter</code> 过滤</p> </li></ul> 
<blockquote> 
 <p>/// bool 多条件查询<br> must &lt;==&gt; and<br> should &lt;==&gt; or<br> must_not &lt;==&gt; not (... and ...)<br> filter数据过滤<br> boost<br> minimum_should_match<br> GET /blog/user/_search<br> {<!-- --><br>   "query":{<!-- --><br>     "bool": {<!-- --><br>       "must": [<br>         {<!-- --><br>           "match":{<!-- --><br>             "age":3<br>           }<br>         },<br>         {<!-- --><br>           "match": {<!-- --><br>             "name": "流"<br>           }<br>         }<br>       ],<br>       "filter": {<!-- --><br>         "range": {<!-- --><br>           "age": {<!-- --><br>             "gte": 1,<br>             "lte": 3<br>           }<br>         }<br>       }<br>     }<br>   }<br> }</p> 
</blockquote> 
<h3 id="4.3%E5%8C%B9%E9%85%8D%E6%95%B0%E7%BB%84">4.3匹配数组</h3> 
<ul><li> <p>貌似不能与其它字段一起使用</p> </li><li> <p>可以多关键字查（空格隔开）— 匹配字段也是符合的</p> </li><li> <p><code>match</code> 会使用分词器解析（先分析文档，然后进行查询）</p> </li><li> <p>搜词</p> </li></ul> 
<p></p> 
<blockquote> 
 <p>// 匹配数组 貌似不能与其它字段一起使用<br> // 可以多关键字查（空格隔开）<br> // match 会使用分词器解析（先分析文档，然后进行查询）<br> GET /blog/user/_search<br> {<!-- --><br>   "query":{<!-- --><br>     "match":{<!-- --><br>       "desc":"年龄 牛 大"<br>     }<br>   }<br> }</p> 
</blockquote> 
<h3 id="4.4%E7%B2%BE%E7%A1%AE%E5%8C%B9%E9%85%8D%C2%A0%C2%A0"><br> 4.4精确匹配  </h3> 
<ul><li> <p><code>term</code> 直接通过 倒排索引 指定<strong>词条</strong>查询</p> </li><li> <p>适合查询 number、date、keyword ，不适合text</p> </li></ul> 
<blockquote> 
 <p>// 精确查询（必须全部都有，而且不可分，即按一个完整的词查询）<br> // term 直接通过 倒排索引 指定的词条 进行精确查找的<br> GET /blog/user/_search<br> {<!-- --><br>   "query":{<!-- --><br>     "term":{<!-- --><br>       "desc":"年 "<br>     }<br>   }<br> } </p> 
</blockquote> 
<h2 id="%E4%BA%94%E3%80%81ik%E5%88%86%E8%AF%8D%E5%99%A8%C2%A0">五、ik分词器 </h2> 
<p>下载地址：<a href="https://github.com/medcl/elasticsearch-analysis-ik/releases" title="Releases · medcl/elasticsearch-analysis-ik · GitHub">Releases · medcl/elasticsearch-analysis-ik · GitHub</a></p> 
<p>注意下载对应版本和es</p> 
<p>需要解压到ElasticSearch的plugins目录ik文件夹下</p> 
<p>重新启动es 就能加载插件了</p> 
<blockquote> 
 <p>text和keyword</p> 
 <ul><li> <p>text：</p> 
   <ul><li> <p><strong>支持分词</strong>，<strong>全文检索</strong>、支持模糊、精确查询,不支持聚合,排序操作;</p> </li><li> <p>text类型的最大支持的字符长度无限制,适合大字段存储；</p> </li></ul></li><li> <p>keyword：</p> 
   <ul><li> <p><strong>不进行分词</strong>，<strong>直接索引</strong>、支持模糊、支持精确匹配，支持聚合、排序操作。</p> </li><li> <p>keyword类型的最大支持的长度为——32766个UTF-8类型的字符,可以通过设置ignore_above指定自持字符长度，超过给定长度后的数据将不被索引，<strong>无法通过term精确匹配检索返回结果</strong>。</p> </li></ul></li></ul> 
</blockquote> 
<p></p> 
<pre><code class="language-bash">// 测试keyword和text是否支持分词
// 设置索引类型
PUT /test
{
  "mappings": {
    "properties": {
      "text":{
        "type":"text"
      },
      "keyword":{
        "type":"keyword"
      }
    }
  }
}
// 设置字段数据
PUT /test/_doc/1
{
  "text":"测试keyword和text是否支持分词",
  "keyword":"测试keyword和text是否支持分词"
}
// text 支持分词
// keyword 不支持分词
GET /test/_doc/_search
{
  "query":{
   "match":{
      "text":"测试"
   }
  }
}// 查的到
GET /test/_doc/_search
{
  "query":{
   "match":{
      "keyword":"测试"
   }
  }
}// 查不到，必须是 "测试keyword和text是否支持分词" 才能查到
GET _analyze
{
  "analyzer": "keyword",
  "text": ["测试liu"]
}// 不会分词，即 测试liu
GET _analyze
{
  "analyzer": "standard",
  "text": ["测试liu"]
}// 分为 测 试 liu</code></pre> 
<p>高亮查询</p> 
<pre><code class="language-bash">/// 高亮查询
GET blog/user/_search
{
  "query": {
    "match": {
      "name":"流"
    }
  }
  ,
  "highlight": {
    "fields": {
      "name": {}
    }
  }
}
// 自定义前缀和后缀
GET blog/user/_search
{
  "query": {
    "match": {
      "name":"流"
    }
  }
  ,
  "highlight": {
    "pre_tags": "&lt;p class='key' style='color:red'&gt;",
    "post_tags": "&lt;/p&gt;", 
    "fields": {
      "name": {}
    }
  }
}</code></pre> 
<h2 id="%E5%85%AD%E3%80%81spring%20boot%E6%95%B4%E5%90%88es%C2%A0">六、spring boot整合es </h2> 
<blockquote> 
 <p>&lt;dependency&gt;<br>     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;<br>     &lt;artifactId&gt;spring-boot-starter-data-elasticsearch&lt;/artifactId&gt;<br> &lt;/dependency&gt;</p> 
 <p>&lt;dependency&gt;<br>     &lt;groupId&gt;com.alibaba&lt;/groupId&gt;<br>     &lt;artifactId&gt;fastjson&lt;/artifactId&gt;<br>     &lt;version&gt;1.2.70&lt;/version&gt;<br> &lt;/dependency&gt;<br> &lt;!-- lombok需要安装插件 --&gt;<br> &lt;dependency&gt;<br>     &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;<br>     &lt;artifactId&gt;lombok&lt;/artifactId&gt;<br>     &lt;optional&gt;true&lt;/optional&gt;<br> &lt;/dependency&gt;</p> 
</blockquote> 
<p>创建配置类</p> 
<pre><code class="language-java">@Configuration
public class ElaticsearchConfig {

    @Bean
    public RestHighLevelClient restHighLevelClient(){
        RestHighLevelClient client = new RestHighLevelClient(
                RestClient.builder(new HttpHost("127.0.0.1",9200,"http")));

        return client;
    }
}</code></pre> 
<p>测试</p> 
<pre><code class="language-java">package com.rcg;


import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONObject;
import com.rcg.entity.User;
import org.elasticsearch.action.DocWriteResponse;
import org.elasticsearch.action.admin.indices.delete.DeleteIndexRequest;
import org.elasticsearch.action.bulk.BulkRequest;
import org.elasticsearch.action.bulk.BulkResponse;
import org.elasticsearch.action.delete.DeleteRequest;
import org.elasticsearch.action.delete.DeleteResponse;
import org.elasticsearch.action.get.GetRequest;
import org.elasticsearch.action.get.GetResponse;
import org.elasticsearch.action.index.IndexRequest;
import org.elasticsearch.action.index.IndexResponse;
import org.elasticsearch.action.search.SearchRequest;
import org.elasticsearch.action.search.SearchResponse;
import org.elasticsearch.action.support.master.AcknowledgedResponse;
import org.elasticsearch.action.update.UpdateRequest;
import org.elasticsearch.action.update.UpdateResponse;
import org.elasticsearch.client.IndicesClient;
import org.elasticsearch.client.RequestOptions;
import org.elasticsearch.client.RestHighLevelClient;
import org.elasticsearch.client.indices.CreateIndexRequest;
import org.elasticsearch.client.indices.CreateIndexResponse;
import org.elasticsearch.client.indices.GetIndexRequest;
import org.elasticsearch.index.query.MatchQueryBuilder;
import org.elasticsearch.index.query.QueryBuilder;
import org.elasticsearch.index.query.QueryBuilders;
import org.elasticsearch.search.SearchHit;
import org.elasticsearch.search.SearchHits;
import org.elasticsearch.search.builder.SearchSourceBuilder;
import org.elasticsearch.search.fetch.subphase.highlight.HighlightBuilder;
import org.elasticsearch.search.fetch.subphase.highlight.HighlightField;
import org.elasticsearch.search.sort.SortOrder;
import org.elasticsearch.xcontent.XContentType;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;

import java.io.IOException;
import java.util.ArrayList;
import java.util.List;
import java.util.Map;

@SpringBootTest
class SpringbootEsApplicationTests {


    @Autowired
    private RestHighLevelClient restHighLevelClient;

    @Test
    void contextLoads() {
    }

    //判断索引是否存在
    @Test
    public void test01() throws IOException {
        //获取es连接
        IndicesClient indices = restHighLevelClient.indices();
        //索引的名字
        GetIndexRequest myindex = new GetIndexRequest("myindex");
        //判断
        boolean exists = indices.exists(myindex, RequestOptions.DEFAULT);
        System.out.println("是否存在："+exists);
        //关闭连接资源
        restHighLevelClient.close();
    }

    //创建索引
    @Test
    public void test02() throws IOException {
        //获取索引操作的类对象
        IndicesClient indices = restHighLevelClient.indices();
        //获取创建索引的请求对象 封装了关于索引的信息
        CreateIndexRequest createIndexRequest = new CreateIndexRequest("qy158-jd");
        //操作
        CreateIndexResponse createIndexResponse = indices.create(createIndexRequest, RequestOptions.DEFAULT);
        System.out.println("是否创建成功" + createIndexResponse.isAcknowledged());
        //关闭连接资源
        restHighLevelClient.close();
    }


    //删除索引
    @Test
    public void test03() throws IOException {
        IndicesClient indices = restHighLevelClient.indices();
        DeleteIndexRequest myindex = new DeleteIndexRequest("myindex");
        AcknowledgedResponse delete = indices.delete(myindex, RequestOptions.DEFAULT);
        System.out.println("delete = " + delete.isAcknowledged());
        //关闭连接资源
        restHighLevelClient.close();
    }


    //添加文档
    @Test
    public void test04() throws IOException {
        IndexRequest indexRequest = new IndexRequest("qy158-index");
        //自定义id
        indexRequest.id("1");
        //指定字段
        User user = new User("张老三",16,"南京");
        indexRequest.source(JSON.toJSONString(user), XContentType.JSON);
        IndexResponse index = restHighLevelClient.index(indexRequest, RequestOptions.DEFAULT);
        DocWriteResponse.Result result = index.getResult();
        System.out.println("result = " + result);
        //关闭连接资源
        restHighLevelClient.close();
    }


    @Test
    public void test05() throws IOException {
        GetRequest getRequest = new GetRequest("qy158-index", "6");
        GetResponse getResponse = restHighLevelClient.get(getRequest, RequestOptions.DEFAULT);

        Map&lt;String, Object&gt; sourceAsMap = getResponse.getSourceAsMap();
        System.out.println("sourceAsMap = " + sourceAsMap);
        String s = getResponse.getSourceAsString();
        System.out.println("s = " + s);
        //字符串转对象
        JSONObject jsonObject = new JSONObject(JSON.parseObject(s));
        User user = jsonObject.toJavaObject(jsonObject, User.class);
        System.out.println("user = " + user);
        //关闭连接资源
        restHighLevelClient.close();
    }


    //删除文档
    @Test
    public void test06() throws IOException {
        DeleteRequest deleteRequest = new DeleteRequest("qy158-index", "1");
        DeleteResponse delete = restHighLevelClient.delete(deleteRequest, RequestOptions.DEFAULT);
        System.out.println("delete = " + delete.getResult());
        //关闭连接资源
        restHighLevelClient.close();
    }

    //修改文档
    @Test
    public void test07() throws IOException {
        UpdateRequest updateRequest = new UpdateRequest("qy158-index", "1");
        User user = new User("李四",18,"东京");
        //更新的内容字段
        updateRequest.doc(JSON.toJSONString(user),XContentType.JSON);
        //操作
        UpdateResponse update = restHighLevelClient.update(updateRequest, RequestOptions.DEFAULT);
        System.out.println("update = " + update.getResult());
        //关闭连接资源
        restHighLevelClient.close();
    }


    //批量添加
    @Test
    public void test08() throws IOException {
        BulkRequest bulkRequest = new BulkRequest("qy158-index");
        List&lt;User&gt; list=new ArrayList&lt;&gt;();
        list.add(new User("刘德华",12, "香港"));
        list.add(new User("张学友",16, "北京"));
        list.add(new User("黎明", 28,"郑州"));
        list.add(new User("郭富城", 36,"上海"));

        for (int i = 0; i &lt; list.size(); i++) {
            IndexRequest indexRequest = new IndexRequest();
            indexRequest.id(String.valueOf(i+2));
            indexRequest.source(JSON.toJSONString(list.get(i)),XContentType.JSON);
            bulkRequest.add(indexRequest);
        }
        BulkResponse bulk = restHighLevelClient.bulk(bulkRequest,RequestOptions.DEFAULT);
        //关闭连接资源
        restHighLevelClient.close();
    }

    //高级搜索
    @Test
    public void test09() throws IOException {
        //搜索的请求对象
        SearchRequest searchRequest = new SearchRequest("qy158-index");
        //构建一个条件类对象
        SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();

        //match多条件匹配条件
        MatchQueryBuilder matchQueryBuilder = QueryBuilders.matchQuery("name", "张");


        //加入各种条件

        //加入多条件匹配
        searchSourceBuilder.query(matchQueryBuilder);
        //加入排序
        searchSourceBuilder.sort("age", SortOrder.DESC);
        //加入分页
        searchSourceBuilder.from(0);
        searchSourceBuilder.size(2);
        //加入高亮
        HighlightBuilder highlightBuilder=new HighlightBuilder();
        highlightBuilder.field("name");
        highlightBuilder.preTags("&lt;font color='red'&gt;");
        highlightBuilder.postTags("&lt;/font&gt;");
        searchSourceBuilder.highlighter(highlightBuilder);


        //把条件对象封装到请求里
        searchRequest.source(searchSourceBuilder);

        SearchResponse searchResponse = restHighLevelClient.search(searchRequest, RequestOptions.DEFAULT);
        //获取相响应信息
        SearchHits hits = searchResponse.getHits();
        //解析结果
        SearchHit[] hits1= hits.getHits();
        for(SearchHit hit:hits1){
            //得到旧的字段
            Map&lt;String, Object&gt; sourceAsMap = hit.getSourceAsMap();
            //得到高亮的字段
            Map&lt;String, HighlightField&gt; highlightFields = hit.getHighlightFields();
            //把旧的字段覆盖 只显示高亮的
            sourceAsMap.put("name",highlightFields.get("name").getFragments()[0]);

            System.out.println(sourceAsMap);
        }

        //关闭连接资源
        restHighLevelClient.close();
    }

}
</code></pre> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<h2><a id="_19"></a></h2> 
<h3><a id="2_34"></a><code class="language-c"> </code></h3> 
<hr> 
<h2 id="%E6%80%BB%E7%BB%93"><a id="_45"></a>总结</h2> 
<p>待补充</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/709d3c70e441ed74f28ac772202948ed/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">在Echarts的barChart中，xAxis的axisLabel中，interval参数如何解释？</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ceb30c0759bbd033bfe8fbc6835ac130/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">获取spring窗口中的注入的类</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程爱好者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151260"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>