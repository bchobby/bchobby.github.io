<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>基于springboot农产品交易商城源码和论文（管理员 商家 用户三种角色 - 编程爱好者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="基于springboot农产品交易商城源码和论文（管理员 商家 用户三种角色" />
<meta property="og:description" content="摘 要
伴随着互联网技术的进步，各种电商平台也如雨后 春笋不断涌现。一个好的电商平台应该具有用户体验度高，用户信息安全等特点, 从而可以满足更多的用户需求。现有的电商平台虽然在不断完善，但仍然存在着 不少问题。本设计是一个基于SSM框架开发的农产品商城项目，在较好地实现传 统电商平台的基础上又有创新和改善之处，比如分层搭建的设计思想，md5加密 算法的改进以及设计更为友好的操作界面等，以更好地服务大众。
本农产品商城网站以IDEA&#43;mysql为开发环境，JSP&#43;CSS&#43;JavaScript为页面编辑语言，springboot&#43;mybatis为后台编辑语言来设计开发,开发一个农产品商城正是为了企业独立开发的目的。J2EE体系的农产品商城 具备很高的安全性和稳定性，以及更加出色的可扩展性和跨平台特点。在国外 J2EE 已经成为开发电子商务平台的主流技术，本文研发的农产品商城系统使消费者进行购物时，不但农产品推荐更为符合消费者的消 费习惯，且农产品的质量安全以及用户个人信息能够得到有效保障，提升了消费者的购物体验，本系统主要设计用户选购，加入购物车，下单等功能，当然对应的有一个后台系统管理，主要是对前端即用户端的一个数据的支持管理，只有管理员角色才可以登陆。
本文基于springboot mybatis框架完整的实现了一个农产品商城系统，可以为用户提供购买农产品、等多个功能。从测试结果来看，系统完整实现了所需功能，而且具有一定的 稳定性和可靠性，并能够为用户提供良好的用户体验。总之，本系统基本符合客户的 需求，并达到了预期的目标。
【586】基于springboot农产品交易商城源码和论文（管理员 商家 用户三种角色
关键词：农产品商城 idea mysql springboot
Abstract With the progress of Internet technology, various e-commerce platforms have sprung up. A good e-commerce platform should have the characteristics of high user experience and user information security, so as to meet more user needs. Although the existing e-commerce platform is constantly improving, there are still many problems." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bchobby.github.io/posts/9775f6fa5f62db8a2704e6280d8d97be/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-28T17:53:55+08:00" />
<meta property="article:modified_time" content="2023-12-28T17:53:55+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程爱好者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程爱好者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">基于springboot农产品交易商城源码和论文（管理员 商家 用户三种角色</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p></p> 
<p style="margin-left:.0001pt;text-align:center;"><strong><span style="color:#000000;"><strong>摘  要</strong></span></strong></p> 
<p style="margin-left:.0001pt;text-align:justify;">伴随着互联网技术的进步，各种电商平台也如雨后 春笋不断涌现。一个好的电商平台应该具有用户体验度高，用户信息安全等特点, 从而可以满足更多的用户需求。现有的电商平台虽然在不断完善，但仍然存在着 不少问题。本设计是一个基于SSM框架开发的农产品商城项目，在较好地实现传 统电商平台的基础上又有创新和改善之处，比如分层搭建的设计思想，md5加密 算法的改进以及设计更为友好的操作界面等，以更好地服务大众。</p> 
<p style="margin-left:.0001pt;text-align:justify;">本农产品商城网站以<span style="color:#000000;">IDEA</span><span style="color:#000000;">+mysql</span>为开发环境，<span style="color:#000000;">JSP+CSS+JavaScript为页面编辑语言</span>，<span style="color:#000000;">springboot+mybatis为后台编辑语言</span>来设计开发,<span style="color:#000000;">开发一个</span><span style="color:#000000;">农产品商城</span><span style="color:#000000;">正是为了企业独立开发的目的。</span><span style="color:#000000;">J2EE</span><span style="color:#000000;">体系的</span><span style="color:#000000;">农产品商城</span><span style="color:#000000;"> 具备很高的安全性和稳定性，以及更加出色的可扩展性和跨平台特点。在国外 </span><span style="color:#000000;">J2EE </span><span style="color:#000000;">已经成为开发电子商务平台的主流技术</span><span style="color:#000000;">，</span><span style="color:#000000;">本文研发的</span><span style="color:#000000;">农产品商城</span><span style="color:#000000;">系统使消费者进行购物时，不但</span><span style="color:#000000;">农产品</span><span style="color:#000000;">推荐更为符合消费者的消 费习惯，且</span><span style="color:#000000;">农产品</span><span style="color:#000000;">的质量安全以及用户个人信息能够得到有效保障，提升了消费者的购物体验</span><span style="color:#000000;">，</span><span style="color:#000000;">本系统</span>主要设计用户选购，加入购物车，下单等功能，当然对应的有一个后台系统管理，主要是对前端即用户端的一个数据的支持管理，只有管理员角色才可以登陆。</p> 
<p style="margin-left:.0001pt;text-align:justify;">本文基于springboot mybatis框架完整的实现了一个农产品商城系统，可以为用户提供购买农产品、等多个功能。从测试结果来看，系统完整实现了所需功能，而且具有一定的 稳定性和可靠性，并能够为用户提供良好的用户体验。总之，本系统基本符合客户的 需求，并达到了预期的目标。</p> 
<p style="margin-left:.0001pt;text-align:justify;">【586】基于springboot农产品交易商城源码和论文（管理员  商家 用户三种角色</p> 
<p style="margin-left:.0001pt;text-align:justify;">关键词：<strong><strong>农产品商城  idea  mysql  springboot</strong></strong></p> 
<h2 style="text-align:center;"><span style="color:#000000;"><strong><span style="color:#000000;"><strong>Abstract</strong></span></strong></span></h2> 
<p style="margin-left:.0001pt;text-align:justify;">With the progress of Internet technology, various e-commerce platforms have sprung up. A good e-commerce platform should have the characteristics of high user experience and user information security, so as to meet more user needs. Although the existing e-commerce platform is constantly improving, there are still many problems. This design is an e-mall project developed based on SSM framework. On the basis of better realizing the traditional e-commerce platform, there are also innovations and improvements, such as the design idea of layered construction, the improvement of MD5 encryption algorithm and the design of a more friendly operation interface, so as to better serve the public.</p> 
<p style="margin-left:.0001pt;text-align:justify;">This online mall website is designed and developed with idea + MySQL as the development environment, JSP + CSS + JavaScript as the page editing language and springboot + mybatis as the background editing language. Developing an electronic mall is just for the purpose of independent development of enterprises. The e-mall based on J2EE system has high security and stability, as well as better scalability and cross platform characteristics. In foreign countries, J2EE has become the mainstream technology for developing e-commerce platform. The online mall system developed in this paper not only makes consumers' commodity recommendation more in line with consumers' consumption habits, but also effectively ensures the quality and safety of commodities and users' personal information, and improves consumers' shopping experience. This system is mainly designed for users to purchase, Add shopping cart, order and other functions. Of course, there is a background system management corresponding to it, which mainly supports and manages the data of the front end, that is, the user end. Only the administrator role can log in。</p> 
<p style="margin-left:.0001pt;text-align:justify;">Based on the framework of springboot mybatis, this paper completely implements an online mall system, which can provide users with many functions, such as purchasing goods and so on. From the test results, the system has completely realized the required functions, has certain stability and reliability, and can provide users with a good user experience. In short, the system basically meets the needs of customers and achieves the expected goal。</p> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><strong>Key words</strong></strong>:  shop Idea  mysql  springboot</p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="968" src="https://images2.imgbox.com/d4/86/d1LZMr4h_o.jpg" width="1200"><img alt="" height="968" src="https://images2.imgbox.com/e8/e2/vQmM32KF_o.jpg" width="1200"><img alt="" height="968" src="https://images2.imgbox.com/fb/fd/mWIhiE7P_o.jpg" width="1200"><img alt="" height="968" src="https://images2.imgbox.com/8d/84/JIncVgxX_o.jpg" width="1200"><img alt="" height="968" src="https://images2.imgbox.com/bb/53/ZPjiJIoA_o.jpg" width="1200"><img alt="" height="968" src="https://images2.imgbox.com/92/e0/VPdTWGd6_o.jpg" width="1200"><img alt="" height="968" src="https://images2.imgbox.com/6c/d6/eGuH651D_o.jpg" width="1200"><img alt="" height="968" src="https://images2.imgbox.com/0f/a8/kvWacKTL_o.jpg" width="1200"><img alt="" height="968" src="https://images2.imgbox.com/03/f7/bC1mYB1E_o.jpg" width="1200"><img alt="" height="968" src="https://images2.imgbox.com/6e/b4/hGDvBvAJ_o.jpg" width="1200"><img alt="" height="968" src="https://images2.imgbox.com/2a/d6/vnCSvf7p_o.jpg" width="1200"><img alt="" height="968" src="https://images2.imgbox.com/20/01/ovhWyOdQ_o.jpg" width="1200"><img alt="" height="968" src="https://images2.imgbox.com/47/cf/uVqyEuRO_o.jpg" width="1200"><img alt="" height="968" src="https://images2.imgbox.com/c7/ae/HvGDGzd8_o.jpg" width="1200"><img alt="" height="968" src="https://images2.imgbox.com/07/75/UonVE5fY_o.jpg" width="1200"><img alt="" height="968" src="https://images2.imgbox.com/d9/49/JlPFyfQO_o.jpg" width="1200"><img alt="" height="968" src="https://images2.imgbox.com/69/3a/Ecqzt4k2_o.jpg" width="1200"><img alt="" height="968" src="https://images2.imgbox.com/a5/e4/h58rFR42_o.jpg" width="1200"><img alt="" height="968" src="https://images2.imgbox.com/bd/e3/MDfJGOah_o.jpg" width="1200"><img alt="" height="968" src="https://images2.imgbox.com/fa/0b/E73AqMB2_o.jpg" width="1200"><img alt="" height="968" src="https://images2.imgbox.com/cb/cc/5N2Gqhod_o.jpg" width="1200"><img alt="" height="968" src="https://images2.imgbox.com/36/90/WzHrcUyJ_o.jpg" width="1200"><img alt="" height="968" src="https://images2.imgbox.com/b0/5e/zIUQSJnB_o.jpg" width="1200"><img alt="" height="968" src="https://images2.imgbox.com/34/f4/AtOh4b4M_o.jpg" width="1200"><img alt="" height="968" src="https://images2.imgbox.com/14/31/65HUALHN_o.jpg" width="1200"><img alt="" height="968" src="https://images2.imgbox.com/53/30/Y4QmaOal_o.jpg" width="1200"><img alt="" height="968" src="https://images2.imgbox.com/3c/86/33o8DpZd_o.jpg" width="1200"><img alt="" height="968" src="https://images2.imgbox.com/da/fa/AtcMB3hI_o.jpg" width="1200"><img alt="" height="968" src="https://images2.imgbox.com/3c/26/Kr1jDPwY_o.jpg" width="1200"><img alt="" height="968" src="https://images2.imgbox.com/4b/aa/8L5egEiF_o.jpg" width="1200"><img alt="" height="968" src="https://images2.imgbox.com/a9/89/KMew4fUD_o.jpg" width="1200"><img alt="" height="968" src="https://images2.imgbox.com/0f/f4/N9dIPb3r_o.jpg" width="1200"><img alt="" height="968" src="https://images2.imgbox.com/40/b0/msSKNj5p_o.jpg" width="1200"><img alt="" height="968" src="https://images2.imgbox.com/7c/bd/gv0OUBBP_o.jpg" width="1200"><img alt="" height="968" src="https://images2.imgbox.com/a6/98/i3Tr1Ozc_o.jpg" width="1200"><img alt="" height="968" src="https://images2.imgbox.com/db/79/gUClX4Zi_o.jpg" width="1200"><img alt="" height="968" src="https://images2.imgbox.com/95/cd/IVhZ3l1r_o.jpg" width="1200"><img alt="" height="968" src="https://images2.imgbox.com/9e/53/3213TD9X_o.jpg" width="1200"><img alt="" height="968" src="https://images2.imgbox.com/a9/e7/40VchhKb_o.jpg" width="1200"><img alt="" height="968" src="https://images2.imgbox.com/20/7e/miqDPiae_o.jpg" width="1200"><img alt="" height="968" src="https://images2.imgbox.com/ee/ee/TGWLN2Le_o.jpg" width="1200"><img alt="" height="968" src="https://images2.imgbox.com/45/4b/lWGd2wu9_o.jpg" width="1200"><img alt="" height="968" src="https://images2.imgbox.com/b6/cc/O1v9Mrsu_o.jpg" width="1200"><img alt="" height="968" src="https://images2.imgbox.com/8e/7a/LvnHKp80_o.jpg" width="1200"><img alt="" height="968" src="https://images2.imgbox.com/9f/5d/0W3qraXc_o.jpg" width="1200"></p> 
<pre><code>package com.shop.controller.admin;


import com.github.pagehelper.PageHelper;
import com.github.pagehelper.PageInfo;
import com.shop.entity.*;
import com.shop.entity.*;
import com.shop.service.GoodsService;
import com.shop.service.OrderService;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;

import javax.servlet.http.HttpSession;
import java.util.ArrayList;
import java.util.List;

@Controller
@RequestMapping("/admin/order")
public class AdminOrderController {

    @Autowired
    private OrderService orderService;

    @Autowired
    private GoodsService goodsService;

    @RequestMapping("/send")
    public String sendOrder(@RequestParam(value = "page",defaultValue = "1")Integer pn, Model model, HttpSession session) {
        User user = (User) session.getAttribute("user");

        //一页显示几个数据
        PageHelper.startPage(pn, 10);

        //查询未发货订单
        OrderExample orderExample = new OrderExample();
        orderExample.or().andIssendEqualTo(false);


        List&lt;Order&gt;  orderArrayList= orderService.selectOrderByExample(orderExample);


        List&lt;Order&gt; orderList = new ArrayList&lt;&gt;();
        for (Order order:orderArrayList) {
            if(order.getShangjiaId()==user.getUserid()){
                orderList.add(order);
            }
        }
        model.addAttribute("sendOrder", orderList);


        model.addAttribute("sendOrder", orderList);

        //查询该订单中的商品
        for (int i = 0; i &lt; orderList.size(); i++) {
            //获取订单项中的goodsid
            Order order = orderList.get(i);
            OrderItemExample orderItemExample = new OrderItemExample();
            orderItemExample.or().andOrderidEqualTo(order.getOrderid());
            List&lt;OrderItem&gt; orderItemList = orderService.getOrderItemByExample(orderItemExample);
            List&lt;Integer&gt; goodsIdList = new ArrayList&lt;&gt;();

            List&lt;Goods&gt; goodsList = new ArrayList&lt;&gt;();
            for (OrderItem orderItem : orderItemList) {
//                goodsIdList.add(orderItem.getGoodsid());
                Goods goods = goodsService.selectById(orderItem.getGoodsid());
                goods.setNum(orderItem.getNum());
                goodsList.add(goods);
            }

            //根据goodsid查询商品
            /*GoodsExample goodsExample = new GoodsExample();
            goodsExample.or().andGoodsidIn(goodsIdList);
            List&lt;Goods&gt; goodsList = goodsService.selectByExample(goodsExample);*/
            order.setGoodsInfo(goodsList);

            //查询地址
            Address address = orderService.getAddressByKey(order.getAddressid());
            order.setAddress(address);

            orderList.set(i, order);
        }

        //显示几个页号
        PageInfo page = new PageInfo(orderList,5);
        model.addAttribute("pageInfo", page);

        return "adminAllOrder";
    }

    @RequestMapping("/sendGoods")
    public String sendGoods(Integer orderid, HttpSession session) {

        Order order = new Order();
        order.setOrderid(orderid);
        order.setIssend(true);
        orderService.updateOrderByKey(order);
        return "redirect:/admin/order/send";
    }

    @RequestMapping("/receiver")
    public String receiveOrder(@RequestParam(value = "page",defaultValue = "1")Integer pn, Model model, HttpSession session) {


        User user = (User) session.getAttribute("user");

        //一页显示几个数据
        PageHelper.startPage(pn, 2);

        //查询未收货订单
        OrderExample orderExample = new OrderExample();
        orderExample.or().andIssendEqualTo(true).andIsreceiveEqualTo(false);
        List&lt;Order&gt;  orderArrayList= orderService.selectOrderByExample(orderExample);


        List&lt;Order&gt; orderList = new ArrayList&lt;&gt;();
        for (Order order:orderArrayList) {
            if(order.getShangjiaId()==user.getUserid()){
                orderList.add(order);
            }
        }
        model.addAttribute("sendOrder", orderList);

        //查询该订单中的商品
        for (int i = 0; i &lt; orderList.size(); i++) {
            //获取订单项中的goodsid
            Order order = orderList.get(i);
            OrderItemExample orderItemExample = new OrderItemExample();
            orderItemExample.or().andOrderidEqualTo(order.getOrderid());
            List&lt;OrderItem&gt; orderItemList = orderService.getOrderItemByExample(orderItemExample);
            List&lt;Integer&gt; goodsIdList = new ArrayList&lt;&gt;();
            /*for (OrderItem orderItem : orderItemList) {
                goodsIdList.add(orderItem.getGoodsid());
            }
*/
            List&lt;Goods&gt; goodsList = new ArrayList&lt;&gt;();
            for (OrderItem orderItem : orderItemList) {
//                goodsIdList.add(orderItem.getGoodsid());
                Goods goods = goodsService.selectById(orderItem.getGoodsid());
                goods.setNum(orderItem.getNum());
                goodsList.add(goods);
            }
            //根据goodsid查询商品
           /* GoodsExample goodsExample = new GoodsExample();
            goodsExample.or().andGoodsidIn(goodsIdList);
            List&lt;Goods&gt; goodsList = goodsService.selectByExample(goodsExample);*/
            order.setGoodsInfo(goodsList);

            //查询地址
            Address address = orderService.getAddressByKey(order.getAddressid());
            order.setAddress(address);
            orderList.set(i, order);
        }

        //显示几个页号
        PageInfo page = new PageInfo(orderList,5);
        model.addAttribute("pageInfo", page);

        return "adminOrderReceive";
    }

    @RequestMapping("/complete")
    public String completeOrder(@RequestParam(value = "page", defaultValue = "1") Integer pn, Model model, HttpSession session) {
        User user = (User) session.getAttribute("user");
        PageHelper.startPage(pn, 2);
        //查询已完成订单
        OrderExample orderExample = new OrderExample();
        orderExample.or().andIssendEqualTo(true).andIsreceiveEqualTo(true).andIscompleteEqualTo(true);
        List&lt;Order&gt;  orderArrayList= orderService.selectOrderByExample(orderExample);


        List&lt;Order&gt; orderList = new ArrayList&lt;&gt;();
        for (Order order:orderArrayList) {
            if(order.getShangjiaId()==user.getUserid()){
                orderList.add(order);
            }
        }
        model.addAttribute("sendOrder", orderList);
        model.addAttribute("sendOrder", orderList);

        //查询该订单中的商品
        for (int i = 0; i &lt; orderList.size(); i++) {
            //获取订单项中的goodsid
            Order order = orderList.get(i);
            OrderItemExample orderItemExample = new OrderItemExample();
            orderItemExample.or().andOrderidEqualTo(order.getOrderid());
            List&lt;OrderItem&gt; orderItemList = orderService.getOrderItemByExample(orderItemExample);
            List&lt;Integer&gt; goodsIdList = new ArrayList&lt;&gt;();
            /*for (OrderItem orderItem : orderItemList) {
                goodsIdList.add(orderItem.getGoodsid());
            }*/

            List&lt;Goods&gt; goodsList = new ArrayList&lt;&gt;();
            for (OrderItem orderItem : orderItemList) {
//                goodsIdList.add(orderItem.getGoodsid());
                Goods goods = goodsService.selectById(orderItem.getGoodsid());
                goods.setNum(orderItem.getNum());
                goodsList.add(goods);
            }

            //根据goodsid查询商品
            /*GoodsExample goodsExample = new GoodsExample();
            goodsExample.or().andGoodsidIn(goodsIdList);
            List&lt;Goods&gt; goodsList = goodsService.selectByExample(goodsExample);*/
            order.setGoodsInfo(goodsList);

            //查询地址
            Address address = orderService.getAddressByKey(order.getAddressid());
            order.setAddress(address);
            orderList.set(i, order);
        }

        //显示几个页号
        PageInfo page = new PageInfo(orderList, 5);
        model.addAttribute("pageInfo", page);
        return "adminOrderComplete";
    }
}
</code></pre> 
<p></p> 
<pre><code>package com.shop.controller.admin;

import com.github.pagehelper.PageHelper;
import com.github.pagehelper.PageInfo;

import com.shop.entity.*;
import com.shop.entity.*;
import com.shop.service.CateService;
import com.shop.service.GoodsService;
import com.shop.util.Msg;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.*;
import org.springframework.web.multipart.MultipartFile;
import org.springframework.web.servlet.mvc.support.RedirectAttributes;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;
import java.io.File;
import java.io.IOException;
import java.util.ArrayList;
import java.util.Date;
import java.util.List;
import java.util.UUID;


@Controller
@RequestMapping("/admin/goods")
public class GoodsController {

    @Autowired
    private GoodsService goodsService;

    @RequestMapping("/showjson")
    @ResponseBody
    public Msg getAllGoods(@RequestParam(value = "page", defaultValue = "1") Integer pn, HttpServletResponse response, Model model, HttpSession session) {
        Admin admin = (Admin) session.getAttribute("admin");
        if (admin == null) {
            return Msg.fail("请先登录");
        }
        //一页显示几个数据
        PageHelper.startPage(pn, 10);

        List&lt;Goods&gt; employees = goodsService.selectByExample(new GoodsExample());
        for(Goods good:employees){
            System.out.println(good);
        }
        //显示几个页号
        PageInfo page = new PageInfo(employees, 5);

        model.addAttribute("pageInfo", page);

        return Msg.success("查询成功!").add("pageInfo", page);
    }

    @RequestMapping("/show")
    public String goodsManage(@RequestParam(value = "page", defaultValue = "1") Integer pn, HttpServletResponse response, Model model, HttpSession session) throws IOException {
        Admin admin = (Admin) session.getAttribute("admin");
        if (admin == null) {
            return "redirect:/admin/login";
        }

        List&lt;Category&gt; categoryList = cateService.selectByExample(new CategoryExample());
        model.addAttribute("categoryList", categoryList);
        return "adminAllGoods";
    }




    @RequestMapping("/add")
    public String showAdd(@ModelAttribute("succeseMsg") String msg, Model model, HttpSession session) {

        if (!msg.equals("")) {
            model.addAttribute("msg", msg);
        }

        List&lt;Category&gt; categoryList = cateService.selectByExample(new CategoryExample());
        model.addAttribute("categoryList", categoryList);


        //还需要查询分类传给addGoods页面
        return "addGoods";
    }

    @RequestMapping(value = "/update", method = RequestMethod.POST)
    @ResponseBody
    public Msg updateGoods(Goods goods, HttpSession session) {
        /* goods.setGoodsid(goodsid);*/
        goodsService.updateGoodsById(goods);
        return Msg.success("更新成功!");
    }

    @RequestMapping(value = "/delete/{goodsid}", method = RequestMethod.DELETE)
    @ResponseBody
    public Msg deleteGoods(@PathVariable("goodsid") Integer goodsid) {
        goodsService.deleteGoodsById(goodsid);
        return Msg.success("删除成功!");
    }

    @RequestMapping("/addGoodsSuccess")
    public String addGoods(Goods goods,
                           @RequestParam MultipartFile fileToUpload,
                           HttpServletRequest request,
                           HttpServletResponse response,
                           RedirectAttributes redirectAttributes) throws IOException {
        /*goods.setCategory(1);*/

        HttpSession session = request.getSession();
        User user = (User) session.getAttribute("user");

        goods.setUptime(new Date());
        goods.setActivityid(1);
        goods.setUserId(user.getUserid());
        //上传图片
        String name = UUID.randomUUID().toString();
        String newFileName = name + ".jpg";
        File newFile = new File(request.getServletContext().getRealPath("/image"), newFileName);
        newFile.getParentFile().mkdirs();
        goodsService.addGoods(goods);
        try {
            fileToUpload.transferTo(newFile);
            goodsService.addImagePath(new ImagePath(null, goods.getGoodsid(), "image/"+newFileName));
        } catch (Exception e) {
            e.printStackTrace();
            goodsService.deleteGoodsById( goods.getGoodsid());
            redirectAttributes.addFlashAttribute("succeseMsg", "添加失败，图片大小不能超过1M!");
            return "redirect:/admin/goods/add";
        }

        redirectAttributes.addFlashAttribute("succeseMsg", "商品添加成功!");
        return "redirect:/admin/goods/add";
    }

    @RequestMapping("/addCategory")
    public String addcategory(@ModelAttribute("succeseMsg") String msg, Model model, HttpSession session) {
        Admin admin = (Admin) session.getAttribute("admin");
        if (admin == null) {
            return "redirect:/admin/login";
        }
        CategoryExample categoryExample = new CategoryExample();
        categoryExample.or();
        List&lt;Category&gt; categoryList;
        categoryList = cateService.selectByExample(categoryExample);
        model.addAttribute("categoryList", categoryList);
        if (!msg.equals("")) {
            model.addAttribute("msg", msg);
        }
        return "addCategory";
    }

    @Autowired
    private CateService cateService;
    @RequestMapping("/addCategoryResult")
    public String addCategoryResult(Category category, Model addCategoryResult, RedirectAttributes redirectAttributes) {
        List&lt;Category&gt; categoryList = new ArrayList&lt;&gt;();
        CategoryExample categoryExample = new CategoryExample();
        categoryExample.or().andCatenameEqualTo(category.getCatename());
        categoryList = cateService.selectByExample(categoryExample);
        if (!categoryList.isEmpty()) {
            redirectAttributes.addAttribute("succeseMsg", "分类已存在");
            return "redirect:/admin/goods/addCategory";
        } else {
            cateService.insertSelective(category);
            redirectAttributes.addFlashAttribute("succeseMsg", "分类添加成功!");
            return "redirect:/admin/goods/addCategory";
        }
    }

    @RequestMapping("/saveCate")
    @ResponseBody
    public Msg saveCate(Category category) {
        CategoryExample categoryExample = new CategoryExample();
        categoryExample.or().andCatenameEqualTo(category.getCatename());
        List&lt;Category&gt; categoryList = cateService.selectByExample(categoryExample);
        if (categoryList.isEmpty()) {
            cateService.updateByPrimaryKeySelective(category);
            return Msg.success("更新成功");
        } else return Msg.success("名字已经存在");
    }

    @RequestMapping("/deleteCate")
    @ResponseBody
    public Msg deleteCate(Category category) {
        cateService.deleteByPrimaryKey(category.getCateid());
        return Msg.success("删除成功");
    }




    @RequestMapping("/shangjiashowjson")
    @ResponseBody
    public Msg shangjiashowjson(@RequestParam(value = "page", defaultValue = "1") Integer pn, HttpServletResponse response, Model model, HttpSession session) {

        User user = (User) session.getAttribute("user");
        //一页显示几个数据
        PageHelper.startPage(pn, 10);
        GoodsExample goodsExample = new GoodsExample();
       GoodsExample.Criteria criteria=  goodsExample.createCriteria();

       List&lt;Goods&gt; employees = goodsService.selectByExample(goodsExample);
        List&lt;Goods&gt; goodsList = new ArrayList&lt;&gt;();
        for (Goods goods:employees) {
            if(user.getUserid()==goods.getUserId()){
                goodsList.add(goods);
            }
        }
        //显示几个页号
        PageInfo page = new PageInfo(goodsList, 5);

        model.addAttribute("pageInfo", page);

        return Msg.success("查询成功!").add("pageInfo", page);
    }

    @RequestMapping("/shangjiashow")
    public String shangjiashow(@RequestParam(value = "page", defaultValue = "1") Integer pn, HttpServletResponse response, Model model, HttpSession session) throws IOException {

        List&lt;Category&gt; categoryList = cateService.selectByExample(new CategoryExample());
        model.addAttribute("categoryList", categoryList);
        return "shangjiaGoods";
    }


}
</code></pre> 
<p></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f6a5c52c76b3dd5dee51a77db7c1c6b3/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">sheng的学习笔记-卷积神经网络</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/93289ecee970e30e4d827a6494f99fc0/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">linux ext3/ext4文件系统（part1格式化）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程爱好者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151260"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>