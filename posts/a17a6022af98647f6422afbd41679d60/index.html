<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【路径规划】基于matlab粒子群算法栅格地图最短路径规划【含Matlab源码 018期】 - 编程爱好者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【路径规划】基于matlab粒子群算法栅格地图最短路径规划【含Matlab源码 018期】" />
<meta property="og:description" content="✅博主简介：热爱科研的Matlab仿真开发者，修心和技术同步精进，Matlab项目合作可私信。
🍎个人主页：海神之光
🏆代码获取方式：
海神之光Matlab王者学习之路—代码获取方式
⛳️座右铭：行百里者，半于九十。
更多Matlab仿真内容点击👇
Matlab图像处理（进阶版）
路径规划（Matlab）
神经网络预测与分类（Matlab）
优化求解（Matlab）
语音处理（Matlab）
信号处理（Matlab）
车间调度（Matlab）
⛄一、粒子群算法及栅格地图简介 1 粒子群算法
1.1 引言
自然界中的鸟群和鱼群的群体行为一直是科学家的研究兴趣所在。生物学家Craig Reynolds在1987年提出了一个非常有影响的鸟群聚集模型，在他的仿真中，每一个个体都遵循：避免与邻域个体相撞：匹配邻域个体的速度；飞向鸟群中心，且整个群体飞向目标。仿真中仅利用上面三条简单的规则，就可以非常接近地模拟出鸟群飞行的现象。1990年， 生物学家Frank Heppner也提出了鸟类模型， 它的不同之处在于：鸟类被吸引飞到栖息地。在仿真中，一开始每一只鸟都没有特定的飞行目标，只是使用简单的规则确定自己的飞行方向和飞行速度，当有一只鸟飞到栖息地时，它周围的鸟也会跟着飞向栖息地，最终整个鸟群都会落在栖息地。
1995年， 美国社会心理学家James Kennedy和电气工程师RussellEberhart共同提出了粒子群算法(ParticleS warm Optimization， PSO) ， 该算法的提出是受对鸟类群体行为进行建模与仿真的研究结果的启发。他们的模型和仿真算法主要对Frank Heppner的模型进行了修正，以使粒子飞向解空间并在最优解处降落。粒子群算法一经提出，由于其算法简单，容易实现，立刻引起了进化计算领域学者们的广泛关注， 形成一个研究热点。2001年出版的J.Kennedy与R.Eberhart合著的《群体智能》将群体智能的影响进一步扩大[] ， 随后关于粒子群优化算法的研究报告和研究成果大量涌现，继而掀起了国内外研究热潮[2-7]。
粒子群优化算法来源于鸟类群体活动的规律性，进而利用群体智能建立一个简化的模型。它模拟鸟类的觅食行为，将求解问题的搜索空间比作鸟类的飞行空间，将每只鸟抽象成一个没有质量和体积的粒
子，用它来表征问题的一个可能解，将寻找问题最优解的过程看成鸟类寻找食物的过程，进而求解复杂的优化问题。粒子群优化算法与其他进化算法一样，也是基于“种群”和“进化”的概念，通过个体间
的协作与竞争，实现复杂空间最优解的搜索。同时，它又不像其他进化算法那样对个体进行交叉、变异、选择等进化算子操作，而是将群体中的个体看作在l维搜索空间中没有质量和体积的粒子，每个粒子以一定的速度在解空间运动， 并向自身历史最佳位置P best和邻域历史最佳位置g best聚集， 实现对候选解的进化。粒子群算法具有很好的生物社会背景而易于理解，由于参数少而容易实现，对非线性、多峰问题均具有较强的全局搜索能力，在科学研究与工程实践中得到了广泛关注。目前，该算法已广泛应用于函数优化、神经网络训练、模式分类、模糊控制等领域。
1.2 粒子群算法理论
1.2.1粒子群算法描述
鸟类在捕食过程中，鸟群成员可以通过个体之间的信息交流与共享获得其他成员的发现与飞行经历。在食物源零星分布并且不可预测的条件下，这种协作机制所带来的优势是决定性的，远远大于对食物
的竞争所引起的劣势。粒子群算法受鸟类捕食行为的启发并对这种行为进行模仿，将优化问题的搜索空间类比于鸟类的飞行空间，将每只鸟抽象为一个粒子，粒子无质量、无体积，用以表征问题的一个可行解，优化问题所要搜索到的最优解则等同于鸟类寻找的食物源。粒子群算法为每个粒子制定了与鸟类运动类似的简单行为规则，使整个粒子群的运动表现出与鸟类捕食相似的特性，从而可以求解复杂的优化问题。
粒子群算法的信息共享机制可以解释为一种共生合作的行为，即每个粒子都在不停地进行搜索，并且其搜索行为在不同程度上受到群体中其他个体的影响[8]，同时这些粒子还具备对所经历最佳位置的记
忆能力，即其搜索行为在受其他个体影响的同时还受到自身经验的引导。基于独特的搜索机制，粒子群算法首先生成初始种群，即在可行解空间和速度空间随机初始化粒子的速度与位置，其中粒子的位置用于表征问题的可行解，然后通过种群间粒子个体的合作与竞争来求解优化问题。
1.2.2粒子群算法建模
粒子群优化算法源自对鸟群捕食行为的研究：一群鸟在区域中随机搜索食物，所有鸟知道自己当前位置离食物多远，那么搜索的最简单有效的策略就是搜寻目前离食物最近的鸟的周围区域。粒子群算法
利用这种模型得到启示并应用于解决优化问题。在粒子群算法中，每个优化问题的潜在解都是搜索空间中的一只鸟，称之为粒子。所有的粒子都有一个由被优化的函数决定的适应度值，每个粒子还有一个速度决定它们飞翔的方向和距离。然后，粒子们就追随当前的最优粒子在解空间中搜索[9]。
粒子群算法首先在给定的解空间中随机初始化粒子群，待优化问题的变量数决定了解空间的维数。每个粒子有了初始位置与初始速度，然后通过迭代寻优。在每一次迭代中，每个粒子通过跟踪两个“极值”来更新自己在解空间中的空间位置与飞行速度：一个极值就是单个粒子本身在迭代过程中找到的最优解粒子，这个粒子叫作个体极值：另一个极值是种群所有粒子在迭代过程中所找到的最优解粒子，这个粒子是全局极值。上述的方法叫作全局粒子群算法。如果不用种群所有粒子而只用其中一部分作为该粒子的邻居粒子，那么在所有邻居粒子中的极值就是局部极值，该方法称为局部粒子群算法。
1.2.3粒子群算法的特点
粒子群算法本质是一种随机搜索算法，它是一种新兴的智能优化技术。该算法能以较大概率收敛于全局最优解。实践证明，它适合在动态、多目标优化环境中寻优，与传统优化算法相比，具有较快的计
算速度和更好的全局搜索能力。
(1)粒子群算法是基于群智能理论的优化算法，通过群体中粒子间的合作与竞争产生的群体智能指导优化搜索。与其他算法相比，粒子群算法是一种高效的并行搜索算法。
(2)粒子群算法与遗传算法都是随机初始化种群，使用适应值来评价个体的优劣程度和进行一定的随机搜索。但粒子群算法根据自己的速度来决定搜索，没有遗传算法的交叉与变异。与进化算法相比，粒子群算法保留了基于种群的全局搜索策略，但是其采用的速度-位移模型操作简单，避免了复杂的遗传操作。
(3)由于每个粒子在算法结束时仍保持其个体极值，即粒子群算法除了可以找到问题的最优解外，还会得到若干较好的次优解，因此将粒子群算法用于调度和决策问题可以给出多种有意义的方案。
(4)粒子群算法特有的记忆使其可以动态地跟踪当前搜索情况并调整其搜索策略。另外，粒子群算法对种群的大小不敏感，即使种群数目下降时，性能下降也不是很大。
1.3 粒子群算法种类
1.3.1基本粒子群算法
1.3.2标准粒子群算法
引入研究粒子群算法经常用到的两个概念：一是“探索”，指粒子在一定程度上离开原先的搜索轨迹，向新的方向进行搜索，体现了一种向未知区域开拓的能力，类似于全局搜索；二是“开发”，指粒子在一定程度上继续在原先的搜索轨迹上进行更细一步的搜索，主要指对探索过程中所搜索到的区域进行更进一步的搜索。探索是偏离原来的寻优轨迹去寻找一个更好的解，探索能力是一个算法的全局搜索能力。开发是利用一个好的解，继续原来的寻优轨迹去搜索更好的解，它是算法的局部搜索能力。如何确定局部搜索能力和全局搜索能力的比例， 对一个问题的求解过程很重要。1998年， Shi Yuhui等人提出了带有惯性权重的改进粒子群算法[10]，由于该算法能够保证较好的收敛效果，所以被默认为标准粒子群算法。其进化过程为：
在式(6.7)中，第一部分表示粒子先前的速度，用于保证算法的全局收敛性能；第二部分、第三部分则使算法具有局部收敛能力。可以看出，式(6.7)中惯性权重w表示在多大程度上保留原来的速度：W" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bchobby.github.io/posts/a17a6022af98647f6422afbd41679d60/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-10-28T12:31:08+08:00" />
<meta property="article:modified_time" content="2023-10-28T12:31:08+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程爱好者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程爱好者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【路径规划】基于matlab粒子群算法栅格地图最短路径规划【含Matlab源码 018期】</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>✅博主简介：热爱科研的Matlab仿真开发者，修心和技术同步精进，Matlab项目合作可私信。<br> 🍎个人主页：<a href="https://blog.csdn.net/TIQCmatlab?type=blog">海神之光</a><br> 🏆代码获取方式：<br> <a href="https://qq912100926.blog.csdn.net/article/details/122140668" rel="nofollow">海神之光Matlab王者学习之路—代码获取方式</a><br> ⛳️座右铭：行百里者，半于九十。</p> 
<p>更多Matlab仿真内容点击👇<br> <a href="https://blog.csdn.net/tiqcmatlab/category_11834500.html?spm=1001.2014.3001.5482">Matlab图像处理（进阶版）</a><br> <a href="https://blog.csdn.net/tiqcmatlab/category_11834501.html">路径规划（Matlab）</a><br> <a href="https://blog.csdn.net/tiqcmatlab/category_11834502.html">神经网络预测与分类（Matlab）</a><br> <a href="https://blog.csdn.net/tiqcmatlab/category_11834503.html">优化求解（Matlab）</a><br> <a href="https://blog.csdn.net/tiqcmatlab/category_11832341.html">语音处理（Matlab）</a><br> <a href="https://blog.csdn.net/tiqcmatlab/category_11832366.html">信号处理（Matlab）</a><br> <a href="https://blog.csdn.net/tiqcmatlab/category_11834477.html">车间调度（Matlab）</a></p> 
<h3><a id="_15"></a>⛄一、粒子群算法及栅格地图简介</h3> 
<p><strong>1 粒子群算法</strong><br> <strong>1.1 引言</strong><br> 自然界中的鸟群和鱼群的群体行为一直是科学家的研究兴趣所在。生物学家Craig Reynolds在1987年提出了一个非常有影响的鸟群聚集模型，在他的仿真中，每一个个体都遵循：避免与邻域个体相撞：匹配邻域个体的速度；飞向鸟群中心，且整个群体飞向目标。仿真中仅利用上面三条简单的规则，就可以非常接近地模拟出鸟群飞行的现象。1990年， 生物学家Frank Heppner也提出了鸟类模型， 它的不同之处在于：鸟类被吸引飞到栖息地。在仿真中，一开始每一只鸟都没有特定的飞行目标，只是使用简单的规则确定自己的飞行方向和飞行速度，当有一只鸟飞到栖息地时，它周围的鸟也会跟着飞向栖息地，最终整个鸟群都会落在栖息地。<br> 1995年， 美国社会心理学家James Kennedy和电气工程师RussellEberhart共同提出了粒子群算法(ParticleS warm Optimization， PSO) ， 该算法的提出是受对鸟类群体行为进行建模与仿真的研究结果的启发。他们的模型和仿真算法主要对Frank Heppner的模型进行了修正，以使粒子飞向解空间并在最优解处降落。粒子群算法一经提出，由于其算法简单，容易实现，立刻引起了进化计算领域学者们的广泛关注， 形成一个研究热点。2001年出版的J.Kennedy与R.Eberhart合著的《群体智能》将群体智能的影响进一步扩大[] ， 随后关于粒子群优化算法的研究报告和研究成果大量涌现，继而掀起了国内外研究热潮[2-7]。<br> 粒子群优化算法来源于鸟类群体活动的规律性，进而利用群体智能建立一个简化的模型。它模拟鸟类的觅食行为，将求解问题的搜索空间比作鸟类的飞行空间，将每只鸟抽象成一个没有质量和体积的粒<br> 子，用它来表征问题的一个可能解，将寻找问题最优解的过程看成鸟类寻找食物的过程，进而求解复杂的优化问题。粒子群优化算法与其他进化算法一样，也是基于“种群”和“进化”的概念，通过个体间<br> 的协作与竞争，实现复杂空间最优解的搜索。同时，它又不像其他进化算法那样对个体进行交叉、变异、选择等进化算子操作，而是将群体中的个体看作在l维搜索空间中没有质量和体积的粒子，每个粒子以一定的速度在解空间运动， 并向自身历史最佳位置P best和邻域历史最佳位置g best聚集， 实现对候选解的进化。粒子群算法具有很好的生物社会背景而易于理解，由于参数少而容易实现，对非线性、多峰问题均具有较强的全局搜索能力，在科学研究与工程实践中得到了广泛关注。目前，该算法已广泛应用于函数优化、神经网络训练、模式分类、模糊控制等领域。</p> 
<p><strong>1.2 粒子群算法理论</strong><br> <strong>1.2.1粒子群算法描述</strong><br> 鸟类在捕食过程中，鸟群成员可以通过个体之间的信息交流与共享获得其他成员的发现与飞行经历。在食物源零星分布并且不可预测的条件下，这种协作机制所带来的优势是决定性的，远远大于对食物<br> 的竞争所引起的劣势。粒子群算法受鸟类捕食行为的启发并对这种行为进行模仿，将优化问题的搜索空间类比于鸟类的飞行空间，将每只鸟抽象为一个粒子，粒子无质量、无体积，用以表征问题的一个可行解，优化问题所要搜索到的最优解则等同于鸟类寻找的食物源。粒子群算法为每个粒子制定了与鸟类运动类似的简单行为规则，使整个粒子群的运动表现出与鸟类捕食相似的特性，从而可以求解复杂的优化问题。<br> 粒子群算法的信息共享机制可以解释为一种共生合作的行为，即每个粒子都在不停地进行搜索，并且其搜索行为在不同程度上受到群体中其他个体的影响[8]，同时这些粒子还具备对所经历最佳位置的记<br> 忆能力，即其搜索行为在受其他个体影响的同时还受到自身经验的引导。基于独特的搜索机制，粒子群算法首先生成初始种群，即在可行解空间和速度空间随机初始化粒子的速度与位置，其中粒子的位置用于表征问题的可行解，然后通过种群间粒子个体的合作与竞争来求解优化问题。<br> <strong>1.2.2粒子群算法建模</strong><br> 粒子群优化算法源自对鸟群捕食行为的研究：一群鸟在区域中随机搜索食物，所有鸟知道自己当前位置离食物多远，那么搜索的最简单有效的策略就是搜寻目前离食物最近的鸟的周围区域。粒子群算法<br> 利用这种模型得到启示并应用于解决优化问题。在粒子群算法中，每个优化问题的潜在解都是搜索空间中的一只鸟，称之为粒子。所有的粒子都有一个由被优化的函数决定的适应度值，每个粒子还有一个速度决定它们飞翔的方向和距离。然后，粒子们就追随当前的最优粒子在解空间中搜索[9]。</p> 
<p>粒子群算法首先在给定的解空间中随机初始化粒子群，待优化问题的变量数决定了解空间的维数。每个粒子有了初始位置与初始速度，然后通过迭代寻优。在每一次迭代中，每个粒子通过跟踪两个“极值”来更新自己在解空间中的空间位置与飞行速度：一个极值就是单个粒子本身在迭代过程中找到的最优解粒子，这个粒子叫作个体极值：另一个极值是种群所有粒子在迭代过程中所找到的最优解粒子，这个粒子是全局极值。上述的方法叫作全局粒子群算法。如果不用种群所有粒子而只用其中一部分作为该粒子的邻居粒子，那么在所有邻居粒子中的极值就是局部极值，该方法称为局部粒子群算法。</p> 
<p><strong>1.2.3粒子群算法的特点</strong><br> 粒子群算法本质是一种随机搜索算法，它是一种新兴的智能优化技术。该算法能以较大概率收敛于全局最优解。实践证明，它适合在动态、多目标优化环境中寻优，与传统优化算法相比，具有较快的计<br> 算速度和更好的全局搜索能力。<br> (1)粒子群算法是基于群智能理论的优化算法，通过群体中粒子间的合作与竞争产生的群体智能指导优化搜索。与其他算法相比，粒子群算法是一种高效的并行搜索算法。<br> (2)粒子群算法与遗传算法都是随机初始化种群，使用适应值来评价个体的优劣程度和进行一定的随机搜索。但粒子群算法根据自己的速度来决定搜索，没有遗传算法的交叉与变异。与进化算法相比，粒子群算法保留了基于种群的全局搜索策略，但是其采用的速度-位移模型操作简单，避免了复杂的遗传操作。<br> (3)由于每个粒子在算法结束时仍保持其个体极值，即粒子群算法除了可以找到问题的最优解外，还会得到若干较好的次优解，因此将粒子群算法用于调度和决策问题可以给出多种有意义的方案。<br> (4)粒子群算法特有的记忆使其可以动态地跟踪当前搜索情况并调整其搜索策略。另外，粒子群算法对种群的大小不敏感，即使种群数目下降时，性能下降也不是很大。</p> 
<p><strong>1.3 粒子群算法种类</strong><br> <strong>1.3.1基本粒子群算法</strong><br> <img src="https://images2.imgbox.com/72/09/FJKMAVpj_o.png" alt="在这里插入图片描述"><br> <strong>1.3.2标准粒子群算法</strong><br> 引入研究粒子群算法经常用到的两个概念：一是“探索”，指粒子在一定程度上离开原先的搜索轨迹，向新的方向进行搜索，体现了一种向未知区域开拓的能力，类似于全局搜索；二是“开发”，指粒子在一定程度上继续在原先的搜索轨迹上进行更细一步的搜索，主要指对探索过程中所搜索到的区域进行更进一步的搜索。探索是偏离原来的寻优轨迹去寻找一个更好的解，探索能力是一个算法的全局搜索能力。开发是利用一个好的解，继续原来的寻优轨迹去搜索更好的解，它是算法的局部搜索能力。如何确定局部搜索能力和全局搜索能力的比例， 对一个问题的求解过程很重要。1998年， Shi Yuhui等人提出了带有惯性权重的改进粒子群算法[10]，由于该算法能够保证较好的收敛效果，所以被默认为标准粒子群算法。其进化过程为：<br> <img src="https://images2.imgbox.com/11/62/Cw3LCJQp_o.png" alt="在这里插入图片描述"><br> 在式(6.7)中，第一部分表示粒子先前的速度，用于保证算法的全局收敛性能；第二部分、第三部分则使算法具有局部收敛能力。可以看出，式(6.7)中惯性权重w表示在多大程度上保留原来的速度：W<br> 较大，则全局收敛能力较强，局部收敛能力较弱；w较小，则局部收敛能力较强，全局收敛能力较弱。<br> 当w=1时，式(6.7)与式(6.5)完全一样，表明带惯性权重的粒子群算法是基本粒子群算法的扩展。实验结果表明：w在0.8~1.2之间时，粒子群算法有更快的收敛速度；而当w&gt;1.2时，算法则容易陷入局部极值。<br> 另外，在搜索过程中可以对w进行动态调整：在算法开始时，可给w赋予较大正值，随着搜索的进行，可以线性地使w逐渐减小，这样可以保证在算法开始时，各粒子能够以较大的速度步长在全局范围内探<br> 测到较好的区域；而在搜索后期，较小的w值则保证粒子能够在极值点周围做精细的搜索，从而使算法有较大的概率向全局最优解位置收敛。对w进行调整，可以权衡全局搜索和局部搜索能力。目前，采用较多的动态惯性权重值是Shi提出的线性递减权值策略， 其表达式如下：<br> <img src="https://images2.imgbox.com/9a/a7/gycPviJR_o.png" alt="在这里插入图片描述"><br> <strong>1.3.3压缩因子粒子群算法</strong><br> Clerc等人提出利用约束因子来控制系统行为的最终收敛[11] ， 该方法可以有效搜索不同的区域，并且能得到高质量的解。压缩因子法的速度更新公式为：<br> <img src="https://images2.imgbox.com/e4/8b/V3c3Dykg_o.png" alt="在这里插入图片描述"><br> 实验结果表明：与使用惯性权重的粒子群优化算法相比，使用具<br> 有约束因子的粒子群算法具有更快的收敛速度。<br> <strong>1.3.4离散粒子群算法</strong><br> 基本的粒子群算法是在连续域中搜索函数极值的有力工具。继基本粒子群算法之后， Kennedy和Eberhart又提出了一种离散二进制版的粒子群算法[12]。在此离散粒子群方法中，将离散问题空间映射到连续粒子运动空间，并适当修改粒子群算法来求解，在计算上仍保留经典粒子群算法速度-位置更新运算规则。粒子在状态空间的取值和变化只限于0和1两个值， 而速度的每一维vi y代表位置每一位xi取值为1的可能性。因此， 在连续粒子群中的vij更新公式依然保持不变， 但是P best和：best只在[0， 1] 内取值。其位置更新等式表示如下：<br> <img src="https://images2.imgbox.com/5f/05/VGdtT4Xi_o.png" alt="在这里插入图片描述"><br> <strong>1.4 粒子群算法流程</strong><br> 粒子群算法基于“种群”和“进化”的概念，通过个体间的协作与竞争，实现复杂空间最优解的搜索[13]，其流程如下：<br> (1)初始化粒子群，包括群体规模N，每个粒子的位置x；和速度Vio<br> (2) 计算每个粒子的适应度值fit[i] 。<br> (3) 对每个粒子， 用它的适应度值fit[门和个体极值P best(i)比较。如果fit[i] &lt;P best(i) ， 则用fit[i] 替换掉P best(i) 。<br> (4) 对每个粒子， 用它的适应度值fit[i] 和全局极值g best比较。如果fit[i] &lt; 8 best， 则用fit[i] 替换g best。<br> (5)迭代更新粒子的速度v；和位置xj。<br> (6)进行边界条件处理。<br> (7)判断算法终止条件是否满足：若是，则结束算法并输出优化结果；否则返回步骤(2)。<br> 粒子群算法的运算流程如图6.1所示。<br> <img src="https://images2.imgbox.com/d8/06/DVfbiNdJ_o.png" alt="在这里插入图片描述"><br> <strong>1.5 关键参数说明</strong><br> 在粒子群优化算法中，控制参数的选择能够影响算法的性能和效率；如何选择合适的控制参数使算法性能最佳，是一个复杂的优化问题。在实际的优化问题中，通常根据使用者的经验来选取控制参数。<br> 粒子群算法的控制参数主要包括：粒子种群规模N，惯性权重w，加速系数c和c， 最大速度Via x， 停止准则， 邻域结构的设定， 边界条件处理策略等[14]，<br> <strong>粒子种群规模N</strong><br> 粒子种群大小的选择视具体问题而定，但是一般设置粒子数为20~50。对于大部分的问题10个粒子，已经可以取得很好的结果：不过对于比较难的问题或者特定类型的问题，粒子的数量可以取到100或<br> 200。另外，粒子数目越大，算法搜索的空间范围就越大，也就更容易发现全局最优解；当然，算法运行的时间也越长。<br> <strong>惯性权重w</strong><br> 惯性权重w是标准粒子群算法中非常重要的控制参数，可以用来控制算法的开发和探索能力。惯性权重的大小表示了对粒子当前速度继承的多少。当惯性权重值较大时，全局寻优能力较强，局部寻优能力<br> 较弱：当惯性权重值较小时，全局寻优能力较弱，局部寻优能力较强。惯性权重的选择通常有固定权重和时变权重。固定权重就是选择常数作为惯性权重值，在进化过程中其值保持不变，一般取值为<br> [0.8，1.2]：时变权重则是设定某一变化区间，在进化过程中按照某种方式逐步减小惯性权重。时变权重的选择包括变化范围和递减率。固定的惯性权重可以使粒子保持相同的探索和开发能力，而时变权重可以使粒子在进化的不同阶段拥有不同的探索和开发能力。<br> <strong>加速常数c1和c2</strong><br> 加速常数c和c 2分别调节向P best和g best方向飞行的最大步长， 它们分别决定粒子个体经验和群体经验对粒子运行轨迹的影响，反映粒子群之间的信息交流。如果cr=c2=0，则粒子将以当前的飞行速度飞到边界。此时，粒子仅能搜索有限的区域，所以难以找到最优解。如果q=0，则为“社会”模型，粒子缺乏认知能力，而只有群体经验，它的收敛速度较快，但容易陷入局部最优；如果oy=0，则为“认知”模<br> 型，没有社会的共享信息，个体之间没有信息的交互，所以找到最优解的概率较小，一个规模为D的群体等价于运行了N个各行其是的粒子。因此一般设置c1=C2，通常可以取c1=cg=1.5。这样，个体经验和群体经验就有了同样重要的影响力，使得最后的最优解更精确。<br> <strong>粒子的最大速度vmax</strong><br> 粒子的速度在空间中的每一维上都有一个最大速度限制值vd max，用来对粒子的速度进行钳制， 使速度控制在范围[-Vimax， +va max] 内，这决定问题空间搜索的力度， 该值一般由用户自己设定。Vmax是一个非常重要的参数，如果该值太大，则粒子们也许会飞过优秀区域：而如果该值太小，则粒子们可能无法对局部最优区域以外的区域进行充分的探测。它们可能会陷入局部最优，而无法移动足够远的距离而跳出局部最优， 达到空间中更佳的位置。研究者指出， 设定Vmax和调整惯性权重的作用是等效的， 所以!max一般用于对种群的初始化进行设定， 即将vmax设定为每维变量的变化范围， 而不再对最大速度进行细致的选择和调节。<br> <strong>停止准则</strong><br> 最大迭代次数、计算精度或最优解的最大停滞步数▲t(或可以接受的满意解)通常认为是停止准则，即算法的终止条件。根据具体的优化问题，停止准则的设定需同时兼顾算法的求解时间、优化质量和<br> 搜索效率等多方面性能。<br> <strong>邻域结构的设定</strong><br> 全局版本的粒子群算法将整个群体作为粒子的邻域，具有收敛速度快的优点，但有时算法会陷入局部最优。局部版本的粒子群算法将位置相近的个体作为粒子的邻域，收敛速度较慢，不易陷入局部最优<br> 值。实际应用中，可先采用全局粒子群算法寻找最优解的方向，即得到大致的结果，然后采用局部粒子群算法在最优点附近进行精细搜索。<br> <strong>边界条件处理</strong><br> 当某一维或若干维的位置或速度超过设定值时，采用边界条件处理策略可将粒子的位置限制在可行搜索空间内，这样能避免种群的膨胀与发散，也能避免粒子大范围地盲目搜索，从而提高了搜索效率。<br> 具体的方法有很多种， 比如通过设置最大位置限制Xmax和最大速度限制Vmax， 当超过最大位置或最大速度时， 在范围内随机产生一个数值代替，或者将其设置为最大值，即边界吸收。</p> 
<p><strong>2 栅格地图</strong><br> <strong>2.1 栅格法应用背景</strong><br> 路径规划时首先要获取环境信息， 建立环境地图， 合理的环境表示有利于建立规划方法和选择合适的搜索算法，最终实现较少的时间开销而规划出较为满意的路径。一般使用栅格法在静态环境下建立环境地图。<br> <strong>2.2 栅格法实质</strong><br> 将AGV的工作环境进行单元分割， 将其用大小相等的方块表示出来，这样栅格大小的选取是影响规划算法性能的一个很重要的因素。栅格较小的话，由栅格地图所表示的环境信息将会非常清晰，但由于需要存储较多的信息，会增大存储开销，同时干扰信号也会随之增加，规划速度会相应降低，实时性得不到保证；反之，由于信息存储量少，抗干扰能力有所增强，规划速随之增快，但环境信息划分会变得较为模糊，不利于有效路径的规划。在描述环境信息时障碍物所在区域在栅格地图中呈现为黑色，地图矩阵中标为1，可自由通行区域在栅格地图中呈现为白色，地图矩阵中标为0。路径规划的目的就是在建立好的环境地图中找到一条最优的可通行路径，所以使用栅格法建立环境地图时，栅格大小的合理设定非常关键。<br> <strong>2.3 10乘10的静态环境地图</strong><br> <img src="https://images2.imgbox.com/27/8a/UM4y76tS_o.png" alt="在这里插入图片描述"><br> <strong>10乘10的静态环境地图代码</strong></p> 
<pre><code class="prism language-c"><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>建立环境地图<span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>
function <span class="token function">DrawMap</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span>
n <span class="token operator">=</span> <span class="token function">size</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
step <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
a <span class="token operator">=</span> <span class="token number">0</span> <span class="token operator">:</span> step <span class="token operator">:</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
b <span class="token operator">=</span> <span class="token number">0</span> <span class="token operator">:</span> step <span class="token operator">:</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">figure</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token function">axis</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span> <span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token number">0</span> <span class="token function">n</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">%</span>设置地图横纵尺寸
<span class="token function">set</span><span class="token punctuation">(</span>gca<span class="token punctuation">,</span><span class="token char">'xtick'</span><span class="token punctuation">,</span>b<span class="token punctuation">,</span><span class="token char">'ytick'</span><span class="token punctuation">,</span>a<span class="token punctuation">,</span><span class="token char">'GridLineStyle'</span><span class="token punctuation">,</span><span class="token char">'-'</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token char">'xGrid'</span><span class="token punctuation">,</span><span class="token char">'on'</span><span class="token punctuation">,</span><span class="token char">'yGrid'</span><span class="token punctuation">,</span><span class="token char">'on'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
hold on
r <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token operator">:</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>         <span class="token operator">%</span>设置障碍物的左下角点的x<span class="token punctuation">,</span>y坐标
    <span class="token keyword">for</span><span class="token punctuation">(</span>j<span class="token operator">=</span><span class="token number">1</span><span class="token operator">:</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">map</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
            <span class="token function">p</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">=</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token function">p</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">=</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">p</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token function">p</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> step <span class="token function">p</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> step <span class="token function">p</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
                 <span class="token punctuation">[</span><span class="token function">p</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token function">p</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token function">p</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> step <span class="token function">p</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> step <span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token char">'k'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            r<span class="token operator">=</span>r<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
            hold on
        end
    end
end
  <span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>栅格数字标识<span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>
x_text <span class="token operator">=</span> <span class="token number">1</span><span class="token operator">:</span><span class="token number">1</span><span class="token operator">:</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">%</span>产生所需数值<span class="token punctuation">.</span>
<span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token operator">:</span><span class="token number">1</span><span class="token operator">:</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token punctuation">[</span>row<span class="token punctuation">,</span>col<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">ind2sub</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">text</span><span class="token punctuation">(</span>row<span class="token operator">-</span><span class="token number">0.9</span><span class="token punctuation">,</span>col<span class="token operator">-</span><span class="token number">0.5</span><span class="token punctuation">,</span><span class="token function">num2str</span><span class="token punctuation">(</span><span class="token function">x_text</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token char">'FontSize'</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token char">'Color'</span><span class="token punctuation">,</span><span class="token char">'0.7 0.7 0.7'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
end
hold on
axis square
</code></pre> 
<p>建立环境矩阵，1代表黑色栅格，0代表白色栅格，调用以上程序，即可得到上述环境地图。</p> 
<pre><code class="prism language-bash"><span class="token assign-left variable">map</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span><span class="token punctuation">;</span>
     <span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span><span class="token punctuation">;</span>
     <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span><span class="token punctuation">;</span>
     <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span><span class="token punctuation">;</span>
     <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">0</span><span class="token punctuation">;</span>
     <span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span><span class="token punctuation">;</span>
     <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span><span class="token punctuation">;</span>
     <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span><span class="token punctuation">;</span>
     <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span><span class="token punctuation">;</span>
     <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
     DrawMap<span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>         %得到环境地图

</code></pre> 
<p><strong>2.4 栅格地图中障碍栅格处路径约束</strong><br> 移动体栅格环境中多采用八方向的移动方式，此移动方式在完全可通行区域不存在运行安全问题，当<br> 移动体周围存在障碍栅格时此移动方式可能会发生与障碍物栅格的碰撞问题，为解决此问题加入约束<br> 条件，当在分别与障碍物栅格水平方向和垂直方向的可行栅格两栅格之间通行时，禁止移动体采用对<br> 角式移动方式。<br> <img src="https://images2.imgbox.com/f1/2a/2YWtVcWD_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/bf/6f/pwlgfoi2_o.png" alt="在这里插入图片描述"><br> 约束条件的加入，实质是改变栅格地图的邻接矩阵，将障碍栅格(数字为“1”的矩阵元素)的对角栅格<br> 设为不可达， 即将对角栅格的距离值改为无穷大。其实现MATLAB代码如下：<br> 代码：</p> 
<pre><code class="prism language-c"><span class="token operator">%</span>约束移动体在障碍栅格对角运动
<span class="token operator">%</span>通过优化邻接矩阵实现
<span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span> 约束移动体移动方式 <span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>
function W<span class="token operator">=</span><span class="token function">OPW</span><span class="token punctuation">(</span>map<span class="token punctuation">,</span>W<span class="token punctuation">)</span>
<span class="token operator">%</span> map 地图矩阵  <span class="token operator">%</span> W 邻接矩阵
n <span class="token operator">=</span> <span class="token function">size</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
num <span class="token operator">=</span> <span class="token function">n</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span>j<span class="token operator">=</span><span class="token number">1</span><span class="token operator">:</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>z<span class="token operator">=</span><span class="token number">1</span><span class="token operator">:</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
       <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">map</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span>z<span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
          <span class="token keyword">if</span><span class="token punctuation">(</span>j<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>                  <span class="token operator">%</span>若障碍物在第一行
             <span class="token keyword">if</span><span class="token punctuation">(</span>z<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>               <span class="token operator">%</span>若障碍物为第一行的第一个
                <span class="token function">W</span><span class="token punctuation">(</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>j<span class="token operator">+</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">*</span>j<span class="token punctuation">)</span><span class="token operator">=</span>Inf<span class="token punctuation">;</span>
                <span class="token function">W</span><span class="token punctuation">(</span>j<span class="token operator">+</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">*</span>j<span class="token punctuation">,</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">=</span>Inf<span class="token punctuation">;</span>
             <span class="token keyword">else</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>z<span class="token operator">==</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>         <span class="token operator">%</span>若障碍物为第一行的最后一个
                   <span class="token function">W</span><span class="token punctuation">(</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span>j<span class="token punctuation">)</span><span class="token operator">=</span>Inf<span class="token punctuation">;</span>
                   <span class="token function">W</span><span class="token punctuation">(</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span>j<span class="token punctuation">,</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">=</span>Inf<span class="token punctuation">;</span>
                <span class="token keyword">else</span>                <span class="token operator">%</span>若障碍物为第一行的其他
                    <span class="token function">W</span><span class="token punctuation">(</span>z<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>z<span class="token operator">+</span>j<span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">=</span>Inf<span class="token punctuation">;</span>
                    <span class="token function">W</span><span class="token punctuation">(</span>z<span class="token operator">+</span>j<span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>z<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">=</span>Inf<span class="token punctuation">;</span>
                    <span class="token function">W</span><span class="token punctuation">(</span>z<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>z<span class="token operator">+</span>j<span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">=</span>Inf<span class="token punctuation">;</span>
                    <span class="token function">W</span><span class="token punctuation">(</span>z<span class="token operator">+</span>j<span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>z<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">=</span>Inf<span class="token punctuation">;</span>
                end
             end
          end
          <span class="token keyword">if</span><span class="token punctuation">(</span>j<span class="token operator">==</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>               <span class="token operator">%</span>若障碍物在最后一行
             <span class="token keyword">if</span><span class="token punctuation">(</span>z<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>               <span class="token operator">%</span>若障碍物为最后一行的第一个
                <span class="token function">W</span><span class="token punctuation">(</span>z<span class="token operator">+</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>j<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>z<span class="token operator">+</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">=</span>Inf<span class="token punctuation">;</span>
                <span class="token function">W</span><span class="token punctuation">(</span>z<span class="token operator">+</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>z<span class="token operator">+</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>j<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">=</span>Inf<span class="token punctuation">;</span>
             <span class="token keyword">else</span>
             <span class="token keyword">if</span><span class="token punctuation">(</span>z<span class="token operator">==</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token operator">%</span>若障碍物为最后一行的最后一个
                <span class="token function">W</span><span class="token punctuation">(</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">=</span>Inf<span class="token punctuation">;</span>
                <span class="token function">W</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">=</span>Inf<span class="token punctuation">;</span>
             <span class="token keyword">else</span>                   <span class="token operator">%</span>若障碍物为最后一行的其他
                <span class="token function">W</span><span class="token punctuation">(</span><span class="token punctuation">(</span>j<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">+</span>z<span class="token punctuation">,</span><span class="token punctuation">(</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">+</span>z<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">=</span>Inf<span class="token punctuation">;</span>
                <span class="token function">W</span><span class="token punctuation">(</span><span class="token punctuation">(</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">+</span>z<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">(</span>j<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">+</span>z<span class="token punctuation">)</span><span class="token operator">=</span>Inf<span class="token punctuation">;</span>
                <span class="token function">W</span><span class="token punctuation">(</span><span class="token punctuation">(</span>j<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">+</span>z<span class="token punctuation">,</span><span class="token punctuation">(</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">+</span>z<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">=</span>Inf<span class="token punctuation">;</span>
                <span class="token function">W</span><span class="token punctuation">(</span><span class="token punctuation">(</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">+</span>z<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">(</span>j<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">+</span>z<span class="token punctuation">)</span><span class="token operator">=</span>Inf<span class="token punctuation">;</span>
             end
             end
          end
          <span class="token keyword">if</span><span class="token punctuation">(</span>z<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>              
             <span class="token keyword">if</span><span class="token punctuation">(</span>j<span class="token operator">~</span><span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;&amp;</span>j<span class="token operator">~</span><span class="token operator">=</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>       <span class="token operator">%</span>若障碍物在第一列非边缘位置 
                <span class="token function">W</span><span class="token punctuation">(</span>z<span class="token operator">+</span><span class="token punctuation">(</span>j<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>z<span class="token operator">+</span><span class="token number">1</span><span class="token operator">+</span><span class="token punctuation">(</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">=</span>Inf<span class="token punctuation">;</span>
                <span class="token function">W</span><span class="token punctuation">(</span>z<span class="token operator">+</span><span class="token number">1</span><span class="token operator">+</span><span class="token punctuation">(</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>z<span class="token operator">+</span><span class="token punctuation">(</span>j<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">=</span>Inf<span class="token punctuation">;</span>
                <span class="token function">W</span><span class="token punctuation">(</span>z<span class="token operator">+</span><span class="token number">1</span><span class="token operator">+</span><span class="token punctuation">(</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>z<span class="token operator">+</span>j<span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">=</span>Inf<span class="token punctuation">;</span>
                <span class="token function">W</span><span class="token punctuation">(</span>z<span class="token operator">+</span>j<span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>z<span class="token operator">+</span><span class="token number">1</span><span class="token operator">+</span><span class="token punctuation">(</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">=</span>Inf<span class="token punctuation">;</span>
             end
          end
         <span class="token keyword">if</span><span class="token punctuation">(</span>z<span class="token operator">==</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>j<span class="token operator">~</span><span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;&amp;</span>j<span class="token operator">~</span><span class="token operator">=</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>         <span class="token operator">%</span>若障碍物在最后一列非边缘位置 
               <span class="token function">W</span><span class="token punctuation">(</span><span class="token punctuation">(</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>j<span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">=</span>Inf<span class="token punctuation">;</span>
               <span class="token function">W</span><span class="token punctuation">(</span>j<span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">(</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">=</span>Inf<span class="token punctuation">;</span>
               <span class="token function">W</span><span class="token punctuation">(</span>j<span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">(</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">=</span>Inf<span class="token punctuation">;</span>
               <span class="token function">W</span><span class="token punctuation">(</span><span class="token punctuation">(</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>j<span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">=</span>Inf<span class="token punctuation">;</span>
            end
         end
         <span class="token keyword">if</span><span class="token punctuation">(</span>j<span class="token operator">~</span><span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;&amp;</span>j<span class="token operator">~</span><span class="token operator">=</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span>z<span class="token operator">~</span><span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;&amp;</span>z<span class="token operator">~</span><span class="token operator">=</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token operator">%</span>若障碍物在非边缘位置
            <span class="token function">W</span><span class="token punctuation">(</span>z<span class="token operator">+</span><span class="token punctuation">(</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>z<span class="token operator">+</span>j<span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">=</span>Inf<span class="token punctuation">;</span>
            <span class="token function">W</span><span class="token punctuation">(</span>z<span class="token operator">+</span>j<span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>z<span class="token operator">+</span><span class="token punctuation">(</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">=</span>Inf<span class="token punctuation">;</span>
            <span class="token function">W</span><span class="token punctuation">(</span>z<span class="token operator">+</span>j<span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>z<span class="token operator">+</span><span class="token punctuation">(</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">=</span>Inf<span class="token punctuation">;</span>
            <span class="token function">W</span><span class="token punctuation">(</span>z<span class="token operator">+</span><span class="token punctuation">(</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>z<span class="token operator">+</span>j<span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">=</span>Inf<span class="token punctuation">;</span>
            <span class="token function">W</span><span class="token punctuation">(</span>z<span class="token operator">+</span><span class="token punctuation">(</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>z<span class="token operator">+</span><span class="token punctuation">(</span>j<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">=</span>Inf<span class="token punctuation">;</span>
            <span class="token function">W</span><span class="token punctuation">(</span>z<span class="token operator">+</span><span class="token punctuation">(</span>j<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>z<span class="token operator">+</span><span class="token punctuation">(</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">=</span>Inf<span class="token punctuation">;</span>
            <span class="token function">W</span><span class="token punctuation">(</span>z<span class="token operator">+</span><span class="token punctuation">(</span>j<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>z<span class="token operator">+</span><span class="token punctuation">(</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">=</span>Inf<span class="token punctuation">;</span>
            <span class="token function">W</span><span class="token punctuation">(</span>z<span class="token operator">+</span><span class="token punctuation">(</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>z<span class="token operator">+</span><span class="token punctuation">(</span>j<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">=</span>Inf<span class="token punctuation">;</span>
         end
       end
     end
   end
end

</code></pre> 
<p><strong>2.5 栅格法案例</strong><br> 下面以Djkstra算法为例， 其实现如下：</p> 
<pre><code class="prism language-c">map<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span><span class="token punctuation">;</span>
     <span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span><span class="token punctuation">;</span>
     <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span><span class="token punctuation">;</span>
     <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span><span class="token punctuation">;</span>
     <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">0</span><span class="token punctuation">;</span>
     <span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span><span class="token punctuation">;</span>
     <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span><span class="token punctuation">;</span>
     <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span><span class="token punctuation">;</span>
     <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span><span class="token punctuation">;</span>
     <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>建立环境矩阵map<span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>
<span class="token function">DrawMap</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">%</span>得到环境地图
W<span class="token operator">=</span><span class="token function">G2D</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token operator">%</span>得到环境地图的邻接矩阵
<span class="token function">W</span><span class="token punctuation">(</span>W<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">=</span>Inf<span class="token punctuation">;</span>  <span class="token operator">%</span>邻接矩阵数值处理
W<span class="token operator">=</span><span class="token function">OPW</span><span class="token punctuation">(</span>map<span class="token punctuation">,</span>W<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">%</span>优化邻接矩阵
<span class="token punctuation">[</span>distance<span class="token punctuation">,</span>path<span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">dijkstra</span><span class="token punctuation">(</span>W<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">%</span>设置起始栅格，得到最短路径距离以及栅格路径
<span class="token punctuation">[</span>x<span class="token punctuation">,</span>y<span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">Get_xy</span><span class="token punctuation">(</span>distance<span class="token punctuation">,</span>path<span class="token punctuation">,</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token operator">%</span>得到栅格相应的x，y坐标
<span class="token function">Plot</span><span class="token punctuation">(</span>distance<span class="token punctuation">,</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token operator">%</span>画出路径


</code></pre> 
<p>运行结果如下：<br> <img src="https://images2.imgbox.com/32/29/tcNeJdHF_o.png" alt="在这里插入图片描述"><br> 其中函数程序：<br> DrawMap(map) 详见建立栅格地图<br> W=G2D(map) ； 详见建立邻接矩阵<br> [distance， path] =dijkstra(W， 1， 100) 详见Djk stra算法<br> [x， y] =Get_xy(distance， path， map) ；<br> Plot(distance， x， y) ；</p> 
<h3><a id="_281"></a>⛄二、部分源代码</h3> 
<p>clc;<br> close all<br> clear<br> load(‘data4.mat’)<br> figure(1)%画障碍图<br> hold on<br> S=(S_coo(2)-0.5)*num_shange+(S_coo(1)+0.5);%起点对应的编号<br> E=(E_coo(2)-0.5)*num_shange+(E_coo(1)+0.5);%终点对应的编号<br> for i=1:num_shange<br> for j=1:num_shange<br> if sign(i,j)==1<br> y=[i-1,i-1,i,i];<br> x=[j-1,j,j,j-1];<br> h=fill(x,y,‘k’);<br> set(h,‘facealpha’,0.5)<br> end<br> s=(num2str((i-1)*num_shange+j));<br> %text(j-0.95,i-0.5,s,‘fontsize’,6)<br> end<br> end<br> axis([0 num_shange 0 num_shange])%限制图的边界<br> plot(S_coo(2),S_coo(1), ‘p’,‘markersize’, 10,‘markerfacecolor’,‘b’,‘MarkerEdgeColor’, ‘m’)%画起点<br> plot(E_coo(2),E_coo(1),‘o’,‘markersize’, 10,‘markerfacecolor’,‘g’,‘MarkerEdgeColor’, ‘c’)%画终点<br> set(gca,‘YDir’,‘reverse’);%图像翻转<br> for i=1:num_shange<br> plot([0 num_shange],[i-1 i-1],‘k-’);<br> plot([i i],[0 num_shange],‘k-’);%画网格线<br> end<br> PopSize=20;%种群大小<br> OldBestFitness=0;%旧的最优适应度值<br> gen=0;%迭代次数<br> maxgen =20;%最大迭代次数<br> ​<br> c1=0.5;%认知系数<br> c2=0.7;%社会学习系数<br> w=0.96;%惯性系数<br> %%<br> %初始化路径<br> w_min=0.5;<br> w_max=1;<br> Group=ones(num_point,PopSize); %种群初始化</p> 
<p>​<br> %最优解<br> route=Group(:,end)';<br> index1=find(route==E);<br> route_lin=route(1:index1);<br> for i=2:index1<br> Q1=[mod(route_lin(i-1)-1,num_shange)+1-0.5,ceil(route_lin(i-1)/num_shange)-0.5];<br> Q2=[mod(route_lin(i)-1,num_shange)+1-0.5,ceil(route_lin(i)/num_shange)-0.5];<br> plot([Q1(1),Q2(1)],[Q1(2),Q2(2)],‘b-.’,‘LineWidth’,3);hold on</p> 
<p>end<br> title(‘粒子群算法-随机路线’);<br> ​<br> title(‘粒子群算法-随机路线’);<br> figure(2)<br> hold on<br> for i=1:num_shange<br> for j=1:num_shange<br> if sign(i,j)==1<br> y=[i-1,i-1,i,i];<br> x=[j-1,j,j,j-1];<br> h=fill(x,y,‘k’);<br> set(h,‘facealpha’,0.5)<br> end<br> s=(num2str((i-1)*num_shange+j));<br> text(j-0.95,i-0.5,s,‘fontsize’,6)<br> end<br> end<br> axis([0 num_shange 0 num_shange])%限制图的边界<br> plot(S_coo(2),S_coo(1), ‘p’,‘markersize’, 10,‘markerfacecolor’,‘b’,‘MarkerEdgeColor’, ‘m’)%画起点<br> plot(E_coo(2),E_coo(1),‘o’,‘markersize’, 10,‘markerfacecolor’,‘g’,‘MarkerEdgeColor’, ‘c’)%画终点<br> set(gca,‘YDir’,‘reverse’);%图像翻转<br> for i=1:num_shange<br> plot([0 num_shange],[i-1 i-1],‘k-’);<br> plot([i i],[0 num_shange],‘k-’);%画网格线<br> end<br> for i=2:index1<br> Q1=[mod(route_lin(i-1)-1,num_shange)+1-0.5,ceil(route_lin(i-1)/num_shange)-0.5];<br> Q2=[mod(route_lin(i)-1,num_shange)+1-0.5,ceil(route_lin(i)/num_shange)-0.5];<br> plot([Q1(1),Q2(1)],[Q1(2),Q2(2)],‘b-.’,‘LineWidth’,3)<br> end<br> %初始化粒子速度（即交换序）<br> Velocity =zeros(num_point,PopSize);<br> for i=1:PopSize<br> Velocity(:,i)=round(rand(1,num_point)‘*num_point/10); %round取整<br> end<br> ​<br> %计算每个个体对应路径的距离<br> for i=1:PopSize<br> EachPathDis(i) = PathDistance(Group(:,i)’,E,num_shange);<br> end<br> ​<br> IndivdualBest=Group;%记录各粒子的个体极值点位置,即个体找到的最短路径<br> IndivdualBestFitness=EachPathDis;%记录最佳适应度值,即个体找到的最短路径的长度<br> [GlobalBestFitness,index]=min(EachPathDis);%找出全局最优值和相应序号<br> %寻优<br> while gen &lt; maxgen<br> w=w_max-(w_max-w_min)*gen/maxgen;<br> %迭代次数递增<br> gen = gen +1<br> %更新全局极值点位置,这里指路径<br> for i=1:PopSize<br> GlobalBest(:,i) = Group(:,index);<br> end</p> 
<pre><code>for i = 1:PopSize    % 更新各路径总距离
    EachPathDis(i) = PathDistance(Group(:,i)',E,num_shange);
end
IsChange = EachPathDis&lt;IndivdualBestFitness;%更新后的距离优于更新前的，记录序号
IndivdualBest(:, find(IsChange)) = Group(:, find(IsChange));%更新个体最佳路径
IndivdualBestFitness = IndivdualBestFitness.*( ~IsChange) + EachPathDis.*IsChange;%更新个体最佳路径距离
[GlobalBestFitness, index] = min(IndivdualBestFitness);%更新全局最佳路径,记录相应的序号
</code></pre> 
<p>​<br> if GlobalBestFitness~=OldBestFitness %比较更新前和更新后的适应度值;<br> OldBestFitness=GlobalBestFitness;%不相等时更新适应度值<br> best_route=IndivdualBest(:,index)‘;<br> end<br> BestFitness(gen) =GlobalBestFitness;%每一代的最优适应度<br> end<br> %最优解<br> index1=find(best_route<mark>E);<br> route_lin=best_route(1:index1);<br> for i=2:index1<br> Q1=[mod(route_lin(i-1)-1,num_shange)+1-0.5,ceil(route_lin(i-1)/num_shange)-0.5];<br> Q2=[mod(route_lin(i)-1,num_shange)+1-0.5,ceil(route_lin(i)/num_shange)-0.5];<br> plot([Q1(1),Q2(1)],[Q1(2),Q2(2)],‘r’,‘LineWidth’,3)<br> end<br> for i=1:PopSize<br> p_lin=randperm(num_point)';%随机生成1*400不重复的行向量<br> %% 将起点编号放在首位<br> index=find(p_lin</mark>S);<br> lin=p_lin(1);<br> p_lin(1)=p_lin(index);<br> p_lin(index)=lin;<br> Group(:,i)=p_lin;<br> %%将每个个体进行合理化处理<br> [Group(:,i),flag]=deal_fun(Group(:,i),num_point,liantong_point,E,num_shange);<br> while flag<mark>1%如处理不成功，则初始化个体，重新处理<br> p_lin=randperm(num_point)';<br> index=find(p_lin</mark>S);<br> lin=p_lin(1);<br> p_lin(1)=p_lin(index);<br> p_lin(index)=lin;<br> Group(:,i)=p_lin;<br> [Group(:,i),flag]=deal_fun(Group(:,i),num_point,liantong_point,E,num_shange);<br> end<br> end<br> ​<br> %最优解<br> route=Group(:,end)’;<br> index3=find(route<mark>E);<br> route_lin1=route(1:index3);<br> for i=2:index3<br> Q1=[mod(route_lin1(i-1)-1,num_shange)+1-0.5,ceil(route_lin1(i-1)/num_shange)-0.5];<br> Q2=[mod(route_lin1(i)-1,num_shange)+1-0.5,ceil(route_lin1(i)/num_shange)-0.5];<br> plot([Q1(1),Q2(1)],[Q1(2),Q2(2)],‘c-.’,‘LineWidth’,3);hold on<br> end<br> for i=1:PopSize<br> p_lin=randperm(num_point)';%随机生成1*400不重复的行向量<br> %% 将起点编号放在首位<br> index=find(p_lin</mark>S);<br> lin=p_lin(1);<br> p_lin(1)=p_lin(index);<br> p_lin(index)=lin;<br> Group(:,i)=p_lin;<br> %%将每个个体进行合理化处理<br> [Group(:,i),flag]=deal_fun(Group(:,i),num_point,liantong_point,E,num_shange);<br> while flag<mark>1%如处理不成功，则初始化个体，重新处理<br> p_lin=randperm(num_point)';<br> index=find(p_lin</mark>S);<br> lin=p_lin(1);<br> p_lin(1)=p_lin(index);<br> p_lin(index)=lin;<br> Group(:,i)=p_lin;<br> [Group(:,i),flag]=deal_fun(Group(:,i),num_point,liantong_point,E,num_shange);<br> end<br> end<br> ​<br> %最优解<br> route=Group(:,end)';<br> index2=find(route==E);<br> route_lin2=route(1:index2);<br> for i=2:index2<br> Q1=[mod(route_lin2(i-1)-1,num_shange)+1-0.5,ceil(route_lin2(i-1)/num_shange)-0.5];<br> Q2=[mod(route_lin2(i)-1,num_shange)+1-0.5,ceil(route_lin2(i)/num_shange)-0.5];<br> plot([Q1(1),Q2(1)],[Q1(2),Q2(2)],‘m-.’,‘LineWidth’,3);hold on<br> end<br> title(‘粒子群算法-对比路线’);<br> figure(3)<br> hold on<br> for i=1:num_shange<br> for j=1:num_shange<br> if sign(i,j)==1<br> y=[i-1,i-1,i,i];<br> x=[j-1,j,j,j-1];<br> h=fill(x,y,‘k’);<br> set(h,‘facealpha’,0.5)<br> end<br> s=(num2str((i-1)<em>num_shange+j));<br> text(j-0.95,i-0.5,s,‘fontsize’,6)<br> end<br> end<br> axis([0 num_shange 0 num_shange])%限制图的边界<br> plot(S_coo(2),S_coo(1), ‘p’,‘markersize’, 10,‘markerfacecolor’,‘b’,‘MarkerEdgeColor’, ‘m’)%画起点<br> plot(E_coo(2),E_coo(1),‘o’,‘markersize’, 10,‘markerfacecolor’,‘g’,‘MarkerEdgeColor’, ‘c’)%画终点<br> set(gca,‘YDir’,‘reverse’);%图像翻转<br> for i=1:num_shange<br> plot([0 num_shange],[i-1 i-1],‘k-’);<br> plot([i i],[0 num_shange],‘k-’);%画网格线<br> end<br> for i=2:index1<br> Q1=[mod(route_lin(i-1)-1,num_shange)+1-0.5,ceil(route_lin(i-1)/num_shange)-0.5];<br> Q2=[mod(route_lin(i)-1,num_shange)+1-0.5,ceil(route_lin(i)/num_shange)-0.5];<br> plot([Q1(1),Q2(1)],[Q1(2),Q2(2)],‘r’,‘LineWidth’,3)<br> end<br> title(‘粒子群算法-最优路线’);<br> ​<br> ​<br> %进化曲线<br> figure(4);<br> plot(BestFitness);<br> xlabel(‘迭代次数’)<br> ylabel(‘适应度值’)<br> grid on;<br> title(‘进化曲线’);<br> disp(‘粒子群算法-最优路线方案：’)<br> disp(num2str(route_lin))<br> disp([‘起点到终点的距离:’,num2str(BestFitness(end))]);<br> figure(5);<br> plot(BestFitness</em>100);<br> xlabel(‘迭代次数’)<br> ylabel(‘适应度值’)<br> grid on;<br> title(‘最佳个体适应度值变化趋势’);</p> 
<h3><a id="_521"></a>⛄三、运行结果</h3> 
<p><img src="https://images2.imgbox.com/b4/a1/qR9zOafo_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/d0/33/Wiayvk1R_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="matlab_525"></a>⛄四、matlab版本及参考文献</h3> 
<p><strong>1 matlab版本</strong><br> 2014a</p> 
<p><strong>2 参考文献</strong><br> [1] 包子阳,余继周,杨杉.智能优化算法及其MATLAB实例（第2版）[M].电子工业出版社，2016.<br> [2]张岩,吴水根.MATLAB优化算法源代码[M].清华大学出版社，2017.</p> 
<p><strong>3 备注</strong><br> 简介此部分摘自互联网，仅供参考，若侵权，联系删除</p> 
<p><strong>🍅 仿真咨询<br> 1 各类智能优化算法改进及应用</strong><br> 生产调度、经济调度、装配线调度、充电优化、车间调度、发车优化、水库调度、三维装箱、物流选址、货位优化、公交排班优化、充电桩布局优化、车间布局优化、集装箱船配载优化、水泵组合优化、解医疗资源分配优化、设施布局优化、可视域基站和无人机选址优化</p> 
<p><strong>2 机器学习和深度学习方面</strong><br> 卷积神经网络（CNN）、LSTM、支持向量机（SVM）、最小二乘支持向量机（LSSVM）、极限学习机（ELM）、核极限学习机（KELM）、BP、RBF、宽度学习、DBN、RF、RBF、DELM、XGBOOST、TCN实现风电预测、光伏预测、电池寿命预测、辐射源识别、交通流预测、负荷预测、股价预测、PM2.5浓度预测、电池健康状态预测、水体光学参数反演、NLOS信号识别、地铁停车精准预测、变压器故障诊断</p> 
<p><strong>3 图像处理方面</strong><br> 图像识别、图像分割、图像检测、图像隐藏、图像配准、图像拼接、图像融合、图像增强、图像压缩感知</p> 
<p><strong>4 路径规划方面</strong><br> 旅行商问题（TSP）、车辆路径问题（VRP、MVRP、CVRP、VRPTW等）、无人机三维路径规划、无人机协同、无人机编队、机器人路径规划、栅格地图路径规划、多式联运运输问题、车辆协同无人机路径规划、天线线性阵列分布优化、车间布局优化</p> 
<p><strong>5 无人机应用方面</strong><br> 无人机路径规划、无人机控制、无人机编队、无人机协同、无人机任务分配</p> 
<p><strong>6 无线传感器定位及布局方面</strong><br> 传感器部署优化、通信协议优化、路由优化、目标定位优化、Dv-Hop定位优化、Leach协议优化、WSN覆盖优化、组播优化、RSSI定位优化</p> 
<p><strong>7 信号处理方面</strong><br> 信号识别、信号加密、信号去噪、信号增强、雷达信号处理、信号水印嵌入提取、肌电信号、脑电信号、信号配时优化</p> 
<p><strong>8 电力系统方面</strong><br> 微电网优化、无功优化、配电网重构、储能配置</p> 
<p><strong>9 元胞自动机方面</strong><br> 交通流 人群疏散 病毒扩散 晶体生长</p> 
<p><strong>10 雷达方面</strong><br> 卡尔曼滤波跟踪、航迹关联、航迹融合</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/eb585c60c4a9425544efb46e28322fee/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">js逆向七麦网站</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/cf1251fab637f5344065f3291e9f275f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">彻底关闭Win10的杀毒软件</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程爱好者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151260"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>