<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>å€¼å¾—æ”¶è—çš„UmiJS æ•™ç¨‹ - ç¼–ç¨‹çˆ±å¥½è€…åšå®¢</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="å€¼å¾—æ”¶è—çš„UmiJS æ•™ç¨‹" />
<meta property="og:description" content="ç‚¹å‡»ä¸Šæ–¹å…³æ³¨Â å‰ç«¯æŠ€æœ¯æ±Ÿæ¹–ï¼Œä¸€èµ·å­¦ä¹ ï¼Œå¤©å¤©è¿›æ­¥
å‰è¨€ ç½‘ä¸Šçš„umiæ•™ç¨‹æ˜¯çœŸçš„å°‘,å¾ˆå¤šäººéƒ½åªå†™äº†ä¸€ç‚¹ç‚¹ï¼Œå¾ˆå¤šæ°´æ–‡,æ‰€ä»¥æ‰“ç®—è‡ªå·±å†™ä¸€ç¯‡,è‡ªå·±æ­å»ºumi,å¹¶å°è£…äº†ä¸€ä¸‹å¸¸ç”¨çš„åŠŸèƒ½,å¹¶ç”¨åˆ°å…¬å¸å®é™…é¡¹ç›®ä¸­.
umiä»‹ç» Umi æ˜¯ä»€ä¹ˆï¼Ÿ Umiï¼Œä¸­æ–‡å¯å‘éŸ³ä¸ºä¹Œç±³ï¼Œæ˜¯å¯æ‰©å±•çš„ä¼ä¸šçº§å‰ç«¯åº”ç”¨æ¡†æ¶ã€‚Umi ä»¥è·¯ç”±ä¸ºåŸºç¡€çš„ï¼ŒåŒæ—¶æ”¯æŒé…ç½®å¼è·¯ç”±å’Œçº¦å®šå¼è·¯ç”±ï¼Œä¿è¯è·¯ç”±çš„åŠŸèƒ½å®Œå¤‡ï¼Œå¹¶ä»¥æ­¤è¿›è¡ŒåŠŸèƒ½æ‰©å±•ã€‚ç„¶åé…ä»¥ç”Ÿå‘½å‘¨æœŸå®Œå–„çš„æ’ä»¶ä½“ç³»ï¼Œè¦†ç›–ä»æºç åˆ°æ„å»ºäº§ç‰©çš„æ¯ä¸ªç”Ÿå‘½å‘¨æœŸï¼Œæ”¯æŒå„ç§åŠŸèƒ½æ‰©å±•å’Œä¸šåŠ¡éœ€æ±‚ã€‚
Umi æ˜¯èš‚èšé‡‘æœçš„åº•å±‚å‰ç«¯æ¡†æ¶ï¼Œå·²ç›´æ¥æˆ–é—´æ¥åœ°æœåŠ¡äº† 3000&#43; åº”ç”¨ï¼ŒåŒ…æ‹¬ javaã€nodeã€H5 æ— çº¿ã€ç¦»çº¿ï¼ˆHybridï¼‰åº”ç”¨ã€çº¯å‰ç«¯ assets åº”ç”¨ã€CMS åº”ç”¨ç­‰ã€‚ä»–å·²ç»å¾ˆå¥½åœ°æœåŠ¡äº†æˆ‘ä»¬çš„å†…éƒ¨ç”¨æˆ·ï¼ŒåŒæ—¶å¸Œæœ›ä»–ä¹Ÿèƒ½æœåŠ¡å¥½å¤–éƒ¨ç”¨æˆ·ã€‚
å®ƒä¸»è¦å…·å¤‡ä»¥ä¸‹åŠŸèƒ½ï¼š
ğŸ‰Â å¯æ‰©å±•ï¼ŒUmi å®ç°äº†å®Œæ•´çš„ç”Ÿå‘½å‘¨æœŸï¼Œå¹¶ä½¿å…¶æ’ä»¶åŒ–ï¼ŒUmi å†…éƒ¨åŠŸèƒ½ä¹Ÿå…¨ç”±æ’ä»¶å®Œæˆã€‚æ­¤å¤–è¿˜æ”¯æŒæ’ä»¶å’Œæ’ä»¶é›†ï¼Œä»¥æ»¡è¶³åŠŸèƒ½å’Œå‚ç›´åŸŸçš„åˆ†å±‚éœ€æ±‚ã€‚
ğŸ“¦Â å¼€ç®±å³ç”¨ï¼ŒUmi å†…ç½®äº†è·¯ç”±ã€æ„å»ºã€éƒ¨ç½²ã€æµ‹è¯•ç­‰ï¼Œä»…éœ€ä¸€ä¸ªä¾èµ–å³å¯ä¸Šæ‰‹å¼€å‘ã€‚å¹¶ä¸”è¿˜æä¾›é’ˆå¯¹ React çš„é›†æˆæ’ä»¶é›†ï¼Œå†…æ¶µä¸°å¯Œçš„åŠŸèƒ½ï¼Œå¯æ»¡è¶³æ—¥å¸¸ 80% çš„å¼€å‘éœ€æ±‚ã€‚
ğŸ Â ä¼ä¸šçº§ï¼Œç»èš‚èšå†…éƒ¨ 3000&#43; é¡¹ç›®ä»¥åŠé˜¿é‡Œã€ä¼˜é…·ã€ç½‘æ˜“ã€é£çŒªã€å£ç¢‘ç­‰å…¬å¸é¡¹ç›®çš„éªŒè¯ï¼Œå€¼å¾—ä¿¡èµ–ã€‚
ğŸš€Â å¤§é‡è‡ªç ”ï¼ŒåŒ…å«å¾®å‰ç«¯ã€ç»„ä»¶æ‰“åŒ…ã€æ–‡æ¡£å·¥å…·ã€è¯·æ±‚åº“ã€hooks åº“ã€æ•°æ®æµç­‰ï¼Œæ»¡è¶³æ—¥å¸¸é¡¹ç›®çš„å‘¨è¾¹éœ€æ±‚ã€‚
ğŸŒ´Â å®Œå¤‡è·¯ç”±ï¼ŒåŒæ—¶æ”¯æŒé…ç½®å¼è·¯ç”±å’Œçº¦å®šå¼è·¯ç”±ï¼ŒåŒæ—¶ä¿æŒåŠŸèƒ½çš„å®Œå¤‡æ€§ï¼Œæ¯”å¦‚åŠ¨æ€è·¯ç”±ã€åµŒå¥—è·¯ç”±ã€æƒé™è·¯ç”±ç­‰ç­‰ã€‚
ğŸš„Â é¢å‘æœªæ¥ï¼Œåœ¨æ»¡è¶³éœ€æ±‚çš„åŒæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿä¸ä¼šåœæ­¢å¯¹æ–°æŠ€æœ¯çš„æ¢ç´¢ã€‚æ¯”å¦‚ dll æé€Ÿã€modern modeã€webpack@5ã€è‡ªåŠ¨åŒ– externalã€bundler less ç­‰ç­‰ã€‚
ä»€ä¹ˆæ—¶å€™ä¸ç”¨ umiï¼Ÿ å¦‚æœä½ ï¼Œ
éœ€è¦æ”¯æŒ IE 8 æˆ–æ›´ä½ç‰ˆæœ¬çš„æµè§ˆå™¨
éœ€è¦æ”¯æŒ React 16.8.0 ä»¥ä¸‹çš„ React
éœ€è¦è·‘åœ¨ Node 10 ä»¥ä¸‹çš„ç¯å¢ƒä¸­
æœ‰å¾ˆå¼ºçš„ webpack è‡ªå®šä¹‰éœ€æ±‚å’Œä¸»è§‚æ„æ„¿
éœ€è¦é€‰æ‹©ä¸åŒçš„è·¯ç”±æ–¹æ¡ˆ
Umi å¯èƒ½ä¸é€‚åˆä½ ã€‚" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bchobby.github.io/posts/aed71b7effe66417c465447fd8b8f49e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-11-06T00:25:07+08:00" />
<meta property="article:modified_time" content="2021-11-06T00:25:07+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹çˆ±å¥½è€…åšå®¢" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹çˆ±å¥½è€…åšå®¢</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">å€¼å¾—æ”¶è—çš„UmiJS æ•™ç¨‹</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div id="js_content"> 
 <p style="text-align:center;">ç‚¹å‡»ä¸Šæ–¹å…³æ³¨Â å‰ç«¯æŠ€æœ¯æ±Ÿæ¹–ï¼Œä¸€èµ·å­¦ä¹ ï¼Œå¤©å¤©è¿›æ­¥</p> 
 <p style="text-align:center;"><img src="https://images2.imgbox.com/4a/0c/Ce2wqV2z_o.png" alt="ed086c89c8790b8a8dec4083cee8e051.png"></p> 
 <h2>å‰è¨€</h2> 
 <p>ç½‘ä¸Šçš„umiæ•™ç¨‹æ˜¯çœŸçš„å°‘,å¾ˆå¤šäººéƒ½åªå†™äº†ä¸€ç‚¹ç‚¹ï¼Œå¾ˆå¤šæ°´æ–‡,æ‰€ä»¥æ‰“ç®—è‡ªå·±å†™ä¸€ç¯‡,è‡ªå·±æ­å»ºumi,å¹¶å°è£…äº†ä¸€ä¸‹å¸¸ç”¨çš„åŠŸèƒ½,å¹¶ç”¨åˆ°å…¬å¸å®é™…é¡¹ç›®ä¸­.</p> 
 <h2>umiä»‹ç»</h2> 
 <h3>Umi æ˜¯ä»€ä¹ˆï¼Ÿ</h3> 
 <p>Umiï¼Œä¸­æ–‡å¯å‘éŸ³ä¸º<strong>ä¹Œç±³</strong>ï¼Œæ˜¯å¯æ‰©å±•çš„ä¼ä¸šçº§å‰ç«¯åº”ç”¨æ¡†æ¶ã€‚Umi ä»¥è·¯ç”±ä¸ºåŸºç¡€çš„ï¼ŒåŒæ—¶æ”¯æŒé…ç½®å¼è·¯ç”±å’Œçº¦å®šå¼è·¯ç”±ï¼Œä¿è¯è·¯ç”±çš„åŠŸèƒ½å®Œå¤‡ï¼Œå¹¶ä»¥æ­¤è¿›è¡ŒåŠŸèƒ½æ‰©å±•ã€‚ç„¶åé…ä»¥ç”Ÿå‘½å‘¨æœŸå®Œå–„çš„æ’ä»¶ä½“ç³»ï¼Œè¦†ç›–ä»æºç åˆ°æ„å»ºäº§ç‰©çš„æ¯ä¸ªç”Ÿå‘½å‘¨æœŸï¼Œæ”¯æŒå„ç§åŠŸèƒ½æ‰©å±•å’Œä¸šåŠ¡éœ€æ±‚ã€‚</p> 
 <p>Umi æ˜¯èš‚èšé‡‘æœçš„åº•å±‚å‰ç«¯æ¡†æ¶ï¼Œå·²ç›´æ¥æˆ–é—´æ¥åœ°æœåŠ¡äº† 3000+ åº”ç”¨ï¼ŒåŒ…æ‹¬ javaã€nodeã€H5 æ— çº¿ã€ç¦»çº¿ï¼ˆHybridï¼‰åº”ç”¨ã€çº¯å‰ç«¯ assets åº”ç”¨ã€CMS åº”ç”¨ç­‰ã€‚ä»–å·²ç»å¾ˆå¥½åœ°æœåŠ¡äº†æˆ‘ä»¬çš„å†…éƒ¨ç”¨æˆ·ï¼ŒåŒæ—¶å¸Œæœ›ä»–ä¹Ÿèƒ½æœåŠ¡å¥½å¤–éƒ¨ç”¨æˆ·ã€‚</p> 
 <p>å®ƒä¸»è¦å…·å¤‡ä»¥ä¸‹åŠŸèƒ½ï¼š</p> 
 <ul><li><p>ğŸ‰Â <strong>å¯æ‰©å±•</strong>ï¼ŒUmi å®ç°äº†å®Œæ•´çš„ç”Ÿå‘½å‘¨æœŸï¼Œå¹¶ä½¿å…¶æ’ä»¶åŒ–ï¼ŒUmi å†…éƒ¨åŠŸèƒ½ä¹Ÿå…¨ç”±æ’ä»¶å®Œæˆã€‚æ­¤å¤–è¿˜æ”¯æŒæ’ä»¶å’Œæ’ä»¶é›†ï¼Œä»¥æ»¡è¶³åŠŸèƒ½å’Œå‚ç›´åŸŸçš„åˆ†å±‚éœ€æ±‚ã€‚</p></li><li><p>ğŸ“¦Â <strong>å¼€ç®±å³ç”¨</strong>ï¼ŒUmi å†…ç½®äº†è·¯ç”±ã€æ„å»ºã€éƒ¨ç½²ã€æµ‹è¯•ç­‰ï¼Œä»…éœ€ä¸€ä¸ªä¾èµ–å³å¯ä¸Šæ‰‹å¼€å‘ã€‚å¹¶ä¸”è¿˜æä¾›é’ˆå¯¹ React çš„é›†æˆæ’ä»¶é›†ï¼Œå†…æ¶µä¸°å¯Œçš„åŠŸèƒ½ï¼Œå¯æ»¡è¶³æ—¥å¸¸ 80% çš„å¼€å‘éœ€æ±‚ã€‚</p></li><li><p>ğŸ Â <strong>ä¼ä¸šçº§</strong>ï¼Œç»èš‚èšå†…éƒ¨ 3000+ é¡¹ç›®ä»¥åŠé˜¿é‡Œã€ä¼˜é…·ã€ç½‘æ˜“ã€é£çŒªã€å£ç¢‘ç­‰å…¬å¸é¡¹ç›®çš„éªŒè¯ï¼Œå€¼å¾—ä¿¡èµ–ã€‚</p></li><li><p>ğŸš€Â <strong>å¤§é‡è‡ªç ”</strong>ï¼ŒåŒ…å«å¾®å‰ç«¯ã€ç»„ä»¶æ‰“åŒ…ã€æ–‡æ¡£å·¥å…·ã€è¯·æ±‚åº“ã€hooks åº“ã€æ•°æ®æµç­‰ï¼Œæ»¡è¶³æ—¥å¸¸é¡¹ç›®çš„å‘¨è¾¹éœ€æ±‚ã€‚</p></li><li><p>ğŸŒ´Â <strong>å®Œå¤‡è·¯ç”±</strong>ï¼ŒåŒæ—¶æ”¯æŒé…ç½®å¼è·¯ç”±å’Œçº¦å®šå¼è·¯ç”±ï¼ŒåŒæ—¶ä¿æŒåŠŸèƒ½çš„å®Œå¤‡æ€§ï¼Œæ¯”å¦‚åŠ¨æ€è·¯ç”±ã€åµŒå¥—è·¯ç”±ã€æƒé™è·¯ç”±ç­‰ç­‰ã€‚</p></li><li><p>ğŸš„Â <strong>é¢å‘æœªæ¥</strong>ï¼Œåœ¨æ»¡è¶³éœ€æ±‚çš„åŒæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿä¸ä¼šåœæ­¢å¯¹æ–°æŠ€æœ¯çš„æ¢ç´¢ã€‚æ¯”å¦‚ dll æé€Ÿã€modern modeã€webpack@5ã€è‡ªåŠ¨åŒ– externalã€bundler less ç­‰ç­‰ã€‚</p></li></ul> 
 <h3>ä»€ä¹ˆæ—¶å€™ä¸ç”¨ umiï¼Ÿ</h3> 
 <p>å¦‚æœä½ ï¼Œ</p> 
 <ul><li><p>éœ€è¦æ”¯æŒ IE 8 æˆ–æ›´ä½ç‰ˆæœ¬çš„æµè§ˆå™¨</p></li><li><p>éœ€è¦æ”¯æŒ React 16.8.0 ä»¥ä¸‹çš„ React</p></li><li><p>éœ€è¦è·‘åœ¨ Node 10 ä»¥ä¸‹çš„ç¯å¢ƒä¸­</p></li><li><p>æœ‰å¾ˆå¼ºçš„ webpack è‡ªå®šä¹‰éœ€æ±‚å’Œä¸»è§‚æ„æ„¿</p></li><li><p>éœ€è¦é€‰æ‹©ä¸åŒçš„è·¯ç”±æ–¹æ¡ˆ</p></li></ul> 
 <p>Umi å¯èƒ½ä¸é€‚åˆä½ ã€‚</p> 
 <h3>ä¸ºä»€ä¹ˆä¸æ˜¯ï¼Ÿ</h3> 
 <h4><sup>[1]</sup>create-react-app<sup>[2]</sup></h4> 
 <p>create-react-app æ˜¯åŸºäº webpack çš„æ‰“åŒ…å±‚æ–¹æ¡ˆï¼ŒåŒ…å« buildã€devã€lint ç­‰ï¼Œä»–åœ¨æ‰“åŒ…å±‚æŠŠä½“éªŒåšåˆ°äº†æè‡´ï¼Œä½†æ˜¯ä¸åŒ…å«è·¯ç”±ï¼Œä¸æ˜¯æ¡†æ¶ï¼Œä¹Ÿä¸æ”¯æŒé…ç½®ã€‚æ‰€ä»¥ï¼Œå¦‚æœå¤§å®¶æƒ³åŸºäºä»–ä¿®æ”¹éƒ¨åˆ†é…ç½®ï¼Œæˆ–è€…å¸Œæœ›åœ¨æ‰“åŒ…å±‚ä¹‹å¤–ä¹ŸåšæŠ€æœ¯æ”¶æ•›æ—¶ï¼Œå°±ä¼šé‡åˆ°å›°éš¾ã€‚</p> 
 <h4><sup>[3]</sup>next.js<sup>[4]</sup></h4> 
 <p>next.js æ˜¯ä¸ªå¾ˆå¥½çš„é€‰æ‹©ï¼ŒUmi å¾ˆå¤šåŠŸèƒ½æ˜¯å‚è€ƒ next.js åšçš„ã€‚è¦è¯´æœ‰å“ªäº›åœ°æ–¹ä¸å¦‚ Umiï¼Œæˆ‘è§‰å¾—å¯èƒ½æ˜¯ä¸å¤Ÿè´´è¿‘ä¸šåŠ¡ï¼Œä¸å¤Ÿæ¥åœ°æ°”ã€‚æ¯”å¦‚ antdã€dva çš„æ·±åº¦æ•´åˆï¼Œæ¯”å¦‚å›½é™…åŒ–ã€æƒé™ã€æ•°æ®æµã€é…ç½®å¼è·¯ç”±ã€è¡¥ä¸æ–¹æ¡ˆã€è‡ªåŠ¨åŒ– external æ–¹é¢ç­‰ç­‰ä¸€çº¿å¼€å‘è€…æ‰ä¼šé‡åˆ°çš„é—®é¢˜ã€‚</p> 
 <h2>umi3é¡¹ç›®åˆå§‹åŒ–</h2> 
 <h3>ç¯å¢ƒå‡†å¤‡</h3> 
 <p>é¦–å…ˆå¾—æœ‰Â node<sup>[5]</sup>ï¼Œå¹¶ç¡®ä¿ node ç‰ˆæœ¬æ˜¯ 10.13 æˆ–ä»¥ä¸Šã€‚</p> 
 <p>æ¨èä½¿ç”¨Â <code>yarn</code>Â ç®¡ç† npm ä¾èµ–</p> 
 <p>æœ¬é¡¹ç›®ä½¿ç”¨çš„ç‰ˆæœ¬ä¸º nodeÂ <code>v14.17.5</code>Â yarnÂ <code>1.22.15</code></p> 
 <h3>è„šæ‰‹æ¶</h3> 
 <p>æ¡Œé¢æ–°å»ºumi3æ–‡ä»¶å¤¹, ç”¨vscodeæ‰“å¼€, æ‰“å¼€vscodeç»ˆç«¯,</p> 
 <p>æ‰§è¡ŒÂ <code>yarn create @umijs/umi-app</code>Â åˆ›å»ºé¡¹ç›®</p> 
 <p>å®‰è£…ä¾èµ–Â <code>yarn</code></p> 
 <p>å¯åŠ¨é¡¹ç›®Â <code>yarn start</code></p> 
 <h2>é…ç½® prettier,eslint, stylelint</h2> 
 <p>umi ç»´æŠ¤äº†ä¸€ä¸ª prettierï¼Œeslintï¼Œstylelint çš„é…ç½®æ–‡ä»¶åˆé›†Â umi-fabric<sup>[6]</sup></p> 
 <pre class="has"><code class="language-go">yarnÂ addÂ @umijs/fabricÂ -D
å¤åˆ¶ä»£ç </code></pre> 
 <p>æ ¹ç›®å½•æ–°å»ºä¸‹é¢ä¸‰ä¸ªæ–‡ä»¶,åˆ é™¤.prettierrcæ–‡ä»¶</p> 
 <p><code>.eslintrc.js</code>ã€<code>.prettierrc.js</code>ã€<code>.stylelintrc.js</code></p> 
 <p><strong>é…ç½®å¦‚ä¸‹</strong></p> 
 <pre class="has"><code class="language-go">//.eslintrc.jsÂ é…ç½®

module.exportsÂ =Â {
Â Â extends:Â [require.resolve('@umijs/fabric/dist/eslint')],

Â Â //Â inÂ antd-design-pro
Â Â globals:Â {
Â Â Â Â ANT_DESIGN_PRO_ONLY_DO_NOT_USE_IN_YOUR_PRODUCTION:Â true,
Â Â Â Â page:Â true,
Â Â },

Â Â rules:Â {
Â Â Â Â //Â yourÂ rules
Â Â Â Â 'prefer-const':Â 0,
Â Â },
};


//.prettierrc.jsÂ é…ç½®

constÂ fabricÂ =Â require('@umijs/fabric')

module.exportsÂ =Â {
Â Â ...fabric.prettier,
Â Â semi:Â false,
}


//.stylelintrc.jsÂ é…ç½®

constÂ fabricÂ =Â require('@umijs/fabric')

module.exportsÂ =Â {
Â Â ...fabric.stylelint,
}
å¤åˆ¶ä»£ç </code></pre> 
 <p>æ ¹ç›®å½•æ–°å»ºeslintå¿½ç•¥æ–‡ä»¶ .eslintignore</p> 
 <pre class="has"><code class="language-go">.eslintrc.js
node_modules
å¤åˆ¶ä»£ç </code></pre> 
 <p>åœ¨package.json é‡Œé¢çš„lint-staged æ–°å¢Â <code>"eslint \--fix"</code></p> 
 <img src="https://images2.imgbox.com/79/57/vgOhQYkD_o.png" alt="dcb11243d3603e678cd0f5dd0d61aa51.png"> 
 <figcaption>
   1634719305(1).png 
 </figcaption> 
 <p>æœ€åä½ çš„ vscode è¦å®‰è£…è¿™ä¸‰ä¸ªåŒåæ‰©å±•æ’ä»¶ï¼Œè¿™æ—¶å€™åˆ†åˆ«å»æ›´æ”¹ jsã€less æ–‡ä»¶ï¼Œä¼šå‘ç°å·²ç»æœ‰é£æ ¼æ ¡éªŒäº†ã€‚</p> 
 <p><code>éªŒè¯</code></p> 
 <img src="https://images2.imgbox.com/26/34/665H5SDs_o.png" alt="b5d9bbcdb60d65fc14ddba9fe46b23ef.png"> 
 <figcaption>
   7d684cab2e5ef8d167c81653582af15.jpg 
 </figcaption> 
 <p>ä¿®æ”¹<code>src/paegs</code>æ–‡ä»¶å¤¹ä¸‹çš„<code>index.tsx</code>æ–‡ä»¶,æ–°å¢ä¸€ä¸ªaå˜é‡,æœ‰eslinté”™è¯¯æç¤º,è¯´æ˜eslintç”Ÿæ•ˆäº†</p> 
 <p>ç„¶åå†å•ç‹¬æäº¤index.tsxè¿™ä¸€ä¸ªæ–‡ä»¶</p> 
 <img src="https://images2.imgbox.com/66/f8/745w09lI_o.png" alt="f6fe1f1bc974d813eed675abdd944519.png"> 
 <figcaption>
   f87c265f5003a8899498b860baa64ce.png 
 </figcaption> 
 <p>ä¼šæç¤ºæœ‰é”™è¯¯,æ— æ³•æäº¤ï¼Œè¯´æ˜<code>pre-commmit</code>Â é’©å­ç”Ÿæ•ˆ</p> 
 <h3>ä¿å­˜æ—¶è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç </h3> 
 <p>åœ¨vscodeè®¾ç½® æ–‡æœ¬ç¼–è¾‘å™¨çš„æ ¼å¼åŒ–é‡Œé¢ å‹¾é€‰Format on Save</p> 
 <img src="https://images2.imgbox.com/41/b3/KpYBY4ui_o.png" alt="9134e4fc88d7e924ad792a05eebe159e.png"> 
 <figcaption>
   1.png 
 </figcaption> 
 <h3>æˆ‘çš„eslintï¼Œæˆ–è€…prettier ä¸ç”Ÿæ•ˆï¼Ÿ</h3> 
 <img src="https://images2.imgbox.com/2a/68/xVWOwEii_o.png" alt="3e4d4f1f588cf44d2cd5016b662c4148.png"> 
 <figcaption>
   222.png 
 </figcaption> 
 <p>å»åˆ°ç»ˆç«¯é‡Œçš„è¾“å‡ºï¼Œæ‰¾åˆ°eslintæˆ–è€…prettier çœ‹ä»–ä»¬çš„è¾“å‡ºæ—¥å¿—ï¼Œæ˜¯å¦æ­£å¸¸ã€‚å¦‚æœæœ‰æŠ¥é”™ï¼Œæ ¹æ®æŠ¥é”™ä¿¡æ¯å¤„ç†é—®é¢˜</p> 
 <p><code>æ£€æŸ¥æ­¥éª¤</code>:</p> 
 <ul><li><p>ç¡®ä¿å®‰è£…umi-fabric</p></li><li><p>æ£€æŸ¥é…ç½®æ–‡ä»¶æ˜¯å¦å­˜åœ¨</p></li><li><p>vscode å¾—eslint å’Œprettier æ’ä»¶æ˜¯å¦ä¸‹è½½</p></li><li><p>ç¡®è®¤è¾“å‡ºæ—¥å¿—ï¼Œæ˜¯å¦æœ‰æŠ¥é”™</p></li></ul> 
 <h3>pre-commitæ—¶çš„lint-staged ä¸ç”Ÿæ•ˆ</h3> 
 <p>åœ¨package.jsonä¸­ æˆ‘ä»¬é…ç½®äº†å¦‚ä¸‹å¾—ä»£ç </p> 
 <img src="https://images2.imgbox.com/a7/29/n2PrRFnr_o.png" alt="83019b8cc7f1644f5e0dcb2463415e08.png"> 
 <figcaption>
   565.png 
 </figcaption> 
 <p>æ„æ€æ˜¯ åœ¨ä»£ç commitä¹‹å‰ æ‰§è¡Œprettieræ ¼å¼åŒ–ä»£ç å’Œeslint fix å¦‚æœä½ åœ¨æäº¤ä»£ç çš„æ—¶å€™æ²¡æœ‰ç”Ÿæ•ˆï¼Œè¯·æ‰§è¡Œ</p> 
 <pre class="has"><code class="language-go">yarnÂ installÂ --force
å¤åˆ¶ä»£ç </code></pre> 
 <p>æ‰§è¡Œè¿™ä¸ªå‘½ä»¤é‡æ–°æ‹‰å–ä¾èµ–</p> 
 <h3>ä¸ç”Ÿæ•ˆçš„åŸå› ï¼Ÿ</h3> 
 <p>è‡ªå·±åˆšå¼€å§‹ä¹Ÿæ˜¯å„ç§googleï¼ŒæŸ¥çœ‹æ–‡æ¡£ï¼Œä¹Ÿæ²¡æœ‰æ‰¾å‡ºåŸå› ï¼Œæœ€ååœ¨umi2çš„ä¸€ä¸ªissueé‡Œé¢ï¼Œè‡ªå·±æ‰¾åˆ°äº†ç­”æ¡ˆã€‚</p> 
 <p>åŸå› åœ¨äºæˆ‘ä»¬åˆå§‹åŒ–gitä»“åº“çš„é¡ºåºï¼Œå¦‚æœæˆ‘ä»¬å…ˆåˆå§‹åŒ–gitä»“åº“ ç„¶åå†åˆ›å»ºé¡¹ç›®ï¼Œå†æ‹‰å–ä¾èµ–ã€‚æ˜¯æ²¡æœ‰ä»»ä½•é—®é¢˜çš„ã€‚</p> 
 <p>å¦‚æœæˆ‘ä»¬å…ˆåˆ›å»ºäº†umié¡¹ç›®ï¼Œæ‹‰å»ä¾èµ–ï¼Œæœ€ååˆå§‹åŒ–gitï¼Œæäº¤ä»£ç åˆ°gitä»“åº“ï¼Œå½“æˆ‘ä»¬æ‹‰å»ä¾èµ–æ—¶ï¼Œ è¿™æ˜¯å°±è¿˜æ²¡æœ‰.git å°±æ²¡æœ‰ç”Ÿæˆç›¸å…³çš„pre-commitï¼Œæ‰€ä»¥å°±æ²¡æœ‰ç”Ÿæ•ˆã€‚æ‰€ä»¥è¿™æ—¶æˆ‘ä»¬å°±åªéœ€è¦åœ¨é‡æ–°æ‹‰å–ä¸‹ä¾èµ–å°±å¯ä»¥äº†ã€‚</p> 
 <h2>é…ç½®cssåˆå§‹åŒ–ä»£ç </h2> 
 <p><code>ä¸ºä»€ä¹ˆè¦åˆå§‹åŒ–css</code></p> 
 <p>å»ºç«™è€æ‰‹éƒ½çŸ¥é“ï¼Œè¿™æ˜¯ä¸ºäº†è€ƒè™‘åˆ°æµè§ˆå™¨çš„å…¼å®¹é—®é¢˜ï¼Œå…¶å®ä¸åŒæµè§ˆå™¨å¯¹æœ‰äº›æ ‡ç­¾çš„é»˜è®¤å€¼æ˜¯ä¸åŒçš„ï¼Œå¦‚æœæ²¡å¯¹CSSåˆå§‹åŒ–å¾€å¾€ä¼šå‡ºç°æµè§ˆå™¨ä¹‹é—´çš„é¡µé¢å·®å¼‚ã€‚å½“ç„¶ï¼Œåˆå§‹åŒ–æ ·å¼ä¼šå¯¹SEOæœ‰ä¸€å®šçš„å½±å“ï¼Œä½†é±¼å’Œç†ŠæŒä¸å¯å…¼å¾—ï¼Œä½†åŠ›æ±‚å½±å“æœ€å°çš„æƒ…å†µä¸‹åˆå§‹åŒ–ã€‚</p> 
 <p>æœ€ç®€å•çš„åˆå§‹åŒ–æ–¹æ³•å°±æ˜¯ï¼š<code>* {padding: 0; margin: 0;}</code>Â ã€‚æœ‰å¾ˆå¤šäººä¹Ÿæ˜¯è¿™æ ·å†™çš„ã€‚è¿™ç¡®å®å¾ˆç®€å•ï¼Œä½†æœ‰äººå°±ä¼šæ„Ÿåˆ°ç–‘é—®ï¼š*å·è¿™æ ·ä¸€ä¸ªé€šç”¨ç¬¦åœ¨ç¼–å†™ä»£ç çš„æ—¶å€™æ˜¯å¿«ï¼Œä½†å¦‚æœç½‘ç«™å¾ˆå¤§ï¼ŒCSSæ ·å¼è¡¨æ–‡ä»¶å¾ˆå¤§ï¼Œè¿™æ ·å†™çš„è¯ï¼Œä»–ä¼šæŠŠæ‰€æœ‰çš„æ ‡ç­¾éƒ½åˆå§‹åŒ–ä¸€éï¼Œè¿™æ ·å°±å¤§å¤§çš„åŠ å¼ºäº†ç½‘ç«™è¿è¡Œçš„è´Ÿè½½ï¼Œä¼šä½¿ç½‘ç«™åŠ è½½çš„æ—¶å€™éœ€è¦å¾ˆé•¿ä¸€æ®µæ—¶é—´ã€‚</p> 
 <p>CSSåˆå§‹åŒ–æ˜¯æŒ‡é‡è®¾æµè§ˆå™¨çš„æ ·å¼ã€‚ä¸åŒçš„æµè§ˆå™¨é»˜è®¤çš„æ ·å¼å¯èƒ½ä¸å°½ç›¸åŒï¼Œæ‰€ä»¥å¼€å‘æ—¶çš„ç¬¬ä¸€ä»¶äº‹å¯èƒ½å°±æ˜¯å¦‚ä½•æŠŠå®ƒä»¬ç»Ÿä¸€ã€‚å¦‚æœæ²¡å¯¹CSSåˆå§‹åŒ–å¾€å¾€ä¼šå‡ºç°æµè§ˆå™¨ä¹‹é—´çš„é¡µé¢å·®å¼‚ã€‚æ¯æ¬¡æ–°å¼€å‘ç½‘ç«™æˆ–æ–°ç½‘é¡µæ—¶å€™é€šè¿‡åˆå§‹åŒ–CSSæ ·å¼çš„å±æ€§ï¼Œä¸ºæˆ‘ä»¬å°†ç”¨åˆ°çš„CSSæˆ–htmlæ ‡ç­¾æ›´åŠ æ–¹ä¾¿å‡†ç¡®ï¼Œä½¿å¾—æˆ‘ä»¬å¼€å‘ç½‘é¡µå†…å®¹æ—¶æ›´åŠ æ–¹ä¾¿ç®€æ´ï¼ŒåŒæ—¶å‡å°‘CSSä»£ç é‡ï¼ŒèŠ‚çº¦ç½‘é¡µä¸‹è½½æ—¶é—´ã€‚</p> 
 <p>Umi ä¸­çº¦å®šÂ <code>src/global.css</code>Â ä¸ºå…¨å±€æ ·å¼ï¼Œå¦‚æœå­˜åœ¨æ­¤æ–‡ä»¶ï¼Œä¼šè¢«è‡ªåŠ¨å¼•å…¥åˆ°å…¥å£æ–‡ä»¶æœ€å‰é¢ã€‚</p> 
 <p>srcä¸‹é¢æ–°å»º<code>global.css</code>,ä»£ç å¦‚ä¸‹</p> 
 <pre class="has"><code class="language-go">body,
ol,
ul,
h1,
h2,
h3,
h4,
h5,
h6,
p,
th,
td,
dl,
dd,
form,
fieldset,
legend,
input,
textarea,
select,
figure,
figcaptionÂ {
Â Â margin:Â 0;
Â Â padding:Â 0;
}

liÂ {
Â Â list-style-type:Â none;
}
aÂ {
Â Â text-decoration:Â none;
}

a:hoverÂ {
Â Â text-decoration:Â underline;
}
imgÂ {
Â Â border:Â none;
}
inputÂ {
Â Â outline:Â none;
}

å¤åˆ¶ä»£ç </code></pre> 
 <h2>é…ç½®æ–‡ä»¶</h2> 
 <p>Umi åœ¨Â <code>.umirc.ts</code>Â æˆ–Â <code>config/config.ts</code>Â ä¸­é…ç½®é¡¹ç›®å’Œæ’ä»¶ï¼Œæ”¯æŒ es6ã€‚</p> 
 <p>å¦‚æœé¡¹ç›®çš„é…ç½®ä¸å¤æ‚ï¼Œæ¨èåœ¨Â <code>.umirc.ts</code>Â ä¸­å†™é…ç½®ï¼›å¦‚æœé¡¹ç›®çš„é…ç½®æ¯”è¾ƒå¤æ‚ï¼Œå¯ä»¥å°†é…ç½®å†™åœ¨Â <code>config/config.ts</code>Â ä¸­ï¼Œå¹¶æŠŠé…ç½®çš„ä¸€éƒ¨åˆ†æ‹†åˆ†å‡ºå»ï¼Œæ¯”å¦‚è·¯ç”±é…ç½®å¯ä»¥æ‹†åˆ†æˆå•ç‹¬çš„Â <code>routes.ts</code></p> 
 <p>æ¨èä¸¤ç§é…ç½®æ–¹å¼äºŒé€‰ä¸€ï¼Œ<code>.umirc.ts</code>Â ä¼˜å…ˆçº§æ›´é«˜ã€‚</p> 
 <p>æˆ‘ä»¬é‡‡ç”¨configçš„æ–¹å¼,åˆ é™¤.umirc.ts,æ ¹ç›®å½•æ–°å»º<code>config</code>æ–‡ä»¶å¤¹, åœ¨é‡Œé¢æ–°å»ºconfig.ts</p> 
 <p>é»˜è®¤å†…å®¹å¦‚ä¸‹</p> 
 <pre class="has"><code class="language-go">importÂ {Â defineConfigÂ }Â fromÂ 'umi';

exportÂ defaultÂ defineConfig({
Â Â nodeModulesTransform:Â {
Â Â Â Â type:Â 'none',
Â Â },
Â Â routes:Â [
Â Â Â Â {Â path:Â '/',Â component:Â '@/pages/index'Â },
Â Â ],
Â Â fastRefresh:Â {},
});
å¤åˆ¶ä»£ç </code></pre> 
 <h2>å¤šç¯å¢ƒå¤šé…ç½®æ–‡ä»¶</h2> 
 <p>å¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡Â <code>UMI_ENV</code>Â åŒºåˆ†ä¸åŒç¯å¢ƒæ¥æŒ‡å®šé…ç½®ã€‚</p> 
 <p>ä¸ºäº†å…¼å®¹æ€§,å¯å€ŸåŠ©ä¸‰æ–¹å·¥å…·Â cross-env<sup>[7]</sup>æ¥è®¾ç½®ç¯å¢ƒå˜é‡</p> 
 <pre class="has"><code class="language-go">yarnÂ addÂ cross-envÂ --dev
å¤åˆ¶ä»£ç </code></pre> 
 <p>åœ¨package.jsonä¸­çš„<code>script</code>ä¸­</p> 
 <pre class="has"><code class="language-go">"start":Â "cross-envÂ UMI_ENV=devÂ umiÂ dev",
Â Â Â Â "start:test":Â "cross-envÂ UMI_ENV=testÂ umiÂ dev",
Â Â Â Â "start:prd":Â "cross-envÂ UMI_ENV=prdÂ umiÂ dev",
Â Â Â Â "build":Â "cross-envÂ UMI_ENV=devÂ umiÂ build",
Â Â Â Â "build:test":Â "cross-envÂ UMI_ENV=testÂ umiÂ build",
Â Â Â Â "build:prd":Â "cross-envÂ UMI_ENV=prdÂ umiÂ build",
å¤åˆ¶ä»£ç </code></pre> 
 <p>ç„¶åå†configæ–‡ä»¶å¤¹ä¸‹ æ–°å»º</p> 
 <p><code>config.dev.ts</code>,<code>config.test.ts</code>,<code>config.prd.ts</code></p> 
 <p>ä»£è¡¨å¼€å‘ç¯å¢ƒ,æµ‹è¯•ç¯å¢ƒ,ç”Ÿäº§ç¯å¢ƒçš„é…ç½®æ–‡ä»¶.</p> 
 <p><code>config.dev.ts</code></p> 
 <pre class="has"><code class="language-go">importÂ {Â defineConfigÂ }Â fromÂ 'umi';
exportÂ defaultÂ defineConfig({
Â Â define:Â {
Â Â Â Â CurrentEnvironment:Â 'dev',
Â Â },
});

å¤åˆ¶ä»£ç </code></pre> 
 <p><code>config.test.ts</code></p> 
 <pre class="has"><code class="language-go">importÂ {Â defineConfigÂ }Â fromÂ 'umi';
exportÂ defaultÂ defineConfig({
Â Â define:Â {
Â Â Â Â CurrentEnvironment:Â 'test',
Â Â },
});

å¤åˆ¶ä»£ç </code></pre> 
 <p><code>config.prd.ts</code></p> 
 <pre class="has"><code class="language-go">importÂ {Â defineConfigÂ }Â fromÂ 'umi';
exportÂ defaultÂ defineConfig({
Â Â define:Â {
Â Â Â Â CurrentEnvironment:Â 'prd',
Â Â },
});

å¤åˆ¶ä»£ç </code></pre> 
 <p><code>CurrentEnvironment</code>Â å˜é‡ä»£è¡¨å½“å‰çš„ç¯å¢ƒï¼Œåé¢æ ¹æ®ä¸åŒçš„ç¯å¢ƒé…ç½®ä¸åŒçš„è¯·æ±‚åœ°å€ä¼šç”¨åˆ°</p> 
 <p>define<sup>[8]</sup>Â ç”¨äºæä¾›ç»™ä»£ç ä¸­å¯ç”¨çš„å˜é‡,å®šä¹‰çš„å˜é‡å¯ä»¥å…¨å±€æ‹¿åˆ°</p> 
 <p>è¿™æ—¶ æ‰§è¡ŒÂ <code>yarn start:prd</code>,ç„¶åå»åˆ°pagesçš„index.tsxæ‰“å°<code>CurrentEnvironment</code>.</p> 
 <img src="https://images2.imgbox.com/64/88/JjsM0ASH_o.png" alt="1a7d2ff3e71bb518284274c73dce9e95.png"> 
 <figcaption>
   b49bd8611d5c6403479a1547ba4bbc6.png 
 </figcaption> 
 <p>è¿™æ—¶éœ€è¦å»åˆ°æ ¹ç›®å½•çš„Â <code>typings.d.ts</code>Â æ·»åŠ </p> 
 <pre class="has"><code class="language-go">//Â å£°æ˜å½“å‰çš„ç¯å¢ƒ
declareÂ constÂ CurrentEnvironment:Â 'dev'Â |Â 'test'Â |Â 'prd';
å¤åˆ¶ä»£ç </code></pre> 
 <p>ç„¶åæŠ¥é”™æ¶ˆå¤± æ§åˆ¶å°æ‰“å°å¦‚ä¸‹</p> 
 <img src="https://images2.imgbox.com/27/11/8UZ4yYg8_o.png" alt="c807322f64fca062a9afbca6e433414f.png"> 
 <figcaption>
   1634721237(1).png 
 </figcaption> 
 <p>è¿™æ—¶ é‡æ–°æ‰§è¡Œ<code>yanr start:test</code>Â æ§åˆ¶å°æ‰“å°å¦‚ä¸‹</p> 
 <img src="https://images2.imgbox.com/76/53/FB253Gx8_o.png" alt="367c8e2ab9a699894799b051a13f9858.png"> 
 <figcaption>
   11.png 
 </figcaption> 
 <p>ç¯å¢ƒå˜é‡å’Œå¤šç¯å¢ƒå¤šé…ç½® æˆåŠŸ</p> 
 <p><code>**æ³¨æ„ç‚¹**</code>:</p> 
 <p><code>config.ts</code>ä½œä¸ºé…ç½®æ–‡ä»¶æ—¶ï¼Œè®°å¾—åˆ é™¤<code>.umirc.ts</code>Â ä¸ç„¶config.tsä¸ä¼šç”Ÿæ•ˆã€‚</p> 
 <h2>è‡ªå®šä¹‰ç¯å¢ƒå˜é‡</h2> 
 <p>å¦‚æœæˆ‘ä»¬æƒ³è‡ªå®šä¹‰ä¸€ä¸ªç¯å¢ƒå˜é‡,REACT_APP_ENV. åŒæ ·æˆ‘ä»¬å¯ä»¥åœ¨<code>package.json</code>é‡Œé¢è®¾ç½®</p> 
 <img src="https://images2.imgbox.com/d1/b0/X0kWkulP_o.png" alt="ca89997734e4004405eb525921304b85.png"> 
 <figcaption>
   1634783299(1).png 
 </figcaption> 
 <p>ç„¶åæˆ‘ä»¬è¦è¿™æ ·æ‹¿åˆ°è¿™ä¸ªå˜é‡å‘¢?</p> 
 <p>é¦–å…ˆ æˆ‘ä»¬è¦åœ¨<code>config.ts</code>Â çš„Â <code>define</code>Â é…ç½®</p> 
 <pre class="has"><code class="language-go">define:Â {
Â Â Â Â REACT_APP_ENV:Â process.env.REACT_APP_ENV,
},
å¤åˆ¶ä»£ç </code></pre> 
 <p>ç„¶åå†åœ¨æ ¹ç›®å½•çš„Â <code>typings.d.ts</code>Â å®šä¹‰</p> 
 <pre class="has"><code class="language-go">declareÂ constÂ REACT_APP_ENV:Â string;
å¤åˆ¶ä»£ç </code></pre> 
 <p>è¿™æ ·å°±å¯ä»¥ä»¥åœ¨å…¨å±€ä¸­æ‹¿åˆ°å’Œä½¿ç”¨Â <code>REACT_APP_ENV</code>è¿™ä¸ªç¯å¢ƒå˜é‡äº†.</p> 
 <p>å¯ä»¥åœ¨ä»»æ„ç»„ä»¶ ç›´æ¥æ‰“å°</p> 
 <pre class="has"><code class="language-go">console.log('è‡ªå®šä¹‰ç¯å¢ƒå˜é‡',Â REACT_APP_ENV);
å¤åˆ¶ä»£ç </code></pre> 
 <h2>ç³»ç»Ÿè‡ªå¸¦çš„ç¯å¢ƒå˜é‡</h2> 
 <p>å®˜æ–¹æä¾›çš„ç¯å¢ƒå˜é‡<sup>[9]</sup></p> 
 <p>æ€ä¹ˆä½¿ç”¨?</p> 
 <p>åœ¨æ ¹ç›®å½•æ–°å»º<code>.env</code>Â ç¯å¢ƒå˜é‡é…ç½®æ–‡ä»¶</p> 
 <p>ç„¶åå†™å…¥</p> 
 <pre class="has"><code class="language-go">PORT=3000Â Â //Â è¡¨ç¤ºå¯åŠ¨çš„ç«¯å£å·ä¸º3000
COMPRESSÂ =Â noneÂ Â //Â ä¸å‹ç¼©Â CSSÂ å’ŒÂ JS
å¤åˆ¶ä»£ç </code></pre> 
 <p>è¿˜æœ‰ä¸€äº›ç¯å¢ƒå˜é‡ ä¸èƒ½é…åœ¨Â <code>.env</code>Â ä¸­ï¼Œåªèƒ½åœ¨å‘½ä»¤è¡Œé‡Œæ·»åŠ </p> 
 <p>æ¯”å¦‚Â <code>FORK_TS_CHECKER</code>Â é»˜è®¤ä¸å¼€å¯ TypeScript ç±»å‹æ£€æŸ¥ï¼Œå€¼ä¸ºÂ <code>1</code>Â æ—¶å¯ç”¨ã€‚</p> 
 <pre class="has"><code class="language-go">"start":Â "cross-envÂ FORK_TS_CHECKER=1Â UMI_ENV=devÂ umiÂ dev",
å¤åˆ¶ä»£ç </code></pre> 
 <h2>è¯·æ±‚çš„å°è£…</h2> 
 <p>srcæ–‡ä»¶å¤¹ä¸‹æ–°å»ºÂ <code>request</code>æ–‡ä»¶å¤¹ æ–°å»º<code>request.ts</code></p> 
 <p><code>request.ts</code></p> 
 <pre class="has"><code class="language-go">/**
Â *Â ç½‘ç»œè¯·æ±‚å·¥å…·Â å°è£…umi-request
Â *Â æ›´è¯¦ç»†çš„Â apiÂ æ–‡æ¡£:Â https://github.com/umijs/umi-request
Â */

importÂ {Â extendÂ }Â fromÂ 'umi-request';
importÂ typeÂ {Â RequestOptionsInitÂ }Â fromÂ 'umi-request';
importÂ {Â notificationÂ }Â fromÂ 'antd';

//Â codeMessageä»…ä¾›å‚è€ƒÂ å…·ä½“æ ¹æ®å’Œåç«¯åå•†,åœ¨è¯¦ç»†å®šä¹‰.
constÂ codeMessageÂ =Â {
Â Â 200:Â 'æœåŠ¡å™¨æˆåŠŸè¿”å›è¯·æ±‚çš„æ•°æ®ã€‚',
Â Â 400:Â 'å‘å‡ºçš„è¯·æ±‚æœ‰é”™è¯¯ï¼ŒæœåŠ¡å™¨æ²¡æœ‰è¿›è¡Œæ–°å»ºæˆ–ä¿®æ”¹æ•°æ®çš„æ“ä½œã€‚',
Â Â 500:Â 'æœåŠ¡å™¨å‘ç”Ÿé”™è¯¯ï¼Œè¯·æ£€æŸ¥æœåŠ¡å™¨ã€‚',
};
typeÂ mapCodeÂ =Â 200Â |Â 400Â |Â 500;

/**
Â *Â é”™è¯¯å¼‚å¸¸å¤„ç†ç¨‹åº
Â */
constÂ errorHandlerÂ =Â (error:Â {Â response:Â ResponseÂ }):Â ResponseÂ =&gt;Â {
Â Â constÂ {Â responseÂ }Â =Â error;
Â Â ifÂ (responseÂ &amp;&amp;Â response.status)Â {
Â Â Â Â letÂ errorTextÂ =Â codeMessage[response.statusÂ asÂ mapCode]Â ||Â response.statusText;
Â Â Â Â constÂ {Â status,Â urlÂ }Â =Â response;
Â Â Â Â response
Â Â Â Â Â Â ?.clone()
Â Â Â Â Â Â ?.json()
Â Â Â Â Â Â ?.then((res)Â =&gt;Â {
Â Â Â Â Â Â Â Â //Â åç«¯è¿”å›é”™è¯¯ä¿¡æ¯,å°±ç”¨åç«¯ä¼ å›çš„
Â Â Â Â Â Â Â Â errorTextÂ =Â res.msgÂ ?Â res.msgÂ :Â errorText;
Â Â Â Â Â Â Â Â notification.error({
Â Â Â Â Â Â Â Â Â Â message:Â `è¯·æ±‚é”™è¯¯Â ${status}:Â ${url}`,
Â Â Â Â Â Â Â Â Â Â description:Â errorText,
Â Â Â Â Â Â Â Â });
Â Â Â Â Â Â });
Â Â }Â elseÂ ifÂ (!response)Â {
Â Â Â Â notification.error({
Â Â Â Â Â Â description:Â 'æ‚¨çš„ç½‘ç»œå‘ç”Ÿå¼‚å¸¸ï¼Œæ— æ³•è¿æ¥æœåŠ¡å™¨',
Â Â Â Â Â Â message:Â 'ç½‘ç»œå¼‚å¸¸',
Â Â Â Â });
Â Â }
Â Â returnÂ response;
};

/**
Â *Â é…ç½®requestè¯·æ±‚æ—¶çš„é»˜è®¤å‚æ•°
Â */
constÂ requestÂ =Â extend({
Â Â errorHandler,Â //Â é»˜è®¤é”™è¯¯å¤„ç†
Â Â credentials:Â 'include',Â //Â é»˜è®¤è¯·æ±‚æ˜¯å¦å¸¦ä¸Šcookie
});

//Â æ ¹æ®ä¸åŒçš„å¼€å‘ç¯å¢ƒ,é…ç½®è¯·æ±‚å‰ç¼€
interfaceÂ ApiPrefixÂ {
Â Â dev:Â string;
Â Â test:Â string;
Â Â prd:Â string;
}
constÂ apiPreFix:Â ApiPrefixÂ =Â {
Â Â dev:Â 'http://120.55.193.14:3030/',
Â Â test:Â 'http://120.55.193.14:3030/',
Â Â prd:Â 'http://120.55.193.14:3030/',
};
//Â requestæ‹¦æˆªå™¨,Â æºå¸¦token,ä»¥åŠæ ¹æ®ç¯å¢ƒ,é…ç½®ä¸åŒçš„è¯·æ±‚å‰ç¼€
request.interceptors.request.use((url:Â string,Â options:Â RequestOptionsInit)Â =&gt;Â {
Â Â //Â ä¸æºå¸¦tokençš„è¯·æ±‚æ•°ç»„
Â Â letÂ notCarryTokenArr:Â string[]Â =Â [];
Â Â ifÂ (notCarryTokenArr.includes(url))Â {
Â Â Â Â returnÂ {
Â Â Â Â Â Â url:Â `${apiPreFix[CurrentEnvironment]}${url}`,
Â Â Â Â Â Â options,
Â Â Â Â };
Â Â }
Â Â //Â ç»™æ¯ä¸ªè¯·æ±‚å¸¦ä¸Štoken
Â Â letÂ tokenÂ =Â localStorage.getItem('tokens')Â ||Â '';
Â Â letÂ headersÂ =Â {
Â Â Â Â Authorization:Â `BearerÂ ${token}`,
Â Â };
Â Â returnÂ {
Â Â Â Â url:Â `${apiPreFix[CurrentEnvironment]}${url}`,
Â Â Â Â options:Â {Â ...options,Â interceptors:Â true,Â headersÂ },
Â Â };
});

/**
Â *Â @urlÂ è¯·æ±‚çš„url
Â *Â @parameterÂ ä¸Šä¼ çš„å‚æ•°
Â */

//Â å°è£…çš„get,post.put,deleteè¯·æ±‚
constÂ getÂ =Â asyncÂ (url:Â string,Â parameter?:Â Record&lt;string,Â unknown&gt;):Â Promise&lt;any&gt;Â =&gt;Â {
Â Â tryÂ {
Â Â Â Â constÂ resÂ =Â awaitÂ request(url,Â {Â method:Â 'get',Â params:Â parameterÂ });
Â Â Â Â returnÂ res;
Â Â }Â catchÂ (error)Â {
Â Â Â Â console.error(error);
Â Â }
};
constÂ deletesÂ =Â asyncÂ (url:Â string,Â parameter?:Â Record&lt;string,Â unknown&gt;):Â Promise&lt;any&gt;Â =&gt;Â {
Â Â tryÂ {
Â Â Â Â constÂ resÂ =Â awaitÂ request(url,Â {Â method:Â 'delete',Â params:Â parameterÂ });
Â Â Â Â returnÂ res;
Â Â }Â catchÂ (error)Â {
Â Â Â Â console.error(error);
Â Â }
};
constÂ postÂ =Â asyncÂ (url:Â string,Â parameter?:Â Record&lt;string,Â unknown&gt;):Â Promise&lt;any&gt;Â =&gt;Â {
Â Â tryÂ {
Â Â Â Â constÂ resÂ =Â awaitÂ request(url,Â {Â method:Â 'post',Â data:Â parameterÂ });
Â Â Â Â returnÂ res;
Â Â }Â catchÂ (error)Â {
Â Â Â Â console.error(error);
Â Â }
};
constÂ putÂ =Â asyncÂ (url:Â string,Â parameter?:Â Record&lt;string,Â unknown&gt;):Â Promise&lt;any&gt;Â =&gt;Â {
Â Â tryÂ {
Â Â Â Â constÂ resÂ =Â awaitÂ request(url,Â {Â method:Â 'put',Â data:Â parameterÂ });
Â Â Â Â returnÂ res;
Â Â }Â catchÂ (error)Â {
Â Â Â Â console.error(error);
Â Â }
};

exportÂ defaultÂ {
Â Â get,
Â Â post,
Â Â put,
Â Â deletes,
};
å¤åˆ¶ä»£ç </code></pre> 
 <p>è¿™é‡Œå°è£…äº†umi-request,ç»Ÿä¸€å¤„ç†äº†æ¥å£é”™è¯¯,è¯·æ±‚æ‹¦æˆªå™¨æºå¸¦tokenç­‰.æœ€ååœ¨é…åˆuseRequest éå¸¸çš„å¥½ç”¨.</p> 
 <h2>umiä¸­ä½¿ç”¨dva</h2> 
 <h3>ä»‹ç»</h3> 
 <p>åŒ…å«ä»¥ä¸‹åŠŸèƒ½ï¼Œ</p> 
 <ul><li><p><strong>å†…ç½® dva</strong>ï¼Œé»˜è®¤ç‰ˆæœ¬æ˜¯Â <code>^2.6.0-beta.20</code>ï¼Œå¦‚æœé¡¹ç›®ä¸­æœ‰ä¾èµ–ï¼Œä¼šä¼˜å…ˆä½¿ç”¨é¡¹ç›®ä¸­ä¾èµ–çš„ç‰ˆæœ¬ã€‚</p></li><li><p><strong>çº¦å®šå¼çš„ model ç»„ç»‡æ–¹å¼</strong>ï¼Œä¸ç”¨æ‰‹åŠ¨æ³¨å†Œ model</p></li><li><p><strong>æ–‡ä»¶åå³ namespace</strong>ï¼Œmodel å†…å¦‚æœæ²¡æœ‰å£°æ˜ namespaceï¼Œä¼šä»¥æ–‡ä»¶åä½œä¸º namespace</p></li><li><p><strong>å†…ç½® dva-loading</strong>ï¼Œç›´æ¥ connectÂ <code>loading</code>Â å­—æ®µä½¿ç”¨å³å¯</p></li><li><p><strong>æ”¯æŒ immer</strong>ï¼Œé€šè¿‡é…ç½®Â <code>immer</code>Â å¼€å¯</p></li></ul> 
 <h3>çº¦å®šå¼çš„ model ç»„ç»‡æ–¹å¼</h3> 
 <p>ç¬¦åˆä»¥ä¸‹è§„åˆ™çš„æ–‡ä»¶ä¼šè¢«è®¤ä¸ºæ˜¯ model æ–‡ä»¶ï¼Œ</p> 
 <ul><li><p><code>src/models</code>Â ä¸‹çš„æ–‡ä»¶</p></li><li><p><code>src/pages</code>Â ä¸‹ï¼Œå­ç›®å½•ä¸­ models ç›®å½•ä¸‹çš„æ–‡ä»¶</p></li><li><p><code>src/pages</code>Â ä¸‹ï¼Œæ‰€æœ‰ model.ts æ–‡ä»¶(ä¸åŒºåˆ†ä»»ä½•å­—æ¯å¤§å°å†™)</p></li></ul> 
 <h3>å®é™…ä½¿ç”¨</h3> 
 <p>æ¯”å¦‚åœ¨srcä¸‹æ–°å»º modelsæ–‡ä»¶å¤¹,é‡Œé¢æ–°å»º<code>test.ts</code></p> 
 <p><code>test.ts</code></p> 
 <pre class="has"><code class="language-go">importÂ typeÂ {Â Effect,Â Reducer,Â SubscriptionÂ }Â fromÂ 'umi';Â //Â æ˜ å…¥umiÂ å®šä¹‰å¥½çš„tsç±»å‹
importÂ axiosÂ fromÂ '../request/request';Â //Â å¼•å…¥å°è£…å¥½çš„ç½‘ç»œè¯·æ±‚

//Â stateÂ æ¥å£
exportÂ interfaceÂ TextModelStateÂ {
Â Â name?:Â string;
Â Â testData?:Â string;
}

//Â testÂ modelæ¥å£
exportÂ interfaceÂ TextModelTypeÂ {
Â Â namespace:Â 'testModel';
Â Â state:Â TextModelState;
Â Â effects:Â {
Â Â Â Â query:Â Effect;
Â Â };
Â Â reducers:Â {
Â Â Â Â save:Â Reducer&lt;TextModelState&gt;;
Â Â Â Â msg:Â Reducer&lt;TextModelState&gt;;
Â Â };
Â Â subscriptions?:Â {Â setup:Â SubscriptionÂ };
}

constÂ IndexModel:Â TextModelTypeÂ =Â {
Â Â namespace:Â 'testModel',
Â Â state:Â {
Â Â Â Â name:Â 'åˆå§‹åå­—',
Â Â Â Â testData:Â 'åˆå§‹testData',
Â Â },
Â Â effects:Â {
Â Â Â Â *query(action,Â {Â call,Â putÂ })Â {
Â Â Â Â Â Â constÂ getDataTestÂ =Â asyncÂ ()Â =&gt;Â {
Â Â Â Â Â Â Â Â constÂ dataÂ =Â awaitÂ axios.get('test');
Â Â Â Â Â Â Â Â returnÂ data;
Â Â Â Â Â Â };
Â Â Â Â Â Â letÂ testDataÂ =Â yieldÂ call(getDataTest);
Â Â Â Â Â Â yieldÂ put({
Â Â Â Â Â Â Â Â type:Â 'msg',
Â Â Â Â Â Â Â Â data:Â {Â testData:Â testData?.msgÂ },
Â Â Â Â Â Â });
Â Â Â Â },
Â Â },

Â Â reducers:Â {
Â Â Â Â save(state)Â {
Â Â Â Â Â Â returnÂ {
Â Â Â Â Â Â Â Â ...state,
Â Â Â Â Â Â Â Â name:Â 'jimmy',
Â Â Â Â Â Â };
Â Â Â Â },
Â Â Â Â msg(state,Â action)Â {
Â Â Â Â Â Â returnÂ {
Â Â Â Â Â Â Â Â ...state,
Â Â Â Â Â Â Â Â testData:Â action?.data?.testData,
Â Â Â Â Â Â Â Â testData2:Â action?.data?.testData2,
Â Â Â Â Â Â };
Â Â Â Â },
Â Â },
};
exportÂ defaultÂ IndexModel;

å¤åˆ¶ä»£ç </code></pre> 
 <p>åœ¨src/pagesä¸‹çš„<code>index.tsx</code>ä¸­ä½¿ç”¨</p> 
 <p><code>index.tsx</code></p> 
 <pre class="has"><code class="language-go">importÂ typeÂ {Â Effect,Â Reducer,Â SubscriptionÂ }Â fromÂ 'umi';Â //Â å¼•å…¥umiÂ å®šä¹‰å¥½çš„tsç±»å‹
importÂ axiosÂ fromÂ '../request/request';Â //Â å¼•å…¥å°è£…å¥½çš„ç½‘ç»œè¯·æ±‚

//Â stateÂ æ¥å£
exportÂ interfaceÂ TextModelStateÂ {
Â Â name?:Â string;
Â Â testData?:Â string;
}

//Â testÂ modelæ¥å£
exportÂ interfaceÂ TextModelTypeÂ {
Â Â namespace:Â 'testModel';
Â Â state:Â TextModelState;
Â Â effects:Â {
Â Â Â Â query:Â Effect;
Â Â };
Â Â reducers:Â {
Â Â Â Â save:Â Reducer&lt;TextModelState&gt;;
Â Â Â Â msg:Â Reducer&lt;TextModelState&gt;;
Â Â };
Â Â subscriptions?:Â {Â setup:Â SubscriptionÂ };
}

constÂ IndexModel:Â TextModelTypeÂ =Â {
Â Â namespace:Â 'testModel',
Â Â state:Â {
Â Â Â Â name:Â 'åˆå§‹åå­—',
Â Â Â Â testData:Â 'åˆå§‹testData',
Â Â },
Â Â effects:Â {
Â Â Â Â *query(action,Â {Â call,Â putÂ })Â {
Â Â Â Â Â Â constÂ getDataTestÂ =Â asyncÂ ()Â =&gt;Â {
Â Â Â Â Â Â Â Â constÂ dataÂ =Â awaitÂ axios.get('test');
Â Â Â Â Â Â Â Â returnÂ data;
Â Â Â Â Â Â };
Â Â Â Â Â Â letÂ testDataÂ =Â yieldÂ call(getDataTest);
Â Â Â Â Â Â yieldÂ put({
Â Â Â Â Â Â Â Â type:Â 'msg',
Â Â Â Â Â Â Â Â data:Â {Â testData:Â testData?.msgÂ },
Â Â Â Â Â Â });
Â Â Â Â },
Â Â },

Â Â reducers:Â {
Â Â Â Â save(state)Â {
Â Â Â Â Â Â returnÂ {
Â Â Â Â Â Â Â Â ...state,
Â Â Â Â Â Â Â Â name:Â 'jimmy',
Â Â Â Â Â Â };
Â Â Â Â },
Â Â Â Â msg(state,Â action)Â {
Â Â Â Â Â Â returnÂ {
Â Â Â Â Â Â Â Â ...state,
Â Â Â Â Â Â Â Â testData:Â action?.data?.testData,
Â Â Â Â Â Â Â Â testData2:Â action?.data?.testData2,
Â Â Â Â Â Â };
Â Â Â Â },
Â Â },
};
exportÂ defaultÂ IndexModel;
å¤åˆ¶ä»£ç </code></pre> 
 <h2>mfsu</h2> 
 <p><code>å¯ç”¨ mfsu åï¼Œçƒ­å¯åŠ¨å¾—åˆ°Â **10 å€**Â æå‡ï¼›çƒ­æ›´æ–°æå‡Â **50%** Â ä»¥ä¸Šï¼</code></p> 
 <p>å¦‚ä½•å¯ç”¨</p> 
 <p>åœ¨ config/config.ts ä¸­æ·»åŠ Â <code>mfsu:{}</code></p> 
 <h2>é¡¹ç›®æºä»£ç </h2> 
 <p>è¯·ç‚¹å‡»æˆ‘<sup>[10]</sup></p> 
 <p>å’Œä¸¤ä¸ªå°ä¼™ä¼´ä¸€èµ·,ä¼šæ ¹æ®å®é™…è¿ç”¨ä¸­å‡ºç°çš„é—®é¢˜æˆ–è€…æ²¡æœ‰è€ƒè™‘å®Œå–„çš„åœ°æ–¹,æŒç»­çš„æ›´æ–°è¿­ä»£.å¦‚æœ‰é—®é¢˜,æ¬¢è¿æIssueæˆ–è€…åœ¨è¯„è®ºåŒºç•™è¨€</p> 
 <h2>FAQ</h2> 
 <h3><code>umi</code>Â ä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤</h3> 
 <img src="https://images2.imgbox.com/f2/63/fPukFDrB_o.png" alt="2fba47f86491d3fbbccada3932de9660.png"> 
 <figcaption>
   image.png 
 </figcaption> 
 <p>è§£å†³åŠæ³•</p> 
 <p>æ‰§è¡ŒÂ <code>yarn global bin</code>Â æ‹¿åˆ° bin è·¯å¾„ã€‚ç„¶åæŠŠè¿™ä¸ªè·¯å¾„æ·»åŠ åˆ°ç¯å¢ƒå˜é‡é‡Œé¢çš„ç³»ç»Ÿå˜é‡çš„pathé‡Œé¢</p> 
 <p>å¦‚æœè¿˜æ˜¯ä¸è¡Œï¼Œæ‰§è¡Œ</p> 
 <pre class="has"><code class="language-go">yarnÂ globalÂ addÂ umi
å¤åˆ¶ä»£ç </code></pre> 
 <p><strong>å¦‚é‡åˆ°æ›´å¤šé—®é¢˜ï¼Œè¯·æŸ¥è€ƒ</strong></p> 
 <p>å®˜æ–¹FAQ<sup>[11]</sup></p> 
 <p>å®˜æ–¹ä»“åº“çš„issue<sup>[12]</sup></p> 
 <p><code>å¤§å®¶è¿˜æ˜¯è¦æŠŠå®˜æ–¹æ–‡æ¡£çœ‹ä¸¤éå“¦,ä¸€äº›åŸºç¡€,ç®€å•çš„çŸ¥è¯†æœ¬æ–‡ç« æ²¡æœ‰æ¶‰åŠ.</code></p> 
 <h2>æœ€å</h2> 
 <p>å¦‚æœåç»­è‡ªå·±è¿˜è¸©äº†å‘ï¼Œä¼šç»§ç»­æ›´æ–°ï¼Œå¦‚æœæœ‰ä»€ä¹ˆé”™è¯¯æˆ–è€…å»ºè®®ï¼Œæ¬¢è¿è¯„è®ºåŒºç•™è¨€ï¼Œå¦‚æœè§‰å¾—æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œå°±ç‚¹ä¸ªèµæ”¯æŒä¸€ä¸‹å‘—ã€‚</p> 
 <p>å…³äºæœ¬æ–‡<br></p> 
 <h2>ä½œè€…ï¼šJimmy_kiwi</h2> 
 <p>https://juejin.cn/post/7021358536504393741</p> 
 <p style="text-align:center;">The End<br></p> 
 <p>æ¬¢è¿è‡ªèæŠ•ç¨¿åˆ°ã€Šå‰ç«¯æŠ€æœ¯æ±Ÿæ¹–ã€‹ï¼Œå¦‚æœä½ è§‰å¾—è¿™ç¯‡å†…å®¹å¯¹ä½ æŒºæœ‰å¯å‘ï¼Œè®°å¾—ç‚¹ä¸ªÂ <strong>ã€Œåœ¨çœ‹ã€</strong>å“¦</p> 
 <p style="text-align:right;">ç‚¹ä¸ªã€åœ¨çœ‹ã€æ”¯æŒä¸‹Â <img src="https://images2.imgbox.com/08/00/9Gd6mrp4_o.gif" alt="8c8512125b17dc352000156aa694e29a.gif"></p> 
</div>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/81e6c3af2181acfa1e79fd90bcbee360/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">android ä¼ æ–‡ä»¶çš„åŒäº‹å¸¦å‚æ•°æ€ä¹ˆæ“ä½œ?ä»¥åŠMapä¸­å¤šä¸€å¯¹åŒå¼•å·çš„åŸå› </p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/42b5278a2de43fadee9cde78e9579422/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">Windows10å®‰è£…anaconda</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹çˆ±å¥½è€…åšå®¢.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151260"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>