<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>前后端对接规范初版 - 编程爱好者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="前后端对接规范初版" />
<meta property="og:description" content="写在前面 我认为且希望的工作流程。
1、收到客户新需求
2、产品经理初筛功能并完成原型以及功能点文档（原型需注明每个交互，功能点文档利于管理）
3、项目组开会，产品讲解业务逻辑和功能点，技术人员确定需求可行性
4、分配技术人员，准备开发
5、前后端对接接口返回结构，排查可能出现的问题，满足前后端代码友好，前端性能不受到影响
6、书写接口文档，注明接口中返回字段所对应的内容
7、根据接口文档拿到mock的demo数据，前端先开始开发
8、真实接口完成，前端接入真实接口
9、不断的测试、迭代，中途出现的问题放在版本管理工具中便于查看和确认
10、完成新功能迭代。
谈谈接口 随着前后端的分离,后端工程师不需要编写页面，不需要写JS,只需要提供接口即可,可是就是仅仅这一个接口，对于很多后端开发工程师而言，在实际开发，同前端对接的过程中,依然问题重重
很多后端同学说我只负责写接口,其他我一概不管,这样造成的后果就是
1、接口结构无序、杂乱无章
2、接口和实际业务场景不相匹配、不可用
3、频繁的同前端沟通，简单的事情复杂化,前后端都很恼火
4、事情没做好
后端在编写接口前,首先是对业务的理解,在对业务未理解透彻之前,编码都是无意义的,作为后端来说,需要锻炼自己对整个系统全局考虑的能力,接口之间并非是毫无关联的,我们在写第一个接口之间,其他接口之间的业务逻辑也许考虑到，这在后端团队合作开发不同功能的情况下显得尤为重要.
后端在开发接口时,我觉得主要从以下几个方面需要注意：
接口url 定义
接口类型、参数
全局错误码定义
接口json格式
接口文档编写
接口url定义 对于后端开发人员来说,接口前端入参,最终组合查询数据库资源，经过一系列相关业务场景下的计算，响应给前端json数据，每一层url的path定义需要清晰明了，这和后端在使用AOP定义事务管理同理，后端service需要满足一定的命名规范，这样方便统一管理，而且有这层规范后,后续的前后端对接会轻松很多
为了在许多API和长时间内提供一致的开发人员体验，API使用的所有名称应为：
简单
直觉
一致
这包括接口，资源，集合，方法和消息的名称。
由于许多开发人员不是英文母语人士，因此这些命名约定的目标之一是确保大多数开发人员能够轻松了解API。 它通过鼓励在命名方法和资源时使用简单，一致和小的词汇表来实现。
API中使用的名称应该是正确的美国英语。例如，许可证（而不是许可证），颜色（而不是颜色）。
可以简单地使用常用的简短形式或长字的缩写。例如，API优于应用程序编程接口。
尽可能使用直观，熟悉的术语。例如，当描述删除（和销毁）资源时，删除是优先于擦除。
对同一概念使用相同的名称或术语，包括跨API共享的概念。
避免名称重载。为不同的概念使用不同的名称。
仔细考虑使用可能与常用编程语言中的关键字冲突的名称。可以使用这些名称，但在API审查期间可能会触发额外的审查。谨慎和谨慎地使用它们。
接口类型、参数 关于接口的请求类型，目前比较常用的：GET、POST、PUT、DELETE、PATCH
GET（SELECT）：从服务器取出资源（一项或多项）。
POST（CREATE）：在服务器新建一个资源。
PUT（UPDATE）：在服务器更新资源（客户端提供改变后的完整资源）。
PATCH（UPDATE）：在服务器更新资源（客户端提供改变的属性）。
DELETE（DELETE）：从服务器删除资源。
后端可根据不同的业务场景定义不同的接口类型
在定义接口参数之时,目前我们常用的几种提交方式
表单提交，application/x-www-form-urlencoded
表单提交主要针对key-value的提交形式
如下Java片段：
1
2
3
4
5
6
7
8
9
10
11
12
@PostMapping(&#34;/queryAll&#34;)
public RestfulMessage queryAll(RuleCheckLogs ruleCheckLogs,@RequestParam(value =&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bchobby.github.io/posts/af128eb6e55cabf572a607c4f390fefd/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-07-30T17:15:28+08:00" />
<meta property="article:modified_time" content="2021-07-30T17:15:28+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程爱好者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程爱好者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">前后端对接规范初版</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3>写在前面</h3> 
<p>我认为且希望的工作流程。</p> 
<p><span style="color:#fe2c24;"><strong>1、收到客户新需求</strong></span></p> 
<p><span style="color:#fe2c24;"><strong>2、产品经理初筛功能并完成原型以及功能点文档（原型需注明每个交互，功能点文档利于管理）</strong></span></p> 
<p><span style="color:#fe2c24;"><strong>3、项目组开会，产品讲解业务逻辑和功能点，技术人员确定需求可行性</strong></span></p> 
<p><span style="color:#fe2c24;"><strong>4、分配技术人员，准备开发</strong></span></p> 
<p><span style="color:#fe2c24;"><strong>5、前后端对接接口返回结构，排查可能出现的问题，满足前后端代码友好，前端性能不受到影响</strong></span></p> 
<p><span style="color:#fe2c24;"><strong>6、书写接口文档，注明接口中返回字段所对应的内容</strong></span></p> 
<p><span style="color:#fe2c24;"><strong>7、根据接口文档拿到mock的demo数据，前端先开始开发</strong></span></p> 
<p><span style="color:#fe2c24;"><strong>8、真实接口完成，前端接入真实接口</strong></span></p> 
<p><span style="color:#fe2c24;"><strong>9、不断的测试、迭代，中途出现的问题放在版本管理工具中便于查看和确认</strong></span></p> 
<p><span style="color:#fe2c24;"><strong>10、完成新功能迭代。</strong></span></p> 
<h3>谈谈接口</h3> 
<p>随着前后端的分离,后端工程师不需要编写页面，不需要写JS,只需要提供接口即可,可是就是仅仅这一个接口，对于很多后端开发工程师而言，在实际开发，同前端对接的过程中,依然问题重重</p> 
<p>很多后端同学说我只负责写接口,其他我一概不管,这样造成的后果就是</p> 
<p><strong>1、接口结构无序、杂乱无章</strong></p> 
<p><strong>2、接口和实际业务场景不相匹配、不可用</strong></p> 
<p><strong>3、频繁的同前端沟通，简单的事情复杂化,前后端都很恼火</strong></p> 
<p><strong>4、事情没做好</strong></p> 
<p>后端在编写接口前,首先是对业务的理解,在对业务未理解透彻之前,编码都是无意义的,作为后端来说,需要锻炼自己对整个系统全局考虑的能力,接口之间并非是毫无关联的,我们在写第一个接口之间,其他接口之间的业务逻辑也许考虑到，这在后端团队合作开发不同功能的情况下显得尤为重要.</p> 
<p>后端在开发接口时,我觉得主要从以下几个方面需要注意：</p> 
<blockquote> 
 <p>接口url 定义</p> 
 <p>接口类型、参数</p> 
 <p>全局错误码定义</p> 
 <p>接口json格式</p> 
 <p>接口文档编写</p> 
</blockquote> 
<h4>接口url定义</h4> 
<p>对于后端开发人员来说,接口前端入参,最终组合查询数据库资源，经过一系列相关业务场景下的计算，响应给前端json数据，每一层url的path定义需要清晰明了，这和后端在使用AOP定义事务管理同理，后端service需要满足一定的命名规范，这样方便统一管理，而且有这层规范后,后续的前后端对接会轻松很多</p> 
<p>为了在许多API和长时间内提供一致的开发人员体验，API使用的所有名称应为：</p> 
<ul><li> <p>简单</p> </li><li> <p>直觉</p> </li><li> <p>一致</p> </li></ul> 
<p>这包括接口，资源，集合，方法和消息的名称。</p> 
<p>由于许多开发人员不是英文母语人士，因此这些命名约定的目标之一是确保大多数开发人员能够轻松了解API。 它通过鼓励在命名方法和资源时使用简单，一致和小的词汇表来实现。</p> 
<ul><li> <p>API中使用的名称应该是正确的美国英语。例如，许可证（而不是许可证），颜色（而不是颜色）。</p> </li><li> <p>可以简单地使用常用的简短形式或长字的缩写。例如，API优于应用程序编程接口。</p> </li><li> <p>尽可能使用直观，熟悉的术语。例如，当描述删除（和销毁）资源时，删除是优先于擦除。</p> </li><li> <p>对同一概念使用相同的名称或术语，包括跨API共享的概念。</p> </li><li> <p>避免名称重载。为不同的概念使用不同的名称。</p> </li><li> <p>仔细考虑使用可能与常用编程语言中的关键字冲突的名称。可以使用这些名称，但在API审查期间可能会触发额外的审查。谨慎和谨慎地使用它们。</p> </li></ul> 
<h4>接口类型、参数</h4> 
<p>关于接口的请求类型，目前比较常用的：<code>GET</code>、<code>POST</code>、<code>PUT</code>、<code>DELETE</code>、<code>PATCH</code></p> 
<blockquote> 
 <p>GET（SELECT）：从服务器取出资源（一项或多项）。</p> 
 <p>POST（CREATE）：在服务器新建一个资源。</p> 
 <p>PUT（UPDATE）：在服务器更新资源（客户端提供改变后的完整资源）。</p> 
 <p>PATCH（UPDATE）：在服务器更新资源（客户端提供改变的属性）。</p> 
 <p>DELETE（DELETE）：从服务器删除资源。</p> 
</blockquote> 
<p>后端可根据不同的业务场景定义不同的接口类型</p> 
<p>在定义接口参数之时,目前我们常用的几种提交方式</p> 
<p><strong>表单提交，application/x-www-form-urlencoded</strong></p> 
<p><img alt="" src="https://images2.imgbox.com/88/f4/6boEriIt_o.png"></p> 
<p>表单提交主要针对<code>key-value</code>的提交形式</p> 
<p>如下Java片段：</p> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> <p>3</p> <p>4</p> <p>5</p> <p>6</p> <p>7</p> <p>8</p> <p>9</p> <p>10</p> <p>11</p> <p>12</p> </td><td> <p><code>@PostMapping</code><code>(</code><code>"/queryAll"</code><code>)</code></p> <p><code>public</code> <code>RestfulMessage queryAll(RuleCheckLogs ruleCheckLogs,</code><code>@RequestParam</code><code>(value =</code><code>"current_page"</code><code>,defaultValue =</code><code>"1"</code><code>)Integer current_page</code></p> <p><code>            </code><code>,</code><code>@RequestParam</code><code>(value =</code><code>"page_size"</code><code>,defaultValue =</code><code>"10"</code><code>)Integer page_size</code></p> <p><code>            </code><code>,</code><code>@RequestParam</code><code>(value =</code><code>"tableName"</code><code>,required =</code><code>false</code><code>) String tableName){<!-- --></code></p> <p><code>        </code><code>RestfulMessage restfulMessage=</code><code>new</code> <code>RestfulMessage();</code></p> <p><code>        </code><code>try</code><code>{<!-- --></code></p> <p><code>            </code><code>assertArgumentNotEmpty(ruleCheckLogs.getProjectId(),</code><code>"质检方案id不能为空"</code><code>); restfulMessage.setData(qcRuleCheckLogsService.queryRuleLogsByPage(ruleCheckLogs,tableName,current_page,page_size));</code></p> <p><code>        </code><code>}</code><code>catch</code> <code>(Exception e){<!-- --></code></p> <p><code>            </code><code>restfulMessage=wrapperException(e);</code></p> <p><code>        </code><code>}</code></p> <p><code>        </code><code>return</code> <code>restfulMessage;</code></p> <p><code>}</code></p> </td></tr></tbody></table> 
<p></p> 
<p><strong>文件流提交</strong></p> 
<p><strong>json提交,application/json</strong></p> 
<p><img alt="" src="https://images2.imgbox.com/07/1f/mBkoi771_o.png"></p> 
<p>json提交方式在SpringMVC或Spring Boot中主要有两种,一种是以<code>@RequestBody</code>注解接收方式，另外一种是以<code>HttpEntity&lt;String&gt; requestEntity</code>字节接收</p> 
<p>Java代码示例：</p> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> <p>3</p> <p>4</p> <p>5</p> <p>6</p> <p>7</p> <p>8</p> <p>9</p> <p>10</p> <p>11</p> <p>12</p> </td><td> <p><code>@PostMapping</code><code>(</code><code>"/mergeModelEntitys"</code><code>)</code></p> <p><code>public</code> <code>RestfulMessage mergeModelEntitys(HttpEntity&lt;String&gt; requestEntity){<!-- --></code></p> <p><code>    </code><code>RestfulMessage restfulMessage=</code><code>new</code> <code>RestfulMessage();</code></p> <p><code>    </code><code>try</code><code>{<!-- --></code></p> <p><code>        </code><code>JsonObject paramsJson = paramJson(requestEntity);</code></p> <p><code>        </code><code>assertJsonNotEmpty(paramsJson,</code><code>"请求参数不能为空"</code><code>);</code></p> <p><code>        </code><code>//more...</code></p> <p><code>    </code><code>}</code><code>catch</code> <code>(Exception e){<!-- --></code></p> <p><code>        </code><code>restfulMessage=wrapperException(e);</code></p> <p><code>    </code><code>}</code></p> <p><code>    </code><code>return</code> <code>restfulMessage;</code></p> <p><code>}</code></p> </td></tr></tbody></table> 
<h4>全局错误码定义</h4> 
<p>错误码的定义同HTTP请求状态码一样,对接者能通过系统定义的错误码,快速了解接口返回错误信息，方便排查错误原因</p> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> <p>3</p> <p>4</p> <p>5</p> <p>6</p> <p>7</p> <p>8</p> <p>9</p> <p>10</p> <p>11</p> <p>12</p> <p>13</p> <p>14</p> <p>15</p> <p>16</p> </td><td> <p><code>{<!-- --></code></p> <p><code>    </code><code>"code"</code><code>:</code><code>"8200"</code><code>,</code></p> <p><code>    </code><code>"message"</code><code>:</code><code>"Success"</code><code>,</code></p> <p><code>    </code><code>"data"</code><code>: {<!-- --></code></p> <p><code>        </code><code>"total_page"</code><code>: 1,</code></p> <p><code>        </code><code>"current_page"</code><code>: 1,</code></p> <p><code>        </code><code>"page_size"</code><code>: 10,</code></p> <p><code>        </code><code>"count"</code><code>: 5,</code></p> <p><code>        </code><code>"data"</code><code>: [</code></p> <p><code>            </code><code>{<!-- --></code></p> <p><code>                </code><code>"id"</code><code>:</code><code>"a29ab07f1d374c22a72e884d4e822b29"</code><code>,</code></p> <p><code>                </code><code>//......</code></p> <p><code>            </code><code>}</code><code>//....</code></p> <p><code>        </code><code>]</code></p> <p><code>    </code><code>}</code></p> <p><code>}</code></p> </td></tr></tbody></table> 
<h4>接口json格式</h4> 
<p>后端响应json给前端需要注意以下几点：</p> 
<p><span style="color:#fe2c24;"><strong>1、json格式需固定</strong></span></p> 
<p>例如如下图形</p> 
<p><img alt="" src="https://images2.imgbox.com/42/f2/NB5exeUf_o.png"></p> 
<p>如上图所示,横向是时间,纵向是value值</p> 
<p>我们给出的json结构应该如此：</p> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> <p>3</p> <p>4</p> <p>5</p> <p>6</p> <p>7</p> <p>8</p> <p>9</p> <p>10</p> <p>11</p> </td><td> <p><code>[</code></p> <p><code>    </code><code>{<!-- --></code></p> <p><code>        </code><code>"date"</code><code>:</code><code>"2018-01"</code><code>,</code></p> <p><code>        </code><code>"value"</code><code>:100</code></p> <p><code>    </code><code>},</code></p> <p><code>    </code><code>{<!-- --></code></p> <p><code>        </code><code>"date"</code><code>:</code><code>"2018-02"</code><code>,</code></p> <p><code>        </code><code>"value"</code><code>:200</code></p> <p><code>    </code><code>}</code></p> <p><code>    </code><code>//more...</code></p> <p><code>]</code></p> </td></tr></tbody></table> 
<p>在工作中,我们经常碰见这样的数据格式：</p> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> <p>3</p> <p>4</p> <p>5</p> <p>6</p> <p>7</p> <p>8</p> <p>9</p> </td><td> <p><code>[</code></p> <p><code>    </code><code>"2018-01"</code><code>:{<!-- --></code></p> <p><code>    </code><code>value:100</code></p> <p><code>    </code><code>},</code></p> <p><code>    </code><code>"2018-02"</code><code>:{<!-- --></code></p> <p><code>    </code><code>value:200</code></p> <p><code>    </code><code>}</code></p> <p><code>    </code><code>//more...</code></p> <p><code>]</code></p> </td></tr></tbody></table> 
<p>　　</p> 
<p>这里所说的json格式固定主要针对此种情况,后端给到前端的接口格式必须是固定的，所有动态数据值都需相应的key与之对应</p> 
<p><span style="color:#fe2c24;"><strong>2、所有返回接口数据需直接可用,越简单越好</strong></span></p> 
<p><span style="color:#fe2c24;">后端提供给前端的接口数据,最终交给前端的工作，只需要让前端渲染数据即可,越简单越好，不应掺杂过多的业务逻辑让前端处理，所有复杂的业务逻辑，能合并规避掉的都需后端处理掉。</span></p> 
<h4>接口文档编写</h4> 
<p>接口文档编写是前后端对接重要依据，后端写明接口文档，前端根据接口文档对接。</p> 
<p>接口文档需注明字段对应页面内容。不写接口文档的坏处：</p> 
<p>第一：前后端开发没有标准，没有依据。</p> 
<p>第二：容易扯皮，没法追踪，职责不清。</p> 
<p>第三：开发效率低。等等。</p> 
<p>文档形势目前主要分几种：</p> 
<p>1、依赖swagger框架，自动生成接口文档（swagger只能生成基于key-value详细参数方式，针对json格式，无法说明具体请求内容）</p> 
<p>2、手动编写说明文档，推荐markdown编写</p> 
<p><span style="color:#fe2c24;"><strong>在这里多说几句，渲染页面是前端去做，复杂的逻辑极大影响页面的加载速度和浏览器性能，我举出几个现在发现的问题。</strong></span></p> 
<p><span style="color:#fe2c24;"><strong>1、需要顺序显示的内容返回值为中文key:value 的对象。这个结构没有索引没有顺序，且中文key这种低级的不符合前后端规范的错误希望能够规避。这种数据前端处理很复杂影响性能，代码不必要的逻辑增加，代码冗余。</strong></span></p> 
<p><span style="color:#fe2c24;"><strong><img alt="" height="281" src="https://images2.imgbox.com/bf/ec/M5Xpds5v_o.png" width="1200"></strong></span></p> 
<p><span style="color:#fe2c24;"><strong>像这种有多个内容，且有顺序的数组应返回结构如下。</strong></span></p> 
<p><span style="color:#fe2c24;"><strong>StepDate: [<br> {<!-- --><br> name:'立项',<br> date:'2016-07-05'<br> },<br> {<!-- --><br> name:'开题',<br> date:'2019-10-28'<br> },<br> {<!-- --><br> name:'中期',<br> date:'2019-10-29'<br> },</strong></span></p> 
<p><span style="color:#fe2c24;"><strong>{<!-- --><br> name:'结题申请',<br> date:'2019-10-31'<br> },<br> {<!-- --><br> name:'结题',<br> date:null<br> }</strong></span></p> 
<p><span style="color:#fe2c24;"><strong>]</strong></span></p> 
<p><span style="color:#fe2c24;"><strong>贴上目前前端处理的代码，这些不必要的逻辑代码都可以省略的。</strong></span></p> 
<p><span style="color:#fe2c24;"><strong><img alt="" height="533" src="https://images2.imgbox.com/a9/18/O801ihqo_o.png" width="905"></strong></span></p> 
<p><span style="color:#fe2c24;"><strong>2、如果返回值是数组或字符串，转成该结构再返回，避免直接返回字符串等前端处理。</strong></span></p> 
<p><span style="color:#fe2c24;"><strong><img alt="" height="798" src="https://images2.imgbox.com/30/11/txgP9MZ2_o.png" width="1200"></strong></span></p> 
<p><span style="color:#fe2c24;"><strong>对象数组直接返回了字符串，还有其他的也一样。</strong></span></p> 
<p><span style="color:#fe2c24;"><strong><img alt="" height="36" src="https://images2.imgbox.com/6e/fc/qCawlF7Q_o.png" width="1200"></strong></span></p> 
<p><span style="color:#fe2c24;"><strong>前端现在需自己转成需要的格式，多此一举，这点简单东西后端应该处理好再返回。</strong></span></p> 
<p><span style="color:#fe2c24;"><strong>3、如果是有逻辑需要增加或者展示的、需要遍历的数据，返回数组。</strong></span></p> 
<p><span style="color:#fe2c24;"><strong><img alt="" height="753" src="https://images2.imgbox.com/c4/13/KxRLL0DE_o.png" width="1200"></strong></span></p> 
<p><span style="color:#fe2c24;"><strong>举例来说，关键词需要区分为每个，后端返回字符串后，前端只能自己进行字符串的拆分，转换为数组结构，重新遍历并渲染，增加了不必要的逻辑，影响性能。</strong></span></p> 
<p><span style="color:#fe2c24;"><strong>现在前端逻辑部分增加了返回值的重构</strong></span></p> 
<p><span style="color:#fe2c24;"><strong><img alt="" height="73" src="https://images2.imgbox.com/3d/5b/QtR5lylv_o.png" width="1200"></strong></span></p> 
<p><span style="color:#fe2c24;"><strong>在渲染部分还增加了重新渲染的逗号，等同于多做了很多无用功。</strong></span></p> 
<p><span style="color:#fe2c24;"><strong><img alt="" height="108" src="https://images2.imgbox.com/82/ea/27jhNexH_o.png" width="1200"></strong></span></p> 
<p><span style="color:#fe2c24;"><strong>4、接口中无数据内容的字段，统一返回null（有定义的字段必须返回，不可undefined）</strong></span></p> 
<p><span style="color:#fe2c24;"><strong>现在的返回值什么状态都有，有空数组，有null，有没返回的，前端做处理很冗余和麻烦。</strong></span></p> 
<p><img alt="" height="110" src="https://images2.imgbox.com/b3/3b/McYeUTGm_o.png" width="1200"></p> 
<p><span style="color:#fe2c24;"><strong>暂时只发现这些问题，并不是很复杂的数据处理，但是很影响前端性能，本就该是后端处理的，后端稍微用心点就可以规避这些问题，提出了问题可以商讨和解决问题而不是一味地反驳，问题的解决需要充分的沟通。所以综上所述，在每次新接口开发前先对接一下前后端双方都合适的数据结构，磨合成默契的前提后可以不再每次进行对接，从而共同优化项目。</strong></span></p> 
<h3>接口对接</h3> 
<p> </p> 
<p>万事俱备,只欠东风,虽然上面我们准备了所有我们该准备的，接口定义完美无缺,接口文档也已说明，但在对接时任然可能出现问题，此时我想我们还需注意的细节</p> 
<p><strong>1、后端接口需自行进行Junit单元测试</strong></p> 
<p>Spring目前集成Junit框架可方便进行单元测试，包括对业务bean的方法测试，以及针对api的mock测试</p> 
<p></p> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> <p>3</p> <p>4</p> <p>5</p> <p>6</p> <p>7</p> <p>8</p> <p>9</p> <p>10</p> <p>11</p> <p>12</p> <p>13</p> <p>14</p> <p>15</p> <p>16</p> <p>17</p> <p>18</p> <p>19</p> <p>20</p> <p>21</p> <p>22</p> <p>23</p> <p>24</p> <p>25</p> <p>26</p> <p>27</p> <p>28</p> <p>29</p> <p>30</p> <p>31</p> <p>32</p> <p>33</p> <p>34</p> <p>35</p> <p>36</p> <p>37</p> <p>38</p> <p>39</p> <p>40</p> <p>41</p> </td><td> <p><code>@RunWith</code><code>(SpringRunner.</code><code>class</code><code>)</code></p> <p><code>@SpringBootTest</code></p> <p><code>public</code> <code>class</code> <code>QcWebApplicationTests {<!-- --></code></p> <p><code>​</code></p> <p><code>@Autowired</code></p> <p><code>private</code> <code>WebApplicationContext context;</code></p> <p><code>​</code></p> <p><code>private</code> <code>MockMvc mvc;</code></p> <p><code>​</code></p> <p><code>@Autowired</code></p> <p><code>QcFieldService qcFieldService;</code></p> <p><code>​</code></p> <p><code>@Before</code></p> <p><code>public</code> <code>void</code> <code>setUp()</code><code>throws</code> <code>Exception {<!-- --></code></p> <p><code>        </code><code>//初始化mock对象</code></p> <p><code>mvc = MockMvcBuilders.webAppContextSetup(context).build();</code></p> <p><code>}</code></p> <p><code>​</code></p> <p><code>@Test</code></p> <p><code>public</code> <code>void</code> <code>queryByDsId(){<!-- --></code></p> <p><code>try</code> <code>{<!-- --></code></p> <p><code>            </code><code>//针对mock-接口Controller层测试</code></p> <p><code>mvc.perform(MockMvcRequestBuilders.post(</code><code>"/qc/entity/queryByDsId"</code><code>)</code></p> <p><code>                    </code><code>.contentType(MediaType.APPLICATION_JSON_UTF8)</code></p> <p><code>                    </code><code>.param(</code><code>"dsId"</code><code>,</code><code>"7d4c101498c742368ef7232f492b95bc"</code><code>)</code></p> <p><code>                    </code><code>.accept(MediaType.APPLICATION_JSON))</code></p> <p><code>                    </code><code>.andExpect(MockMvcResultMatchers.status().isOk())</code></p> <p><code>                    </code><code>.andDo(MockMvcResultHandlers.print());</code></p> <p><code>}</code><code>catch</code> <code>(Exception e) {<!-- --></code></p> <p><code>e.printStackTrace();</code></p> <p><code>}</code></p> <p><code>}</code></p> <p><code>    </code> </p> <p><code>    </code><code>@Test</code></p> <p><code>    </code><code>public</code> <code>void</code> <code>testUpdateField(){<!-- --></code></p> <p><code>QcField qcField=</code><code>new</code> <code>QcField();</code></p> <p><code>qcField.setId(</code><code>"513ee55f5dc2498cb69b14b558bc73e6"</code><code>);</code></p> <p><code>qcField.setShortName(</code><code>"密码"</code><code>);</code></p> <p><code>        </code><code>//业务bean-service方法测试</code></p> <p><code>qcFieldService.updateBatchFields(Lists.newArrayList(qcField));</code></p> <p><code>}</code></p> </td></tr></tbody></table> 
<p>　　</p> 
<p><strong>2、使用工具测试，推荐PostMan</strong></p> 
<p>作为接口调试神器,Postman大名想必大家都已知道</p> 
<p>作为后端来说,我们需要学会查看chrome推荐给我们的审查元素的功能，可参看<a href="https://segmentfault.com/a/1190000000683599" rel="nofollow">Chrome开发工具介绍</a></p> 
<p>chrome提供了一个可以copy当前接口的url功能，最终生成curl命令行</p> 
<p><img alt="" src="https://images2.imgbox.com/60/b6/Oy7blyh3_o.png"></p> 
<p>最终通过<code>Copy as cURL(bash)</code>功能可生成curl命令</p> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> </td><td> <p><code>curl</code><code>'http://demo.com/qc/ds/getAll'</code> <code>-H</code><code>'Origin: http://demo.com'</code> <code>-H</code><code>'Accept-Encoding: gzip, deflate'</code> <code>-H</code><code>'Accept-Language: zh-CN,zh;q=0.9'</code> <code>-H</code><code>'User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.181 Safari/537.36'</code> <code>-H</code><code>'Content-Type: application/x-www-form-urlencoded'</code> <code>-H</code><code>'Accept: application/json, text/plain, */*'</code> <code>-H</code><code>'Referer: http://demo.com/index.html'</code> <code>-H</code><code>'Connection: keep-alive'</code> <code>--data</code><code>'current_page=1&amp;page_size=6&amp;'</code> <code>--compressed</code></p> </td></tr></tbody></table> 
<p>以上命令可以在Linux等各终端直接执行</p> 
<p><strong>curl命令</strong>是一个利用URL规则在命令行下工作的文件传输工具。它支持文件的上传和下载，所以是综合传输工具，但按传统，习惯称curl为下载工具。作为一款强力工具，curl支持包括HTTP、HTTPS、<a href="http://man.linuxde.net/ftp" rel="nofollow">ftp</a>等众多协议，还支持POST、cookies、认证、从指定偏移处下载部分文件、用户代理字符串、限速、文件大小、进度条等特征。做网页处理流程和数据检索自动化，curl可以祝一臂之力。</p> 
<p>postman提供导入curl命令行</p> 
<p><img alt="" src="https://images2.imgbox.com/a6/9a/RGkVnePM_o.png"></p> 
<p><strong>3、前后端需心平气和沟通，勿推卸责任，前后端开发人员水平不尽相同,作为同事,需要的是团结合作，努力将事情做好,而非相互推卸责任。</strong></p> 
<p><strong>最后希望项目能够越做越好，公司蒸蒸日上。</strong></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/336d9c16b59188bd9526241e6e925f92/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">dnf正在连接服务器然后选择角色卡,地下城与勇士DNF比赛服登陆时卡在“正在连接服务器”的黑屏界面中的解决方法...</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/4dc423d5b99516f1eedddb7c1d1bf583/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">绝地求生国服服务器维护中是什么意思,绝地求生服务器维护了 绝地求生服务器维护...</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程爱好者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151260"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>