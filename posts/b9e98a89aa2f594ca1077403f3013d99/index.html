<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>docker命令及Centos8安装 - 编程爱好者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="docker命令及Centos8安装" />
<meta property="og:description" content="目录 Docker简介系统环境检查Docker常用命令帮助命令镜像命令容器生命周期命令容器操作命令仓库命令命令小结 数据卷命令Dockerfile问题 Docker视频学习推荐 here Docker简介 镜像（image）
docker镜像就好比是一个模板，可以通过这个模板来创建容器服务，创建数量不限镜像层级结构
容器（container）
docker利用容器技术，独立运行一个或者一组应用，通过镜像来创建。类似于一个简易的Linux系统虚拟机&amp;Docker对比
如下面的对比图中，是两个非常轻量级的docker容器在运行
仓库（repository）
仓库是存放镜像的地方，分为私有仓库和公有仓库。目前国外和国内均有仓库地址，如国内的阿里云。 从无到有的过程
系统环境检查 检查Linux内核版本 OS requirements：To install Docker Engine, you need a maintained version of CentOS 7. Archived versions aren’t supported or tested.
[root@localhost ~]# uname -r 4.18.0-147.el8.x86_64 查询系统版本信息 [root@localhost ~]# cat /etc/os-release NAME=&#34;CentOS Linux&#34; VERSION=&#34;8 (Core)&#34; ID=&#34;centos&#34; ID_LIKE=&#34;rhel fedora&#34; VERSION_ID=&#34;8&#34; PLATFORM_ID=&#34;platform:el8&#34; PRETTY_NAME=&#34;CentOS Linux 8 (Core)&#34; ANSI_COLOR=&#34;0;31&#34; CPE_NAME=&#34;cpe:/o:centos:centos:8&#34; HOME_URL=&#34;https://www.centos.org/&#34; BUG_REPORT_URL=&#34;https://bugs.centos.org/&#34; CENTOS_MANTISBT_PROJECT=&#34;CentOS-8&#34; CENTOS_MANTISBT_PROJECT_VERSION=&#34;8&#34; REDHAT_SUPPORT_PRODUCT=&#34;centos&#34; REDHAT_SUPPORT_PRODUCT_VERSION=&#34;8&#34; 查看Docker官方安装文档
点击here查看Centos安装文档首先卸载旧的Docker [root@localhost ~]# yum remove docker \ docker-client \ docker-client-latest \ docker-common \ docker-latest \ docker-latest-logrotate \ docker-logrotate \ docker-engine 方式一 仓库安装" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bchobby.github.io/posts/b9e98a89aa2f594ca1077403f3013d99/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-13T09:08:59+08:00" />
<meta property="article:modified_time" content="2023-11-13T09:08:59+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程爱好者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程爱好者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">docker命令及Centos8安装</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><a href="#Docker_2" rel="nofollow">Docker简介</a></li><li><a href="#_24" rel="nofollow">系统环境检查</a></li><li><a href="#Docker_174" rel="nofollow">Docker常用命令</a></li><li><ul><li><a href="#_175" rel="nofollow">帮助命令</a></li><li><a href="#_189" rel="nofollow">镜像命令</a></li><li><a href="#_336" rel="nofollow">容器生命周期命令</a></li><li><a href="#_500" rel="nofollow">容器操作命令</a></li><li><a href="#_661" rel="nofollow">仓库命令</a></li><li><a href="#_738" rel="nofollow">命令小结</a></li></ul> 
  </li><li><a href="#_785" rel="nofollow">数据卷命令</a></li><li><a href="#Dockerfile_859" rel="nofollow">Dockerfile</a></li><li><a href="#_950" rel="nofollow">问题</a></li></ul> 
</div> 
<br> Docker视频学习推荐 
<a href="https://www.bilibili.com/video/BV1og4y1q7M4?p=1" rel="nofollow">here</a> 
<p></p> 
<h2><a id="Docker_2"></a>Docker简介</h2> 
<p><img src="https://images2.imgbox.com/f7/25/YmotkHh5_o.png" alt="架构图"><br> <strong>镜像（image）</strong></p> 
<ul><li>docker镜像就好比是一个模板，可以通过这个模板来创建容器服务，创建数量不限</li><li>镜像层级结构<br> <img src="https://images2.imgbox.com/47/66/7LNOqrjn_o.png" alt="在这里插入图片描述"></li></ul> 
<p><strong>容器（container）</strong></p> 
<ul><li>docker利用容器技术，独立运行一个或者一组应用，通过镜像来创建。</li><li>类似于一个简易的Linux系统</li><li>虚拟机&amp;Docker对比<br> <img src="https://images2.imgbox.com/40/90/06cc8b8c_o.png" alt="在这里插入图片描述"><br> 如下面的对比图中，是两个非常轻量级的docker容器在运行<br> <img src="https://images2.imgbox.com/02/3a/ScPD06l3_o.png" alt="在这里插入图片描述"></li></ul> 
<p><strong>仓库（repository）</strong></p> 
<ul><li>仓库是存放镜像的地方，分为私有仓库和公有仓库。</li><li>目前国外和国内均有仓库地址，如国内的阿里云。</li></ul> 
<p><strong>从无到有的过程</strong><br> <img src="https://images2.imgbox.com/f4/3d/UGAz3uiN_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_24"></a>系统环境检查</h2> 
<ol><li>检查Linux内核版本</li></ol> 
<p>OS requirements：To install Docker Engine, you need a maintained version of CentOS 7. Archived versions aren’t supported or tested.</p> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># uname -r</span>
<span class="token number">4.18</span>.0-147.el8.x86_64
</code></pre> 
<ol start="3"><li>查询系统版本信息</li></ol> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cat /etc/os-release</span>
<span class="token assign-left variable">NAME</span><span class="token operator">=</span><span class="token string">"CentOS Linux"</span>
<span class="token assign-left variable">VERSION</span><span class="token operator">=</span><span class="token string">"8 (Core)"</span>
<span class="token assign-left variable">ID</span><span class="token operator">=</span><span class="token string">"centos"</span>
<span class="token assign-left variable">ID_LIKE</span><span class="token operator">=</span><span class="token string">"rhel fedora"</span>
<span class="token assign-left variable">VERSION_ID</span><span class="token operator">=</span><span class="token string">"8"</span>
<span class="token assign-left variable">PLATFORM_ID</span><span class="token operator">=</span><span class="token string">"platform:el8"</span>
<span class="token assign-left variable">PRETTY_NAME</span><span class="token operator">=</span><span class="token string">"CentOS Linux 8 (Core)"</span>
<span class="token assign-left variable">ANSI_COLOR</span><span class="token operator">=</span><span class="token string">"0;31"</span>
<span class="token assign-left variable">CPE_NAME</span><span class="token operator">=</span><span class="token string">"cpe:/o:centos:centos:8"</span>
<span class="token assign-left variable">HOME_URL</span><span class="token operator">=</span><span class="token string">"https://www.centos.org/"</span>
<span class="token assign-left variable">BUG_REPORT_URL</span><span class="token operator">=</span><span class="token string">"https://bugs.centos.org/"</span>

<span class="token assign-left variable">CENTOS_MANTISBT_PROJECT</span><span class="token operator">=</span><span class="token string">"CentOS-8"</span>
<span class="token assign-left variable">CENTOS_MANTISBT_PROJECT_VERSION</span><span class="token operator">=</span><span class="token string">"8"</span>
<span class="token assign-left variable">REDHAT_SUPPORT_PRODUCT</span><span class="token operator">=</span><span class="token string">"centos"</span>
<span class="token assign-left variable">REDHAT_SUPPORT_PRODUCT_VERSION</span><span class="token operator">=</span><span class="token string">"8"</span>
</code></pre> 
<ol start="3"><li>查看Docker官方安装文档<br> 点击<a href="https://docs.docker.com/engine/install/centos/" rel="nofollow">here</a>查看Centos安装文档</li><li>首先卸载旧的Docker</li></ol> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># yum remove docker \</span>
                  docker-client <span class="token punctuation">\</span>
                  docker-client-latest <span class="token punctuation">\</span>
                  docker-common <span class="token punctuation">\</span>
                  docker-latest <span class="token punctuation">\</span>
                  docker-latest-logrotate <span class="token punctuation">\</span>
                  docker-logrotate <span class="token punctuation">\</span>
                  docker-engine
</code></pre> 
<ol start="5"><li>方式一</li></ol> 
<blockquote> 
 <p><strong>仓库安装</strong></p> 
</blockquote> 
<p>准备安装环境</p> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># yum install -y yum-utils</span>
</code></pre> 
<p>设置镜像仓库为阿里云</p> 
<ul><li>docker镜像仓库配置请点击<a href="https://jingyan.baidu.com/article/47a29f24eb42ca80142399ef.html" rel="nofollow">here</a></li><li>阿里云仓库设置后，还能开启阿里云镜像加速<a href="https://www.cnblogs.com/myitnews/p/11509546.html" rel="nofollow">here</a></li></ul> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># yum-config-manager \</span>
    --add-repo <span class="token punctuation">\</span>
    http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo
</code></pre> 
<p>更新系统yum软件索引</p> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># yum clean all</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># yum makecache</span>
</code></pre> 
<p>安装docker</p> 
<pre><code class="prism language-bash">yum <span class="token function">install</span> docker-ce docker-ce-cli containerd.io
</code></pre> 
<p><mark><a href="https://blog.csdn.net/weixin_44744155/article/details/106855954">containerd.io错误</a></mark><br> <img src="https://images2.imgbox.com/a0/20/nmTXjNa0_o.png" alt="在这里插入图片描述"><br> <mark>错误处理</mark></p> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># wget https://download.docker.com/linux/centos/7/x86_64/stable/Packages/containerd.io-1.2.13-3.1.el7.x86_64.rpm</span>

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># yum -y install ./containerd.io-1.2.13-3.1.el7.x86_64.rpm</span>

</code></pre> 
<p><mark>podman buildah错误</mark><br> <img src="https://images2.imgbox.com/bd/48/UvPR8D1Y_o.png" alt="在这里插入图片描述"><br> <mark>错误处理</mark></p> 
<pre><code class="prism language-bash"><span class="token comment">#卸装podman指令，再安装docker</span>

yum erase <span class="token function">podman</span> buildah
</code></pre> 
<p><mark><a href="https://blog.csdn.net/m0_37942145/article/details/109054611">Transaction test error错误</a></mark><br> <img src="https://images2.imgbox.com/c1/01/bEEM7OT0_o.png" alt="在这里插入图片描述"><br> <mark>错误处理</mark></p> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment">#  rpm -q podman</span>

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># dnf remove podman</span>
</code></pre> 
<p>启动Docker</p> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># systemctl start docker</span>
</code></pre> 
<p>测试Docker</p> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># docker run hello-world</span>
<span class="token comment"># 出现一下信息表示安装成功</span>
Unable to <span class="token function">find</span> image <span class="token string">'hello-world:latest'</span> locally
latest: Pulling from library/hello-world
0e03bdcc26d7: Pull complete
Digest: sha256:8c5aeeb6a5f3ba4883347d3747a7249f491766ca1caa47e5da5dfcf6b9b717c0
Status: Downloaded newer image <span class="token keyword">for</span> hello-world:latest

Hello from Docker<span class="token operator">!</span>
This message shows that your installation appears to be working correctly.

To generate this message, Docker took the following steps:
 <span class="token number">1</span>. The Docker client contacted the Docker daemon.
 <span class="token number">2</span>. The Docker daemon pulled the <span class="token string">"hello-world"</span> image from the Docker Hub.
    <span class="token punctuation">(</span>amd64<span class="token punctuation">)</span>
 <span class="token number">3</span>. The Docker daemon created a new container from that image <span class="token function">which</span> runs the
    executable that produces the output you are currently reading.
 <span class="token number">4</span>. The Docker daemon streamed that output to the Docker client, <span class="token function">which</span> sent it
    to your terminal.

To try something <span class="token function">more</span> ambitious, you can run an Ubuntu container with:
 $ <span class="token function">docker</span> run <span class="token parameter variable">-it</span> ubuntu <span class="token function">bash</span>

Share images, automate workflows, and <span class="token function">more</span> with a <span class="token function">free</span> Docker ID:
 https://hub.docker.com/

For <span class="token function">more</span> examples and ideas, visit:
 https://docs.docker.com/get-started/
</code></pre> 
<p>卸载Docker</p> 
<pre><code class="prism language-bash"><span class="token comment"># 卸载依耐</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># yum remove docker-ce docker-ce-cli containerd.io</span>
<span class="token comment"># 删除资源</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># rm -rf /var/lib/docker</span>
</code></pre> 
<p>自启动</p> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># systemctl enable docker</span>
</code></pre> 
<h2><a id="Docker_174"></a>Docker常用命令</h2> 
<h3><a id="_175"></a>帮助命令</h3> 
<pre><code class="prism language-bash"><span class="token comment"># 查看docker客户端和服务端版本信息</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># docker version</span>
<span class="token comment"># 查看docker更详细的信息</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># docker info</span>
<span class="token comment"># 查看docker命令帮助</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># docker 命令 --help</span>
<span class="token comment"># 退出已连接的docker命令， 如果docker无程序在执行，退出后会停止运行容器</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># exit      </span>
<span class="token comment"># 退出已连接的docker快捷键, 无论docker有无程序在执行，退出后均不会停止运行容器</span>
Ctrl + P + Q
</code></pre> 
<h3><a id="_189"></a>镜像命令</h3> 
<p><strong>docker images : 列出本地镜像。</strong></p> 
<pre><code class="prism language-bash"><span class="token function">docker</span> images <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span> <span class="token punctuation">[</span>REPOSITORY<span class="token punctuation">[</span>:TAG<span class="token punctuation">]</span><span class="token punctuation">]</span>
</code></pre> 
<p><em>实例</em></p> 
<pre><code>查看本地镜像列表。
[root@localhost ~]# docker images

列出本地镜像中REPOSITORY为ubuntu的镜像列表。
[root@localhost ~]# docker images  ubuntu
</code></pre> 
<p><strong>docker rmi : 删除本地一个或多少镜像</strong></p> 
<pre><code class="prism language-bash"><span class="token function">docker</span> rmi <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span> IMAGE <span class="token punctuation">[</span>IMAGE<span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre> 
<p><em>实例</em></p> 
<pre><code class="prism language-bash">强制删除本地镜像 runoob/ubuntu:v4。
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># docker rmi -f runoob/ubuntu:v4</span>

根据查找结果删除镜像
<span class="token function">docker</span> rmi <span class="token variable"><span class="token variable">$(</span><span class="token function">docker</span> images <span class="token parameter variable">-a</span> <span class="token operator">|</span><span class="token function">grep</span> 镜像名称模糊匹配特征 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{ print $3 }'</span><span class="token variable">)</span></span>

删除所有镜像
<span class="token function">docker</span> rmi <span class="token variable"><span class="token variable">$(</span><span class="token function">docker</span> images <span class="token parameter variable">-q</span><span class="token variable">)</span></span>

要清理无用的 Docker 镜像，可以运行以下命令：
<span class="token function">docker</span> image prune 

该命令将删除所有没有被任何容器使用的镜像。如果您还想要删除未被打标签的镜像，可以在命令后面添加 <span class="token parameter variable">-a</span> 参数，如下所示：
<span class="token function">docker</span> image prune <span class="token parameter variable">-a</span> 
</code></pre> 
<p><strong>docker tag : 标记本地镜像，将其归入某一仓库</strong></p> 
<pre><code class="prism language-bash"><span class="token function">docker</span> tag <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span> IMAGE<span class="token punctuation">[</span>:TAG<span class="token punctuation">]</span> <span class="token punctuation">[</span>REGISTRYHOST/<span class="token punctuation">]</span><span class="token punctuation">[</span>USERNAME/<span class="token punctuation">]</span>NAME<span class="token punctuation">[</span>:TAG<span class="token punctuation">]</span>
</code></pre> 
<p><em>实例</em></p> 
<pre><code>将镜像ubuntu:15.10标记为 runoob/ubuntu:v3 镜像。
[root@localhost ~]# docker tag ubuntu:15.10 runoob/ubuntu:v3
</code></pre> 
<p><strong>docker build : 命令用于使用 Dockerfile 创建镜像</strong></p> 
<pre><code class="prism language-bash"><span class="token function">docker</span> build <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span> <span class="token environment constant">PATH</span> <span class="token operator">|</span> URL <span class="token operator">|</span> -
</code></pre> 
<p><em>实例</em></p> 
<pre><code>使用当前目录的 Dockerfile 创建镜像，标签为 runoob/ubuntu:v1
[root@localhost ~]# docker build -t runoob/ubuntu:v1 . 

使用URL github.com/creack/docker-firefox 的 Dockerfile 创建镜像
[root@localhost ~]# docker build github.com/creack/docker-firefox

也可以通过 -f Dockerfile 文件的位置
[root@localhost ~]# docker build -f /path/to/a/Dockerfile .

在 Docker 守护进程执行 Dockerfile 中的指令前，首先会对 Dockerfile 进行语法检查，有语法错误时会返回
[root@localhost ~]# docker build -t test/myapp .

在build时需要在线安装软件时可用 --network命令指定组网
第1步. 查看服务器的docker可用网络 docker network ls
[root@localhost ~]# docker network ls
NETWORK ID          NAME                DRIVER              SCOPE
86396ed1c9e3        bridge              bridge              local
45d975e3c00b        dev_default         bridge              local
e67ec0c6b2d8        host                host                local
929d62663366        none                null                local

第2步. 假设host网络可以连接外网，build是可以指定它
docker build -t test/demo:1 -f Dockerfile . --network host
</code></pre> 
<p><strong>docker history : 查看指定镜像的创建历史</strong></p> 
<pre><code class="prism language-bash"><span class="token function">docker</span> <span class="token function">history</span> <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span> IMAGE
</code></pre> 
<p><em>实例</em></p> 
<pre><code>查看本地镜像runoob/ubuntu:v3的创建历史
[root@localhost ~]# docker history runoob/ubuntu:v3
</code></pre> 
<p><strong>docker save : 将指定镜像保存成 tar 归档文件</strong></p> 
<pre><code class="prism language-bash"><span class="token function">docker</span> save <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span> IMAGE <span class="token punctuation">[</span>IMAGE<span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre> 
<p><em>实例</em></p> 
<pre><code>将镜像 runoob/ubuntu:v3 生成 my_ubuntu_v3.tar 文档
[root@localhost ~]# docker save -o my_ubuntu_v3.tar runoob/ubuntu:v3
</code></pre> 
<p><strong>docker load : 导入使用 docker save 命令导出的镜像</strong></p> 
<pre><code class="prism language-bash"><span class="token function">docker</span> load <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span>
</code></pre> 
<p><em>实例</em></p> 
<pre><code>导入镜像：

[root@localhost ~]# docker image ls
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE

[root@localhost ~]# docker load &lt; busybox.tar.gz
Loaded image: busybox:latest

[root@localhost ~]# docker images
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
busybox             latest              769b9341d937        7 weeks ago         2.489 MB

[root@localhost ~]# docker load --input fedora.tar
Loaded image: fedora:rawhide
Loaded image: fedora:20

[root@localhost ~]# docker images
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
busybox             latest              769b9341d937        7 weeks ago         2.489 MB
fedora              rawhide             0d20aec6529d        7 weeks ago         387 MB
fedora              20                  58394af37342        7 weeks ago         385.5 MB
fedora              heisenbug           58394af37342        7 weeks ago         385.5 MB
fedora              latest              58394af37342        7 weeks ago         385.5 MB
</code></pre> 
<p><strong>docker import : 从归档文件中创建镜像</strong></p> 
<pre><code class="prism language-bash"><span class="token function">docker</span> <span class="token function">import</span> <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span> <span class="token function">file</span><span class="token operator">|</span>URL<span class="token operator">|</span>- <span class="token punctuation">[</span>REPOSITORY<span class="token punctuation">[</span>:TAG<span class="token punctuation">]</span><span class="token punctuation">]</span>
</code></pre> 
<p><em>实例</em></p> 
<pre><code>从镜像归档文件my_ubuntu_v3.tar创建镜像，命名为runoob/ubuntu:v4

[root@localhost ~]# docker import  my_ubuntu_v3.tar runoob/ubuntu:v4  
sha256:63ce4a6d6bc3fabb95dbd6c561404a309b7bdfc4e21c1d59fe9fe4299cbfea39

[root@localhost ~]# docker images runoob/ubuntu:v4
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
runoob/ubuntu       v4                  63ce4a6d6bc3        20 seconds ago      142.1 MB
</code></pre> 
<h3><a id="_336"></a>容器生命周期命令</h3> 
<p><strong>docker run ：创建一个新的容器并运行一个命令</strong></p> 
<pre><code class="prism language-bash"><span class="token function">docker</span> run <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span> IMAGE <span class="token punctuation">[</span>COMMAND<span class="token punctuation">]</span> <span class="token punctuation">[</span>ARG<span class="token punctuation">..</span>.<span class="token punctuation">]</span>
OPTIONS说明：
	<span class="token parameter variable">-a</span> stdin: 指定标准输入输出内容类型，可选 STDIN/STDOUT/STDERR 三项；
	-d: 后台运行容器，并返回容器ID；
	-i: 以交互模式运行容器，通常与 <span class="token parameter variable">-t</span> 同时使用；
	-P: 随机端口映射，容器内部端口随机映射到主机的端口
	-p: 指定端口映射，格式为：主机<span class="token punctuation">(</span>宿主<span class="token punctuation">)</span>端口:容器端口
	-t: 为容器重新分配一个伪输入终端，通常与 <span class="token parameter variable">-i</span> 同时使用；
	<span class="token parameter variable">--name</span><span class="token operator">=</span><span class="token string">"nginx-lb"</span><span class="token builtin class-name">:</span> 为容器指定一个名称；
	<span class="token parameter variable">--dns</span> <span class="token number">8.8</span>.8.8: 指定容器使用的DNS服务器，默认和宿主一致；
	--dns-search example.com: 指定容器DNS搜索域名，默认和宿主一致；
	<span class="token parameter variable">-h</span> <span class="token string">"mars"</span><span class="token builtin class-name">:</span> 指定容器的hostname；
	<span class="token parameter variable">-e</span> <span class="token assign-left variable">username</span><span class="token operator">=</span><span class="token string">"ritchie"</span><span class="token builtin class-name">:</span> 设置环境变量；
	--env-file<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>: 从指定文件读入环境变量；
	<span class="token parameter variable">--cpuset</span><span class="token operator">=</span><span class="token string">"0-2"</span> or <span class="token parameter variable">--cpuset</span><span class="token operator">=</span><span class="token string">"0,1,2"</span><span class="token builtin class-name">:</span> 绑定容器到指定CPU运行；
	<span class="token parameter variable">-m</span> :设置容器使用内存最大值；
	<span class="token parameter variable">--net</span><span class="token operator">=</span><span class="token string">"bridge"</span><span class="token builtin class-name">:</span> 指定容器的网络连接类型，支持 bridge/host/none/container: 四种类型；
	<span class="token parameter variable">--link</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>: 添加链接到另一个容器；
	<span class="token parameter variable">--expose</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>: 开放一个端口或一组端口；
	<span class="token parameter variable">--volume</span> , -v: 绑定一个卷
</code></pre> 
<p><em>实例</em></p> 
<pre><code>使用docker镜像nginx:latest以后台模式启动一个容器,并将容器命名为mynginx
[root@localhost ~]# docker run --name mynginx -d nginx:latest

使用镜像nginx:latest以后台模式启动一个容器,并将容器的80端口映射到主机随机端口
[root@localhost ~]# docker run -P -d nginx:latest

使用镜像 nginx:latest，以后台模式启动一个容器,将容器的 80 端口映射到主机的 80 端口,主机的目录 /data 映射到容器的 /data
[root@localhost ~]# docker run -p 80:80 -v /data:/data -d nginx:latest

绑定容器的 8080 端口，并将其映射到本地主机 127.0.0.1 的 80 端口上
[root@localhost ~]#  docker run -p 127.0.0.1:80:8080/tcp ubuntu bash

使用镜像nginx:latest以交互模式启动一个容器,在容器内执行/bin/bash命令
[root@localhost ~]# docker run -it nginx:latest /bin/bash
root@b8573233d675:/# 
</code></pre> 
<p><strong>docker start :启动一个或多个已经被停止的容器</strong></p> 
<pre><code class="prism language-bash"><span class="token function">docker</span> start <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span> CONTAINER <span class="token punctuation">[</span>CONTAINER<span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre> 
<p><em>实例</em></p> 
<pre><code>启动已被停止的容器mysql
[root@localhost ~]# docker start mysql
</code></pre> 
<p><strong>docker stop :停止一个运行中的容器</strong></p> 
<pre><code class="prism language-bash"><span class="token function">docker</span> stop <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span> CONTAINER <span class="token punctuation">[</span>CONTAINER<span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre> 
<p><em>实例</em></p> 
<pre><code>停止运行中的容器mysql
[root@localhost ~]# docker stop mysql
</code></pre> 
<p><strong>docker restart :重启容器</strong></p> 
<pre><code class="prism language-bash"><span class="token function">docker</span> restart <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span> CONTAINER <span class="token punctuation">[</span>CONTAINER<span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre> 
<p><em>实例</em></p> 
<pre><code>重启容器mysql
[root@localhost ~]# docker restart mysql
</code></pre> 
<p><strong>docker kill :杀掉一个运行中的容器</strong></p> 
<pre><code class="prism language-bash"><span class="token function">docker</span> <span class="token function">kill</span> <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span> CONTAINER <span class="token punctuation">[</span>CONTAINER<span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre> 
<p><em>实例</em></p> 
<pre><code>杀掉运行中的容器mynginx
[root@localhost ~]# docker kill -s KILL mynginx
</code></pre> 
<p><strong>docker rm ：删除一个或多个容器</strong></p> 
<pre><code class="prism language-bash"><span class="token function">docker</span> <span class="token function">rm</span> <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span> CONTAINER <span class="token punctuation">[</span>CONTAINER<span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre> 
<p><em>实例</em></p> 
<pre><code>强制删除容器 db01、db02
[root@localhost ~]# docker rm -f db01 db02

移除容器 nginx01 对容器 db01 的连接，连接名 db
[root@localhost ~]# docker rm -l db 

删除容器 nginx01, 并删除容器挂载的数据卷
[root@localhost ~]# docker rm -v nginx01

删除所有已经停止的容器
[root@localhost ~]# docker rm $(docker ps -aq)
</code></pre> 
<p><strong>docker pause :暂停容器中所有的进程</strong></p> 
<pre><code class="prism language-bash"><span class="token function">docker</span> pause <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span> CONTAINER <span class="token punctuation">[</span>CONTAINER<span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre> 
<p><em>实例</em></p> 
<pre><code>暂停数据库容器db01提供服务
[root@localhost ~]# docker pause db01
</code></pre> 
<p><strong>docker unpause :恢复容器中所有的进程</strong></p> 
<pre><code class="prism language-bash"><span class="token function">docker</span> unpause <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span> CONTAINER <span class="token punctuation">[</span>CONTAINER<span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre> 
<p><em>实例</em></p> 
<pre><code>恢复数据库容器db01提供服务
[root@localhost ~]# docker unpause db01
</code></pre> 
<p><strong>docker create ：创建一个新的容器但不启动它</strong></p> 
<pre><code class="prism language-bash"><span class="token function">docker</span> create <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span> IMAGE <span class="token punctuation">[</span>COMMAND<span class="token punctuation">]</span> <span class="token punctuation">[</span>ARG<span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre> 
<p><em>实例</em></p> 
<pre><code>使用docker镜像nginx:latest创建一个容器,并将容器命名为mycon
[root@localhost ~]# docker create --name mycon nginx:latest
</code></pre> 
<p><strong>docker exec ：在运行的容器中执行命令</strong></p> 
<pre><code class="prism language-bash"><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span> CONTAINER COMMAND <span class="token punctuation">[</span>ARG<span class="token punctuation">..</span>.<span class="token punctuation">]</span>
OPTIONS说明：
	<span class="token parameter variable">-d</span> :分离模式: 在后台运行
	<span class="token parameter variable">-i</span> :即使没有附加也保持STDIN 打开
	<span class="token parameter variable">-t</span> :分配一个伪终端
</code></pre> 
<p><em>实例</em></p> 
<pre><code>在容器 mynginx 中以交互模式执行容器内 /root/runoob.sh 脚本
[root@localhost ~]# docker exec -it mynginx /bin/sh /root/runoob.sh

在容器 mynginx 中开启一个交互模式的终端
[root@localhost ~]# docker exec -i -t  mynginx /bin/bash
root@b1a0703e41e7:/#

也可以通过 docker ps -a 命令查看已经在运行的容器，然后使用容器 ID 进入容器
查看已经在运行的容器 ID
[root@localhost ~]# docker ps -a 
...
9df70f9a0714        openjdk             "/usercode/script.sh…" 
...
第一列的 9df70f9a0714 就是容器 ID。
通过 exec 命令对指定的容器执行 bash:
[root@localhost ~]# docker exec -it 9df70f9a0714 /bin/bash
</code></pre> 
<h3><a id="_500"></a>容器操作命令</h3> 
<p><strong>docker ps : 列出容器</strong></p> 
<pre><code class="prism language-bash"><span class="token function">docker</span> <span class="token function">ps</span> <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span>
OPTIONS说明：
	<span class="token parameter variable">-a</span> :显示所有的容器，包括未运行的。
	<span class="token parameter variable">-f</span> :根据条件过滤显示的内容。
	<span class="token parameter variable">--format</span> :指定返回值的模板文件。
	<span class="token parameter variable">-l</span> :显示最近创建的容器。
	<span class="token parameter variable">-n</span> :列出最近创建的n个容器。
	--no-trunc :不截断输出。
	<span class="token parameter variable">-q</span> :静默模式，只显示容器编号。
	<span class="token parameter variable">-s</span> :显示总的文件大小。
</code></pre> 
<p><em>实例</em></p> 
<pre><code>列出所有在运行的容器信息
[root@localhost ~]# docker ps
CONTAINER ID   IMAGE          COMMAND                ...  PORTS                    NAMES
09b93464c2f7   nginx:latest   "nginx -g 'daemon off" ...  80/tcp, 443/tcp          myrunoob
96f7f14e99ab   mysql:5.6      "docker-entrypoint.sh" ...  0.0.0.0:3306-&gt;3306/tcp   mymysql

输出详情介绍：
CONTAINER ID: 容器 ID
IMAGE: 使用的镜像
COMMAND: 启动容器时运行的命令
CREATED: 容器的创建时间
STATUS: 容器状态, 状态有7种：
	created（已创建）
	restarting（重启中）
	running（运行中）
	removing（迁移中）
	paused（暂停）
	exited（停止）
	dead（死亡）
PORTS: 容器的端口信息和使用的连接类型（tcp\udp）
NAMES: 自动分配的容器名称

列出最近创建的5个容器信息
[root@localhost ~]# docker ps -n 5
CONTAINER ID        IMAGE               COMMAND                   CREATED           
09b93464c2f7        nginx:latest        "nginx -g 'daemon off"    2 days ago   ...     
b8573233d675        nginx:latest        "/bin/bash"               2 days ago   ...     
b1a0703e41e7        nginx:latest        "nginx -g 'daemon off"    2 days ago   ...    
f46fb1dec520        5c6e1090e771        "/bin/sh -c 'set -x \t"   2 days ago   ...   
a63b4a5597de        860c279d2fec        "bash"                    2 days ago   ...

列出所有创建的容器ID
[root@localhost ~]# docker ps -a -q
09b93464c2f7
b8573233d675
b1a0703e41e7
f46fb1dec520
a63b4a5597de
6a4aa42e947b
de7bb36e7968
43a432b73776
664a8ab1a585
ba52eb632bbd
...
</code></pre> 
<p><strong>docker inspect : 获取容器/镜像的元数据</strong></p> 
<pre><code class="prism language-bash"><span class="token function">docker</span> inspect <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span> NAME<span class="token operator">|</span>ID <span class="token punctuation">[</span>NAME<span class="token operator">|</span>ID<span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre> 
<p><em>实例</em></p> 
<pre><code>获取镜像mysql:5.6的元信息
[root@localhost ~]# docker inspect mysql:5.6

获取正在运行的容器mymysql的 IP
[root@localhost ~]# docker inspect --format='{<!-- -->{range .NetworkSettings.Networks}}{<!-- -->{.IPAddress}}{<!-- -->{end}}' mymysql
172.17.0.3
</code></pre> 
<p><strong>docker top :查看容器中运行的进程信息，支持 ps 命令参数</strong></p> 
<pre><code class="prism language-bash"><span class="token function">docker</span> <span class="token function">top</span> <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span> CONTAINER <span class="token punctuation">[</span>ps OPTIONS<span class="token punctuation">]</span>
</code></pre> 
<p><em>实例</em></p> 
<pre><code>查看容器mymysql的进程信息
[root@localhost:~/mysql]# docker top mymysql
</code></pre> 
<p><strong>docker attach :连接到正在运行中的容器</strong></p> 
<pre><code class="prism language-bash"><span class="token function">docker</span> attach <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span> CONTAINER
要attach上去的容器必须正在运行，可以同时连接上同一个container来共享屏幕（与screen命令的attach类似）。
</code></pre> 
<p><em>实例</em></p> 
<pre><code>容器mynginx将访问日志指到标准输出，连接到容器查看访问信息
[root@localhost ~]# docker attach --sig-proxy=false mynginx
192.168.239.1 - - [10/Jul/2016:16:54:26 +0000] "GET / HTTP/1.1" 304 0 "-" "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/45.0.2454.93 Safari/537.36" "-"
</code></pre> 
<p><strong>docker events : 从服务器获取实时事件</strong></p> 
<pre><code class="prism language-bash"><span class="token function">docker</span> events <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span>
如果指定的时间是到秒级的，需要将时间转成时间戳。如果时间为日期的话，可以直接使用，如--since<span class="token operator">=</span><span class="token string">"2016-07-01"</span>。
</code></pre> 
<p><em>实例</em></p> 
<pre><code>显示docker 2016年7月1日后的所有事件
[root@localhost:~/mysql]# docker events  --since="1467302400"

显示docker 镜像为mysql:5.6 2016年7月1日后的相关事件
[root@localhost:~/mysql]# docker events -f "image"="mysql:5.6" --since="1467302400" 
</code></pre> 
<p><strong>docker logs : 获取容器的日志</strong></p> 
<pre><code class="prism language-bash"><span class="token function">docker</span> logs <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span> CONTAINER
</code></pre> 
<p><em>实例</em></p> 
<pre><code>跟踪查看容器mynginx的日志输出
[root@localhost ~]# docker logs -f mynginx

查看容器mynginx从2016年7月1日后的最新10条日志
[root@localhost ~]# docker logs --since="2016-07-01" --tail=10 mynginx
</code></pre> 
<p><strong>docker wait : 阻塞运行直到容器停止，然后打印出它的退出代码</strong></p> 
<pre><code class="prism language-bash"><span class="token function">docker</span> <span class="token function">wait</span> <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span> CONTAINER <span class="token punctuation">[</span>CONTAINER<span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre> 
<p><em>实例</em></p> 
<pre><code>[root@localhost ~]# docker wait CONTAINER
</code></pre> 
<p><strong>docker export :将文件系统作为一个tar归档文件导出到STDOUT</strong></p> 
<pre><code class="prism language-bash"><span class="token function">docker</span> <span class="token builtin class-name">export</span> <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span> CONTAINER
</code></pre> 
<p><em>实例</em></p> 
<pre><code>将id为a404c6c174a2的容器按日期保存为tar文件
[root@localhost ~]# docker export -o mysql-`date +%Y%m%d`.tar a404c6c174a2
[root@localhost ~]# ls mysql-`date +%Y%m%d`.tar
mysql-20160711.tar
</code></pre> 
<p><strong>docker port :列出指定的容器的端口映射，或者查找将PRIVATE_PORT NAT到面向公众的端口</strong></p> 
<pre><code class="prism language-bash"><span class="token function">docker</span> port <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span> CONTAINER <span class="token punctuation">[</span>PRIVATE_PORT<span class="token punctuation">[</span>/PROTO<span class="token punctuation">]</span><span class="token punctuation">]</span>
</code></pre> 
<p><em>实例</em></p> 
<pre><code>查看容器mynginx的端口映射情况
[root@localhost ~]# docker port mymysql
3306/tcp -&gt; 0.0.0.0:3306
</code></pre> 
<p><strong>退出容器</strong><br> <img src="https://images2.imgbox.com/b1/c4/bcteWlh5_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_661"></a>仓库命令</h3> 
<p><strong>docker login : 登陆到一个Docker镜像仓库，如果未指定镜像仓库地址，默认为官方仓库 Docker Hub</strong></p> 
<pre><code class="prism language-bash"><span class="token function">docker</span> login <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span> <span class="token punctuation">[</span>SERVER<span class="token punctuation">]</span>
</code></pre> 
<p><em>实例</em></p> 
<pre><code>登陆到Docker Hub
[root@localhost ~]# docker login -u 用户名 -p 密码
</code></pre> 
<p><strong>docker logout : 登出一个Docker镜像仓库，如果未指定镜像仓库地址，默认为官方仓库 Docker Hub</strong></p> 
<pre><code class="prism language-bash"><span class="token function">docker</span> <span class="token builtin class-name">logout</span> <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span> <span class="token punctuation">[</span>SERVER<span class="token punctuation">]</span>
</code></pre> 
<p><em>实例</em></p> 
<pre><code>登出Docker Hub
[root@localhost ~]# docker logout
</code></pre> 
<p><strong>docker pull : 从镜像仓库中拉取或者更新指定镜像</strong></p> 
<pre><code class="prism language-bash"><span class="token function">docker</span> pull <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span> NAME<span class="token punctuation">[</span>:TAG<span class="token operator">|</span>@DIGEST<span class="token punctuation">]</span>
</code></pre> 
<p><em>实例</em></p> 
<pre><code>从Docker Hub下载java最新版镜像
[root@localhost ~]# docker pull java

从Docker Hub下载java的tag为1.8的镜像
[root@localhost ~]# docker pull java:1.8

从Docker Hub下载REPOSITORY为java的所有镜像
[root@localhost ~]# docker pull -a java
</code></pre> 
<p><strong>docker push : 将本地的镜像上传到镜像仓库,要先登陆到镜像仓库</strong></p> 
<pre><code class="prism language-bash"><span class="token function">docker</span> push <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span> NAME<span class="token punctuation">[</span>:TAG<span class="token punctuation">]</span>
</code></pre> 
<p><em>实例</em></p> 
<pre><code>上传本地镜像myapache:v1到镜像仓库中
[root@localhost ~]# docker push myapache:v1
</code></pre> 
<p><strong>docker search : 从Docker Hub查找镜像</strong></p> 
<pre><code class="prism language-bash"><span class="token function">docker</span> search <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span> <span class="token environment constant">TERM</span>
</code></pre> 
<p><em>实例</em></p> 
<pre><code>从Docker Hub查找所有镜像名包含java
[root@localhost ~]# docker search java
NAME                  DESCRIPTION                           STARS   OFFICIAL   AUTOMATED
java                  Java is a concurrent, class-based...   1037    [OK]       
anapsix/alpine-java   Oracle Java 8 (and 7) with GLIBC ...   115                [OK]
develar/java                                                 46                 [OK]
isuper/java-oracle    This repository contains all java...   38                 [OK]
lwieske/java-8        Oracle Java 8 Container - Full + ...   27                 [OK]
nimmis/java-centos    This is docker images of CentOS 7...   13                 [OK]

从Docker Hub查找所有镜像名包含java，并且收藏数大于1000的镜像
[root@localhost ~]# docker search --filter=STARS=1000 java
NAME                  DESCRIPTION                           STARS   OFFICIAL   AUTOMATED
java                  Java is a concurrent, class-based...   1037    [OK]       

**参数说明：**
	NAME: 镜像仓库源的名称
	DESCRIPTION: 镜像的描述
	OFFICIAL: 是否 docker 官方发布
	stars: 类似 Github 里面的 star，表示点赞、喜欢的意思
	AUTOMATED: 自动构建。
</code></pre> 
<h3><a id="_738"></a>命令小结</h3> 
<pre><code class="prism language-python"><span class="token triple-quoted-string string">'''
attach	Attach local standard input， output, and error streams to a running container #当前shell下attach连接指定运行的镜像
build	Build an image from a Dockerfile # 通过Dockerfile定制镜像
commit	create a new image from a container's changes #提交当前容器为新的镜像
cp		copy files/folders between a container and the local filesystem #拷贝文件
create	create a new container #仓键一个新的容器
diff	inspect changes to files or di rectories on a container'sfilesystem #查看docker容器的变化
events	Get real time events from the server # 从服务获取容器实时时间
exec	Run a command in a running container #在运行中的容器上运行命令
export	Export a container's filesystem as a tar archive #导出容器文件系统作为一个tar归档文件[对应import]
history	Show the hi story of an image # 展示一个镜像形成历史
images	List images #列出系统当前的镜像
import	import the contents from a tarball to create a filesystem image #从tar包中导入内容创建一个文件系统镜像
info	Display system-wide information # 显示全系统信息
inspect	Return low-level information on Docker objects #查看容器详细信息
kill	Kill one or more running containers # kill指定docker容器
load	Load an image from a tar archive or STDIN #从一个tar包或标准输入中力口载—个镜像[对应save]
login	Log in to a Docker registry #	
logout	Log out from a Docker registry	
logs	Fetch the logs of a container	
pause	Pause all processes within one or more containers
port	List port mappings or a specific	mapping for the container
ps		List containers	
pull	Pull an image or a repository from a registry	
push	Push an image or a repository to a registry
rename	Rename a container	
restart	Restart one or more containers	
rm		Remove one or more containers	
rmi		Remove one or more images	
run		Run a command in a new container	
save	Save one or more images to a tar archive (streamed to STDOUT by default)		
search	Search the Docker Hub for images
start	Start one or more stopped containers
stats	Display a live stream of container(s) resource usage statistics
stop	Stop one or more running containers
tag		Create a tag target一image that refers to source一image
top		Display the running processes of a container
unpause	Unpause all processes within one or more containers
update	Update configuration of one or more containers
version	Show the Docker version information
wait	Block until one or more containers stop, then print their exit codes
'''</span>
</code></pre> 
<h2><a id="_785"></a>数据卷命令</h2> 
<p><strong>docker run -v 指定docker与宿主机目录挂载</strong></p> 
<pre><code class="prism language-bash"><span class="token operator">&gt;</span> <span class="token function">docker</span> run <span class="token parameter variable">-v</span> 宿主机目录:docker目录
<span class="token comment"># 可以使用多个v设置多个挂载卷</span>

<span class="token punctuation">[</span>root@localhost docker<span class="token punctuation">]</span><span class="token comment"># docker run --name tomcat01 -it -v /home/tomcat01:/home tomcat /bin/bash</span>
root@9d0f0414f19c:/usr/local/tomcat<span class="token comment">#</span>

<span class="token comment"># 通过"docker inspect 容器ID"命令查看docker的详细信息，包含挂载目录</span>
<span class="token punctuation">[</span>root@localhost home<span class="token punctuation">]</span><span class="token comment"># docker ps</span>
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS             
9d0f0414f19c        tomcat              <span class="token string">"/bin/bash"</span>         <span class="token number">6</span> minutes ago       Up <span class="token number">6</span> minutes  
     
<span class="token punctuation">[</span>root@localhost home<span class="token punctuation">]</span><span class="token comment"># docker inspect 9d0f0414f19c</span>
</code></pre> 
<p><strong>具名数据卷</strong></p> 
<pre><code class="prism language-bash"><span class="token operator">&gt;</span> <span class="token function">docker</span> run <span class="token parameter variable">-v</span> 卷名称:docker目录

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># docker run --name tomcat01 -it -v volume01:/home tomcat /bin/bash</span>
root@0f275805e7bf:/usr/local/tomcat<span class="token comment"># [root@localhost ~]#</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># docker ps</span>
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES
0f275805e7bf        tomcat              <span class="token string">"/bin/bash"</span>         <span class="token number">15</span> seconds ago      Up <span class="token number">15</span> seconds       <span class="token number">8080</span>/tcp            tomcat01
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># docker volume ls</span>
DRIVER              VOLUME NAME
<span class="token builtin class-name">local</span>               volume01

</code></pre> 
<p><strong>匿名数据卷</strong></p> 
<pre><code class="prism language-bash"><span class="token operator">&gt;</span> <span class="token function">docker</span> run <span class="token parameter variable">-v</span> docker目录

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># docker run --name tomcat02 -it -v /home tomcat /bin/bash</span>
root@855998a3cf66:/usr/local/tomcat<span class="token comment"># [root@localhost ~]# docker ps</span>
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES
855998a3cf66        tomcat              <span class="token string">"/bin/bash"</span>         <span class="token number">13</span> seconds ago      Up <span class="token number">12</span> seconds       <span class="token number">8080</span>/tcp            tomcat02
0f275805e7bf        tomcat              <span class="token string">"/bin/bash"</span>         <span class="token number">2</span> minutes ago       Up <span class="token number">2</span> minutes        <span class="token number">8080</span>/tcp            tomcat01

</code></pre> 
<p><strong>docker volume 查看数据卷名称</strong><br> 该命令只能查询“具名/匿名数据卷”，路径数据卷只能通过docker inspect查询路径。<br> “具名/匿名数据卷”的宿主机路径在"/var/lib/docker/volumes"路径下/VOLUME NAME/_data中</p> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># docker volume ls</span>
DRIVER              VOLUME NAME
<span class="token builtin class-name">local</span>               2750faebc0f0a4ac78a973560e2ff4b4e42a9ab2264eeb9ac413f0aed4dc2fa1  <span class="token comment"># 匿名数据卷</span>
<span class="token builtin class-name">local</span>               volume01	<span class="token comment"># 具名数据卷</span>
</code></pre> 
<p><strong>数据卷容器</strong><br> 新建的docker通过复制历史docker达到共用数据卷的目的</p> 
<pre><code class="prism language-bash"><span class="token comment"># 1. 先创建一个挂载数据卷的docker</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># docker run -it -v :/home --name tomcat01 tomcat /bin/bash</span>

<span class="token comment"># 2. 创建另一个docker与上面的docker拥有同宿主机挂载目录</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># docker run -it --name tomcat02 --volumes-from tomcat01 tomcat /bin/bash</span>

<span class="token comment"># 3. 查看数据卷数量</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># docker volume ls</span>
DRIVER              VOLUME NAME
<span class="token builtin class-name">local</span>               8a0cb089458695402f8da9dcbff95b3ed9368dae871a349971a2eebc53cb043c
<span class="token builtin class-name">local</span>               2750faebc0f0a4ac78a973560e2ff4b4e42a9ab2264eeb9ac413f0aed4dc2fa1
<span class="token builtin class-name">local</span>               volume01

<span class="token comment"># “8a0cb089458695402f8da9dcbff95b3ed9368dae871a349971a2eebc53cb043c” 即是两个docker共用的数据卷，</span>
<span class="token comment"># docker tomcat01叫数据卷容器</span>
</code></pre> 
<h2><a id="Dockerfile_859"></a>Dockerfile</h2> 
<p>Dockerfile是一个包含用于组合映像的命令的文本文档。可以使用在命令行中调用任何命令。 Docker通过读取Dockerfile中的指令自动生成映像。</p> 
<p>docker build命令用于从Dockerfile构建映像。可以在docker build命令中使用-f标志指向文件系统中任何位置的Dockerfile。<br> <img src="https://images2.imgbox.com/a5/f8/4dR9HzNm_o.png" alt="在这里插入图片描述"><br> <strong>实例</strong><br> 这里举一个自行构建镜像的例子：</p> 
<ol><li>基于centos构建自定义镜像</li><li>将jdk和tomcat安装包构建在镜像中，并配置环境变量</li><li>将web程序的war包构建在tomcat的webapps里，按需是否要解压</li><li>若需要解压可以安装unzip工具，linux发行版tools搜索引擎点<a href="http://www.rpmfind.net/linux/rpm2html/search.php?" rel="nofollow">here</a></li><li>赋予tomcat启动脚本运行权限</li><li>设定运行镜像后自动start tomcat</li></ol> 
<pre><code class="prism language-bash">FROM centos
MAINTAINER creator<span class="token operator">&lt;</span>email@qq.com<span class="token operator">&gt;</span>

ENV MYPATH /usr/local
WORKDIR <span class="token variable">$MYPATH</span>

<span class="token comment"># 添加 jdk、tomcat到镜像中，ADD会自动解压压缩包</span>
ADD jdk-8u271-linux-x64.tar.gz /usr/local
ADD apache-tomcat-8.5.38.tar.gz /usr/local

<span class="token comment"># 添加程序war包到镜像中，ADD不会解压war包</span>
ADD web1.war /usr/local/apache-tomcat-8.5.38/webapps/
ADD web2.war /usr/local/apache-tomcat-8.5.38/webapps/

<span class="token comment"># add unzip install package to image</span>
<span class="token comment"># ADD unzip-6.0-43.el8.x86_64.rpm /usr/local/</span>

<span class="token comment"># set envionment variables</span>
ENV JAVA_HOME /usr/local/jdk1.8.0_271
ENV CLASSPATH <span class="token variable">$JAVA_HOME</span>/lib/dt.jar:<span class="token variable">$JAVA_HOME</span>/lib/tools.jar
ENV CATALINA_HOME /usr/local/apache-tomcat-8.5.38
ENV <span class="token environment constant">PATH</span> <span class="token environment constant">$PATH</span><span class="token builtin class-name">:</span><span class="token variable">$CATALINA_HOME</span>/bin:<span class="token variable">$JAVA_HOME</span>/bin:<span class="token variable">$CATALINA_HOME</span>/lib
EXPOSE <span class="token number">8080</span>

<span class="token comment"># run command</span>
RUN <span class="token function">cp</span> /usr/share/zoneinfo/Asia/Shanghai /etc/localtime <span class="token punctuation">\</span>
    <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> /usr/local/apache-tomcat-8.5.38/bin <span class="token punctuation">\</span>
    <span class="token operator">&amp;&amp;</span> <span class="token function">chmod</span> +x startup.sh <span class="token punctuation">\</span>
    <span class="token operator">&amp;&amp;</span> <span class="token function">chmod</span> +x catalina.sh 

<span class="token comment">#    &amp;&amp; rpm -ivh unzip-6.0-43.el8.x86_64.rpm --force --nodeps \</span>
<span class="token comment">#    &amp;&amp; cd /usr/local/apache-tomcat-8.5.38/webapps/ \</span>
<span class="token comment">#    &amp;&amp; unzip -d web1 web1.war \</span>
<span class="token comment">#    &amp;&amp; rm -f web1.war \</span>
<span class="token comment">#    &amp;&amp; unzip -d web2 web2.war \</span>
<span class="token comment">#    &amp;&amp; rm -f web2.war </span>

<span class="token comment"># run tomcat</span>
ENTRYPOINT <span class="token punctuation">[</span><span class="token string">"catalina.sh"</span>,<span class="token string">"run"</span><span class="token punctuation">]</span>

</code></pre> 
<p>若需要在线安装组件，以node镜像安装mongodb，pm2为例</p> 
<pre><code class="prism language-python">FROM node<span class="token punctuation">:</span>latest

<span class="token comment">#install mongodb</span>
RUN apt<span class="token operator">-</span>key adv <span class="token operator">-</span><span class="token operator">-</span>keyserver hkp<span class="token punctuation">:</span><span class="token operator">//</span>keyserver<span class="token punctuation">.</span>ubuntu<span class="token punctuation">.</span>com<span class="token punctuation">:</span><span class="token number">80</span> <span class="token operator">-</span><span class="token operator">-</span>recv 9DA31620334BD75D9DCB49F368818C72E52529D4
RUN echo <span class="token string">"deb http://repo.mongodb.org/apt/debian stretch/mongodb-org/4.0 main"</span> <span class="token operator">|</span> tee <span class="token operator">/</span>etc<span class="token operator">/</span>apt<span class="token operator">/</span>sources<span class="token punctuation">.</span><span class="token builtin">list</span><span class="token punctuation">.</span>d<span class="token operator">/</span>mongodb<span class="token operator">-</span>org<span class="token operator">-</span><span class="token number">4.0</span><span class="token punctuation">.</span><span class="token builtin">list</span>
RUN apt<span class="token operator">-</span>get update
RUN apt<span class="token operator">-</span>get install <span class="token operator">-</span>y mongodb<span class="token operator">-</span>org<span class="token operator">=</span><span class="token number">4.0</span><span class="token number">.6</span> mongodb<span class="token operator">-</span>org<span class="token operator">-</span>server<span class="token operator">=</span><span class="token number">4.0</span><span class="token number">.6</span> mongodb<span class="token operator">-</span>org<span class="token operator">-</span>shell<span class="token operator">=</span><span class="token number">4.0</span><span class="token number">.6</span> mongodb<span class="token operator">-</span>org<span class="token operator">-</span>mongos<span class="token operator">=</span><span class="token number">4.0</span><span class="token number">.6</span> mongodb<span class="token operator">-</span>org<span class="token operator">-</span>tools<span class="token operator">=</span><span class="token number">4.0</span><span class="token number">.6</span>
RUN apt<span class="token operator">-</span>get install <span class="token operator">-</span>y vim
 
<span class="token comment">#install pm2</span>
RUN apt<span class="token operator">-</span>get update <span class="token operator">&amp;</span><span class="token operator">&amp;</span> apt<span class="token operator">-</span>get install <span class="token operator">-</span>y apt<span class="token operator">-</span>transport<span class="token operator">-</span>https <span class="token operator">&amp;</span><span class="token operator">&amp;</span> \
    curl <span class="token operator">-</span>sS https<span class="token punctuation">:</span><span class="token operator">//</span>dl<span class="token punctuation">.</span>yarnpkg<span class="token punctuation">.</span>com<span class="token operator">/</span>debian<span class="token operator">/</span>pubkey<span class="token punctuation">.</span>gpg <span class="token operator">|</span> apt<span class="token operator">-</span>key add <span class="token operator">-</span> <span class="token operator">&amp;</span><span class="token operator">&amp;</span> \
    echo <span class="token string">"deb https://dl.yarnpkg.com/debian/ stable main"</span> <span class="token operator">|</span> tee <span class="token operator">/</span>etc<span class="token operator">/</span>apt<span class="token operator">/</span>sources<span class="token punctuation">.</span><span class="token builtin">list</span><span class="token punctuation">.</span>d<span class="token operator">/</span>yarn<span class="token punctuation">.</span><span class="token builtin">list</span> <span class="token operator">&amp;</span><span class="token operator">&amp;</span> \
    apt<span class="token operator">-</span>get update <span class="token operator">&amp;</span><span class="token operator">&amp;</span> apt<span class="token operator">-</span>get install <span class="token operator">-</span>y yarn
 
RUN yarn config <span class="token builtin">set</span> registry https<span class="token punctuation">:</span><span class="token operator">//</span>registry<span class="token punctuation">.</span>npm<span class="token punctuation">.</span>taobao<span class="token punctuation">.</span>org <span class="token operator">-</span><span class="token operator">-</span><span class="token keyword">global</span> <span class="token operator">&amp;</span><span class="token operator">&amp;</span> \
    yarn config <span class="token builtin">set</span> disturl https<span class="token punctuation">:</span><span class="token operator">//</span>npm<span class="token punctuation">.</span>taobao<span class="token punctuation">.</span>org<span class="token operator">/</span>dist <span class="token operator">-</span><span class="token operator">-</span><span class="token keyword">global</span>
 
RUN npm config <span class="token builtin">set</span> registry https<span class="token punctuation">:</span><span class="token operator">//</span>registry<span class="token punctuation">.</span>npm<span class="token punctuation">.</span>taobao<span class="token punctuation">.</span>org <span class="token operator">-</span><span class="token operator">-</span><span class="token keyword">global</span> <span class="token operator">&amp;</span><span class="token operator">&amp;</span> \
    npm config <span class="token builtin">set</span> disturl https<span class="token punctuation">:</span><span class="token operator">//</span>npm<span class="token punctuation">.</span>taobao<span class="token punctuation">.</span>org<span class="token operator">/</span>dist <span class="token operator">-</span><span class="token operator">-</span><span class="token keyword">global</span>
 
RUN npm install <span class="token operator">-</span>g pm2

EXPOSE <span class="token number">8001</span> 
 
<span class="token comment"># change dir</span>
WORKDIR <span class="token operator">/</span>data<span class="token operator">/</span>db
 
ENTRYPOINT <span class="token punctuation">[</span><span class="token string">"/bin/sh"</span><span class="token punctuation">,</span> <span class="token string">"-c"</span><span class="token punctuation">,</span> <span class="token string">"./docker-entrypoint.sh"</span><span class="token punctuation">]</span>
</code></pre> 
<p><strong>Docker: 精通ENTRYPOINT指令</strong> <a href="https://chenyufeng.blog.csdn.net/article/details/78766584" rel="nofollow">请点击这里</a></p> 
<h2><a id="_950"></a>问题</h2> 
<ul><li>linux环境解决docker容器里tomcat的时区不正确问题：</li></ul> 
<ol><li>Dockerfile增加命令：RUN cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</li><li>tomcat/bin/catalina.sh 增加一行代码：JAVA_OPTS=“${JAVA_OPTS} -Duser.timezone=GMT+08”</li></ol> 
<ul><li>当docker构建镜像时无挂起命令，k8s的负载应该如何启动docker可以解决容器启动后自动停止：<br> <em>仅运行容器</em><br> <img src="https://images2.imgbox.com/d3/63/Pp9nIi01_o.png" alt="在这里插入图片描述"><br> <em>仅执行jar程序</em><br> <img src="https://images2.imgbox.com/d8/5e/RABiSBoJ_o.png" alt="在这里插入图片描述"></li><li>有些命令启动程序后是后台运行的可以寻找其命令在前台运行，如</li></ul> 
<pre><code class="prism language-python">使用命令 pm2 start app<span class="token punctuation">.</span>js 之后<span class="token punctuation">,</span> pm2 默认在后台运行<span class="token punctuation">,</span>如果使用了docker后<span class="token punctuation">,</span>容器运行并立即退出<span class="token punctuation">,</span>需要手动指定参数<span class="token operator">-</span><span class="token operator">-</span>no<span class="token operator">-</span>daemon

pm2 start app<span class="token punctuation">.</span>js <span class="token operator">-</span><span class="token operator">-</span>no<span class="token operator">-</span>daemon <span class="token operator">//</span> 设置启动方式


同理forever也是Forever start script<span class="token punctuation">.</span>js runs <span class="token keyword">in</span> the background<span class="token punctuation">.</span> To run forever <span class="token keyword">in</span> the foreground<span class="token punctuation">,</span> <span class="token keyword">try</span> forever script<span class="token punctuation">.</span>js<span class="token punctuation">.</span>

forever <span class="token operator">-</span>c <span class="token string">'node --harmony'</span> app<span class="token punctuation">.</span>js <span class="token operator">//</span> 设置启动方式
</code></pre>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9044412d8820005459e0b0984d57df6c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">数据结构与算法—后缀表达式&#43;中缀转后缀</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/35b38884427b2637ab74e4c6461c19f2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">npm报错SyntaxError: Unexpected token ＇.‘</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程爱好者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151260"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>