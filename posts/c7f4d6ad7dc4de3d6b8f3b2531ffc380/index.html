<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>玩转Linux Shell &amp; Terminal &amp; Tmux - 编程爱好者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="玩转Linux Shell &amp; Terminal &amp; Tmux" />
<meta property="og:description" content="一、Shell编程☘️ 1. Shell指令快捷操作 1. echo # 系统指令 $ echo $(pwd) # 对于系统自带的pwd，此处不能写echo $pwd # 自定义变量 $ foo=$(pwd) $ echo $foo # 不同于pwd，对于自定义的foo，不能用$(foo) 2. !! # 假设你先执行了以下原本需要权限的指令 $ mkdir /mnt/xuyang # 终端立即提示你：Permission denied，这时可通过如下指令进行简化：【!!默认指代上次指令内容】 $ sudo !! # 该句等效于：sudo mkdir /mnt/xuyang 3. rm与rmdir # rmdir 仅用于删除空目录，如果要删除非空目录，需要使用 rm 命令 # rm -rf会递归地删除目录及其所有子目录和文件。选项 -r 表示递归删除，选项 -f 表示强制删除，即不提示确认。 $ rm -rf directory/ 4. &amp;&amp;、|| # shell脚本也可以执行逻辑指令 # &amp;&amp;前面为真，故会正常echo $ true &amp;&amp; echo &#34;hello peter parker&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bchobby.github.io/posts/c7f4d6ad7dc4de3d6b8f3b2531ffc380/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-10-12T13:42:52+08:00" />
<meta property="article:modified_time" content="2023-10-12T13:42:52+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程爱好者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程爱好者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">玩转Linux Shell &amp; Terminal &amp; Tmux</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="Shellshamrock_0"></a>一、Shell编程☘️</h3> 
<h4><a id="1_Shell_2"></a>1. Shell指令快捷操作</h4> 
<h5><a id="1_echo_4"></a>1. <code>echo</code></h5> 
<pre><code class="prism language-bash"><span class="token comment"># 系统指令</span>
$ <span class="token builtin class-name">echo</span> <span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">pwd</span><span class="token variable">)</span></span> <span class="token comment"># 对于系统自带的pwd，此处不能写echo $pwd</span>

<span class="token comment"># 自定义变量</span>
$ <span class="token assign-left variable">foo</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">pwd</span><span class="token variable">)</span></span>
$ <span class="token builtin class-name">echo</span> <span class="token variable">$foo</span>   <span class="token comment"># 不同于pwd，对于自定义的foo，不能用$(foo)</span>
</code></pre> 
<h5><a id="2__15"></a>2. <code>!!</code></h5> 
<pre><code class="prism language-bash"><span class="token comment"># 假设你先执行了以下原本需要权限的指令</span>
$ <span class="token function">mkdir</span> /mnt/xuyang
<span class="token comment"># 终端立即提示你：Permission denied，这时可通过如下指令进行简化：【!!默认指代上次指令内容】</span>
$ <span class="token function">sudo</span> <span class="token operator">!</span><span class="token operator">!</span>  <span class="token comment"># 该句等效于：sudo mkdir /mnt/xuyang</span>
</code></pre> 
<h5><a id="3_rmrmdir_24"></a>3. <code>rm</code>与<code>rmdir</code></h5> 
<pre><code class="prism language-bash"><span class="token comment"># rmdir 仅用于删除空目录，如果要删除非空目录，需要使用 rm 命令</span>

<span class="token comment"># rm -rf会递归地删除目录及其所有子目录和文件。选项 -r 表示递归删除，选项 -f 表示强制删除，即不提示确认。</span>
$ <span class="token function">rm</span> <span class="token parameter variable">-rf</span> directory/
</code></pre> 
<h5><a id="4__33"></a>4. <code>&amp;&amp;、||</code></h5> 
<pre><code class="prism language-bash"><span class="token comment"># shell脚本也可以执行逻辑指令</span>
<span class="token comment"># &amp;&amp;前面为真，故会正常echo</span>
$ <span class="token boolean">true</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token string">"hello peter parker"</span>

<span class="token comment"># &amp;&amp;前面为假，故后面的echo不会执行</span>
$ <span class="token boolean">false</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token string">"hello peter parker"</span>

<span class="token comment"># 逻辑或同理</span>
</code></pre> 
<h5><a id="5__46"></a>5. <code>""</code>与<code>''</code></h5> 
<pre><code class="prism language-bash"><span class="token comment"># 单引号和双引号的区别 </span>
<span class="token comment"># 双引号时输出:hello, I am in /home/xuyang</span>
$ <span class="token builtin class-name">echo</span> <span class="token string">"hello, I am in <span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">pwd</span><span class="token variable">)</span></span>"</span>

<span class="token comment"># 双引号时输出:hello, I am in $(pwd)</span>
$ <span class="token builtin class-name">echo</span> <span class="token string">'hello, I am in $(pwd)'</span>

<span class="token comment"># 拓展：$()是一种命令替换（command substitution）语法，用于将命令的输出结果作为变量的值进行引用。在$()中引用的变量可以是任何在命令中使用的变量或者环境变量。</span>
</code></pre> 
<h5><a id="6__59"></a>6. <code>|、||</code></h5> 
<pre><code class="prism language-bash"><span class="token comment"># | 和 || 是两个不同的操作符，分别表示管道和逻辑或。</span>
<span class="token comment"># | 用于将多个命令的输出连接起来进行数据流处理，而 || 用于在条件语句中指定多个条件中的任意一个满足即可执行相应的操作。</span>
</code></pre> 
<h5><a id="7_012_66"></a>7. <code>$0、$1、$2、$#、$$、$@、$?</code></h5> 
<pre><code class="prism language-bash"><span class="token comment"># 在 Linux 系统中，$0 是一个特殊的变量，用于表示当前执行的脚本或命令的名称。</span>
<span class="token comment"># 例如，在一个名为myscript.sh的bash脚本：</span>
<span class="token punctuation">[</span>
<span class="token comment">#!/bin/bash</span>

<span class="token builtin class-name">echo</span> <span class="token string">"当前脚本的名称及路径为：<span class="token variable">$0</span>"</span>
<span class="token punctuation">]</span>

<span class="token comment"># 当使用 ./myscript.sh 命令执行这个脚本时，</span>
$ ./myscript.sh
<span class="token comment"># 输出的结果为：当前脚本的名称及路径为：./myscript.sh</span>

<span class="token comment"># 此外，如果需要获取脚本或命令的参数或选项，可以使用 $1、$2、$3 等等来表示对应的参数或选项，例如：</span>
<span class="token comment"># 例如，在一个名为myscript.sh的bash脚本：</span>
<span class="token punctuation">[</span>
<span class="token comment">#!/bin/bash</span>

<span class="token builtin class-name">echo</span> <span class="token string">"当前脚本的第一个参数为：<span class="token variable">$1</span>"</span>
<span class="token punctuation">]</span>

<span class="token comment"># 当使用 ./myscript.sh hello 命令执行这个脚本时，</span>
$ ./myscript.sh hello 
<span class="token comment"># 输出的结果为：当前脚本的第一个参数为：hello</span>
</code></pre> 
<pre><code class="prism language-bash"><span class="token comment"># $# 是一个特殊的变量，用于表示传递给脚本或函数的参数个数。具体来说，$# 表示命令行上给出的参数个数，但不包括命令本身。</span>

<span class="token comment"># $@ 是一个特殊的变量，用于表示传递给脚本或函数的所有参数列表，每个参数都是一个独立的字符串。具体来说，$@ 表示所有参数列表，但不包括命令本身。</span>

<span class="token comment"># $$ 是一个特殊的变量，用于表示当前进程的进程ID号（PID），即 Shell 或脚本本身的进程 ID。具体来说，$$ 表示当前进程的ID，是一个整数值。</span>

<span class="token comment"># 在Ubuntu中，echo $?是一个命令，用于显示上一个命令的退出状态码（Exit status code）。每个命令在执行完成后都会返回一个退出状态码，来表示命令执行的结果。0表示成功，非0值表示失败或错误。</span>
$ <span class="token builtin class-name">echo</span> <span class="token variable">$?</span>
</code></pre> 
<h5><a id="8_grep_105"></a>8. <code>grep</code></h5> 
<pre><code class="prism language-bash"><span class="token comment"># grep 命令用于在文本文件中查找匹配的字符串：grep [options] pattern [file ...]</span>
<span class="token comment"># 其中，options为可选参数，pattern为要查找的字符串或正则表达式，file为要查找的文件名。如果省略 file 参数，则默认从标准输入中读取数据进行匹配。</span>

<span class="token comment"># 下面是 grep 命令的一些常见选项：</span>
  <span class="token comment"># -i：忽略大小写进行匹配。</span>
  <span class="token comment"># -v：反向匹配，输出不匹配的行。</span>
  <span class="token comment"># -w：匹配整个单词，而不是匹配字符串的一部分。</span>
  <span class="token comment"># -r：递归查找指定目录下的所有文件。</span>
  <span class="token comment"># -n：输出匹配行的行号。</span>
  <span class="token comment"># -c：仅输出匹配行的数量，而不是具体的匹配内容。</span>
  
<span class="token comment"># 在文件file.txt中查找包含字符串 "hello" 的行</span>
<span class="token function">grep</span> <span class="token string">"hello"</span> file.txt

<span class="token comment"># 在多个文件中查找包含字符串 "hello" 的行</span>
<span class="token function">grep</span> <span class="token string">"hello"</span> file1.txt file2.txt file3.txt

<span class="token comment"># 在文件 `file.txt` 中查找包含字符串 "hello" 的行，忽略大小写</span>
<span class="token function">grep</span> <span class="token parameter variable">-i</span> <span class="token string">"hello"</span> file.txt

<span class="token comment"># 在文件 `file.txt` 中查找不包含字符串 "hello" 的行</span>
<span class="token function">grep</span> <span class="token parameter variable">-v</span> <span class="token string">"hello"</span> file.txt

<span class="token comment"># 在文件 `file.txt` 中查找包含整个单词 "hello" 的行</span>
<span class="token function">grep</span> <span class="token parameter variable">-w</span> <span class="token string">"hello"</span> file.txt

<span class="token comment"># 在目录 `/path/to/directory` 及其子目录中递归查找包含字符串 "hello" 的行</span>
<span class="token function">grep</span> <span class="token parameter variable">-r</span> <span class="token string">"hello"</span> /path/to/directory

<span class="token comment"># 在文件 `file.txt` 中查找包含字符串 "hello" 的行，并输出行号</span>
<span class="token function">grep</span> <span class="token parameter variable">-n</span> <span class="token string">"hello"</span> file.txt

<span class="token comment"># 在文件 `file.txt` 中查找包含字符串 "hello" 的行，并输出匹配行的数量</span>
<span class="token function">grep</span> <span class="token parameter variable">-c</span> <span class="token string">"hello"</span> file.txt
</code></pre> 
<h5><a id="9_find_144"></a>9. <code>find</code></h5> 
<pre><code class="prism language-bash"><span class="token comment"># 在某一目录下查找tools.txt文件</span>
<span class="token function">find</span> /home/user/dir <span class="token parameter variable">-name</span> <span class="token string">"tools.txt"</span>
<span class="token comment"># 在某一目录下查找所有的.txt文件</span>
<span class="token function">find</span> /home/user/dir <span class="token parameter variable">-name</span> <span class="token string">"*.txt"</span>

<span class="token comment"># 在某一目录下查找src文件夹（目录）</span>
<span class="token function">find</span> /home/user/dir <span class="token parameter variable">-name</span> <span class="token string">"src"</span> <span class="token parameter variable">-type</span> d
</code></pre> 
<h5><a id="10_locate_156"></a>10. <code>locate</code></h5> 
<pre><code class="prism language-bash"><span class="token comment"># 相比于find指令，locate的检索速度会快很多；默认在整个根目录（/）下进行搜索</span>
<span class="token comment"># 在系统中查找是否存在某一文件夹或者文件，有的话会将绝对路径打印出来；如果没有输出任何信息，可以先updatedb一下</span>
<span class="token function">locate</span> ros_ws

<span class="token comment"># 更新本地数据库后，可以再次查找</span>
updatedb
</code></pre> 
<h5><a id="11_shebang_167"></a>11. <code>shebang</code></h5> 
<pre><code class="prism language-bash"><span class="token comment"># 在Linux系统中，shebang（也称为sha-bang或hashbang）是一种特殊的注释语法，用于指定脚本文件的解释器。shebang通常出现在脚本文件的第一行，其格式为：</span>
<span class="token comment">#!interpreter [optional-arg] </span>
<span class="token comment"># 其中，interpreter是用于解释脚本文件的程序或脚本解释器的路径，而optional-arg则是可选的参数，用于指定解释器的选项或参数。</span>
</code></pre> 
<ul><li>例如，在一个Bash脚本中，可以使用以下shebang来指定Bash解释器：</li></ul> 
<pre><code class="prism language-bash"><span class="token comment"># 这告诉系统在执行该脚本文件时，使用Bash解释器来解释该脚本文件。如果没有指定shebang，系统将默认使用/bin/sh作为解释器。</span>
<span class="token comment">#!/bin/bash</span>
</code></pre> 
<h5><a id="12_convertffmpeg_182"></a>12. <code>convert</code>与<code>ffmpeg</code></h5> 
<pre><code class="prism language-bash"><span class="token comment"># convert：处理图像</span>
<span class="token comment"># ffmpeg：处理视频</span>

<span class="token comment"># tldr类似于man，查看某一指令的使用手册，tldr同时会给出一些使用范例，非常清晰易用！但那是需要先安装tldr</span>
$ tldr convert
$ tldr ffmpeg
</code></pre> 
<h5><a id="13_nnn_193"></a>13. <code>nnn</code></h5> 
<pre><code class="prism language-bash"><span class="token comment"># 非常好用的终端文件管理器，功能强大，几乎零配置，具有令人难以置信的性能，可能是您使用过得最快的！可以在 DE 和 GUI 实用程序无缝集成，具有独特的导航即可模式、自动选择、可分析磁盘使用情况，批量重命名，启动应用程序和选择文件。</span>
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> nnn

<span class="token comment"># 快捷键大全：</span>
<span class="token comment"># d：默认左侧不显示每个目录/文件对应的时间戳，快捷键d可以切换显示</span>
<span class="token comment"># j：往下启动选中项</span>
<span class="token comment"># k：往上移动</span>
<span class="token comment"># l（L键）：进入下一级文件夹</span>
<span class="token comment"># h：切换到上一级文件夹</span>
<span class="token comment"># G/g：G：直接跳到最下面；g：直接跳到最上面</span>
<span class="token comment"># e：编辑文件</span>
<span class="token comment"># /：搜索内容，先按一下/，再输入待搜索的字符</span>
<span class="token comment"># .：显示隐藏文件，来回切换</span>
<span class="token comment"># space：选中文件</span>

<span class="token comment"># 移动/复制文件到某一目录：先按一下【space键】即可选中（可以依次选中多个文件）；移动到指定目录后，按一下【v】，即可完成移动过程；如果按一下【p】，即可完成复制过程！</span>
<span class="token comment"># 删除文件：选中文件后，按一下【x】，根据提示需要【y】进行确认。</span>
<span class="token comment"># 文件重命名：同时按【ctr+R】，输入新名称，回车即可。</span>

<span class="token comment"># 左上角的【1,2,3,4】是不同的工作区，相互隔离，互不影响</span>
</code></pre> 
<ul><li><code>nnn</code>管理器有很多独立的插件，比如图片/文本预览插件，可以到官方<a href="https://github.com/jarun/nnn">GitHub</a>上下载安装，比较方便！</li></ul> 
<h5><a id="14_tar_220"></a>14. <code>tar</code></h5> 
<ol><li> <p>压缩</p> <pre><code class="prism language-bash"><span class="token comment"># 压缩包命名：archive.tar.gz</span>
<span class="token function">tar</span> <span class="token parameter variable">-czvf</span> archive.tar.gz ./
</code></pre> </li><li> <p>解压</p> <pre><code class="prism language-bash"><span class="token comment"># 解压缩 .tar 文件</span>
<span class="token function">tar</span> <span class="token parameter variable">-xvf</span> file.tar

<span class="token comment"># 解压缩 .tar.gz 或 .tgz 文件</span>
<span class="token function">tar</span> <span class="token parameter variable">-xzvf</span> file.tar.gz

<span class="token comment"># 解压缩 .tar.bz2 文件</span>
<span class="token function">tar</span> <span class="token parameter variable">-xjvf</span> file.tar.bz2
</code></pre> </li></ol> 
<h5><a id="15_7zimg_242"></a>15. <code>7z</code>解压<code>img</code></h5> 
<ol><li> <p>在Ubuntu下，可以使用<code>p7zip-full</code>软件包中的<code>7z</code>命令来解压img文件；</p> </li><li> <p>安装<code>p7zip-full</code>软件包：</p> <pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> update
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> p7zip-full
</code></pre> </li><li> <p>解压</p> <pre><code class="prism language-bash">7z x filename.img

<span class="token comment"># 其中，`filename.img`是需要解压的img文件名。</span>
<span class="token comment"># 如果img文件是多个分卷文件，可以使用以下命令来解压：</span>

7z x filename.img.001
<span class="token comment"># 其中，`filename.img.001`是分卷文件的名称，`.001`表示第一个分卷文件。</span>
</code></pre> </li></ol> 
<h5><a id="16_dmesg_266"></a>16. <code>dmesg</code></h5> 
<ol><li> <p>Linux dmesg（英文全称：display message）命令用于显示开机信息。kernel 会将开机信息存储在 ring buffer 中。您若是开机时来不及查看信息，可利用 dmesg 来查看。开机信息亦保存在 /var/log 目录中，名称为 dmesg 的文件里。</p> <pre><code class="prism language-bash"><span class="token function">dmesg</span> <span class="token punctuation">[</span>-cn<span class="token punctuation">]</span><span class="token punctuation">[</span>-s <span class="token operator">&lt;</span>缓冲区大小<span class="token operator">&gt;</span><span class="token punctuation">]</span>
</code></pre> 
  <ul><li>-c 　显示信息后，清除 ring buffer 中的内容。</li><li>-s &lt;缓冲区大小&gt; 　预设置为 8196，刚好等于 ring buffer 的大小。</li><li>-n 　设置记录信息的层级。</li></ul> </li><li> <p>实例🌰：</p> <pre><code class="prism language-bash">$ <span class="token function">dmesg</span> <span class="token operator">|</span> <span class="token function">less</span>
WARNING: terminal is not fully functional
<span class="token punctuation">[</span>  <span class="token number">0.000000</span><span class="token punctuation">]</span> Initializing cgroup subsys cpuset
<span class="token punctuation">[</span>  <span class="token number">0.000000</span><span class="token punctuation">]</span> Initializing cgroup subsys cpu
<span class="token punctuation">[</span>  <span class="token number">0.000000</span><span class="token punctuation">]</span> Linux version <span class="token number">2.6</span>.32-21-generic <span class="token punctuation">(</span>buildd@rothera<span class="token punctuation">)</span> <span class="token punctuation">(</span>gcc version <span class="token number">4.4</span>.3 <span class="token punctuation">(</span>Ub
untu <span class="token number">4.4</span>.3-4ubuntu5<span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token comment">#32-Ubuntu SMP Fri Apr 16 08:10:02 UTC 2010 (Ubuntu 2.6.32-21.3</span>
<span class="token number">2</span>-generic <span class="token number">2.6</span>.32.11+drm33.2<span class="token punctuation">)</span>
<span class="token punctuation">[</span>  <span class="token number">0.000000</span><span class="token punctuation">]</span> KERNEL supported cpus:
<span class="token punctuation">[</span>  <span class="token number">0.000000</span><span class="token punctuation">]</span>  Intel GenuineIntel
<span class="token punctuation">[</span>  <span class="token number">0.000000</span><span class="token punctuation">]</span>  AMD AuthenticAMD
<span class="token punctuation">[</span>  <span class="token number">0.000000</span><span class="token punctuation">]</span>  NSC Geode by NSC
<span class="token punctuation">[</span>  <span class="token number">0.000000</span><span class="token punctuation">]</span>  Cyrix CyrixInstead
<span class="token punctuation">[</span>  <span class="token number">0.000000</span><span class="token punctuation">]</span>  Centaur CentaurHauls
<span class="token punctuation">[</span>  <span class="token number">0.000000</span><span class="token punctuation">]</span>  Transmeta GenuineTMx86
<span class="token punctuation">[</span>  <span class="token number">0.000000</span><span class="token punctuation">]</span>  Transmeta TransmetaCPU
<span class="token punctuation">[</span>  <span class="token number">0.000000</span><span class="token punctuation">]</span>  UMC UMC UMC UMC
<span class="token punctuation">[</span>  <span class="token number">0.000000</span><span class="token punctuation">]</span> BIOS-provided physical RAM map:
<span class="token punctuation">[</span>  <span class="token number">0.000000</span><span class="token punctuation">]</span> BIOS-e820: 0000000000000000 - 000000000009f800 <span class="token punctuation">(</span>usable<span class="token punctuation">)</span>
<span class="token punctuation">[</span>  <span class="token number">0.000000</span><span class="token punctuation">]</span> BIOS-e820: 000000000009f800 - 00000000000a0000 <span class="token punctuation">(</span>reserved<span class="token punctuation">)</span>
<span class="token punctuation">[</span>  <span class="token number">0.000000</span><span class="token punctuation">]</span> BIOS-e820: 00000000000ca000 - 00000000000cc000 <span class="token punctuation">(</span>reserved<span class="token punctuation">)</span>
<span class="token punctuation">[</span>  <span class="token number">0.000000</span><span class="token punctuation">]</span> BIOS-e820: 00000000000dc000 - 00000000000e0000 <span class="token punctuation">(</span>reserved<span class="token punctuation">)</span>
<span class="token punctuation">[</span>  <span class="token number">0.000000</span><span class="token punctuation">]</span> BIOS-e820: 00000000000e4000 - 0000000000100000 <span class="token punctuation">(</span>reserved<span class="token punctuation">)</span>
<span class="token punctuation">[</span>  <span class="token number">0.000000</span><span class="token punctuation">]</span> BIOS-e820: 0000000000100000 - 000000003fef0000 <span class="token punctuation">(</span>usable<span class="token punctuation">)</span>
<span class="token punctuation">[</span>  <span class="token number">0.000000</span><span class="token punctuation">]</span> BIOS-e820: 000000003fef0000 - 000000003feff000 <span class="token punctuation">(</span>ACPI data<span class="token punctuation">)</span>
<span class="token punctuation">[</span>  <span class="token number">0.000000</span><span class="token punctuation">]</span> BIOS-e820: 000000003feff000 - 000000003ff00000 <span class="token punctuation">(</span>ACPI NVS<span class="token punctuation">)</span>

……省略部分内容
</code></pre> </li></ol> 
<h5><a id="17_htopiotop_310"></a>17. <code>htop</code>与<code>iotop</code></h5> 
<ul><li> <p><strong>通用监控工具</strong> <a href="https://htop.dev/" rel="nofollow"><code>htop</code></a>，是 <a href="http://man7.org/linux/man-pages/man1/top.1.html" rel="nofollow"><code>top</code></a>的改进版。<code>htop</code> 可以显示当前运行进程的多种统计信息；它有很多选项和快捷键，常见的有：<code>&lt;F6&gt;</code> 进程排序、 <code>t</code> 显示树状结构和 <code>h</code> 打开或折叠线程。</p> </li><li> <p><strong>I/O 操作</strong> - <a href="http://man7.org/linux/man-pages/man8/iotop.8.html" rel="nofollow"><code>iotop</code></a> 可以显示实时 I/O 占用信息而且可以非常方便地检查某个进程是否正在执行大量的磁盘读写操作；</p> <pre><code class="prism language-bash">$ <span class="token function">htop</span>

$ iotop
</code></pre> </li></ul> 
<h5><a id="18__322"></a>18. <code>&amp;&gt;</code>与<code>&gt;&amp;</code></h5> 
<ul><li> <p><code>&amp;</code>和<code>&gt;</code>的区别：</p> 
  <ul><li><code>&amp;</code>：通常用于将一个命令放到后台运行，即在命令结尾处添加 <code>&amp;</code> 符号；</li><li><code>&gt;</code>：重定向符，表示<strong>把前面输出的内容重定向到后面指定的位置</strong>；</li></ul> </li><li> <p><code>&amp;&gt;</code>和<code>&gt;&amp;</code>的区别：</p> 
  <ul><li><code>&amp;&gt;</code> ：将命令的标准输出<strong>和</strong>标准错误输出都重定向到指定的位置，即同时重定向标准输出和标准错误输出；</li><li><code>&gt;&amp;</code> ：将标准输出<strong>或</strong>标准错误输出重定向到指定的位置。它的具体含义取决于它前面的数字是 <code>1</code>（标准输出）还是 <code>2</code>（标准错误输出）；</li></ul> </li><li> <p><code>1&gt;&amp;2</code>和<code>1&gt;2</code>的区别：</p> 
  <ul><li><code>1&gt;&amp;2</code>：1输出通道重定向到2输出通道，这里 <code>&amp;2</code> 表示2输出通道；</li><li><code>1&gt;2</code>： 
    <ul><li>&amp; 是一个描述符，如果1或2前不加&amp;，只会被当成一个普通文件；</li><li>1输出通道重定向到一个<strong>普通文件2</strong>中，注意这里没有<code>&amp;</code>的加持，不能代表2输出通道。</li></ul> </li></ul> </li><li> <p>shell中的文件描述符：这里的数字<code>0/1/2</code>是有特殊含义的！</p> 
  <ul><li>0 是一个文件描述符，表示标准输入<code>STDIN</code></li><li>1 是一个文件描述符，表示标准输出<code>STDOUT</code></li><li>2 是一个文件描述符，表示标准错误<code>STDERR</code></li></ul> </li><li> <p>🌰举个栗子：</p> 
  <ul><li>当前目录只有一个文件<code>a.txt</code>：</li></ul> <pre><code class="prism language-bash">$ <span class="token function">ls</span> 
a.txt 

$ <span class="token function">ls</span> a.txt b.txt 
ls: b.txt: No such <span class="token function">file</span> or directory <span class="token comment"># 由于没有b.txt这个文件, 于是返回错误值, 这就是所谓的2输出 </span>
a.txt <span class="token comment"># 而这个就是所谓的1输出</span>
</code></pre> 
  <ul><li>重定向：</li></ul> <pre><code class="prism language-bash"><span class="token comment"># 执行后没有任何返回值。原因是返回值都被重定向到相应的文件中了，想重定向谁，就写谁即可</span>
$ <span class="token function">ls</span> a.txt b.txt <span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>file.out <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>file.err

<span class="token comment"># 一般 `1&gt;` 通常可以省略成 `&gt;`，以下命令与上一命令等价</span>
$ <span class="token function">ls</span> a.txt b.txt <span class="token operator">&gt;</span>file.out <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>file.err

$ <span class="token function">cat</span> file.out 
a.txt 

$ <span class="token function">cat</span> file.err 
ls: b.txt: No such <span class="token function">file</span> or directory
</code></pre> 
  <ul><li>标准输出、标准错误输出均重定向到了<code>file.out</code>文件：</li></ul> <pre><code class="prism language-bash"><span class="token comment"># 以下两条等价</span>
$ <span class="token function">ls</span> a.txt b.txt <span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>file.out <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span> 
$ <span class="token function">ls</span> a.txt b.txt <span class="token operator">&amp;&gt;</span> file.out  <span class="token comment"># 简洁版</span>

$ <span class="token function">cat</span> file.out 
ls: b.txt: No such <span class="token function">file</span> or directory 
a.txt
</code></pre> </li></ul> 
<h5><a id="19__388"></a>19. <code>;、&amp;&amp;、&amp;</code></h5> 
<ul><li>多条命令可以在终端中同一行使用<code>;</code>、<code>&amp;&amp;</code>、<code>&amp;</code>隔开一起执行，但是作用有区别： 
  <ul><li><code>;</code>：有先后顺序，但是不管前面命令是否执行成功，后面的命令会紧接着执行；</li><li><code>&amp;&amp;</code>：有先后顺序，并且要前面的命令执行成功后，才继续执行后面的命令；</li><li><code>&amp;</code>：所有命令同时执行，没有先后顺序。</li></ul> </li></ul> 
<h5><a id="20_dfdu_395"></a>20. <code>df、du</code></h5> 
<ul><li><strong>磁盘使用</strong>： 
  <ul><li><a href="http://man7.org/linux/man-pages/man1/df.1.html" rel="nofollow"><code>df</code></a>：显示每个分区的信息；</li><li><a href="http://man7.org/linux/man-pages/man1/du.1.html" rel="nofollow"><code>du</code></a>：显示当前目录下每个文件的磁盘使用情况（ <strong>d</strong>isk <strong>u</strong>sage）。<code>-h</code> 选项可以使命令以对人类（<strong>h</strong>uman）更加友好的格式显示数据；</li><li><a href="https://dev.yorhel.nl/ncdu" rel="nofollow"><code>ncdu</code></a>是一个交互性更好的 <code>du</code> ，它可以让您在不同目录下导航、删除文件和文件夹；</li></ul> </li></ul> 
<h5><a id="21__402"></a>21. 通配符</h5> 
<ul><li> <p>注意：<code>%</code>并不是通配符；</p> <pre><code class="prism language-bash"><span class="token comment">#  ? 任意单个字符</span>
<span class="token comment">#  * 任意0个或多个字符</span>
<span class="token comment">#  [ ] 匹配方括号中的任意一个字符，如[abc] 则匹配abc中的一个</span>
<span class="token comment">#  [ - ] "-"代表范围，例如：[a-z] 则匹配任意一个小写字母; [0-9] 则匹配任意一个0-9之间的数据，但是注意[0-10]不可以，不能超过9</span>
<span class="token comment">#  [^] 逻辑非，例如： [^0-9]匹配任意一个非数字字符</span>

<span class="token comment"># 创建20个文件</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">seq</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">20</span><span class="token variable">)</span></span>
<span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> i <span class="token operator">&gt;</span> <span class="token function">file</span><span class="token variable">${i}</span>
<span class="token keyword">done</span>

<span class="token comment"># 删除file1 file2 ... file5</span>
<span class="token function">rm</span> file<span class="token punctuation">[</span><span class="token number">1</span>-5<span class="token punctuation">]</span>

<span class="token function">touch</span> a1 a2

<span class="token comment"># 删除a开头的所有文件</span>
<span class="token function">rm</span> a*

<span class="token comment"># 删除a2 b2 c2</span>
<span class="token function">touch</span> c1 c2
<span class="token function">rm</span> <span class="token punctuation">[</span>abc<span class="token punctuation">]</span><span class="token number">2</span>
</code></pre> </li></ul> 
<h5><a id="22_xdgopen_432"></a>22. <code>xdg-open</code></h5> 
<ul><li> <p>直接在命令行打开<code>doc</code>、<code>pdf</code>、<code>png</code>等文件，不用在文件管理器中一层层找；</p> <pre><code class="prism language-bash"><span class="token comment"># 安装</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> update
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> xdg-utils
</code></pre> 
  <ul><li>直接参数传入要打开的文件，等效于鼠标双击打开，系统会根据文件类型自动调用对应的程序：</li></ul> <pre><code class="prism language-bash"><span class="token function">xdg-open</span>  xxx.doc
<span class="token function">xdg-open</span>  xxx.pdf
<span class="token function">xdg-open</span>  xxx.png
</code></pre> 
  <ul><li>如果传入路径的话，则是使用默认的文件管理器打开界面：</li></ul> <pre><code class="prism language-bash"><span class="token function">xdg-open</span>  <span class="token builtin class-name">.</span>
<span class="token function">xdg-open</span>  ~/Downloads
</code></pre> 
  <ul><li>传入网址：</li></ul> <pre><code class="prism language-bash"><span class="token function">xdg-open</span>  www.google.com
</code></pre> </li></ul> 
<h5><a id="23_xargs_465"></a>23. <code>xargs</code></h5> 
<ul><li> <p>允许用户将标准输入的数据作为参数传递给其他命令，基本语法：</p> <pre><code class="prism language-bash"><span class="token builtin class-name">command</span> <span class="token operator">|</span> <span class="token function">xargs</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span> <span class="token punctuation">[</span>command<span class="token punctuation">]</span>
</code></pre> <p><code>xargs</code> 从标准输入读取数据，将其转换为命令行参数，并将其传递给 <code>command</code> 命令。</p> </li><li> <p>示例🌰：</p> <pre><code class="prism language-bash"><span class="token comment"># 将文件列表传递给 rm 命令，以删除这些文件</span>
<span class="token function">find</span> <span class="token builtin class-name">.</span> <span class="token parameter variable">-name</span> <span class="token string">"*.txt"</span> <span class="token operator">|</span> <span class="token function">xargs</span> <span class="token function">rm</span>

<span class="token comment"># 将列表中的URL下载到当前目录，从urls.txt文件中读取URL并将其逐行传递给curl -O命令，其中-n 1指定每次只传递一个参数给curl</span>
<span class="token function">cat</span> urls.txt <span class="token operator">|</span> <span class="token function">xargs</span> <span class="token parameter variable">-n</span> <span class="token number">1</span> <span class="token function">curl</span> <span class="token parameter variable">-O</span>

<span class="token comment"># 将多个文件合并成一个文件</span>
<span class="token function">find</span> <span class="token builtin class-name">.</span> <span class="token parameter variable">-name</span> <span class="token string">"*.log"</span> <span class="token operator">|</span> <span class="token function">xargs</span> <span class="token function">cat</span> <span class="token operator">&gt;</span> all_logs.txt
</code></pre> </li></ul> 
<h4><a id="2_regular_file_490"></a>2. 何为regular file</h4> 
<ul><li> <p>如何理解Linux系统下的regular file？</p> 
  <ul><li> <p>在Linux系统中，<code>regular file</code> 是一种常见的文件类型，通常指的是普通的文本文件或二进制文件，其中包含了用户创建或下载的数据和程序代码等信息。</p> </li><li> <p>与之相对的是特殊文件（<code>special file</code>），包括目录文件、设备文件、命名管道、符号链接等。</p> </li><li> <p><code>regular file</code> 文件类型通常与其他文件类型进行区分，例如目录文件（directory）用于存储其他文件和目录的信息，设备文件（<code>device file</code>）用于与硬件设备进行交互，命名管道（named pipe）用于进程间通信等。与之相比，<code>regular file</code> 文件类型的特点是具有一定的结构和格式，数据存储在文件中，并且可以被直接读取和编辑。</p> </li><li> <p>在Linux系统中，使用 <code>ls -l</code> 命令可以查看文件的详细信息，其中第一个字符表示文件类型，<code>-</code> 表示 <code>regular file</code> 文件类型。例如：<code>-rw-r--r-- 1 user user 0 Jun 28 15:00 file.txt</code></p> </li><li> <p>在Linux系统中，<code>file</code> 命令可以用于识别文件类型，例如：<code>file /bin/bash</code></p> 
    <ul><li>该命令可以识别 <code>/bin/bash</code> 文件为<code>ELF 64-bit LSB</code>可执行文件。</li></ul> </li></ul> </li></ul> 
<h4><a id="3__502"></a>3. 脚本文件的执行方法</h4> 
<ul><li> <p>在Linux系统中，<code>source</code>命令和<code>./</code>命令都可以用来执行脚本文件，但它们的执行方式和作用有所不同。</p> 
  <ol><li> <p><code>source</code>命令</p> 
    <ul><li> <p><code>source</code>命令用于在当前shell环境下执行指定的脚本文件，并将其内容作为当前<code>shell</code>环境的一部分来处理。这意味着，脚本文件中定义的变量、函数和别名等将会在当前<code>shell</code>环境中生效，可以在当前<code>shell</code>环境中直接使用。使用<code>source</code>命令执行脚本文件的语法如下：</p> <pre><code class="prism language-bash"><span class="token builtin class-name">source</span> filename
<span class="token comment"># or</span>
<span class="token builtin class-name">.</span> filename
</code></pre> </li></ul> </li></ol> </li></ul> 
<ol start="2"><li> <p><code>./</code>命令</p> 
  <ul><li> <p><code>./</code>命令用于在新的子shell环境下执行指定的脚本文件。这意味着，脚本文件中定义的变量、函数和别名等只会在子shell环境中生效，不会对当前shell环境产生影响。使用./命令执行脚本文件的语法如下：</p> <pre><code class="prism language-bash">    ./filename
</code></pre> </li></ul> </li></ol> 
<ul><li>因此，使用<code>source</code>命令可以将脚本文件的内容直接导入到当前<code>shell</code>环境中，方便在当前shell环境中直接使用脚本中定义的变量和函数等；而使用<code>./</code>命令则会在一个新的子<code>shell</code>环境中执行脚本文件，适用于需要在独立的环境中执行脚本文件的情况。</li></ul> 
<h3><a id="Tmuxfour_leaf_clover_528"></a>二、Tmux🍀</h3> 
<p><img src="https://images2.imgbox.com/63/6d/Mv19TwYm_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="0__532"></a>0. 参考链接</h4> 
<ul><li>Tmux 指令/快捷键小抄：<a href="https://tmuxcheatsheet.com/" rel="nofollow">Tmux Cheat Sheet &amp; Quick Reference</a></li><li>良心好文📖：<a href="https://zhuanlan.zhihu.com/p/102546608" rel="nofollow">一文助你打通 tmux</a> <a href="http://louiszhai.github.io/2017/09/30/tmux/" rel="nofollow">GitHub-Tmux使用手册</a></li><li>良心视频✌️：<a href="https://www.bilibili.com/video/BV1ML411h7tF/?spm_id_from=333.337.search-card.all.click" rel="nofollow">bilibili-终端神器tmux：多任务管理大师</a></li></ul> 
<h4><a id="1_Tmux_540"></a>1. Tmux是啥？</h4> 
<ul><li>Tmux 是一个终端复用器（terminal multiplexer），非常有用，属于常用的开发工具。类似的终端复用器还有 GNU Screen，Tmux 与它功能相似，但是更易用，也更强大。</li><li>Tmux 有多强： 
  <ul><li><strong>丝滑分屏</strong>（split），虽然 iTem2 也提供了横向和竖向分屏功能，但这种分屏功能非常拙劣，完全等同于屏幕新开一个窗口，新开的窗格（pane）不会自动进入到当前目录，也没有记住当前登录状态。这意味着如果 SSH 进入到远程服务器时，iTem2 新开的窗格（pane）中，依然要重新走一遍 SSH 登录的老路😢。Tmux 就不会这样，Tmux 窗口中，新开的窗格（pane），默认进入到之前的路径，如果是 SSH 连接，登录状态也依旧保持着😄，如此一来，我就可以随意的增删 pane，这种灵活性，好处不言而喻。</li><li><strong>保护现场</strong>（attach），即使命令行的工作只进行到一半，关闭终端后还可以重新进入到操作现场，继续工作。对于 SSH 远程连接而言，即使网络不稳定也没有关系，掉线后重新连接，可以直奔现场，之前运行中的任务，依旧在跑，就好像从来没有离开过一样；特别是在远程服务器上运行耗时的任务，Tmux 可以帮你一直保持住会话。如此一来，你就可以随时随地放心地进行移动办公，只要你附近的计算机装有 Tmux（没有你也可以花几分钟装一个），你就能继续刚才的工作。</li><li><strong>会话共享</strong>（适用于结对编程或远程教学），将 Tmux 会话的地址分享给他人，这样他们就可以通过 SSH 接入该会话。如果你要给同事演示远程服务器的操作，他不必直勾勾地盯着你的屏幕，借助 Tmux，他完全可以进入到你的会话，然后静静地看着他桌面上你风骚的键盘走位，只要他愿意，甚至还可以录个屏。</li></ul> </li></ul> 
<h5><a id="11__548"></a>1.1 会话与进程</h5> 
<ul><li>命令行的典型使用方式：打开一个终端窗口（terminal window，以下简称“窗口”），在里面输入命令。<strong>用户与计算机的这种临时的交互，称为一次“会话”（session）</strong> 。</li><li>会话的一个重要特点是，窗口与其中启动的进程是绑定的：打开窗口，会话开始；关闭窗口，会话结束，会话内部的进程也会随之终止，不管有没有运行完。</li><li>一个典型的例子🌰就是，<a href="https://www.ruanyifeng.com/blog/2011/12/ssh_remote_login.html" rel="nofollow">SSH登录</a>远程计算机，打开一个远程窗口执行命令。这时，网络突然断线，再次登录的时候，是找不回上一次执行的命令的。因为上一次 SSH 会话已经终止了，里面的进程也随之消失了。</li><li>为了解决这个问题，会话与窗口可以“解绑”：窗口关闭时，会话并不终止，而是继续运行，等到以后需要的时候，再让会话“绑定”其他窗口。</li></ul> 
<h5><a id="12_Tmux_555"></a>1.2 Tmux的作用</h5> 
<ul><li> <p>Tmux 就是<strong>会话与窗口的“解绑”工具</strong>，将它们彻底分离：</p> 
  <ul><li>它允许在单个窗口中，同时访问多个会话，这对于同时运行多个命令行程序很有用。</li><li>它可以让新窗口“接入”已经存在的会话。</li><li>它允许每个会话有多个连接窗口，因此可以多人实时共享会话。</li><li>它还支持窗口任意的垂直和水平拆分。</li></ul> </li><li> <p>一定要搞清楚<strong>窗口、窗格、会话</strong>的关系：<br> <img src="https://images2.imgbox.com/18/89/xMahXfb7_o.png" alt="在这里插入图片描述"></p> <p>如上图所示，Tmux 采用 C/S 模型构建，输入 tmux 命令就相当于开启了一个服务器，此时默认将新建一个<strong>会话</strong>，然后会话中默认新建一个<strong>窗口</strong>，窗口中默认新建一个<strong>窗格（pane，面板）</strong>。会话、窗口、面板之间的联系如下：</p> 
  <ul><li>一个Tmux <code>session</code>（会话）可以包含多个<code>window</code>（窗口），窗口默认充满会话界面，因此这些窗口中可以运行相关性不大的任务。</li><li>一个<code>window</code>又可以包含多个<code>pane</code>（面板），窗口下的面板，都处于同一界面下，这些面板适合运行相关性高的任务，以便同时观察到它们的运行情况。</li></ul> </li></ul> 
<h4><a id="2__572"></a>2. 基本用法</h4> 
<h5><a id="21__574"></a>2.1 安装</h5> 
<ul><li> <p>二进制安装：</p> <pre><code class="prism language-bash"><span class="token comment"># Ubuntu 或 Debian</span>
$ <span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> tmux

<span class="token comment"># CentOS 或 Fedora</span>
$ <span class="token function">sudo</span> yum <span class="token function">install</span> tmux

<span class="token comment"># Mac</span>
$ brew <span class="token function">install</span> tmux
</code></pre> </li><li> <p>源码安装：</p> <pre><code class="prism language-bash"><span class="token function">git</span> clone https://github.com/tmux/tmux.git
<span class="token builtin class-name">cd</span> tmux
<span class="token function">sh</span> autogen.sh
./configure <span class="token operator">&amp;&amp;</span> <span class="token function">make</span>
</code></pre> </li></ul> 
<h5><a id="22__598"></a>2.2 启动与退出</h5> 
<ul><li> <p>直接在终端输入<code>tmux</code>命令，即可直接进入 Tmux 窗口；</p> </li><li> <p>按下<code>Ctrl+d</code>或者显式输入<code>exit</code>命令，就可以退出 Tmux 窗口。</p> </li></ul> 
<h5><a id="23__604"></a>2.3 前缀键</h5> 
<ul><li>Tmux 窗口有大量的快捷键。<strong>所有快捷键都要通过前缀键唤起</strong>。</li><li>默认的前缀键是<code>Ctrl+b</code>，即先按下<code>Ctrl+b</code>，快捷键才会生效。</li><li>举个栗子🌰： 
  <ul><li>帮助命令的快捷键是<code>Ctrl+b ?</code>：在 Tmux 窗口中，先按下<code>Ctrl+b</code>，再按下<code>?</code>，就会显示帮助信息。</li><li>按下<code> ESC</code>键或<code>q</code>键，就可以退出帮助。</li></ul> </li></ul> 
<h4><a id="3__612"></a>3. 会话管理</h4> 
<h5><a id="31__614"></a>3.1 新建会话</h5> 
<ul><li> <p>第一个启动的 Tmux 窗口，编号是<code>0</code>，第二个窗口的编号是<code>1</code>，以此类推。这些窗口对应的会话，就是 0 号会话、1 号会话。⚠️<strong>会话和窗口是不同的概念</strong>！​</p> </li><li> <p>启动 Tmux 后，底部 [0] 表示第 0 个 Tmux 伪窗口，如果再启动一个 Tmux 伪窗口时则为 [1]，依次递增。</p> </li><li> <p>但使用编号来区分会话，不太直观，更好的方法是为会话起名。</p> <pre><code class="prism language-bash"><span class="token comment"># 新建一个无名称的会话</span>
$ tmux 

<span class="token comment"># 新建一个指定名称的会话</span>
$ tmux new <span class="token parameter variable">-s</span> <span class="token operator">&lt;</span>session-name<span class="token operator">&gt;</span>
</code></pre> <p>底部不再是数字，而是命名的名字，如下图：</p> <p><img src="https://images2.imgbox.com/ef/73/5hy3oLgd_o.png" alt="在这里插入图片描述"></p> </li></ul> 
<h5><a id="32__635"></a>3.2 查看会话</h5> 
<ul><li> <p><code>tmux ls</code>命令可以查看当前所有的 Tmux 会话：</p> <pre><code class="prism language-bash">$ tmux <span class="token function">ls</span>
<span class="token comment"># or</span>
$ tmux list-session
</code></pre> <p><img src="https://images2.imgbox.com/1f/b5/ya5xyvCU_o.png" alt="在这里插入图片描述"></p> </li><li> <p>如果刚好处于会话中，怎么查看所有会话？别担心，可以使用对应的 tmux 快捷键<code>Ctrl+b + s</code>，此时 tmux 将打开一个会话列表，按上下键(⬆︎⬇︎)或者鼠标滚轮，可选中目标会话，按左右键（⬅︎➜）可收起或展开会话的窗口，选中目标会话或窗口后，按回车键即可完成切换：</p> <p><img src="https://images2.imgbox.com/f8/1c/pGpZbF5d_o.png" alt="在这里插入图片描述"></p> </li></ul> 
<h5><a id="33__653"></a>3.3 分离会话</h5> 
<ul><li> <p>在 Tmux 窗口中，按下<code>Ctrl+b d</code>或者输入<code>tmux detach</code>命令，就会<strong>将当前会话与当前窗口分离</strong>：</p> <pre><code class="prism language-bash"><span class="token comment"># 在 tmux 的任何一个窗格中输入如下命令</span>
$ tmux detach
</code></pre> </li><li> <p>上面命令执行后，就会退出当前 Tmux 窗口，但是<strong>会话和里面的进程仍然在后台运行</strong>。</p> </li></ul> 
<h5><a id="34__664"></a>3.4 接入会话</h5> 
<ul><li> <p><code>tmux attach</code>命令用于重新接入某个已存在的 Tmux 会话：</p> <pre><code class="prism language-bash"><span class="token comment"># 使用会话编号重新接入</span>
$ tmux attach <span class="token parameter variable">-t</span> <span class="token number">0</span>

<span class="token comment"># 使用会话名称重新接入</span>
$ tmux attach <span class="token parameter variable">-t</span> <span class="token operator">&lt;</span>session-name<span class="token operator">&gt;</span>
</code></pre> </li></ul> 
<h5><a id="35__676"></a>3.5 杀掉会话</h5> 
<ul><li> <p><code>tmux kill-session</code>命令用于杀死某个会话：</p> <pre><code class="prism language-bash"><span class="token comment"># 使用会话编号</span>
$ tmux kill-session <span class="token parameter variable">-t</span> <span class="token number">0</span>

<span class="token comment"># 使用会话名称</span>
$ tmux kill-session <span class="token parameter variable">-t</span> <span class="token operator">&lt;</span>session-name<span class="token operator">&gt;</span>

<span class="token comment"># 关闭服务器，所有的会话都将关闭</span>
$ tmux kill-server 
</code></pre> </li></ul> 
<h5><a id="36__691"></a>3.6 切换会话</h5> 
<ul><li> <p><code>tmux switch</code>命令用于切换会话：</p> <pre><code class="prism language-bash"><span class="token comment"># 使用会话编号</span>
$ tmux switch <span class="token parameter variable">-t</span> <span class="token number">0</span>

<span class="token comment"># 使用会话名称</span>
$ tmux switch <span class="token parameter variable">-t</span> <span class="token operator">&lt;</span>session-name<span class="token operator">&gt;</span>
</code></pre> </li></ul> 
<h5><a id="37__703"></a>3.7 重命名会话</h5> 
<ul><li> <p><code>tmux rename-session</code>命令用于重命名会话：</p> <pre><code class="prism language-bash"><span class="token comment"># 将0号会话进行重命名</span>
$ tmux rename-session <span class="token parameter variable">-t</span> <span class="token number">0</span> <span class="token operator">&lt;</span>new-name<span class="token operator">&gt;</span>

$ tmux rename-session <span class="token parameter variable">-t</span> old-session new-session
</code></pre> </li></ul> 
<h5><a id="38__714"></a>3.8 会话（系统）快捷键</h5> 
<table><thead><tr><th align="center">前缀</th><th align="center">指令</th><th align="center">描述</th></tr></thead><tbody><tr><td align="center"><code>Ctrl+b</code></td><td align="center"><code>?</code></td><td align="center">显示快捷键的帮助文档</td></tr><tr><td align="center"><code>Ctrl+b</code></td><td align="center"><code>d</code></td><td align="center">分离（断开）当前会话</td></tr><tr><td align="center"><code>Ctrl+b</code></td><td align="center"><code>D</code></td><td align="center">选择要分离（断开）的会话</td></tr><tr><td align="center"><code>Ctrl+b</code></td><td align="center"><code>Ctrl+z</code></td><td align="center">挂起当前会话</td></tr><tr><td align="center"><code>Ctrl+b</code></td><td align="center"><code>r</code></td><td align="center">强制重载当前会话</td></tr><tr><td align="center"><code>Ctrl+b</code></td><td align="center"><code>s</code></td><td align="center">显示会话列表用于选择并切换</td></tr><tr><td align="center"><code>Ctrl+b</code></td><td align="center"><code>:</code></td><td align="center">进入命令行模式，此时可直接输入<code>ls</code>等命令</td></tr><tr><td align="center"><code>Ctrl+b</code></td><td align="center"><code>[</code></td><td align="center">进入复制模式，按<code>q</code>退出</td></tr><tr><td align="center"><code>Ctrl+b</code></td><td align="center"><code>]</code></td><td align="center">粘贴复制模式中复制的文本</td></tr><tr><td align="center"><code>Ctrl+b</code></td><td align="center"><code>~</code></td><td align="center">列出提示信息缓存</td></tr></tbody></table> 
<h4><a id="4_Tmux_731"></a>4. Tmux简易操作流程</h4> 
<ol><li>新建会话<code>tmux new -s my_session</code>。</li><li>在 Tmux 窗口运行所需的程序。</li><li>按下快捷键<code>Ctrl+b d</code>将当前会话与窗口分离。</li><li>下次使用时，重新连接到会话<code>tmux attach-session -t my_session</code>。</li></ol> 
<h4><a id="5__740"></a>5. 窗口管理</h4> 
<ul><li>除了将一个窗口划分成多个窗格，Tmux 也允许新建多个窗口。</li></ul> 
<h5><a id="51__744"></a>5.1 新建窗口</h5> 
<ul><li> <p><code>tmux new-window</code>命令用来创建新窗口：</p> <pre><code class="prism language-bash">$ tmux new-window

<span class="token comment"># 新建一个指定名称的窗口</span>
$ tmux new-window <span class="token parameter variable">-n</span> <span class="token operator">&lt;</span>window-name<span class="token operator">&gt;</span>
</code></pre> </li></ul> 
<h5><a id="52__755"></a>5.2 切换窗口</h5> 
<ul><li> <p><code>tmux select-window</code>命令用来切换窗口：</p> <pre><code class="prism language-bash"><span class="token comment"># 切换到指定编号的窗口</span>
$ tmux select-window <span class="token parameter variable">-t</span> <span class="token operator">&lt;</span>window-number<span class="token operator">&gt;</span>

<span class="token comment"># 切换到指定名称的窗口</span>
$ tmux select-window <span class="token parameter variable">-t</span> <span class="token operator">&lt;</span>window-name<span class="token operator">&gt;</span>
</code></pre> </li></ul> 
<h5><a id="53__767"></a>5.3 重命名窗口</h5> 
<ul><li> <p><code>tmux rename-window</code>命令用于为当前窗口起名（或重命名）：</p> <pre><code class="prism language-bash">$ tmux rename-window <span class="token operator">&lt;</span>new-name<span class="token operator">&gt;</span>
</code></pre> </li></ul> 
<h5><a id="54__775"></a>5.4 关闭窗口</h5> 
<ul><li> <p><code>tmux kill-window</code>命令用于关闭当前窗口：</p> <pre><code class="prism language-bash">$ tmux kill-window <span class="token parameter variable">-t</span> <span class="token operator">&lt;</span>window-name<span class="token operator">&gt;</span>
</code></pre> </li></ul> 
<h5><a id="55__783"></a>5.5 窗口快捷键</h5> 
<ul><li> <p>窗口操作快捷键：</p> 
  <table><thead><tr><th align="center">前缀</th><th align="center">指令</th><th align="center">描述</th></tr></thead><tbody><tr><td align="center"><code>Ctrl+b</code></td><td align="center"><code>c</code></td><td align="center">新建窗口，状态栏会显示多个窗口的信息</td></tr><tr><td align="center"><code>Ctrl+b</code></td><td align="center"><code>&amp;</code></td><td align="center">关闭当前窗口（关闭前需输入<code>y</code> or <code>n</code>确认）；使用关闭窗格的命令亦可！</td></tr><tr><td align="center"><code>Ctrl+b</code></td><td align="center"><code>0~9</code></td><td align="center">切换到指定编号的窗口</td></tr><tr><td align="center"><code>Ctrl+b</code></td><td align="center"><code>p</code></td><td align="center">切换到上一窗口（按照状态栏上的顺序）</td></tr><tr><td align="center"><code>Ctrl+b</code></td><td align="center"><code>n</code></td><td align="center">切换到下一窗口</td></tr><tr><td align="center"><code>Ctrl+b</code></td><td align="center"><code>w</code></td><td align="center">打开窗口列表，且用于切换窗口</td></tr><tr><td align="center"><code>Ctrl+b</code></td><td align="center"><code>,</code></td><td align="center">重命名当前窗口</td></tr><tr><td align="center"><code>Ctrl+b</code></td><td align="center"><code>.</code></td><td align="center">修改当前窗口编号（适用于窗口重新排序）</td></tr><tr><td align="center"><code>Ctrl+b</code></td><td align="center"><code>f</code></td><td align="center">快速定位到窗口（输入关键字匹配窗口名称）</td></tr></tbody></table></li></ul> 
<h4><a id="6__801"></a>6. 窗格操作</h4> 
<ul><li>Tmux 可以将窗口分成多个窗格（pane），每个窗格可以运行不同的命令。以下命令都是在 Tmux 窗口中执行。</li></ul> 
<h5><a id="61__805"></a>6.1 划分窗格</h5> 
<ul><li> <p><code>tmux split-window</code>命令用来划分窗格：</p> <pre><code class="prism language-bash"><span class="token comment"># 划分上下两个窗格</span>
$ tmux split-window

<span class="token comment"># 划分左右两个窗格</span>
$ tmux split-window <span class="token parameter variable">-h</span>
</code></pre> <p><img src="https://images2.imgbox.com/57/37/65ffTkTb_o.png" alt="在这里插入图片描述"></p> </li></ul> 
<h5><a id="62__820"></a>6.2 选中窗格</h5> 
<ul><li> <p><code>tmux select-pane</code>命令用来在不同窗格间进行选中切换：</p> <pre><code class="prism language-bash"><span class="token comment"># 光标切换到上方窗格</span>
$ tmux select-pane <span class="token parameter variable">-U</span>

<span class="token comment"># 光标切换到下方窗格</span>
$ tmux select-pane <span class="token parameter variable">-D</span>

<span class="token comment"># 光标切换到左边窗格</span>
$ tmux select-pane <span class="token parameter variable">-L</span>

<span class="token comment"># 光标切换到右边窗格</span>
$ tmux select-pane <span class="token parameter variable">-R</span>
</code></pre> </li></ul> 
<h5><a id="63__838"></a>6.3 交换窗格位置</h5> 
<ul><li> <p><code>tmux swap-pane</code>命令用来交换窗格位置：</p> <pre><code class="prism language-bash"><span class="token comment"># 当前窗格上移</span>
$ tmux swap-pane <span class="token parameter variable">-U</span>

<span class="token comment"># 当前窗格下移</span>
$ tmux swap-pane <span class="token parameter variable">-D</span>

<span class="token comment"># 左移、右移同理</span>
</code></pre> </li></ul> 
<h5><a id="64__852"></a>6.4 关闭窗格</h5> 
<pre><code class="prism language-bash"><span class="token variable"><span class="token variable">`</span>Ctrl+b x<span class="token variable">`</span></span>：关闭当前窗格。
<span class="token comment"># or</span>
<span class="token variable"><span class="token variable">`</span>ctrl+d<span class="token variable">`</span></span>，记住如果只有一个窗格就是关闭整个窗口了！
</code></pre> 
<h5><a id="65_Tmux_860"></a>6.5 Tmux上下翻屏</h5> 
<ul><li>先使用快捷键<code>ctrl+b [ </code>，再可以通过方向键上下滚动即可，或者使用<code>PageUp</code>和<code>PageDown</code>可以实现上下翻页。</li></ul> 
<h5><a id="66__864"></a>6.6 窗格快捷键</h5> 
<ul><li>窗格操作快捷键： 
  <ul><li><code>Ctrl+b %</code>：划分左右两个窗格，右侧新建面板。</li><li><code>Ctrl+b "</code>：划分上下两个窗格，下侧新建面板。</li><li><code>Ctrl+b &lt;arrow key&gt;</code>：光标切换到其他窗格。<code>&lt;arrow key&gt;</code>是指向要切换到的窗格的方向键，比如切换到下方窗格，就按方向键<code>↓</code>。</li><li><code>Ctrl+b Space</code>：在自带的窗格布局中循环切换。</li><li><code>Ctrl+b ;</code>：光标切换到上一个窗格。</li><li><code>Ctrl+b o</code>：光标切换到下一个窗格。</li><li><code>Ctrl+b {<!-- --></code>：当前窗格与上一个窗格交换位置。</li><li><code>Ctrl+b }</code>：当前窗格与下一个窗格交换位置。</li><li><code>Ctrl+b Ctrl+o</code>：所有窗格向前移动一个位置，第一个窗格变成最后一个窗格。</li><li><code>Ctrl+b Alt+o</code>：所有窗格向后移动一个位置，最后一个窗格变成第一个窗格。</li><li><code>Ctrl+b x</code>：关闭当前窗格。</li><li><code>Ctrl+b !</code>：将当前窗格拆分为一个独立窗口。</li><li><code>Ctrl+b z</code>：当前窗格全屏显示，再使用一次会变回原来大小。</li><li><code>Ctrl+b Ctrl+&lt;arrow key&gt;</code>：按箭头方向调整窗格大小。</li><li><code>Ctrl+b q</code>：显示当前窗口下所有窗格的编号。PS：看到屏幕上会在每个窗格上显示出各自编号，此时迅速点击对应的编号，即可跳转到对应的窗格。</li><li><code>Ctrl+b t</code>：显示时钟。</li></ul> </li></ul> 
<h4><a id="7_Tmux_888"></a>7. 其他Tmux命令</h4> 
<pre><code class="prism language-bash"><span class="token comment"># 列出所有快捷键，及其对应的 Tmux 命令</span>
$ tmux list-keys

<span class="token comment"># 列出所有 Tmux 命令及其参数</span>
$ tmux list-commands

<span class="token comment"># 列出当前所有 Tmux 会话的信息</span>
$ tmux info

<span class="token comment"># 重新加载当前的 Tmux 配置</span>
$ tmux source-file ~/.tmux.conf
</code></pre> 
<h4><a id="8_Tmux_906"></a>8. 灵活配置Tmux</h4> 
<ul><li>Tmux 的丝滑分屏功能正是得益于以上系统、窗口、面板的快捷指令，只要你愿意，你就可以解除任意的快捷指令，然后绑上你喜欢的指令，当然这就涉及到它的可配置性了，请继续往下读。</li><li>除了快捷指令外，tmux 还提供了类似 vim 的配置性功能。可配置性是软件的一项进阶级功能，只有具备了可配置性，软件才有了鲜活的个性，用户才能体会到操作的快感。</li></ul> 
<h5><a id="80__911"></a>8.0 完整配置文件</h5> 
<ul><li> <p>详情请参考：</p> 
  <blockquote> 
   <p><code>Github Repo</code> - <a href="https://github.com/Mickeyyyang/Useful_tools">Useful_tools</a> - <code>自定义软件配置</code> - <code>Linux</code> - <code>home</code> - <code>xuyang</code> - <code>.tmux.conf</code> &amp; <code>.config/tmux</code>。</p> 
  </blockquote> 
  <ul><li>其中涉及到<code>powerline</code>等插件，具体安装过程可参考<a href="https://powerline.readthedocs.io/en/latest/installation/linux.html" rel="nofollow">官方文档</a>（对应的<a href="https://www.bilibili.com/video/BV1ML411h7tF/?spm_id_from=333.337.search-card.all.click" rel="nofollow">bilibili视频</a>教学）。</li><li>一定要结合 <a href="https://poe.com/ChatGPT" rel="nofollow">ChatGPT</a> 弄懂各项配置的含义，坚决杜绝为了配置而配置！</li></ul> </li></ul> 
<h5><a id="81__920"></a>8.1 修改指令前缀</h5> 
<ul><li> <p>相信只要你用过几次 tmux，就会发现<code>Ctrl+b</code>指令前缀，着实不太方便。这两个键相距太远，按键成本太高了。因此我们首先需要将它更换为距离更近的<code>Ctrl+a</code>组合键，或者其他任意你喜欢的组合键。</p> </li><li> <p>Tmux 的用户级配置文件为<code>~/.tmux.conf</code>（没有的话就创建一个），修改快捷指令，只需要增加如下三行即可：</p> <pre><code class="prism language-bash"><span class="token builtin class-name">set</span> <span class="token parameter variable">-g</span> prefix C-a <span class="token comment">#</span>
unbind C-b <span class="token comment"># C-b即Ctrl+b键，unbind意味着解除绑定</span>
<span class="token builtin class-name">bind</span> C-a send-prefix <span class="token comment"># 绑定Ctrl+a为新的指令前缀</span>

<span class="token comment"># 从tmux v1.6版起，支持设置第二个指令前缀</span>
set-option <span class="token parameter variable">-g</span> prefix2 <span class="token variable"><span class="token variable">`</span> <span class="token comment"># 设置一个不常用的</span><span class="token variable">`</span></span>键作为指令前缀，按键更快些
</code></pre> <p>修改的<code>~/.tmux.conf</code>配置文件有如下两种方式可以令其生效：</p> 
  <ul><li>重启 tmux。</li><li>在 tmux 窗口中，先按下<code>Ctrl+b</code>指令前缀，然后按下系统指令<code>:</code>，进入到命令模式后输入<code>source-file ~/.tmux.conf</code>，回车后生效。</li></ul> </li><li> <p>既然快捷指令如此方便，更为优雅的做法是新增一个加载配置文件的快捷指令，这样就可以随时随地 load 新的配置了，如下所示：</p> </li></ul> 
<pre><code class="prism language-bash"><span class="token comment"># 绑定快捷键为r</span>
<span class="token builtin class-name">bind</span> r source-file ~/.tmux.conf <span class="token punctuation">\</span><span class="token punctuation">;</span> display-message <span class="token string">"Config reloaded.."</span>
</code></pre> 
<ul><li> <p>请特别注意⚠️，在已经创建的窗口中，即使加载了新的配置，旧的配置依然有效（只要你新加的功能没有覆盖旧的配置，因此如果你第一次绑定快捷指令为<code>x</code>键，然后又改为绑定<code>y</code>键，那么<code>x</code>和<code>y</code>都将有效），新建会话不受此影响，将直接采用新的配置。</p> </li><li> <p>既然我们已经迈出配置化的第一步，那么接下来我们可以做得更多。</p> </li></ul> 
<h5><a id="82__951"></a>8.2 新增窗格（面板）</h5> 
<ul><li> <p>tmux 中，使用最多的功能之一就是<strong>新增一个面板</strong>。水平方向新增面板的指令是 <code>prefix</code> + <code>"</code> ，垂直方向是 <code>prefix</code> + <code>%</code>，<code>"</code> 和 <code>%</code>需要两个键同时按下才能完成，加上指令前缀至少需要 3-4 次按键才能组成一个完整的指令，同时这个两个键也不够醒目和方便，因此我们可以绑定两个更常用的指令<code>-</code>、<code>|</code>，如下所示：</p> <pre><code class="prism language-bash">unbind <span class="token string">'"'</span>
<span class="token builtin class-name">bind</span> - splitw <span class="token parameter variable">-v</span> <span class="token parameter variable">-c</span> <span class="token string">'#{pane_current_path}'</span> <span class="token comment"># 垂直方向新增面板，默认进入当前目录</span>
unbind %
<span class="token builtin class-name">bind</span> <span class="token operator">|</span> splitw <span class="token parameter variable">-h</span> <span class="token parameter variable">-c</span> <span class="token string">'#{pane_current_path}'</span> <span class="token comment"># 水平方向新增面板，默认进入当前目录</span>
</code></pre> </li></ul> 
<h5><a id="83__962"></a>8.3 开启鼠标支持</h5> 
<ul><li> <p>默认情况下，tmux 的多窗口之间的切换以及面板大小调整，需要输入指令才能完成，这一过程，涉及到的指令较多，而且操作麻烦，特别是面板大小调整，指令难以一步到位，这个时候开启鼠标支持就完美了。</p> </li><li> <p>对于 <strong>tmux v2.1 (2015.10.28) 之前</strong>的版本，需加入如下配置：</p> <pre><code class="prism language-bash">setw <span class="token parameter variable">-g</span> mode-mouse on <span class="token comment"># 支持鼠标选取文本等</span>
setw <span class="token parameter variable">-g</span> mouse-resize-pane on <span class="token comment"># 支持鼠标拖动调整面板的大小(通过拖动面板间的分割线)</span>
setw <span class="token parameter variable">-g</span> mouse-select-pane on <span class="token comment"># 支持鼠标选中并切换面板</span>
setw <span class="token parameter variable">-g</span> mouse-select-window on <span class="token comment"># 支持鼠标选中并切换窗口(通过点击状态栏窗口名称)</span>
</code></pre> <p>有的地方可能会出现<code>set-window-option</code>的写法，<code>setw</code>就是它的别名。</p> </li><li> <p>对于 <strong>tmux v2.1 及以上</strong>的版本，仅需加入如下配置：</p> <pre><code class="prism language-bash">set-option <span class="token parameter variable">-g</span> mouse on <span class="token comment"># 等同于以上4个指令的效果</span>
</code></pre> </li><li> <p>需要注意的是，开启鼠标支持后，iTem2 默认的鼠标选中即复制功能需要同时按下 <code>Alt</code> 键，才会生效。</p> </li></ul> 
<h5><a id="84__985"></a>8.4 快速窗格（面板）切换</h5> 
<ul><li> <p>鼠标支持确实能带来很大的便捷性，特别是对于习惯了鼠标操作的 tmux 新手，但对于键盘爱好者而言，这不是什么好消息，对他们而言，双手不离键盘是基本素质。</p> </li><li> <p>虽然指令前缀加<code>方向键</code>可以切换面板，但<code>方向键</code>太远，不够快，不够 Geek。没关系，我们可以将面板切换升级为熟悉的<code>h</code>、<code>j</code>、<code>k</code>、<code>l</code>键位。</p> <pre><code class="prism language-bash"><span class="token comment"># 绑定 h、j、k、l 键为面板切换的上、下、左、右键</span>
<span class="token builtin class-name">bind</span> <span class="token parameter variable">-r</span> k select-pane <span class="token parameter variable">-U</span>   <span class="token comment"># 绑定k为↑</span>
<span class="token builtin class-name">bind</span> <span class="token parameter variable">-r</span> j select-pane <span class="token parameter variable">-D</span>   <span class="token comment"># 绑定j为↓</span>
<span class="token builtin class-name">bind</span> <span class="token parameter variable">-r</span> h select-pane <span class="token parameter variable">-L</span>   <span class="token comment"># 绑定h为←</span>
<span class="token builtin class-name">bind</span> <span class="token parameter variable">-r</span> l select-pane <span class="token parameter variable">-R</span>   <span class="token comment"># 绑定l为→</span>
</code></pre> </li><li> <p><code>-r</code>表示可重复按键，大概 500ms 之内，重复的<code>h</code>、<code>j</code>、<code>k</code>、<code>l</code>按键都将有效，完美支持了快速切换的 Geek 需求。</p> </li><li> <p>除了上下左右外， 还有几个快捷指令可以设置：</p> <pre><code class="prism language-bash"><span class="token builtin class-name">bind</span> <span class="token parameter variable">-r</span> e lastp     <span class="token comment"># 选择最后一个窗格（面板）</span>
<span class="token builtin class-name">bind</span> <span class="token parameter variable">-r</span> ^e last     <span class="token comment"># 选择最后一个窗口，^e表示Ctrl+e</span>

<span class="token builtin class-name">bind</span> <span class="token parameter variable">-r</span> ^u swapp <span class="token parameter variable">-U</span> <span class="token comment"># 与前一个面板交换位置</span>
<span class="token builtin class-name">bind</span> <span class="token parameter variable">-r</span> ^d swapp <span class="token parameter variable">-D</span> <span class="token comment"># 与后一个面板交换位置</span>
</code></pre> </li></ul> 
<h5><a id="85__1011"></a>8.5 窗格（面板）大小调整</h5> 
<ul><li> <p>习惯了全键盘操作后，命令的便捷性不言而喻。既然面板切换的指令都可以升级，面板大小调整的指令自然也不能落后。如下配置就可以升级你的操作：</p> <pre><code class="prism language-bash"><span class="token comment"># 绑定Ctrl+h、j、k、l键为窗格上下左右调整边缘的快捷指令</span>
<span class="token builtin class-name">bind</span> <span class="token parameter variable">-r</span> ^k resizep <span class="token parameter variable">-U</span> <span class="token number">10</span> <span class="token comment"># 绑定Ctrl+k为往↑调整面板边缘10个单元格</span>
<span class="token builtin class-name">bind</span> <span class="token parameter variable">-r</span> ^j resizep <span class="token parameter variable">-D</span> <span class="token number">10</span> <span class="token comment"># 绑定Ctrl+j为往↓调整面板边缘10个单元格</span>
<span class="token builtin class-name">bind</span> <span class="token parameter variable">-r</span> ^h resizep <span class="token parameter variable">-L</span> <span class="token number">10</span> <span class="token comment"># 绑定Ctrl+h为往←调整面板边缘10个单元格</span>
<span class="token builtin class-name">bind</span> <span class="token parameter variable">-r</span> ^l resizep <span class="token parameter variable">-R</span> <span class="token number">10</span> <span class="token comment"># 绑定Ctrl+l为往→调整面板边缘10个单元格</span>
</code></pre> <p>以上，<code>resizep</code>即<code>resize-pane</code>的别名。</p> </li></ul> 
<h5><a id="86__1025"></a>8.6 窗格（面板）最大化</h5> 
<ul><li> <p>当窗口中面板的数量逐渐增多时，每个面板的空间就会逐渐减少。为了保证有足够的空间显示内容，tmux 从 v1.8 版本起，提供了面板的最大化功能，输入<code>tmux-prefix + z</code>，就可以最大化当前面板至窗口大小，只要再重复输入一次，便恢复正常。那么 tmux v1.8 以下的版本，怎么办呢？别急，有大神提供了如下的解决方案。</p> </li><li> <p>首先编写一个 zoom 脚本，该脚本通过新建一个窗口，交换当前面板与新的窗口默认面板位置，来模拟最大的功能；通过重复一次按键，还原面板位置，并关闭新建的窗口，来模拟还原功能，如下所示：</p> <pre><code class="prism language-bash"><span class="token shebang important">#!/bin/bash -f</span>
<span class="token assign-left variable">currentwindow</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span>tmux list-window <span class="token operator">|</span> <span class="token function">tr</span> <span class="token string">'\t'</span> <span class="token string">' '</span> <span class="token operator">|</span> <span class="token function">sed</span> <span class="token parameter variable">-n</span> <span class="token parameter variable">-e</span> <span class="token string">'/(active)/s/^[^:]*: *\([^ ]*\) .*/\1/gp'</span><span class="token variable">`</span></span><span class="token punctuation">;</span>
<span class="token assign-left variable">currentpane</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span>tmux list-panes <span class="token operator">|</span> <span class="token function">sed</span> <span class="token parameter variable">-n</span> <span class="token parameter variable">-e</span> <span class="token string">'/(active)/s/^\([^:]*\):.*/\1/gp'</span><span class="token variable">`</span></span><span class="token punctuation">;</span>
<span class="token assign-left variable">panecount</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span>tmux list-panes <span class="token operator">|</span> <span class="token function">wc</span> <span class="token operator">|</span> <span class="token function">sed</span> <span class="token parameter variable">-e</span> <span class="token string">'s/^ *//g'</span> <span class="token parameter variable">-e</span> <span class="token string">'s/ .*$//g'</span><span class="token variable">`</span></span><span class="token punctuation">;</span>
<span class="token assign-left variable">inzoom</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token builtin class-name">echo</span> $currentwindow <span class="token operator">|</span> <span class="token function">sed</span> <span class="token parameter variable">-n</span> <span class="token parameter variable">-e</span> <span class="token string">'/^zoom/p'</span><span class="token variable">`</span></span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$panecount</span> <span class="token parameter variable">-ne</span> <span class="token number">1</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
    <span class="token assign-left variable">inzoom</span><span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$inzoom</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
    <span class="token assign-left variable">lastpane</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token builtin class-name">echo</span> $currentwindow <span class="token operator">|</span> <span class="token function">rev</span> <span class="token operator">|</span> <span class="token function">cut</span> <span class="token parameter variable">-f</span> <span class="token number">1</span> <span class="token parameter variable">-d</span> <span class="token string">'@'</span> <span class="token operator">|</span> <span class="token function">rev</span><span class="token variable">`</span></span><span class="token punctuation">;</span>
    <span class="token assign-left variable">lastwindow</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token builtin class-name">echo</span> $currentwindow <span class="token operator">|</span> <span class="token function">cut</span> <span class="token parameter variable">-f</span> <span class="token number">2</span>- <span class="token parameter variable">-d</span> <span class="token string">'@'</span> <span class="token operator">|</span> <span class="token function">rev</span> <span class="token operator">|</span> <span class="token function">cut</span> <span class="token parameter variable">-f</span> <span class="token number">2</span>- <span class="token parameter variable">-d</span> <span class="token string">'@'</span> <span class="token operator">|</span> <span class="token function">rev</span><span class="token variable">`</span></span><span class="token punctuation">;</span>
    tmux select-window <span class="token parameter variable">-t</span> <span class="token variable">$lastwindow</span><span class="token punctuation">;</span>
    tmux select-pane <span class="token parameter variable">-t</span> <span class="token variable">$lastpane</span><span class="token punctuation">;</span>
    tmux swap-pane <span class="token parameter variable">-s</span> <span class="token variable">$currentwindow</span><span class="token punctuation">;</span>
    tmux kill-window <span class="token parameter variable">-t</span> <span class="token variable">$currentwindow</span><span class="token punctuation">;</span>
<span class="token keyword">else</span>
    <span class="token assign-left variable">newwindowname</span><span class="token operator">=</span>zoom@<span class="token variable">$currentwindow</span>@<span class="token variable">$currentpane</span><span class="token punctuation">;</span>
    tmux new-window <span class="token parameter variable">-d</span> <span class="token parameter variable">-n</span> <span class="token variable">$newwindowname</span><span class="token punctuation">;</span>
    tmux swap-pane <span class="token parameter variable">-s</span> <span class="token variable">$newwindowname</span><span class="token punctuation">;</span>
    tmux select-window <span class="token parameter variable">-t</span> <span class="token variable">$newwindowname</span><span class="token punctuation">;</span>
<span class="token keyword">fi</span>
</code></pre> </li><li> <p>不妨将该脚本存放在<code>~/.tmux</code>目录中（没有则新建目录），接下来只需要绑定一个快捷指令就行：</p> <pre><code class="prism language-bash">unbind z
<span class="token builtin class-name">bind</span> z run <span class="token string">". ~/.tmux/zoom"</span>
</code></pre> </li></ul> 
<h5><a id="87__1062"></a>8.7 窗口变为窗格（面板）</h5> 
<blockquote> 
 <p>试想这样一个场景：当你打开多个窗口后，然后想将其中几个窗口合并到当前窗口中，以便对比观察输出。</p> 
</blockquote> 
<ul><li> <p>通过上面的 zoom 脚本，面板可以轻松地最大化为一个新的窗口。那么反过来，窗口是不是可以最小化为一个面板呢？</p> </li><li> <p>实际上，你的要求就是将其它窗口变成面板，然后合并到当前窗口中。对于这种操作，我们可以在当前窗口，按下<code>tmux-prefix</code> + <code>:</code>，打开命令行，然后输入如下命令：</p> <pre><code class="prism language-bash">join-pane <span class="token parameter variable">-s</span> window01    <span class="token comment"># 合并名称为window01的窗口的默认（第一个）面板到当前窗口中</span>
join-pane <span class="token parameter variable">-s</span> window01.1  <span class="token comment"># .1显式指定了第一个面板，.2就是第二个面板(我本地将面板编号起始值设置为1，如果你没有改的话，这里默认应该是0)</span>
</code></pre> </li><li> <p>每次执行<code>join-pane</code>命令都会合并一个面板，并且指定的窗口会减少一个面板，直到面板数量为0，窗口关闭。</p> </li><li> <p>除了在当前会话中操作外，<code>join-pane</code>命令甚至可以从其它指定会话中合并面板，格式为<code>join-pane -s [session_name]:[window].[pane]</code>，如<code>join-pane -s 2:1.1</code> 即合并第二个会话的第一个窗口的第一个面板到当前窗口，当目标会话的窗口和面板数量为0时，会话便会关闭。</p> </li><li> <p>注⚠️：上一节中的<code>swap-pane</code>命令与<code>join-pane</code>语法基本一致。</p> </li></ul>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e75a96c23f11645b81414bad376a7ee4/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Java8新特性Optional 详解</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7cff1b6dddd0ff5c01ac59d8ebd47c02/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">python opencv 深度学习 指纹识别算法实现 计算机竞赛</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程爱好者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151260"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>