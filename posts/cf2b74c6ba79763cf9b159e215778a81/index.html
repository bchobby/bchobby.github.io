<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Linux计划任务at和cron命令的使用 - 编程爱好者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Linux计划任务at和cron命令的使用" />
<meta property="og:description" content="文章目录 前言
什么是计划任务？
一次性调度执行at
简介
服务启动
语法
参数：
示例
提交at作业
提交步骤
时间选择格式
示例
查看任务
示例
查看任务执行日志
示例
删除任务
示例
循环调度执行crontab命令
简介
查看服务（是否启动）
创建计划
编辑器中的语法格式
示例
代码中涉及到的任务信息解读
查询计划
删除计划
总结
前言 前面学习了Linux中的软件管理，这篇文章将开始学习Linux中的计划任务，通过本篇文章将学习Linux中的一次性调度执行at命令和循环调度执行cron命令的介绍与使用，下面开始我们的Linux计划任务的学学习吧。
什么是计划任务？ 划任务是系统的常见功能，利用任务计划功能，可以将任何脚本、程序或文档安排在某个最方便的时间运行。任务计划在每次系统启动的时候启动并在后台运行。当我们需要在服务器上定时执行一些重复性的事件时使用的，可以通过计划任务程序来运行准备好的脚本、批处理文件夹、程序或命令，在某个特定的时间运行，目前最主要的用途是定期备份数据。。
一次性调度执行at 简介 有些场景我们只是需要执行一次，执行完就结束任务我们使用at命令来操作，任务的执行日志以邮件的形式反馈给电脑。
服务启动 默认情况下所有的linux系统都提供此项功能。在redhat中atd是默认随系统启动而启动。
[root@localhost ~]# ps -ef |grep atd root 1284 1 0 06:25 ? 00:00:00 /usr/sbin/atd -f root 12970 12205 0 10:51 pts/0 00:00:00 grep --color=auto atd 您在 /var/spool/mail/root 中有新邮件 [root@localhost ~]# systemctl status atd." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bchobby.github.io/posts/cf2b74c6ba79763cf9b159e215778a81/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-11-07T14:22:07+08:00" />
<meta property="article:modified_time" content="2022-11-07T14:22:07+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程爱好者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程爱好者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Linux计划任务at和cron命令的使用</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p class="img-center"><img alt="" height="83" src="https://images2.imgbox.com/d4/6a/kBUReMhr_o.gif" width="666"></p> 
<h2 id="main-toc">文章目录</h2> 
<p id="%E5%89%8D%E8%A8%80-toc" style="margin-left:0px;"><a href="#%E5%89%8D%E8%A8%80" rel="nofollow">前言</a></p> 
<p id="%E4%BB%80%E4%B9%88%E6%98%AF%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1%EF%BC%9F-toc" style="margin-left:0px;"><a href="#%E4%BB%80%E4%B9%88%E6%98%AF%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1%EF%BC%9F" rel="nofollow">什么是计划任务？</a></p> 
<p id="%E4%B8%80%E6%AC%A1%E6%80%A7%E8%B0%83%E5%BA%A6%E6%89%A7%E8%A1%8Cat-toc" style="margin-left:0px;"><a href="#%E4%B8%80%E6%AC%A1%E6%80%A7%E8%B0%83%E5%BA%A6%E6%89%A7%E8%A1%8Cat" rel="nofollow">一次性调度执行at</a></p> 
<p id="%E7%AE%80%E4%BB%8B-toc" style="margin-left:40px;"><a href="#%E7%AE%80%E4%BB%8B" rel="nofollow">简介</a></p> 
<p id="%E6%9C%8D%E5%8A%A1%E5%90%AF%E5%8A%A8-toc" style="margin-left:40px;"><a href="#%E6%9C%8D%E5%8A%A1%E5%90%AF%E5%8A%A8" rel="nofollow">服务启动</a></p> 
<p id="%E8%AF%AD%E6%B3%95-toc" style="margin-left:40px;"><a href="#%E8%AF%AD%E6%B3%95" rel="nofollow">语法</a></p> 
<p id="%E5%8F%82%E6%95%B0%EF%BC%9A-toc" style="margin-left:80px;"><a href="#%E5%8F%82%E6%95%B0%EF%BC%9A" rel="nofollow">参数：</a></p> 
<p id="%E7%A4%BA%E4%BE%8B-toc" style="margin-left:80px;"><a href="#%E7%A4%BA%E4%BE%8B" rel="nofollow">示例</a></p> 
<p id="%E6%8F%90%E4%BA%A4at%E4%BD%9C%E4%B8%9A-toc" style="margin-left:40px;"><a href="#%E6%8F%90%E4%BA%A4at%E4%BD%9C%E4%B8%9A" rel="nofollow">提交at作业</a></p> 
<p id="%E6%8F%90%E4%BA%A4%E6%AD%A5%E9%AA%A4-toc" style="margin-left:80px;"><a href="#%E6%8F%90%E4%BA%A4%E6%AD%A5%E9%AA%A4" rel="nofollow">提交步骤</a></p> 
<p id="%E6%97%B6%E9%97%B4%E9%80%89%E6%8B%A9%E6%A0%BC%E5%BC%8F-toc" style="margin-left:80px;"><a href="#%E6%97%B6%E9%97%B4%E9%80%89%E6%8B%A9%E6%A0%BC%E5%BC%8F" rel="nofollow">时间选择格式</a></p> 
<p id="%E7%A4%BA%E4%BE%8B-toc" style="margin-left:80px;"><a href="#%E7%A4%BA%E4%BE%8B" rel="nofollow">示例</a></p> 
<p id="%E6%9F%A5%E7%9C%8B%E4%BB%BB%E5%8A%A1-toc" style="margin-left:40px;"><a href="#%E6%9F%A5%E7%9C%8B%E4%BB%BB%E5%8A%A1" rel="nofollow">查看任务</a></p> 
<p id="%E7%A4%BA%E4%BE%8B-toc" style="margin-left:80px;"><a href="#%E7%A4%BA%E4%BE%8B" rel="nofollow">示例</a></p> 
<p id="%E6%9F%A5%E7%9C%8B%E4%BB%BB%E5%8A%A1%E6%89%A7%E8%A1%8C%E6%97%A5%E5%BF%97-toc" style="margin-left:40px;"><a href="#%E6%9F%A5%E7%9C%8B%E4%BB%BB%E5%8A%A1%E6%89%A7%E8%A1%8C%E6%97%A5%E5%BF%97" rel="nofollow">查看任务执行日志</a></p> 
<p id="%E7%A4%BA%E4%BE%8B-toc" style="margin-left:80px;"><a href="#%E7%A4%BA%E4%BE%8B" rel="nofollow">示例</a></p> 
<p id="%E5%88%A0%E9%99%A4%E4%BB%BB%E5%8A%A1-toc" style="margin-left:40px;"><a href="#%E5%88%A0%E9%99%A4%E4%BB%BB%E5%8A%A1" rel="nofollow">删除任务</a></p> 
<p id="%E7%A4%BA%E4%BE%8B-toc" style="margin-left:80px;"><a href="#%E7%A4%BA%E4%BE%8B" rel="nofollow">示例</a></p> 
<p id="%E5%BE%AA%E7%8E%AF%E8%B0%83%E5%BA%A6%E6%89%A7%E8%A1%8Ccrontab%E5%91%BD%E4%BB%A4-toc" style="margin-left:0px;"><a href="#%E5%BE%AA%E7%8E%AF%E8%B0%83%E5%BA%A6%E6%89%A7%E8%A1%8Ccrontab%E5%91%BD%E4%BB%A4" rel="nofollow">循环调度执行crontab命令</a></p> 
<p id="%E7%AE%80%E4%BB%8B-toc" style="margin-left:40px;"><a href="#%E7%AE%80%E4%BB%8B" rel="nofollow">简介</a></p> 
<p id="%E6%9F%A5%E7%9C%8B%E6%9C%8D%E5%8A%A1%EF%BC%88%E6%98%AF%E5%90%A6%E5%90%AF%E5%8A%A8%EF%BC%89-toc" style="margin-left:40px;"><a href="#%E6%9F%A5%E7%9C%8B%E6%9C%8D%E5%8A%A1%EF%BC%88%E6%98%AF%E5%90%A6%E5%90%AF%E5%8A%A8%EF%BC%89" rel="nofollow">查看服务（是否启动）</a></p> 
<p id="%E5%88%9B%E5%BB%BA%E8%AE%A1%E5%88%92-toc" style="margin-left:40px;"><a href="#%E5%88%9B%E5%BB%BA%E8%AE%A1%E5%88%92" rel="nofollow">创建计划</a></p> 
<p id="%E7%BC%96%E8%BE%91%E5%99%A8%E4%B8%AD%E7%9A%84%E8%AF%AD%E6%B3%95%E6%A0%BC%E5%BC%8F-toc" style="margin-left:80px;"><a href="#%E7%BC%96%E8%BE%91%E5%99%A8%E4%B8%AD%E7%9A%84%E8%AF%AD%E6%B3%95%E6%A0%BC%E5%BC%8F" rel="nofollow">编辑器中的语法格式</a></p> 
<p id="%E7%A4%BA%E4%BE%8B-toc" style="margin-left:80px;"><a href="#%E7%A4%BA%E4%BE%8B" rel="nofollow">示例</a></p> 
<p id="%E4%BB%A3%E7%A0%81%E4%B8%AD%E6%B6%89%E5%8F%8A%E5%88%B0%E7%9A%84%E4%BB%BB%E5%8A%A1%E4%BF%A1%E6%81%AF%E8%A7%A3%E8%AF%BB-toc" style="margin-left:80px;"><a href="#%E4%BB%A3%E7%A0%81%E4%B8%AD%E6%B6%89%E5%8F%8A%E5%88%B0%E7%9A%84%E4%BB%BB%E5%8A%A1%E4%BF%A1%E6%81%AF%E8%A7%A3%E8%AF%BB" rel="nofollow">代码中涉及到的任务信息解读</a></p> 
<p id="%E6%9F%A5%E8%AF%A2%E8%AE%A1%E5%88%92-toc" style="margin-left:40px;"><a href="#%E6%9F%A5%E8%AF%A2%E8%AE%A1%E5%88%92" rel="nofollow">查询计划</a></p> 
<p id="%E5%88%A0%E9%99%A4%E8%AE%A1%E5%88%92-toc" style="margin-left:40px;"><a href="#%E5%88%A0%E9%99%A4%E8%AE%A1%E5%88%92" rel="nofollow">删除计划</a></p> 
<p id="%E6%80%BB%E7%BB%93-toc" style="margin-left:0px;"><a href="#%E6%80%BB%E7%BB%93" rel="nofollow">总结</a></p> 
<hr id="hr-toc"> 
<h2 id="%E5%89%8D%E8%A8%80">前言</h2> 
<p>        前面学习了Linux中的软件管理，这篇文章将开始学习Linux中的计划任务，通过本篇文章将学习Linux中的一次性调度执行at命令和循环调度执行cron命令的介绍与使用，下面开始我们的Linux计划任务的学学习吧。</p> 
<hr> 
<h2 id="%E4%BB%80%E4%B9%88%E6%98%AF%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1%EF%BC%9F">什么是计划任务？</h2> 
<p>        划任务是系统的常见功能，利用任务计划功能，可以将任何脚本、程序或文档安排在某个最方便的时间运行。任务计划在每次系统启动的时候启动并在后台运行。当我们需要在服务器上定时执行一些重复性的事件时使用的，可以通过计划任务程序来运行准备好的<a href="https://baike.baidu.com/item/%E8%84%9A%E6%9C%AC/399?fromModule=lemma_inlink" rel="nofollow" title="脚本">脚本</a>、批处理文件夹、<a href="https://baike.baidu.com/item/%E7%A8%8B%E5%BA%8F/71525?fromModule=lemma_inlink" rel="nofollow" title="程序">程序</a>或命令，在某个特定的时间运行，目前最主要的用途是定期备份数据。。</p> 
<hr> 
<h2 id="%E4%B8%80%E6%AC%A1%E6%80%A7%E8%B0%83%E5%BA%A6%E6%89%A7%E8%A1%8Cat">一次性调度执行at</h2> 
<h3 id="%E7%AE%80%E4%BB%8B">简介</h3> 
<blockquote> 
 <p>        有些场景我们只是需要执行一次，执行完就结束任务我们使用at命令来操作，任务的执行日志以邮件的形式反馈给电脑。</p> 
</blockquote> 
<h3 id="%E6%9C%8D%E5%8A%A1%E5%90%AF%E5%8A%A8">服务启动</h3> 
<p>        默认情况下所有的linux系统都提供此项功能。在redhat中atd是默认随系统启动而启动。</p> 
<pre><code class="language-cs">[root@localhost ~]# ps -ef |grep atd
root       1284      1  0 06:25 ?        00:00:00 /usr/sbin/atd -f
root      12970  12205  0 10:51 pts/0    00:00:00 grep --color=auto atd
您在 /var/spool/mail/root 中有新邮件
[root@localhost ~]# systemctl status atd.service
● atd.service - Job spooling tools
   Loaded: loaded (/usr/lib/systemd/system/atd.service; enabled; vendor preset: enabled)
   Active: active (running) since 三 2022-11-02 15:48:16 CST; 4 days ago
 Main PID: 1284 (atd)
    Tasks: 1
   CGroup: /system.slice/atd.service
           └─1284 /usr/sbin/atd -f

11月 02 15:48:16 localhost.localdomain systemd[1]: Started Job spooling tools.
11月 07 10:40:00 localhost.localdomain atd[12686]: Starting job 1 (a0000101a82400)...)
11月 07 10:44:00 localhost.localdomain atd[12858]: Starting job 2 (a0000201a82404)...)
Hint: Some lines were ellipsized, use -l to show in full.
</code></pre> 
<h3 id="%E8%AF%AD%E6%B3%95">语法</h3> 
<pre><code class="language-cs">at    -参数   &lt;TIMESPEC&gt;</code></pre> 
<h4 id="%E5%8F%82%E6%95%B0%EF%BC%9A">参数：</h4> 
<blockquote> 
 <ul><li>-m 当指定的任务被完成之后，将给用户发送邮件，即使没有标准输出</li><li>-I atq的别名</li><li>-d atrm的别名</li><li>-v 显示任务将被执行的时间</li><li>-c 打印任务的内容到标准输出</li><li>-V 显示版本信息</li><li>-q&lt;列队&gt; 使用指定的列队</li><li>-f&lt;文件&gt; 从指定文件读入任务而不是从标准输入读入</li><li>-t&lt;时间参数&gt; 以时间参数的形式提交要运行的任务</li></ul> 
</blockquote> 
<h4 id="%E7%A4%BA%E4%BE%8B">示例</h4> 
<pre><code class="language-cs">[root@localhost ~]# at -v
Garbled time
[root@localhost ~]# at -V
at version 3.1.13
</code></pre> 
<h3 id="%E6%8F%90%E4%BA%A4at%E4%BD%9C%E4%B8%9A">提交at作业</h3> 
<h4 id="%E6%8F%90%E4%BA%A4%E6%AD%A5%E9%AA%A4">提交步骤</h4> 
<blockquote> 
 <ol><li>输入at命令同时指定作业执行的时间 ，按下Enter键；</li><li>在at命令提示符“at &gt;”下，输入命令或者shell脚本</li><li>Ctrl+D 提交at作业。</li></ol> 
 <p><span style="background-color:#ffd900;">注意：如果如要执行多行命令，输入完一条命令，回车接着输入下一条，直到按Ctrl+D提交任务。</span></p> 
</blockquote> 
<h4 id="%E6%97%B6%E9%97%B4%E9%80%89%E6%8B%A9%E6%A0%BC%E5%BC%8F">时间选择格式</h4> 
<blockquote> 
 <p>now  +5min                                                        //现在的时间加5分钟</p> 
 <p>时间   tomorrow （teatime    is  16:00）          //明天某时间执行</p> 
 <p>5pm  august  3  2029                                        //2029年八月3日下午5点执行</p> 
 <p>4:00   2019-11-27                                                //2019年11月27日4点执行</p> 
</blockquote> 
<h4>示例</h4> 
<pre><code class="language-cs">[root@localhost ~]# date
2022年 11月 07日 星期一 11:00:00 CST
[root@localhost ~]# at now +5min
at&gt; ls
at&gt; &lt;EOT&gt;
job 3 at Mon Nov  7 11:05:00 2022

[root@localhost ~]# at teatime tomorrow
at&gt; ls /test
at&gt; &lt;EOT&gt;
job 4 at Tue Nov  8 16:00:00 2022
[root@localhost ~]# at 8:00 tomorrow
at&gt; ls /test
at&gt; &lt;EOT&gt;
job 5 at Tue Nov  8 08:00:00 2022
at&gt; useradd sure2023
at&gt; &lt;EOT&gt;
job 6 at Thu Aug  3 17:00:00 2023
[root@localhost ~]# at 5:20 2023-5-20
at&gt; touch /test/love.txt
at&gt; echo "I Love  You"&gt;&gt; /test/love.txt
at&gt; &lt;EOT&gt;
job 8 at Sat May 20 05:20:00 2023
</code></pre> 
<h3 id="%E6%9F%A5%E7%9C%8B%E4%BB%BB%E5%8A%A1">查看任务</h3> 
<blockquote> 
 <p>命令：atq</p> 
</blockquote> 
<h4>示例</h4> 
<pre><code class="language-cs">[root@localhost ~]# date
2022年 11月 07日 星期一 11:08:25 CST
[root@localhost ~]# atq
4	Tue Nov  8 16:00:00 2022 a root
5	Tue Nov  8 08:00:00 2022 a root
6	Thu Aug  3 17:00:00 2023 a root
8	Sat May 20 05:20:00 2023 a root

</code></pre> 
<p><span style="background-color:#ffd900;">时间已经过了11：05，所以3号任务已经被执行了，在计划列表内找不到了。</span></p> 
<h3 id="%E6%9F%A5%E7%9C%8B%E4%BB%BB%E5%8A%A1%E6%89%A7%E8%A1%8C%E6%97%A5%E5%BF%97">查看任务执行日志</h3> 
<blockquote> 
 <p>        任务执行日志以邮件的形式存在，位置在/var/spool/mail/root。</p> 
 <p>        通过mali查看</p> 
</blockquote> 
<h4>示例</h4> 
<pre><code class="language-cs">[root@localhost ~]# mail
Heirloom Mail version 12.5 7/5/10.  Type ? for help.
"/var/spool/mail/root": 3 messages
&gt;   1 root                  Mon Nov  7 10:40  15/514   "Output from your job        "
    2 root                  Mon Nov  7 10:44  24/601   "Output from your job        "
    3 root                  Mon Nov  7 11:05  15/516   "Output from your job        "
&amp; 2
Message  2:
From root@localhost.localdomain  Mon Nov  7 10:44:01 2022
Return-Path: &lt;root@localhost.localdomain&gt;
X-Original-To: root
Delivered-To: root@localhost.localdomain
Subject: Output from your job        2
To: root@localhost.localdomain
Date: Mon,  7 Nov 2022 10:44:01 +0800 (CST)
From: root@localhost.localdomain (root)
Status: RO

anaconda-ks.cfg
initial-setup-ks.cfg
公共
模板
视频
图片
文档
下载
音乐
桌面

&amp; q
Held 3 messages in /var/spool/mail/root
</code></pre> 
<h3 id="%E5%88%A0%E9%99%A4%E4%BB%BB%E5%8A%A1">删除任务</h3> 
<blockquote> 
 <p>命令：atrm  任务号或者atrm文件名</p> 
 <p>        或者使用atrm的别名：at  -d</p> 
</blockquote> 
<h4>示例</h4> 
<pre><code class="language-cs">[root@localhost ~]# atq
4	Tue Nov  8 16:00:00 2022 a root
5	Tue Nov  8 08:00:00 2022 a root
6	Thu Aug  3 17:00:00 2023 a root
8	Sat May 20 05:20:00 2023 a root
[root@localhost ~]# atrm 4
[root@localhost ~]# atq
5	Tue Nov  8 08:00:00 2022 a root
6	Thu Aug  3 17:00:00 2023 a root
8	Sat May 20 05:20:00 2023 a root
</code></pre> 
<p><span style="background-color:#ffd900;">4号任务已经被删除 。</span></p> 
<hr> 
<h2 id="%E5%BE%AA%E7%8E%AF%E8%B0%83%E5%BA%A6%E6%89%A7%E8%A1%8Ccrontab%E5%91%BD%E4%BB%A4">循环调度执行crontab命令</h2> 
<h3>简介</h3> 
<blockquote> 
 <p>cron的概念和crontab是不可分割的；</p> 
 <p>crontab是一个命令，常见于Unix和Linux的操作系统之中；</p> 
 <p>用于设置周期性被执行的指令；</p> 
 <p>该命令从标准输入设备读取指令，并将其存放于“crontab”文件中，以供之后读取和执行。</p> 
 <p>计划任务存储位置：/var/spool/cron/</p> 
</blockquote> 
<h3 id="%E6%9F%A5%E7%9C%8B%E6%9C%8D%E5%8A%A1%EF%BC%88%E6%98%AF%E5%90%A6%E5%90%AF%E5%8A%A8%EF%BC%89">查看服务（是否启动）</h3> 
<pre><code class="language-cs">[root@localhost ~]# ps -ef |grep cron
root       1288      1  0 06:25 ?        00:00:00 /usr/sbin/crond -n
root      16413  12205  0 11:23 pts/0    00:00:00 grep --color=auto cron
[root@localhost ~]# systemctl status crond.service
● crond.service - Command Scheduler
   Loaded: loaded (/usr/lib/systemd/system/crond.service; enabled; vendor preset: enabled)
   Active: active (running) since 三 2022-11-02 15:48:16 CST; 4 days ago
 Main PID: 1288 (crond)
    Tasks: 1
   CGroup: /system.slice/crond.service
           └─1288 /usr/sbin/crond -n

11月 02 15:48:16 localhost.localdomain systemd[1]: Started Command Scheduler.
11月 02 15:48:16 localhost.localdomain crond[1288]: (CRON) INFO (RANDOM_DELAY will...)
11月 02 15:48:18 localhost.localdomain crond[1288]: (CRON) INFO (running with inot...)
Hint: Some lines were ellipsized, use -l to show in full.
</code></pre> 
<p><span style="background-color:#ffd900;">如果服务没启动就用命令systemctl  start  需要启动的服务名   即可，cron程序运行是计划任务执行的根本。</span></p> 
<h3 id="%E5%88%9B%E5%BB%BA%E8%AE%A1%E5%88%92">创建计划</h3> 
<blockquote> 
 <p>命令：crontab  -e      //编辑当前用户的，除了自身用户和root能查到，其他用户查不到。</p> 
</blockquote> 
<h4 id="%E7%BC%96%E8%BE%91%E5%99%A8%E4%B8%AD%E7%9A%84%E8%AF%AD%E6%B3%95%E6%A0%BC%E5%BC%8F">编辑器中的语法格式</h4> 
<blockquote> 
 <p>*    *    *     *     * （代表时间）command<br> 分  时  日   月   周<br> min范围：1---59<br> hours范围：1---23<br> day范围：1---31<br> month范围：1---12<br> week范围：0---6（Sunday=0）</p> 
 <p><span style="background-color:#ffd900;">分 时 日 月 周     命令或脚本程序</span></p> 
 <p><span style="background-color:#ffd900;">留个部分用空格隔开，*表示站位符就算那里没有需要设置的内容也需要有*。</span></p> 
</blockquote> 
<h4>示例</h4> 
<pre><code class="language-cs">[root@localhost ~]# crontab   -e


*/5 * * * *  echo "hello  "&gt;&gt;  /test/hello.txt
0 2 1,4,6 * *  ls /
0 2 5-9 * *  ls /
0 * * * * ls  /
0 2 * * * ls /
0 2 14 * *  ls  /
20  5  20  5 *   echo "i  love  you" &gt;&gt; /test/love.txt
0 2 * * 5   ls  /
0 2 2 6 5   ls   /</code></pre> 
<h4 id="%E4%BB%A3%E7%A0%81%E4%B8%AD%E6%B6%89%E5%8F%8A%E5%88%B0%E7%9A%84%E4%BB%BB%E5%8A%A1%E4%BF%A1%E6%81%AF%E8%A7%A3%E8%AF%BB">代码中涉及到的任务信息解读</h4> 
<blockquote> 
 <p>*/5 * * * *  echo "hello  "&gt;&gt;  /test/hello.txt              //每五分钟执行一次<br> 0 2 1,4,6 * *  ls /        //每月的1日，4日，6日的2:00执行一次<br> 0 2 5-9 * *  ls /           //每月的5日到9日的2:00执行一次<br> 0 * * * * ls  /                //每小时的第0分钟执行一次<br> 0 2 * * * ls /                //每天的2:00执行一次<br> 0 2 14 * *  ls  /            //每月的14号的2:00执行一次<br> 20  5  20  5 *   echo "i  love  you" &gt;&gt; /test/love.txt        //每年的5月20日的5:20执行一次<br> 0 2 * * 5   ls  /             //每月的周五的2:00执行一次<br> 0 2 2 6 5   ls   /                //每年的6月2日的2:00和每年6月周五的2:00都执行一次</p> 
</blockquote> 
<h3 id="%E6%9F%A5%E8%AF%A2%E8%AE%A1%E5%88%92">查询计划</h3> 
<blockquote> 
 <p>命令：crontab  -l</p> 
 <p>           管理员可以使用  -u  username，去管理其他用户的计划任务</p> 
 <p>查看计划执行日志命令：mail</p> 
</blockquote> 
<pre><code class="language-cs">[root@localhost ~]# crontab -l
*/5 * * * *  echo "hello  "&gt;&gt;  /test/hello.txt
0 2 1,4,6 * *  ls /
0 2 5-9 * *  ls /
0 * * * * ls  /
0 2 * * * ls /
0 2 14 * *  ls  /
20  5  20  5 *   echo "i  love  you" &gt;&gt; /test/love.txt
0 2 * * 5   ls  /
0 2 2 6 5   ls   /
您在 /var/spool/mail/root 中有邮件

</code></pre> 
<p class="img-center"><img alt="" height="132" src="https://images2.imgbox.com/ed/b0/wmkznQwD_o.png" width="520"></p> 
<p>         <span style="background-color:#ffd900;">每五分钟就会自动将hello写入到hello.txt中，说明任务计划设置成功，一般我们在生产环境中会用循环执行任务的操作用作备份。</span></p> 
<h3 id="%E5%88%A0%E9%99%A4%E8%AE%A1%E5%88%92">删除计划</h3> 
<blockquote> 
 <p>命令：crontab   -r       删除当前用户的计划。</p> 
</blockquote> 
<pre><code class="language-cs">[root@localhost ~]# crontab -r
[root@localhost ~]# crontab -l
no crontab for root
</code></pre> 
<hr> 
<h2 id="%E6%80%BB%E7%BB%93">总结</h2> 
<p>        在备份数据的时候我们通常使用crontab命令，当只需要在指定时间仅需要执行一次就结束的时候我们使用at命令完成，本篇文章我们了解了Linux中的任务计划管理，学会使用at和crontab命令以及他们的应用场景。</p> 
<hr> 
<p style="text-align:center;"><span style="color:#fe2c24;"><strong>创作不易，动动小手给个点赞加关注吧，有什么意见评论区告诉我，一起学习。</strong></span></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9b535aac27032b7b96bc1acd47eed8fa/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">制作 设置 谷歌Google 火狐Firefox 跨域 允许跨域设置的方法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e797ac8e1466b94e1d023aff35ae40c4/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">微信授权登录 | 全过程讲解[官方文档-＞代码梳理-＞注意点] uniapp&#43;springboot(附Gitee源码)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程爱好者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151260"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>