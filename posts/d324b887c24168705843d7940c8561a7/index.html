<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>标准库：csv --- CSV 文件读写 - 编程爱好者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="标准库：csv --- CSV 文件读写" />
<meta property="og:description" content="CSV (Comma Separated Values) 格式是电子表格和数据库中最常见的输入、输出文件格式。
csv 模块实现了 CSV 格式表单数据的读写。其提供了诸如“以兼容 Excel 的方式输出数据文件”或“读取 Excel 程序输出的数据文件”的功能，程序员无需知道 Excel 所采用 CSV 格式的细节。
csv 模块中的 reader 类和 writer 类可用于读写序列化的数据。也可使用 DictReader 类和 DictWriter 类以字典的形式读写数据。
csv 模块定义了以下函数： csv.reader(csvfile, dialect=&#39;excel&#39;, **fmtparams)
返回一个 reader 对象，该对象将逐行遍历 csvfile。
如果 csvfile 是文件对象，则打开它时应使用 newline=&#39;&#39;。
可选参数 dialect 是用于不同的 CSV 变种的特定参数组。它可以是 Dialect 类的子类的实例，也可以是 list_dialects() 函数返回的字符串之一。
另一个可选关键字参数 fmtparams 可以覆写当前变种格式中的单个格式设置。请参见 变种与格式参数 部分。
import csv file = open(&#39;csvDemo.csv&#39;, newline=&#39;&#39;) csvReader = csv.reader(file, delimiter=&#39; &#39;, quotechar=&#39;|&#39;) for row in csvReader: for ceil in row: print(ceil) file." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bchobby.github.io/posts/d324b887c24168705843d7940c8561a7/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-04-08T21:42:53+08:00" />
<meta property="article:modified_time" content="2022-04-08T21:42:53+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程爱好者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程爱好者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">标准库：csv --- CSV 文件读写</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>CSV (Comma Separated Values) 格式是电子表格和数据库中最常见的输入、输出文件格式。</p> 
<p><a href="https://docs.python.org/zh-cn/3/library/csv.html#module-csv" rel="nofollow" title="csv">csv</a> 模块实现了 CSV 格式表单数据的读写。其提供了诸如“以兼容 Excel 的方式输出数据文件”或“读取 Excel 程序输出的数据文件”的功能，程序员无需知道 Excel 所采用 CSV 格式的细节。</p> 
<p><a href="https://docs.python.org/zh-cn/3/library/csv.html#module-csv" rel="nofollow" title="csv">csv</a> 模块中的 <a href="https://docs.python.org/zh-cn/3/library/csv.html#csv.reader" rel="nofollow" title="reader">reader</a> 类和 <a href="https://docs.python.org/zh-cn/3/library/csv.html#csv.writer" rel="nofollow" title="writer">writer</a> 类可用于读写序列化的数据。也可使用 <a href="https://docs.python.org/zh-cn/3/library/csv.html#csv.DictReader" rel="nofollow" title="DictReader">DictReader</a> 类和 <a href="https://docs.python.org/zh-cn/3/library/csv.html#csv.DictWriter" rel="nofollow" title="DictWriter">DictWriter</a> 类以字典的形式读写数据。</p> 
<p></p> 
<hr> 
<h3>csv 模块定义了以下函数：</h3> 
<p></p> 
<p><strong><code>csv.</code><code>reader</code>(<em>csvfile</em>, <em>dialect='excel'</em>, <em>**fmtparams</em>)</strong></p> 
<p>返回一个 reader 对象，该对象将逐行遍历 <em>csvfile</em>。</p> 
<p>如果 <em>csvfile</em> 是文件对象，则打开它时应使用 <code>newline=''</code>。</p> 
<p>可选参数 <em>dialect</em> 是用于不同的 CSV 变种的特定参数组。它可以是 <a href="https://docs.python.org/zh-cn/3/library/csv.html#csv.Dialect" rel="nofollow" title="Dialect">Dialect</a> 类的子类的实例，也可以是 <a href="https://docs.python.org/zh-cn/3/library/csv.html#csv.list_dialects" rel="nofollow" title="list_dialects()">list_dialects()</a> 函数返回的字符串之一。</p> 
<p>另一个可选关键字参数 <em>fmtparams</em> 可以覆写当前变种格式中的单个格式设置。请参见 变种与格式参数 部分。</p> 
<p><img alt="" height="147" src="https://images2.imgbox.com/e0/f7/a4DfmHIj_o.png" width="624"></p> 
<p> </p> 
<pre><code class="language-python">import csv

file = open('csvDemo.csv', newline='')
csvReader = csv.reader(file, delimiter=' ', quotechar='|')
for row in csvReader:
    for ceil in row:
        print(ceil)
file.close()

# output: A1,B1,C1,D1,E1
# output: A2,B2,C2,D2,E2
# output: A3,B3,C3,D3,E3</code></pre> 
<p><strong><code>csv.</code><code>writer</code>(<em>csvfile</em>, <em>dialect='excel'</em>, <em>**fmtparams</em>)</strong></p> 
<p>返回一个 writer 对象，该对象负责将用户的数据在给定的文件类对象上转换为带分隔符的字符串。</p> 
<p> 如果 <em>csvfile</em> 是一个文件对象，则打开它时应使用 <code>newline=''</code></p> 
<pre><code class="language-python">import csv

file = open('csvDemo.csv', 'a', newline='')
csvWriter = csv.writer(file, delimiter=',', quotechar='|', quoting=csv.QUOTE_MINIMAL)

row = ['A4', 'B4', 'C4', 'D4', 'E4']
csvWriter.writerow(row)

rows = [['A5', 'B5', 'C5', 'D5', 'E5'], ['A6', 'B6', 'C6', 'D6', 'E6']]
csvWriter.writerows(rows)

file.close()</code></pre> 
<p><img alt="" height="163" src="https://images2.imgbox.com/12/66/RJIXmzNV_o.png" width="599"></p> 
<p> <strong><code>csv.</code><code>register_dialect</code>(<em>name</em>[, <em>dialect</em>[, <em>**fmtparams</em>]])</strong></p> 
<p>将 dialect 与 name 关联起来。 name 必须是字符串。</p> 
<pre><code class="language-python">import csv

csv.register_dialect('mySet', delimiter=',', quotechar='|', quoting=csv.QUOTE_MINIMAL)
file = open('csvDemo.csv', 'a', newline='')
csvWriter = csv.writer(file, 'mySet')

row = ['A4', 'B4', 'C4', 'D4', 'E4']
csvWriter.writerow(row)

rows = [['A5', 'B5', 'C5', 'D5', 'E5'], ['A6', 'B6', 'C6', 'D6', 'E6']]
csvWriter.writerows(rows)

file.close()</code></pre> 
<p><img alt="" height="163" src="https://images2.imgbox.com/29/43/MAgxGL9L_o.png" width="599"></p> 
<p><strong><code>csv.</code><code>unregister_dialect</code>(<em>name</em>)</strong></p> 
<p>从变种注册表中删除 <em>name</em> 对应的变种。如果 <em>name</em> 不是已注册的变种名称，则抛出 <a href="https://docs.python.org/zh-cn/3/library/csv.html#csv.Error" rel="nofollow" title="Error">Error</a> 异常。</p> 
<pre><code class="language-python">import csv

csv.register_dialect('mySet', delimiter=',', quotechar='|', quoting=csv.QUOTE_MINIMAL)
file = open('csvDemo.csv', 'a', newline='')
csvWriter = csv.writer(file, 'mySet')

row = ['A4', 'B4', 'C4', 'D4', 'E4']
csvWriter.writerow(row)

rows = [['A5', 'B5', 'C5', 'D5', 'E5'], ['A6', 'B6', 'C6', 'D6', 'E6']]
csvWriter.writerows(rows)

csv.unregister_dialect('mySet')
file.close()</code></pre> 
<p><strong><code>csv.</code><code>get_dialect</code>(<em>name</em>)</strong></p> 
<p>返回 <em>name</em> 对应的变种。如果 <em>name</em> 不是已注册的变种名称，则抛出 <a href="https://docs.python.org/zh-cn/3/library/csv.html#csv.Error" rel="nofollow" title="Error">Error</a> 异常。该函数返回的是不可变的 <a href="https://docs.python.org/zh-cn/3/library/csv.html#csv.Dialect" rel="nofollow" title="Dialect">Dialect</a> 对象。</p> 
<pre><code class="language-python">import csv

csv.register_dialect('mySet', delimiter=',', quotechar='|', quoting=csv.QUOTE_MINIMAL)

myDialect=csv.get_dialect('mySet')
print(myDialect.delimiter)
print(myDialect.quotechar)
print(myDialect.quoting)

csv.unregister_dialect('mySet')

# output: ,
# output: |
# output: 0</code></pre> 
<p><strong><code>csv.</code><code>list_dialects</code>()</strong></p> 
<p>返回所有已注册变种的名称。</p> 
<pre><code class="language-python">import csv

csv.register_dialect('mySet', delimiter=',', quotechar='|', quoting=csv.QUOTE_MINIMAL)
print(csv.list_dialects())
csv.unregister_dialect('mySet')

# output: ['excel', 'excel-tab', 'unix', 'mySet']</code></pre> 
<p><strong><code>csv.</code><code>field_size_limit</code>([<em>new_limit</em>])</strong></p> 
<p>返回解析器当前允许的最大字段大小。如果指定了 <em>new_limit</em>，则它将成为新的最大字段大小。</p> 
<pre><code class="language-python">import csv

print(csv.field_size_limit())
# output: 131072

csv.field_size_limit(1024)
print(csv.field_size_limit())
# output: 1024</code></pre> 
<hr> 
<h3>csv 模块定义了以下类：</h3> 
<p><strong>class csv.DictReader(f, fieldnames=None, restkey=None, restval=None, dialect='excel', *args, **kwds)</strong><br> 创建一个对象，该对象在操作上类似于常规 reader，但是将每行中的信息映射到一个 dict，该 dict 的键由 fieldnames 可选参数给出。</p> 
<p>fieldnames 参数是一个 sequence。如果省略 fieldnames，则文件 f 第一行中的值将用作字段名。无论字段名是如何确定的，字典都将保留其原始顺序。</p> 
<p>如果某一行中的字段多于字段名，则剩余数据会被放入一个列表，并与 restkey 所指定的字段名 (默认为 None) 一起保存。 如果某个非空白行的字段少于字段名，则缺失的值会使用 restval 的值来填充 (默认为 None)。</p> 
<p>所有其他可选或关键字参数都传递给底层的 reader 实例。</p> 
<p><img alt="" height="126" src="https://images2.imgbox.com/11/fb/RYQGIjqo_o.png" width="652"> </p> 
<pre><code class="language-python">import csv

file = open('csvDemo.csv', newline='')
csvReader = csv.DictReader(file, delimiter=' ', quotechar='|')
for row in csvReader:
    for title in row:
        print(row[title])    # 第一行作为标题
file.close()

# output: A2,B2,C2,D2,E2
# output: A3,B3,C3,D3,E3</code></pre> 
<p><strong><em>class </em><code>csv.</code><code>DictWriter</code>(<em>f</em>, <em>fieldnames</em>, <em>restval=''</em>, <em>extrasaction='raise'</em>, <em>dialect='excel'</em>, <em>*args</em>, <em>**kwds</em>)</strong></p> 
<p>创建一个对象，该对象在操作上类似常规 writer，但会将字典映射到输出行。 <em>fieldnames</em> 参数是由键组成的 <a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#module-collections.abc" rel="nofollow" title="序列">序列</a>，它指定字典中值的顺序，这些值会按指定顺序传递给 <code>writerow()</code> 方法并写入文件 <em>f</em>。 如果字典缺少 <em>fieldnames</em> 中的键，则可选参数 <em>restval</em> 用于指定要写入的值。 如果传递给 <code>writerow()</code> 方法的字典的某些键在 <em>fieldnames</em> 中找不到，则可选参数 <em>extrasaction</em> 用于指定要执行的操作。 如果将其设置为默认值 <code>'raise'</code>，则会引发 <a href="https://docs.python.org/zh-cn/3/library/exceptions.html#ValueError" rel="nofollow" title="ValueError">ValueError</a>。 如果将其设置为 <code>'ignore'</code>，则字典中的其他键值将被忽略。 所有其他可选或关键字参数都传递给底层的 <a href="https://docs.python.org/zh-cn/3/library/csv.html#csv.writer" rel="nofollow" title="writer">writer</a> 实例。</p> 
<pre><code class="language-python">import csv
from typing import Mapping

file = open('csvDemo.csv', 'a', newline='')
fieldnames = ['A1', 'B2', 'C3', 'D3', 'E3']
csvWriter = csv.DictWriter(file, delimiter=',', quotechar='|', quoting=csv.QUOTE_MINIMAL, fieldnames=fieldnames)
csvWriter.writeheader()

# dict1 = dict()
# row = ['A4', 'B4', 'C4', 'D4', 'E4']
# for i in range(len(fieldnames)):
#     dict1[fieldnames[i]] = row[i]
# csvWriter.writerow(dict1)

row = ['A4', 'B4', 'C4', 'D4', 'E4']
dict1 = dict(zip(fieldnames,row))
csvWriter.writerow(dict1)


rows = [['A5', 'B5', 'C5', 'D5', 'E5'], ['A6', 'B6', 'C6', 'D6', 'E6']]
list1 = []
for i in range(len(rows)):
    dict2 = dict(zip(fieldnames, rows[i]))
    list1.append(dict2)
csvWriter.writerows(list1)

file.close()</code></pre> 
<p><img alt="" height="140" src="https://images2.imgbox.com/2a/ab/MSaSefrm_o.png" width="620"> </p> 
<p><strong>class csv.Dialect</strong><br> Dialect 类是一个容器类，其属性包含有如何处理双引号、空白符、分隔符等的信息。 由于缺少严格的 CSV 规格描述，不同的应用程序会产生略有差别的 CSV 数据。 Dialect 实例定义了 reader 和 writer 实例将具有怎样的行为。</p> 
<p>所有可用的 Dialect 名称会由 list_dialects() 返回，并且它们可由特定的 reader 和 writer 类通过它们的初始化函数 (__init__) 来注册</p> 
<p></p> 
<p><strong>class csv.excel</strong><br> excel 类定义了 Excel 生成的 CSV 文件的常规属性。它在变种注册表中的名称是 <span style="color:#fe2c24;">'excel'</span>。</p> 
<p></p> 
<p><strong>class csv.excel_tab</strong><br> excel_tab 类定义了 Excel 生成的、制表符分隔的 CSV 文件的常规属性。它在变种注册表中的名称是<span style="color:#fe2c24;"> 'excel-tab'</span>。</p> 
<p></p> 
<p><strong>class csv.unix_dialect</strong><br> unix_dialect 类定义了在 UNIX 系统上生成的 CSV 文件的常规属性，即使用 '\n' 作为换行符，且所有字段都有引号包围。它在变种注册表中的名称是 <span style="color:#fe2c24;">'unix'</span>。</p> 
<p><strong>class csv.Sniffer</strong><br> Sniffer 类用于推断 CSV 文件的格式。</p> 
<p>Sniffer 类提供了两个方法：</p> 
<p><strong>sniff(sample, delimiters=None)</strong><br> 分析给定的 sample 并返回一个 Dialect 子类，该子类中包含了分析出的格式参数。如果给出可选的 delimiters 参数，则该参数会被解释为字符串，该字符串包含了可能的有效定界符。</p> 
<p><img alt="" height="138" src="https://images2.imgbox.com/a9/23/y3DEM6Xx_o.png" width="654"></p> 
<p> </p> 
<pre><code class="language-python">import csv

file = open('csvDemo.csv', newline='')
dialect = csv.Sniffer().sniff(file.read(1024))
dialect.delimiter = ' '
dialect.quotechar = '|'
file.seek(0)

reader = csv.reader(file, dialect)
for row in reader:
    for ceil in row:
        print(ceil)
file.close()

# output: A1,B2,C3,D3,E3
# output: A4,B4,C4,D4,E4
# output: A4,B4,C4,D4,E4
# output: A4,B4,C4,D4,E4</code></pre> 
<p><strong>has_header(sample)</strong><br> 分析 sample 文本（假定为 CSV 格式），如果发现其首行为一组列标题则返回 True。 在检查每一列时，将考虑是否满足两个关键标准之一来估计 sample 是否包含标题:</p> 
<ul><li>第二至第 n 行包含数字值</li><li>第二至第 n 行包含字符串值，其中至少有一个值的长度与该列预期标题的长度不同。</li></ul> 
<p>会对第一行之后的二十行进行采样；如果有超过一半的列 + 行符合标准，则返回 True。</p> 
<pre><code class="language-python">import csv

file = open('csvDemo.csv', newline='')
dialect = csv.Sniffer().sniff(file.read(5))
dialect.delimiter = ' '
dialect.quotechar = '|'
file.seek(0)
print(csv.Sniffer().has_header(file.read(5)))
# output: True
file.close()</code></pre> 
<hr> 
<h3><a href="https://docs.python.org/zh-cn/3/library/csv.html#module-csv" rel="nofollow" title="csv">csv</a> 模块定义了以下常量：</h3> 
<p><code>csv.</code><code>QUOTE_ALL</code></p> 
<p>指示 <a href="https://docs.python.org/zh-cn/3/library/csv.html#csv.writer" rel="nofollow" title="writer">writer</a> 对象给所有字段加上引号。</p> 
<p><code>csv.</code><code>QUOTE_MINIMAL</code></p> 
<p>指示 <a href="https://docs.python.org/zh-cn/3/library/csv.html#csv.writer" rel="nofollow" title="writer">writer</a> 对象仅为包含特殊字符（例如 <em>定界符</em>、<em>引号字符</em> 或 <em>行结束符</em> 中的任何字符）的字段加上引号。</p> 
<p><code>csv.</code><code>QUOTE_NONNUMERIC</code></p> 
<p>指示 <a href="https://docs.python.org/zh-cn/3/library/csv.html#csv.writer" rel="nofollow" title="writer">writer</a> 对象为所有非数字字段加上引号。</p> 
<p>指示 reader 将所有未用引号引出的字段转换为 <em>float</em> 类型。</p> 
<p><code>csv.</code><code>QUOTE_NONE</code></p> 
<p>指示 <a href="https://docs.python.org/zh-cn/3/library/csv.html#csv.writer" rel="nofollow" title="writer">writer</a> 对象不使用引号引出字段。当 <em>定界符</em> 出现在输出数据中时，其前面应该有 <em>转义符</em>。如果未设置 <em>转义符</em>，则遇到任何需要转义的字符时，writer 都会抛出 <a href="https://docs.python.org/zh-cn/3/library/csv.html#csv.Error" rel="nofollow" title="Error">Error</a> 异常。</p> 
<p>指示 <a href="https://docs.python.org/zh-cn/3/library/csv.html#csv.reader" rel="nofollow" title="reader">reader</a> 不对引号字符进行特殊处理。</p> 
<p><a href="https://docs.python.org/zh-cn/3/library/csv.html#module-csv" rel="nofollow" title="csv">csv</a> 模块定义了以下异常：</p> 
<p><em>exception </em><code>csv.</code><code>Error</code></p> 
<p>该异常可能由任何发生错误的函数抛出。</p> 
<hr> 
<h3>变种与格式参数</h3> 
<p>创建 <a href="https://docs.python.org/zh-cn/3/library/csv.html#csv.reader" rel="nofollow" title="reader">reader</a> 或 <a href="https://docs.python.org/zh-cn/3/library/csv.html#csv.writer" rel="nofollow" title="writer">writer</a> 对象时，程序员可以将某个字符串或 <a href="https://docs.python.org/zh-cn/3/library/csv.html#csv.Dialect" rel="nofollow" title="Dialect">Dialect</a> 类的子类指定为 dialect 参数。</p> 
<p></p> 
<p>Dialect 类支持以下属性：</p> 
<p><strong><code>Dialect.</code><code>delimiter</code></strong></p> 
<p>一个用于分隔字段的单字符，默认为<span style="color:#fe2c24;"> <code>','</code></span>。</p> 
<p></p> 
<p><strong><code>Dialect.</code><code>doublequote</code></strong></p> 
<p>控制出现在字段中的 <em>引号字符</em> 本身应如何被引出。</p> 
<p>当该属性为 <a href="https://docs.python.org/zh-cn/3/library/constants.html#True" rel="nofollow" title="True">True</a> 时，双写引号字符。默认值为 <a href="https://docs.python.org/zh-cn/3/library/constants.html#True" rel="nofollow" title="True">True</a>。 如果该属性为 <a href="https://docs.python.org/zh-cn/3/library/constants.html#False" rel="nofollow" title="False">False</a>，则在 <em>引号字符</em> 的前面放置 <em>转义符</em>。</p> 
<p>如果 <em>doublequote</em> 是 <a href="https://docs.python.org/zh-cn/3/library/constants.html#False" rel="nofollow" title="False">False</a>，且 <em>转义符</em> 未指定，且在字段中发现 <em>引号字符</em> 时，会抛出 <a href="https://docs.python.org/zh-cn/3/library/csv.html#csv.Error" rel="nofollow" title="Error">Error</a> 异常。</p> 
<p></p> 
<p><strong><code>Dialect.</code><code>escapechar</code></strong></p> 
<p>一个用于 writer 的单字符，用来在 <em>quoting</em> 设置为 <a href="https://docs.python.org/zh-cn/3/library/csv.html#csv.QUOTE_NONE" rel="nofollow" title="QUOTE_NONE">QUOTE_NONE</a> 的情况下转义 <em>定界符</em>，在 <em>doublequote</em> 设置为 <a href="https://docs.python.org/zh-cn/3/library/constants.html#False" rel="nofollow" title="False">False</a> 的情况下转义 <em>引号字符</em>。在读取时，<em>escapechar</em> 去除了其后所跟字符的任何特殊含义。该属性默认为 <a href="https://docs.python.org/zh-cn/3/library/constants.html#None" rel="nofollow" title="None">None</a>，表示禁用转义。</p> 
<p></p> 
<p><strong><code>Dialect.</code><code>lineterminator</code></strong></p> 
<p>放在 <a href="https://docs.python.org/zh-cn/3/library/csv.html#csv.writer" rel="nofollow" title="writer">writer</a> 产生的行的结尾，默认为<span style="color:#fe2c24;"> </span><code><span style="color:#fe2c24;">'\r\n</span>'</code>。</p> 
<p>注解</p> 
<p><a href="https://docs.python.org/zh-cn/3/library/csv.html#csv.reader" rel="nofollow" title="reader">reader</a> 经过硬编码，会识别 <code>'\r'</code> 或 <code>'\n'</code> 作为行尾，并忽略 <em>lineterminator</em>。未来可能会更改这一行为。</p> 
<p></p> 
<p><strong><code>Dialect.</code><code>quotechar</code></strong></p> 
<p>一个单字符，用于包住含有特殊字符的字段，特殊字符如 <em>定界符</em> 或 <em>引号字符</em> 或换行符。默认为<span style="color:#fe2c24;"> <code>'"'</code></span>。</p> 
<p></p> 
<p><strong><code>Dialect.</code><code>quoting</code></strong></p> 
<p>控制 writer 何时生成引号，以及 reader 何时识别引号。该属性可以等于任何 <code>QUOTE_*</code> 常量（参见 <a href="https://docs.python.org/zh-cn/3/library/csv.html#csv-contents" rel="nofollow" title="模块内容">模块内容</a> 段落），默认为<span style="color:#fe2c24;"> <a href="https://docs.python.org/zh-cn/3/library/csv.html#csv.QUOTE_MINIMAL" rel="nofollow" title="QUOTE_MINIMAL"><span style="background-color:#d4e9d5;">QUOTE_MINIMAL</span></a></span>。</p> 
<p></p> 
<p><strong><code>Dialect.</code><code>skipinitialspace</code></strong></p> 
<p>如果为 <a href="https://docs.python.org/zh-cn/3/library/constants.html#True" rel="nofollow" title="True">True</a>，则忽略 <em>定界符</em> 之后的空格。默认值为 <a href="https://docs.python.org/zh-cn/3/library/constants.html#False" rel="nofollow" title="False">False</a>。</p> 
<p></p> 
<p><strong><code>Dialect.</code><code>strict</code></strong></p> 
<p>如果为 <code>True</code>，则在输入错误的 CSV 时抛出 <a href="https://docs.python.org/zh-cn/3/library/csv.html#csv.Error" rel="nofollow" title="Error">Error</a> 异常。默认值为 <code>False</code>。</p> 
<h3></h3> 
<hr> 
<h3>Reader 对象</h3> 
<p></p> 
<p>Reader 对象（<a href="https://docs.python.org/zh-cn/3/library/csv.html#csv.DictReader" rel="nofollow" title="DictReader">DictReader</a> 实例和 <a href="https://docs.python.org/zh-cn/3/library/csv.html#csv.reader" rel="nofollow" title="reader()">reader()</a> 函数返回的对象）具有以下公开方法：</p> 
<p><strong><code>csvreader.</code><code>__next__</code>()</strong></p> 
<p>返回 reader 的可迭代对象的下一行，它可以是一个列表（如果对象是由 <a href="https://docs.python.org/zh-cn/3/library/csv.html#csv.reader" rel="nofollow" title="reader()">reader()</a> 返回）或字典（如果是一个 <a href="https://docs.python.org/zh-cn/3/library/csv.html#csv.DictReader" rel="nofollow" title="DictReader">DictReader</a> 实例），根据当前 <a href="https://docs.python.org/zh-cn/3/library/csv.html#csv.Dialect" rel="nofollow" title="Dialect">Dialect</a> 来解析。 通常你应当以 <code>next(reader)</code> 的形式来调用它。</p> 
<p></p> 
<p>Reader 对象具有以下公开属性：</p> 
<p><strong><code>csvreader.</code><code>dialect</code></strong></p> 
<p>变种描述，只读，供解析器使用。</p> 
<p><strong><code>csvreader.</code><code>line_num</code></strong></p> 
<p>源迭代器已经读取了的行数。它与返回的记录数不同，因为记录可能跨越多行。</p> 
<p>DictReader 对象具有以下公开属性：</p> 
<p><strong><code>csvreader.</code><code>fieldnames</code></strong></p> 
<p>字段名称。如果在创建对象时未传入字段名称，则首次访问时或从文件中读取第一条记录时会初始化此属性。</p> 
<pre><code class="language-python">import csv

file = open('csvDemo.csv', newline='')
csvReader = csv.DictReader(file, delimiter=' ', quotechar='|')
print(csvReader.line_num)
for row in csvReader:
    print(csvReader.line_num)
print(csvReader.fieldnames)
file.close()

# output: 0
# output: 2
# output: 3
# output: 4
# output: A2,B2,C2,D2,E2</code></pre> 
<hr> 
<h3>Writer 对象</h3> 
<p><code>Writer</code> 对象（<a href="https://docs.python.org/zh-cn/3/library/csv.html#csv.DictWriter" rel="nofollow" title="DictWriter">DictWriter</a> 实例和 <a href="https://docs.python.org/zh-cn/3/library/csv.html#csv.writer" rel="nofollow" title="writer()">writer()</a> 函数返回的对象）具有下面的公开方法。对于 <code>Writer</code> 对象，<em>行</em> 必须是（一组可迭代的）字符串或数字。对于 <a href="https://docs.python.org/zh-cn/3/library/csv.html#csv.DictWriter" rel="nofollow" title="DictWriter">DictWriter</a> 对象，<em>行</em> 必须是一个字典，这个字典将字段名映射为字符串或数字（数字要先经过 <a href="https://docs.python.org/zh-cn/3/library/stdtypes.html#str" rel="nofollow" title="str()">str()</a> 转换类型）。请注意，输出的复数会有括号包围。这样其他程序读取 CSV 文件时可能会有一些问题（假设它们完全支持复数）。</p> 
<p><strong><code>csvwriter.</code><code>writerow</code>(<em>row</em>)</strong></p> 
<p>将 <em>row</em> 形参写入到 writer 的文件对象，根据当前 <a href="https://docs.python.org/zh-cn/3/library/csv.html#csv.Dialect" rel="nofollow" title="Dialect">Dialect</a> 进行格式化。 返回对下层文件对象的 <em>write</em> 方法的调用的返回值。</p> 
<p></p> 
<p><strong><code>csvwriter.</code><code>writerows</code>(<em>rows</em>)</strong></p> 
<p>将 <em>rows*（即能迭代出多个上述 *row</em> 对象的迭代器）中的所有元素写入 writer 的文件对象，并根据当前设置的变种进行格式化。</p> 
<p></p> 
<p>Writer 对象具有以下公开属性：</p> 
<p><strong><code>csvwriter.</code><code>dialect</code></strong></p> 
<p>变种描述，只读，供 writer 使用。</p> 
<p></p> 
<p>DictWriter 对象具有以下公开方法：</p> 
<p><strong><code>DictWriter.</code><code>writeheader</code>()</strong></p> 
<p>在 writer 的文件对象中，写入一行字段名称（字段名称在构造函数中指定），并根据当前设置的变种进行格式化。本方法的返回值就是内部使用的 <a href="https://docs.python.org/zh-cn/3/library/csv.html#csv.csvwriter.writerow" rel="nofollow" title="csvwriter.writerow()">csvwriter.writerow()</a> 方法的返回值。</p> 
<p></p> 
<hr> 
<p></p> 
<p></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/fe3c9656948ddabd662f7c2c3a42d981/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">断点调试知识点</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/bb31accdb00160820cb87b351bb3e08d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">深度学习(吴恩达)知识总结</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程爱好者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151260"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>