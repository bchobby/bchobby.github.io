<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>前端JS/TS面试题 - 编程爱好者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="前端JS/TS面试题" />
<meta property="og:description" content="JS面试题总结 一、this指向问题（1）this的理解（2）怎样改变this的指向问题（3）Call,bind,apply三者的区别（4）容易判读错的几种this情况（5）this指向问题，说输出；这两中a,b写法，在内存消耗上有什么区别 二、手写节流（throttle）和防抖（debounce）节流（throttle）：防抖（debounce）：改进：实现第一次点击和最后一次点击生效 三、js事件循环机制（宏任务，微任务，同步任务，异步任务）（1） JS事件循环机制概念（2）为什么js是单线程（3）线程和进程是什么？举例说明（4）js引擎的执行栈（5）setTimeout、Promise、Async/Await 的区别（6） Web Worker 标准（7）浏览器是多进程的浏览器包含的进程浏览器多进程的优势进程间的通信（进程通信） 什么是进程的死锁介绍一下银行家算法linux中硬链和软链的区别介绍一下linux文件绝对路径和相对路径四、跨域（1）为什么会出现跨域问题？（2）同源策略（3）为什么需要同源策略（跨域限制）（4）什么是跨域（5）怎么允许跨域（跨域解决办法）A、JSONPB、 CORS跨域资源共享：简单请求非简单请求（预检请求） C、Nginx反向代理D、webpack （在vue.config.js文件中）中 配置webpack-dev-server 五、es6的新特性common js和es6模块的区别 六、Symbol（es6新增）Symbol的应用场景 七、let var const的区别const是怎么实现的只能赋值一次 八、介绍下set,weakset,map,weakmap的区别Set:Weakset:Map:Weakmap: 九、原型和原型链（1）构造函数（2）为什么引入原型对象prototype（3） 原型对象（4）构造函数，实例对象，原型对象三者之间的关系（5）原型链（6）原型链打印题踩坑 10、了解JS的继承吗？ES5继承与ES6继承的区别（1）继承：（2）Es5和es6继承的区别：（3）js继承的六种方法： 11、js如何定义一个类并实现继承；要求不能使用es6的语法（手写一个寄生组合式继承）组合继承（构造函数和原型链实现继承）寄生组合式继承Es6实现继承 12、讲一讲Promise；语法Promise的缺点：Promise用法Promise.thenPromise.catchPromise.allPromise.anyPromise .finallyPromise .racePromise.allSettled 13、如何中止promise链式调用14、promise发生错误，怎么捕捉15、手写promise;手写promise.all；手写promise.any;手写promise.finally；手写Promise.race；手写Promise.allSettled手写Promise手写Promise.all:手写Promise.any:手写Promise.finally:手写Promise.race:手写Promise.allSettled: 17、什么是事件委托（事件代理），为什么在父元素上绑事件，子元素上点击可能触发。事件流/事件传播事件委托的实现 18、js数据类型，怎样判断数据类型；基本数据类型和引用数据类型的区别；怎么判断一个数组是不是Array类型（insatnceof,object.prototype.toString.call）；堆和栈是什么js数据类型堆和栈判断方法Typeof:Instanceof：Object.prototype.toString.call()：可以精准判断数据类型 19、undefined和null的区别20、箭头函数与普通函数的区别是什么？21、构造函数可以使用new生成实例，那么箭头函数可以吗？为什么？箭头函数不能使用new生成实例New的过程： 22、循环（遍历）的方法，各个方法的区别遍历 23、除了for...of还有哪些方法可以遍历字符串，数组中reduce方法有哪些参数，是怎样使用的24、怎么让对象的一个属性不可被改变（1） Object.defineProperty()（2）object.preventExtensions() 25.对浏览器的理解26.对浏览器内核的理解27.浏览器所用的内核28.浏览器内核比较29.浏览器的渲染原理30、重排重绘什么时候发生重排？什么时候发生重绘？如何减少重排重绘？浏览器的优化机制 31、flat数组扁平化flat方法递归处理（递归遍历每一项，若为数组继续遍历，否则concat（拼接））用reduce实现的数组扁平化（遍历数组每一项，若为数组就继续遍历，否则就concat（连接））扩展运算符已知如下数组：var arr = [ [1, 2, 2], [3, 4, 5, 5], [6, 7, 8, 9, [11, 12, [12, 13, [14] ] ] ], 10];编写一个程序将数组扁平化并去除其中重复部分数据，最终得到一个升序且不重复的数组 32、什么是闭包；闭包的作用；使用闭包实现每秒钟打印数组中的一个数组[5,4,3,2,1]使用闭包实现每秒钟打印数组中的一个数组[5,4,3,2,1]闭包：闭包产生的原因：闭包的作用：缺点： 33、输出什么/函数每秒依次输出（1）怎么修改可以让上面代码从1到5秒依次输出0-4,写出你能想到的所有方法 33、手写:ajax请求，解释状态码含义;手写ajax状态码含义 34、手写ajax请求，用promise封装35、== 和===的区别36、JS隐式转换37、如何让if(a==1&amp;&amp;a==2&amp;&amp;a==3)条件成立？38、JS的垃圾回收机制v8引擎对垃圾回收做了哪些优化增量标记：对活动对象和非活动对象进行标记懒性清理：V8采用的是惰性清理来释放内存并发回收： 38、内存泄露（memory leak）39、内存三大件40、浏览器存储方式39、JS的设计模式模块模式原型模式观察者模式单例模式工厂模式 为什么JS单例模式不会产生互锁现象（异步） 40、考查原型和函数的打印题41、手写代码：浏览器打开了一个页面，在控制台执行脚本，获取页面TagName种类。42、连续赋值-输出以下代码的执行结果并解释为什么？（连续赋值的坑）43、操作DOM的方法创建新节点添加节点删除节点替换节点获取/查找节点属性操作getQuerySelector和getClassName的区别 44、求两个数组的并集和交集和差集45、数组的常用方法46." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bchobby.github.io/posts/eb651417c416539036c0118b3ba61e71/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-24T14:35:31+08:00" />
<meta property="article:modified_time" content="2023-03-24T14:35:31+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程爱好者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程爱好者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">前端JS/TS面试题</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>JS面试题总结</h4> 
 <ul><li><a href="#this_5" rel="nofollow">一、this指向问题</a></li><li><a href="#1this_7" rel="nofollow">（1）this的理解</a></li><li><ul><li><a href="#2this_20" rel="nofollow">（2）怎样改变this的指向问题</a></li><li><a href="#3Callbindapply_25" rel="nofollow">（3）Call,bind,apply三者的区别</a></li><li><a href="#4this_29" rel="nofollow">（4）容易判读错的几种this情况</a></li><li><a href="#5thisab_108" rel="nofollow">（5）this指向问题，说输出；这两中a,b写法，在内存消耗上有什么区别</a></li></ul> 
  </li><li><a href="#throttledebounce_128" rel="nofollow">二、手写节流（throttle）和防抖（debounce）</a></li><li><ul><li><a href="#throttle_132" rel="nofollow">节流（throttle）：</a></li><li><a href="#debounce_136" rel="nofollow">防抖（debounce）：</a></li><li><a href="#_174" rel="nofollow">改进：实现第一次点击和最后一次点击生效</a></li></ul> 
  </li><li><a href="#js_176" rel="nofollow">三、js事件循环机制（宏任务，微任务，同步任务，异步任务）</a></li><li><ul><li><a href="#1_JS_178" rel="nofollow">（1） JS事件循环机制概念</a></li><li><a href="#2js_209" rel="nofollow">（2）为什么js是单线程</a></li><li><a href="#3_216" rel="nofollow">（3）线程和进程是什么？举例说明</a></li><li><a href="#4js_231" rel="nofollow">（4）js引擎的执行栈</a></li><li><a href="#5setTimeoutPromiseAsyncAwait__235" rel="nofollow">（5）setTimeout、Promise、Async/Await 的区别</a></li><li><a href="#6_Web_Worker__241" rel="nofollow">（6） Web Worker 标准</a></li><li><a href="#7_248" rel="nofollow">（7）浏览器是多进程的</a></li><li><ul><li><a href="#_253" rel="nofollow">浏览器包含的进程</a></li><li><a href="#_257" rel="nofollow">浏览器多进程的优势</a></li><li><a href="#_263" rel="nofollow">进程间的通信（进程通信）</a></li></ul> 
   </li><li><a href="#_270" rel="nofollow">什么是进程的死锁</a></li><li><a href="#_272" rel="nofollow">介绍一下银行家算法</a></li><li><a href="#linux_274" rel="nofollow">linux中硬链和软链的区别</a></li><li><a href="#linux_276" rel="nofollow">介绍一下linux文件绝对路径和相对路径</a></li><li><a href="#_284" rel="nofollow">四、跨域</a></li><li><a href="#1_288" rel="nofollow">（1）为什么会出现跨域问题？</a></li><li><a href="#2_292" rel="nofollow">（2）同源策略</a></li><li><a href="#3_296" rel="nofollow">（3）为什么需要同源策略（跨域限制）</a></li><li><a href="#4_301" rel="nofollow">（4）什么是跨域</a></li><li><a href="#5_306" rel="nofollow">（5）怎么允许跨域（跨域解决办法）</a></li><li><ul><li><a href="#AJSONP_308" rel="nofollow">A、JSONP</a></li><li><a href="#B_CORS_342" rel="nofollow">B、 CORS跨域资源共享：</a></li><li><ul><li><a href="#_352" rel="nofollow">简单请求</a></li><li><a href="#_358" rel="nofollow">非简单请求（预检请求）</a></li></ul> 
    </li><li><a href="#CNginx_364" rel="nofollow">C、Nginx反向代理</a></li><li><a href="#Dwebpack_vueconfigjs_webpackdevserver_368" rel="nofollow">D、webpack （在vue.config.js文件中）中 配置webpack-dev-server</a></li></ul> 
  </li></ul> 
  </li><li><a href="#es6_382" rel="nofollow">五、es6的新特性</a></li><li><ul><li><a href="#common_jses6_398" rel="nofollow">common js和es6模块的区别</a></li></ul> 
  </li><li><a href="#Symboles6_409" rel="nofollow">六、Symbol（es6新增）</a></li><li><ul><li><a href="#Symbol_417" rel="nofollow">Symbol的应用场景</a></li></ul> 
  </li><li><a href="#let_var_const_424" rel="nofollow">七、let var const的区别</a></li><li><ul><li><a href="#const_447" rel="nofollow">const是怎么实现的只能赋值一次</a></li></ul> 
  </li><li><a href="#setweaksetmapweakmap_449" rel="nofollow">八、介绍下set,weakset,map,weakmap的区别</a></li><li><ul><li><ul><li><a href="#Set_451" rel="nofollow">Set:</a></li><li><a href="#Weakset_455" rel="nofollow">Weakset:</a></li><li><a href="#Map_462" rel="nofollow">Map:</a></li><li><a href="#Weakmap_466" rel="nofollow">Weakmap:</a></li></ul> 
  </li></ul> 
  </li><li><a href="#_472" rel="nofollow">九、原型和原型链</a></li><li><ul><li><a href="#1_474" rel="nofollow">（1）构造函数</a></li><li><a href="#2prototype_478" rel="nofollow">（2）为什么引入原型对象prototype</a></li><li><a href="#3__484" rel="nofollow">（3） 原型对象</a></li><li><a href="#4_489" rel="nofollow">（4）构造函数，实例对象，原型对象三者之间的关系</a></li><li><a href="#5_496" rel="nofollow">（5）原型链</a></li><li><a href="#6_503" rel="nofollow">（6）原型链打印题踩坑</a></li></ul> 
  </li><li><a href="#10JSES5ES6_539" rel="nofollow">10、了解JS的继承吗？ES5继承与ES6继承的区别</a></li><li><ul><li><a href="#1_541" rel="nofollow">（1）继承：</a></li><li><a href="#2Es5es6_545" rel="nofollow">（2）Es5和es6继承的区别：</a></li><li><a href="#3js_552" rel="nofollow">（3）js继承的六种方法：</a></li></ul> 
  </li><li><a href="#11jses6_556" rel="nofollow">11、js如何定义一个类并实现继承；要求不能使用es6的语法（手写一个寄生组合式继承）</a></li><li><ul><li><a href="#_558" rel="nofollow">组合继承（构造函数和原型链实现继承）</a></li><li><a href="#_585" rel="nofollow">寄生组合式继承</a></li><li><a href="#Es6_621" rel="nofollow">Es6实现继承</a></li></ul> 
  </li><li><a href="#12Promise_652" rel="nofollow">12、讲一讲Promise；语法</a></li><li><ul><li><a href="#Promise_657" rel="nofollow">Promise的缺点：</a></li><li><a href="#Promise_663" rel="nofollow">Promise用法</a></li><li><a href="#Promisethen_667" rel="nofollow">Promise.then</a></li><li><a href="#Promisecatch_671" rel="nofollow">Promise.catch</a></li><li><a href="#Promiseall_675" rel="nofollow">Promise.all</a></li><li><a href="#Promiseany_679" rel="nofollow">Promise.any</a></li><li><a href="#Promise_finally_683" rel="nofollow">Promise .finally</a></li><li><a href="#Promise_race_687" rel="nofollow">Promise .race</a></li><li><a href="#PromiseallSettled_691" rel="nofollow">Promise.allSettled</a></li></ul> 
  </li><li><a href="#13promise_705" rel="nofollow">13、如何中止promise链式调用</a></li><li><a href="#14promise_711" rel="nofollow">14、promise发生错误，怎么捕捉</a></li><li><a href="#15promisepromiseallpromiseanypromisefinallyPromiseracePromiseallSettled_717" rel="nofollow">15、手写promise;手写promise.all；手写promise.any;手写promise.finally；手写Promise.race；手写Promise.allSettled</a></li><li><ul><li><a href="#Promise_719" rel="nofollow">手写Promise</a></li><li><a href="#Promiseall_809" rel="nofollow">手写Promise.all:</a></li><li><a href="#Promiseany_849" rel="nofollow">手写Promise.any:</a></li><li><a href="#Promisefinally_897" rel="nofollow">手写Promise.finally:</a></li><li><a href="#Promiserace_933" rel="nofollow">手写Promise.race:</a></li><li><a href="#PromiseallSettled_962" rel="nofollow">手写Promise.allSettled:</a></li></ul> 
  </li><li><a href="#17_1005" rel="nofollow">17、什么是事件委托（事件代理），为什么在父元素上绑事件，子元素上点击可能触发。</a></li><li><ul><li><a href="#_1012" rel="nofollow">事件流/事件传播</a></li><li><a href="#_1019" rel="nofollow">事件委托的实现</a></li></ul> 
  </li><li><a href="#18jsArrayinsatnceofobjectprototypetoStringcall_1048" rel="nofollow">18、js数据类型，怎样判断数据类型；基本数据类型和引用数据类型的区别；怎么判断一个数组是不是Array类型（insatnceof,object.prototype.toString.call）；堆和栈是什么</a></li><li><ul><li><a href="#js_1050" rel="nofollow">js数据类型</a></li><li><a href="#_1056" rel="nofollow">堆和栈</a></li><li><a href="#_1061" rel="nofollow">判断方法</a></li><li><ul><li><a href="#Typeof_1063" rel="nofollow">Typeof:</a></li><li><a href="#Instanceof_1072" rel="nofollow">Instanceof：</a></li><li><a href="#ObjectprototypetoStringcall_1077" rel="nofollow">Object.prototype.toString.call()：可以精准判断数据类型</a></li></ul> 
  </li></ul> 
  </li><li><a href="#19undefinednull_1088" rel="nofollow">19、undefined和null的区别</a></li><li><a href="#20_1093" rel="nofollow">20、箭头函数与普通函数的区别是什么？</a></li><li><a href="#21new_1104" rel="nofollow">21、构造函数可以使用new生成实例，那么箭头函数可以吗？为什么？</a></li><li><ul><li><a href="#new_1106" rel="nofollow">箭头函数不能使用new生成实例</a></li><li><a href="#New_1111" rel="nofollow">New的过程：</a></li></ul> 
  </li><li><a href="#22_1138" rel="nofollow">22、循环（遍历）的方法，各个方法的区别</a></li><li><ul><li><a href="#_1148" rel="nofollow">遍历</a></li></ul> 
  </li><li><a href="#23forofreduce_1150" rel="nofollow">23、除了for...of还有哪些方法可以遍历字符串，数组中reduce方法有哪些参数，是怎样使用的</a></li><li><a href="#24_1155" rel="nofollow">24、怎么让对象的一个属性不可被改变</a></li><li><ul><li><a href="#1_ObjectdefineProperty_1157" rel="nofollow">（1） Object.defineProperty()</a></li><li><a href="#2objectpreventExtensions_1173" rel="nofollow">（2）object.preventExtensions()</a></li></ul> 
  </li><li><a href="#25_1186" rel="nofollow">25.对浏览器的理解</a></li><li><a href="#26_1191" rel="nofollow">26.对浏览器内核的理解</a></li><li><a href="#27_1197" rel="nofollow">27.浏览器所用的内核</a></li><li><a href="#28_1206" rel="nofollow">28.浏览器内核比较</a></li><li><a href="#29_1214" rel="nofollow">29.浏览器的渲染原理</a></li><li><a href="#30_1222" rel="nofollow">30、重排重绘</a></li><li><ul><li><a href="#_1228" rel="nofollow">什么时候发生重排？</a></li><li><a href="#_1237" rel="nofollow">什么时候发生重绘？</a></li><li><a href="#_1241" rel="nofollow">如何减少重排重绘？</a></li><li><a href="#_1251" rel="nofollow">浏览器的优化机制</a></li></ul> 
  </li><li><a href="#31flat_1256" rel="nofollow">31、flat数组扁平化</a></li><li><ul><li><a href="#flat_1258" rel="nofollow">flat方法</a></li><li><a href="#concat_1266" rel="nofollow">递归处理（递归遍历每一项，若为数组继续遍历，否则concat（拼接））</a></li><li><a href="#reduceconcat_1282" rel="nofollow">用reduce实现的数组扁平化（遍历数组每一项，若为数组就继续遍历，否则就concat（连接））</a></li><li><a href="#_1294" rel="nofollow">扩展运算符</a></li><li><a href="#var_arr___1_2_2_3_4_5_5_6_7_8_9_11_12_12_13_14____10_1307" rel="nofollow">已知如下数组：var arr = [ [1, 2, 2], [3, 4, 5, 5], [6, 7, 8, 9, [11, 12, [12, 13, [14] ] ] ], 10];编写一个程序将数组扁平化并去除其中重复部分数据，最终得到一个升序且不重复的数组</a></li></ul> 
  </li><li><a href="#3254321_1322" rel="nofollow">32、什么是闭包；闭包的作用；使用闭包实现每秒钟打印数组中的一个数组[5,4,3,2,1]</a></li><li><ul><li><a href="#54321_1324" rel="nofollow">使用闭包实现每秒钟打印数组中的一个数组[5,4,3,2,1]</a></li><li><a href="#_1336" rel="nofollow">闭包：</a></li><li><a href="#_1340" rel="nofollow">闭包产生的原因：</a></li><li><a href="#_1344" rel="nofollow">闭包的作用：</a></li><li><a href="#_1349" rel="nofollow">缺点：</a></li></ul> 
  </li><li><a href="#33_1355" rel="nofollow">33、输出什么/函数每秒依次输出</a></li><li><ul><li><a href="#11504_1368" rel="nofollow">（1）怎么修改可以让上面代码从1到5秒依次输出0-4,写出你能想到的所有方法</a></li></ul> 
  </li><li><a href="#33ajax_1428" rel="nofollow">33、手写:ajax请求，解释状态码含义;</a></li><li><ul><li><a href="#ajax_1432" rel="nofollow">手写ajax</a></li><li><a href="#_1446" rel="nofollow">状态码含义</a></li></ul> 
  </li><li><a href="#34ajaxpromise_1455" rel="nofollow">34、手写ajax请求，用promise封装</a></li><li><a href="#35__1490" rel="nofollow">35、== 和===的区别</a></li><li><a href="#36JS_1499" rel="nofollow">36、JS隐式转换</a></li><li><a href="#37ifa1a2a3_1538" rel="nofollow">37、如何让if(a==1&amp;&amp;a==2&amp;&amp;a==3)条件成立？</a></li><li><a href="#38JS_1561" rel="nofollow">38、JS的垃圾回收机制</a></li><li><ul><li><a href="#v8_1579" rel="nofollow">v8引擎对垃圾回收做了哪些优化</a></li><li><ul><li><ul><li><a href="#_1586" rel="nofollow">增量标记：对活动对象和非活动对象进行标记</a></li><li><a href="#V8_1597" rel="nofollow">懒性清理：V8采用的是惰性清理来释放内存</a></li><li><a href="#_1601" rel="nofollow">并发回收：</a></li></ul> 
   </li></ul> 
  </li></ul> 
  </li><li><a href="#38memory_leak_1605" rel="nofollow">38、内存泄露（memory leak）</a></li><li><a href="#39_1619" rel="nofollow">39、内存三大件</a></li><li><a href="#40_1626" rel="nofollow">40、浏览器存储方式</a></li><li><a href="#39JS_1643" rel="nofollow">39、JS的设计模式</a></li><li><ul><li><ul><li><a href="#_1645" rel="nofollow">模块模式</a></li><li><a href="#_1658" rel="nofollow">原型模式</a></li><li><a href="#_1662" rel="nofollow">观察者模式</a></li><li><a href="#_1666" rel="nofollow">单例模式</a></li><li><a href="#_1670" rel="nofollow">工厂模式</a></li></ul> 
   </li><li><a href="#JS_1674" rel="nofollow">为什么JS单例模式不会产生互锁现象（异步）</a></li></ul> 
  </li><li><a href="#40_1676" rel="nofollow">40、考查原型和函数的打印题</a></li><li><a href="#41TagName_1725" rel="nofollow">41、手写代码：浏览器打开了一个页面，在控制台执行脚本，获取页面TagName种类。</a></li><li><a href="#42_1737" rel="nofollow">42、连续赋值-输出以下代码的执行结果并解释为什么？（连续赋值的坑）</a></li><li><a href="#43DOM_1747" rel="nofollow">43、操作DOM的方法</a></li><li><ul><li><a href="#_1749" rel="nofollow">创建新节点</a></li><li><a href="#_1754" rel="nofollow">添加节点</a></li><li><a href="#_1759" rel="nofollow">删除节点</a></li><li><a href="#_1763" rel="nofollow">替换节点</a></li><li><a href="#_1767" rel="nofollow">获取/查找节点</a></li><li><a href="#_1775" rel="nofollow">属性操作</a></li><li><a href="#getQuerySelectorgetClassName_1782" rel="nofollow">getQuerySelector和getClassName的区别</a></li></ul> 
  </li><li><a href="#44_1787" rel="nofollow">44、求两个数组的并集和交集和差集</a></li><li><a href="#45_1803" rel="nofollow">45、数组的常用方法</a></li><li><a href="#46_1805" rel="nofollow">46.深拷贝和浅拷贝</a></li><li><ul><li><a href="#_1810" rel="nofollow">如何实现深拷贝</a></li><li><a href="#_1857" rel="nofollow">浅拷贝的方法</a></li></ul> 
  </li><li><a href="#47instanceOf_1863" rel="nofollow">47.手写instanceOf</a></li><li><a href="#48_1879" rel="nofollow">48.数组去重</a></li><li><a href="#49Newnewnewnew_1922" rel="nofollow">49.New的实现（构造函数的执行过程，new实现、new的过程，new干了什么）</a></li><li><a href="#50_1949" rel="nofollow">50.函数柯里化</a></li><li><a href="#51_1994" rel="nofollow">51.二分查找（顺序表）</a></li><li><a href="#52_A1_A2_B1_B2_C1_C2_D1_D2__A_B_C_D_A1_A2_A_B1_B2_B_C1_C2_C_D1_D2_D_2021" rel="nofollow">52.两个数组合并成一个数组。请把两个数组 ['A1', 'A2', 'B1', 'B2', 'C1', 'C2', 'D1', 'D2'] 和 ['A', 'B', 'C', 'D']，合并为 ['A1', 'A2', 'A', 'B1', 'B2', 'B', 'C1', 'C2', 'C', 'D1', 'D2', 'D']。</a></li><li><a href="#530102__03_2044" rel="nofollow">53、0.1+0.2 !== 0.3，如何让它等于</a></li><li><a href="#54Consolelogtypeof_typeof_typeof_null_2049" rel="nofollow">54、Console.log(typeof typeof typeof null)</a></li><li><a href="#55_Let_mySet__new_Set_2054" rel="nofollow">55、 Let mySet = new Set();</a></li><li><a href="#56_ParseInt071parseInt071js_2059" rel="nofollow">56、 ParseInt(071)和parseInt(‘071’)分别会输出多少，js中有哪些表示数值的方式</a></li><li><a href="#57123mapparseInt_what_Why_2061" rel="nofollow">57、[‘1’,’2’,’3’].map(parseInt) what? Why?</a></li><li><ul><li><a href="#1NaNNaN_2063" rel="nofollow">答案：[1,NaN,NaN]</a></li><li><a href="#_2065" rel="nofollow">原因：</a></li></ul> 
  </li><li><a href="#58_convert__list_render_2075" rel="nofollow">58、实现 convert 方法，把原始 list 转换成树形结构，要求尽可能降低时间复杂度。（render函数）</a></li><li><a href="#_2158" rel="nofollow">给一个树形对象结构，写一个函数层次遍历这个树形结构</a></li><li><a href="#59git_2160" rel="nofollow">59、git常用命令</a></li><li><a href="#60linux_2169" rel="nofollow">60、linux常用命令</a></li><li><a href="#61_2193" rel="nofollow">61、实现一个计数器</a></li><li><a href="#62funcA_2224" rel="nofollow">62、判断一个函数是普通函数还是构造函数（补全funcA(){}）</a></li><li><a href="#63_2240" rel="nofollow">63、写一个简单的计算器类，实现+-*÷，链式调用</a></li><li><a href="#64_2271" rel="nofollow">64、打印题</a></li><li><a href="#65chC_abcdbac_2282" rel="nofollow">65、让所有的c都变成h(包括大写的C) 'abcdbac'</a></li><li><a href="#66repeat3shelloword4_2289" rel="nofollow">66、手写一个repeat()函数，加上下面的代码运行，使每3s打印一个helloword，总共执行4次</a></li><li><a href="#67promiseasyncawait_2316" rel="nofollow">67、promise,async,await的应用场景和区别</a></li><li><a href="#69myNew_2378" rel="nofollow">69、补全myNew，让打印满足条件</a></li><li><a href="#70_2395" rel="nofollow">70、作用域（分为全局作用域，函数作用域，块级作用域）</a></li><li><a href="#71_2425" rel="nofollow">71、求连续子数组的最大和</a></li><li><a href="#72_2474" rel="nofollow">72、字符串相加/大数相加</a></li><li><a href="#73_2509" rel="nofollow">73、搜索二维矩阵</a></li><li><a href="#74_2564" rel="nofollow">74、进制转换</a></li><li><a href="#75_2598" rel="nofollow">75、大数相乘</a></li><li><a href="#76_2600" rel="nofollow">76、事件监听</a></li><li><a href="#77_2602" rel="nofollow">77、快排，哈希，插入排序</a></li><li><ul><li><a href="#_2604" rel="nofollow">插入排序</a></li></ul> 
  </li><li><a href="#78_2621" rel="nofollow">78、随机生成一个颜色</a></li><li><a href="#79kuaishougongchengKuaiShouGongCheng_2635" rel="nofollow">79、"kuai-shou-gong-cheng"转化为"KuaiShouGongCheng"（变驼峰命名）</a></li><li><a href="#80HashMap_2646" rel="nofollow">80、HashMap的数据结构</a></li><li><a href="#810_2648" rel="nofollow">81、手写：字符串补0</a></li><li><a href="#82_2650" rel="nofollow">82、值传递和引用值传递打印题</a></li><li><a href="#83_2665" rel="nofollow">83、只出现一次的数字</a></li><li><a href="#84_2691" rel="nofollow">84、多数元素</a></li><li><a href="#85_2721" rel="nofollow">85、合并两个有序数组</a></li><li><a href="#86_2780" rel="nofollow">86、外观数列</a></li><li><a href="#87_2817" rel="nofollow">87、二叉树中序遍历（栈）（左根右）</a></li><li><a href="#88Promise10_2857" rel="nofollow">88、手写Promise并发控制调度器。大概是：一次性可能发10个请求，但是请求池控制一次性只能处理三个，请求池内的请求一个处理完后推进下一个请求</a></li><li><a href="#89_2859" rel="nofollow">89、递归数组求和</a></li><li><a href="#91_2876" rel="nofollow">91、二维数组排列组合：</a></li><li><a href="#92abbccccaaa_a1b2c4a3_2907" rel="nofollow">92、输入abbccccaaa 输出a1b2c4a3</a></li><li><a href="#93_2931" rel="nofollow">93、反转链表</a></li><li><a href="#94_Interfacetype_2949" rel="nofollow">94、 Interface和type的区别</a></li><li><a href="#95never__void__2955" rel="nofollow">95、never 和 void 的区别</a></li><li><a href="#96_TypeScript__JavaScript__npm__2960" rel="nofollow">96、如何使 TypeScript 项目引入并识别编译为 JavaScript 的 npm 库包？</a></li><li><a href="#97_ExcludeOmitMergeIntersectionOverwrite_2962" rel="nofollow">97、简述工具类型 `Exclude`、`Omit`、`Merge`、`Intersection`、`Overwrite`的作用</a></li><li><a href="#98keyof__typeof__2992" rel="nofollow">98、keyof 和 typeof 关键字的作用</a></li><li><a href="#99__2997" rel="nofollow">99、 字符串翻转</a></li><li><a href="#100_3021" rel="nofollow">100、去除字符串中重复字符</a></li><li><a href="#101min_3031" rel="nofollow">101、实现一个栈，要求实现min函数以返回栈中的最小值</a></li><li><a href="#102_3084" rel="nofollow">102、使用两个栈实现一个队列</a></li><li><a href="#103n_3127" rel="nofollow">103、写一个函数来产生第n个斐波那契数</a></li><li><a href="#10416_3129" rel="nofollow">104、将数字转化为16进制</a></li><li><a href="#105_compose__3131" rel="nofollow">105、 compose 函数柯里化</a></li><li><a href="#106_3133" rel="nofollow">106、计算数组交集</a></li><li><a href="#107idname_3135" rel="nofollow">107、把id排序后对应的name拿出来</a></li><li><ul><li><ul><li><a href="#108__3164" rel="nofollow">108、 组合和高阶函数；</a></li><li><a href="#109_110NodeparentNodeNodefirstChildNodelastChild__NodechildNodesNodepreviousSibling__NodenextSibling_3166" rel="nofollow">109、 什么时候可以使用函数声明和表达式110、上下遍历——Node.parentNode、Node.firstChild、Node.lastChild 和 Node.childNodes；左右遍历——Node.previousSibling 和 Node.nextSibling；</a></li><li><a href="#111_DOM__3168" rel="nofollow">111、性能——当有很多节点时，修改 DOM 的成本会很高，应该知道如何使用文档片段和节点缓存。</a></li><li><a href="#113_3172" rel="nofollow">113、有这样一个场景，页面中有个列表，数据量非常大，如何保障页面不卡顿？（用虚拟列表）</a></li></ul> 
   </li><li><a href="#1_3174" rel="nofollow">（1）数据不分页</a></li><li><ul><li><a href="#2_3190" rel="nofollow">（2）数据分页的两种方法</a></li></ul> 
   </li><li><a href="#3_3200" rel="nofollow">（3）实现虚拟列表</a></li></ul> 
  </li><li><a href="#11410_3210" rel="nofollow">114、表格实现如何做性能优化，比如有10万数据</a></li><li><a href="#115domoffsetHeight_3214" rel="nofollow">115、有一个会频繁触发的函数，该函数依赖页面中某些dom的offsetHeight属性，如何保障页面不卡顿？</a></li><li><a href="#115DOM_3218" rel="nofollow">115、是否了解文档片段，在什么情况下使用？（DOM）</a></li><li><a href="#116DOM_3228" rel="nofollow">116、如何判断一个元素是否在可视区域内？（DOM）</a></li><li><a href="#117span_3248" rel="nofollow">117、获取页面中第一个span的字体颜色</a></li><li><a href="#118ES6__ES5__3252" rel="nofollow">118、ES6 代码转成 ES5 代码的实现思路是什么？</a></li><li><a href="#_3276" rel="nofollow"></a></li><li><a href="#119webpack_3278" rel="nofollow">119、webpack打包有什么优化手段可以让打包出的内容尽量小或打包速度加快</a></li><li><ul><li><a href="#1_3280" rel="nofollow">（1）减少打包时间：</a></li><li><a href="#2_3324" rel="nofollow">（2）减少打包大小：</a></li></ul> 
  </li><li><a href="#120fetch_3347" rel="nofollow">120、实现限制fetch并发数</a></li><li><a href="#124Loadashget_3458" rel="nofollow">124、手写Loadash中的get函数</a></li><li><a href="#125_3460" rel="nofollow">125、断点续传如何实现</a></li><li><a href="#126_3462" rel="nofollow">126、图片的上传接口如何写</a></li><li><a href="#127_3464" rel="nofollow">127、如何保证上传的图片在服务器上不重复</a></li><li><a href="#128_3466" rel="nofollow">128、上传的进度条如何得到</a></li><li><a href="#129UUID_3468" rel="nofollow">129、短链UUID算法</a></li><li><a href="#130N_3470" rel="nofollow">130、算法题，倒置N阶矩阵</a></li><li><a href="#131_3472" rel="nofollow">131、给定一个数组，没有重复数字，输出全部排列组合</a></li><li><a href="#132dombom_3474" rel="nofollow">132、什么是dom和bom?</a></li><li><a href="#133_3480" rel="nofollow">133、排序的时间，空间复杂度</a></li></ul> 
</div> 
<p></p> 
<hr> 
<h2><a id="this_5"></a>一、this指向问题</h2> 
<h2><a id="1this_7"></a>（1）this的理解</h2> 
<p>JS是一个文本作用域的语言，也就是，变量的作用域在写这个变量的时候确定。this设计的目的就是在函数体内部，指代函数当前的运行环境。This具体来说有四种：<br> （1）<strong>默认的this绑定</strong>，非严格模式下，this就是全局变量Node环境中的global,浏览器环境下的window。严格模式下，默认的指向是undefined（es6中的类会自动使用严格模式）<br> （2）<strong>隐式绑定</strong>：使用obj.foo()这样的语法调用函数的时候，函数foo中的this绑定到obj对象。<br> （3）<strong>显示绑定</strong>：调用call,apply,bind方法<br> （4）<strong>构造绑定</strong>：new Foo(),foo中的this引用这个新创建的对象。</p> 
<p>this指向最后调用它的对象，如果没有调用，则指向window对象（独自运行的函数也指向window;立即执行函数也指向window）；<br> 构造函数中this指向构造函数的实例;<br> 箭头函数始终指向函数定义时的this.<br> es6中类会默认使用严格模式，禁止this指向全局对象，指向undefined。</p> 
<h3><a id="2this_20"></a>（2）怎样改变this的指向问题</h3> 
<p>通过es6的<strong>箭头函数</strong>（指向函数定义时的this）<br> 通过<strong>call,bind,apply</strong>函数改变this指向。</p> 
<h3><a id="3Callbindapply_25"></a>（3）Call,bind,apply三者的区别</h3> 
<p>Call,bind,apply这三个函数的<strong>第一个参数都是this的指向对象</strong>，第二个参数不同，<strong>call和bind都是接收参数列表</strong>，<strong>apply接收</strong>的是一个包含多个参数的<strong>数组</strong>（也可以是类数组）。而且<strong>bind函数还会返回一个新的函数</strong>。</p> 
<h3><a id="4this_29"></a>（4）容易判读错的几种this情况</h3> 
<p>es6中类会默认使用严格模式，禁止this指向全局对象，所以会指向undefined</p> 
<pre><code class="prism language-javascript">	 <span class="token keyword">class</span> <span class="token class-name">C</span><span class="token punctuation">{<!-- --></span><span class="token comment">//类</span>
            <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token function-variable function">b</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">C</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        c<span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//this指向C</span>
        f <span class="token operator">=</span> c<span class="token punctuation">.</span>a<span class="token punctuation">;</span>
        <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//this指向undefined   es6中类会默认使用严格模式，禁止this指向全局对象，所以会指向undefined</span>
        c<span class="token punctuation">.</span><span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//this指向C</span>
</code></pre> 
<pre><code class="prism language-javascript"><span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">"windowsName"</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function-variable function">fn</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
 window<span class="token punctuation">.</span>a<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//undefined 指向a</span>
</code></pre> 
<pre><code class="prism language-javascript"><span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">"windowsName"</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'Cherry'</span><span class="token punctuation">,</span>
            <span class="token function-variable function">func1</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token function-variable function">func2</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token comment">//this指向a（object）</span>
                <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token comment">//this指向window，自己执行的所以指向window</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">func1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//报错，window里面没有func1函数</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        a<span class="token punctuation">.</span><span class="token function">func2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-javascript"><span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">'123'</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'456'</span><span class="token punctuation">,</span>
            <span class="token function-variable function">getName</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token keyword">function</span> <span class="token function">printName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
                <span class="token function">printName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        obj<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//输出123</span>
</code></pre> 
<p>怎样把结果变为456？</p> 
<pre><code class="prism language-javascript">		<span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">'123'</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'456'</span><span class="token punctuation">,</span>
            <span class="token function-variable function">getName</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token keyword">function</span> <span class="token function">printName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
                <span class="token function">printName</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token comment">//使用call修改this指向</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        obj<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//456</span>
</code></pre> 
<h3><a id="5thisab_108"></a>（5）this指向问题，说输出；这两中a,b写法，在内存消耗上有什么区别</h3> 
<p>a消耗小，a是直接定义在原型链上的；b相当于在每一个实例上赋值。</p> 
<pre><code class="prism language-javascript">	 <span class="token keyword">class</span> <span class="token class-name">C</span><span class="token punctuation">{<!-- --></span>
            <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token function-variable function">b</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">C</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        c<span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//c</span>
        f <span class="token operator">=</span> c<span class="token punctuation">.</span>a<span class="token punctuation">;</span>
        <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//undefined//es6中类禁止指向全局对象，指向undefined</span>
        c<span class="token punctuation">.</span><span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//c</span>
</code></pre> 
<h2><a id="throttledebounce_128"></a>二、手写节流（throttle）和防抖（debounce）</h2> 
<p>用户点击过快会导致卡顿，可以使用节流/防抖限制函数的执行次数，达到优化的目的。</p> 
<h3><a id="throttle_132"></a>节流（throttle）：</h3> 
<p>高频事件触发，但在n秒内只执行一次。（购物中的秒杀）</p> 
<h3><a id="debounce_136"></a>防抖（debounce）：</h3> 
<p>事件被触发n秒后执行回调，如果在n秒内事件又被触发，就重新计时。<br> <img src="https://images2.imgbox.com/1e/f7/dfSx6sj2_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-javascript"><span class="token keyword">function</span> <span class="token function">throttle</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span>delay</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//手写节流函数</span>
            <span class="token keyword">var</span> preTime <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//初始时间</span>
            <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token keyword">var</span> context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">,</span>
                args <span class="token operator">=</span> arguments<span class="token punctuation">,</span>
                nowTime <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//触发事件的时间</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>nowTime <span class="token operator">-</span> preTime <span class="token operator">&gt;=</span> delay<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//如果两次时间间隔超过了指定时间，则执行函数</span>
                    preTime <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//把初始时间更新为最新的时间</span>
                    <span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
</code></pre> 
<pre><code class="prism language-javascript"> <span class="token keyword">function</span> <span class="token function">debounce</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span>wait</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//手写防抖函数</span>
            <span class="token keyword">var</span> timer <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span class="token comment">//创建一个标记来存放定时器的返回值</span>
            <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token keyword">var</span> context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
                args <span class="token operator">=</span> arguments<span class="token punctuation">;</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                    <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//如果定时器存在，清除定时器重新计时</span>
                    timer <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span><span class="token comment">//设置定时器，使事件间隔指定时间后执行</span>
                    <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//确保上下文环境为当前的this，所以不能直接用fn（直接用fn会指向window）；因为不确定入参的数量，所以还可以传入扩展后的arguments</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>wait<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_174"></a>改进：实现第一次点击和最后一次点击生效</h3> 
<h2><a id="js_176"></a>三、js事件循环机制（宏任务，微任务，同步任务，异步任务）</h2> 
<h3><a id="1_JS_178"></a>（1） JS事件循环机制概念</h3> 
<p>js是一个单线程的脚本语言。当<strong>执行栈</strong>（执行环境的栈）中所有任务都执行完毕后，去看微任务队列中是否有事件存在，如果存在，则依次执行微任务队列中事件的回调，直到微任务队列为空。然后去宏任务队列中取出一个事件，把对应的回调加入当前执行栈，当执行栈中所有任务都执行完毕后，再去检查微任务队列中是否有事件存在。这个循环的过程就是事件循环。（浏览器的主线程是一个事件循环，）<br> <strong>微任务</strong>：promise.then;process.nextTick(Node的) ；promise.catch;promise.finally<br> <strong>宏任务</strong>：setTimeout,setInterval,setImmediate,I/O,Ui交互事件（鼠标点击，滚动页面，放大缩小等）,script(整体代码)</p> 
<p><strong>打印顺序的题</strong>：同步任务-&gt;微任务-&gt;宏任务<br> New promise中的直接执行，是同步任务<br> <strong>process.nextTick比promise.then（都是微任务），但process.nextTick先执行</strong><br> Async函数内，await和await之前的都是同步任务；await执行之后放入微任务队列中。</p> 
<pre><code class="prism language-javascript">栗子：
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'quick timer'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'init promise'</span><span class="token punctuation">)</span>
    process<span class="token punctuation">.</span><span class="token function">nextTick</span><span class="token punctuation">(</span>resolve<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'promise.then'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
process<span class="token punctuation">.</span><span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'nextTinck'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">setImmediate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'immediate'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">//init promise-&gt; nextTinck-&gt;promise.then-&gt;quick timer-&gt;immediate</span>
</code></pre> 
<h3><a id="2js_209"></a>（2）为什么js是单线程</h3> 
<p>JS是单线程的原因主要和JS的用途有关，JS主要实现浏览器与用户的交互，以及操作DOM。<br> 如果JS被设计为多线程，如果一个线程要修改一个DOM元素，另一个线程要删除这个DOM元素，这时浏览器就不知道该怎么办，为了避免复杂的情况产生，所以JS是单线程的。</p> 
<p>为了利用多核CPU的计算能力，HTML5提出<strong>Web Worker</strong>标准，允许JavaScript脚本创建多个线程，但是子线程完全受主线程控制，且不得操作DOM。所以，这个新标准并没有改变JavaScript单线程的本质。</p> 
<h3><a id="3_216"></a>（3）线程和进程是什么？举例说明</h3> 
<p><strong>进程</strong>：cpu分配资源的最小单位（是能拥有资源和独立运行的最小单位）<br> <strong>线程</strong>：是cpu最小的调度单位（线程是建立在进程的基础上的一次程序运行单位，一个进程中可以有多个线程）<br> <strong>栗子</strong>：比如进程=火车，线程就是车厢</p> 
<ul><li>一个进程内有多个线程，执行过程是多条线程共同完成的，线程是进程的部分。<br> <strong>一个火车可以有多个车厢</strong></li><li>每个进程都有独立的代码和数据空间，程序之间切换会产生较大的开销；线程可以看作轻量级的进程，同一类线程共享代码和数据空间，每个线程都有自己独立的运行栈和程序计数器，线程之间切换的开销小。<br> <strong>【多列火车比多个车厢更耗资源】<br> 【一辆火车上的乘客很难换到另外一辆火车，比如站点换乘，但是同一辆火车上乘客很容易从A车厢换到B车厢】</strong></li><li>同一进程的线程共享本进程的地址空间和资源，而进程之间的地址空间和资源是相互独立的<br> <strong>【一辆火车上不同车厢的人可以共用各节车厢的洗手间，但是不是火车上的乘客无法使用别的火车上的洗手间】</strong></li></ul> 
<h3><a id="4js_231"></a>（4）js引擎的执行栈</h3> 
<p><strong>执行栈</strong>也叫执行上下文栈，用于存储代码执行期间创建的所有上下文，具有先进后出的特点。 也就是当代码第一次执行的时候，会把浏览器创建的全局执行上下文压入栈中；当以后调用函数时，会把调用函数所创建的函数执行上下文压入栈中。当函数执行完，就会将其从栈中弹出。当所有的代码都执行完毕之后，就把全局执行上下文弹出，执行上下文栈就为空了。（执行上下文分为三种，<strong>全局执行上下文</strong>，它是由浏览器创建的，也就是常说的window对象；<strong>函数执行上下文</strong>，它是函数被调用时被创建的，同一个函数被多次调用，会产生多个执行上下文；<strong>eval函数执行上下文</strong>）</p> 
<h3><a id="5setTimeoutPromiseAsyncAwait__235"></a>（5）setTimeout、Promise、Async/Await 的区别</h3> 
<p>(1)<strong>SetTimeOut</strong>的回调函数放到宏任务队列中，等到执行栈清空以后执行。<br> (2)<strong>promise</strong>本身是同步的立即执行函数。当执行resolve或reject的时候，此时是异步操作。Promise.then里的回调函数会放到相应宏任务的微任务队列里，等宏任务里面的同步代码执行完再执行。<br> (3)<strong>Async</strong>函数返回一个promise对象，当函数执行的时候，一旦遇到await就会先返回。等到触发的异步操作完成，再执行函数体内后面的语句。可以理解为，是让出了线程，跳出了ASYNC函数体。</p> 
<h3><a id="6_Web_Worker__241"></a>（6） Web Worker 标准</h3> 
<p>HTML5则提出了 Web Worker 标准，<strong>表示js允许多线程</strong>，<strong>但是子线程完全受主线程控制并且不能操作dom，只有主线程可以操作dom，所以js本质上依然是单线程语言。</strong><br> JS引擎是单线程单，JS如果执行时间过长，就会阻塞页面。<br> HTML5中支持了web worker。创建worker时，JS引擎向浏览器申请开一个子线程。子线程是浏览器开的，完全受主线程控制，而且不能操作DOM。JS引擎线程与worker线程之间通过特定单方式通信（postMessage API,需要通过序列化对象与线程交互特定的数据）。<br> 如果有非常耗时的工作，可以单独开一个Worker线程。</p> 
<h3><a id="7_248"></a>（7）浏览器是多进程的</h3> 
<p>浏览器之所以能够运行，是因为系统给它分配了资源（cpu,内存）<br> 也就是说每打开一个tab页面，就相当于创建了一个独立的浏览器进程（但是不是绝对的，有时候打开多个tab页面，会发现有的进程被合并了）。</p> 
<h4><a id="_253"></a>浏览器包含的进程</h4> 
<p><img src="https://images2.imgbox.com/8b/0a/vmOck3DL_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_257"></a>浏览器多进程的优势</h4> 
<p>避免某个页面崩溃或者插件崩溃影响整个浏览器<br> 多进程充分利用多核优势<br> 方便使用沙盒模型隔离插件等进程，提高浏览器等稳定性</p> 
<h4><a id="_263"></a>进程间的通信（进程通信）</h4> 
<p><strong>管道通信</strong>：操作系统在内核中开辟了一段缓存区，进程1可以将需要交互的数据拷贝到这个缓存区里，进程2读取。<br> <strong>消息队列通信</strong>：消息队列是用户可以添加和读取消息的列表，消息队列里提供了一种从一个进程向另一个进程发送数据块的方法，不过和管道通信一样每个数据块有最大长度限制。<br> 共享内存通信：映射一段能被其他进程访问的内存，由一个进程创建，但多个进程都可以访问。共享进程最快的是<strong>信号量通信</strong>：比如信号量初始值是1，进程1来访问一块内存的时候，就把信号量设为0，然后进程2也来访问的时候看到信号量为0，就知道有其他进程在访问了，就不访问了<br> <strong>socket</strong>：其他的都是同一台主机之间的进程通信，而在不同主机的进程通信就要用到socket的通信方式了，比如发起http请求，服务器返回数据。</p> 
<h3><a id="_270"></a>什么是进程的死锁</h3> 
<h3><a id="_272"></a>介绍一下银行家算法</h3> 
<h3><a id="linux_274"></a>linux中硬链和软链的区别</h3> 
<h3><a id="linux_276"></a>介绍一下linux文件绝对路径和相对路径</h3> 
<h3><a id="_284"></a>四、跨域</h3> 
<h3><a id="1_288"></a>（1）为什么会出现跨域问题？</h3> 
<p>因为浏览器的同源策略的限制。</p> 
<h3><a id="2_292"></a>（2）同源策略</h3> 
<p>同源策略是一种约定，它是浏览器最核心也最基本的安全功能，如果缺少了同源策略，浏览器正常的功能都有可能受影响。可以说web是构建在同源策略基础之上的。浏览器只是针对同源策略的一种实现。<strong>同源策略会阻止一个域的JS脚本和另一个域的内容进行交互。所谓同源就是指两个页面具有相同的协议，域名，端口号。</strong></p> 
<h3><a id="3_296"></a>（3）为什么需要同源策略（跨域限制）</h3> 
<p>（1）如果没有<strong>XMLHttpRequest同源策略</strong>，那么黑客可以进行<strong>CSRF攻击</strong>（登录正常网站之后，本地产生了cookie,正常网站没有登出的情况下访问了危险网站，危险网站伪装成用户向安全网站发送请求，cookie会自动附加到请求头，这样就会被安全网站认为是用户的操作。也就是说攻击者盗用了你的身份，以你的身份发送恶意请求。-----&gt;处理方法：验证码；对来源进行验证；使用token）。<br> （2）如果没有<strong>DOM同源策略</strong>，那么不同域的iframe之间可以相互访问。</p> 
<h3><a id="4_301"></a>（4）什么是跨域</h3> 
<p>当2个URL中的协议，域名，端口号中任意一个不相同时，就算作不同域。不同域之间相互请求资源，就是跨域。<br> <strong>跨域的请求能发出去，服务端能收到请求并返回结果，只是结果被浏览器给拦截了。</strong></p> 
<h3><a id="5_306"></a>（5）怎么允许跨域（跨域解决办法）</h3> 
<h4><a id="AJSONP_308"></a>A、JSONP</h4> 
<p>在页面上，js脚本，css样式文件，图片这三种资源是可以与页面本身不同源的。<strong>jsonp就利用了script标签进行跨域取得数据。</strong><br> JSONP允许用户传递一个callback参数给服务器端，然后服务器端返回数据时会将这个callback参数作为函数名来包裹住JSON数据。这样客户端就可以随意定制自己的函数来自动处理返回的数据了。<br> <strong>JSONP只能解决get请求，不能解决post请求。</strong></p> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
        <span class="token keyword">function</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">"http://localhost:80/?callback=callback"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> 
<p>使用ajax实现跨域：</p> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">"http://code.jquery.com/jquery-latest.js"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span> 

  $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">url</span><span class="token operator">:</span><span class="token string">'http://localhost:80/?callback=callback'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">method</span><span class="token operator">:</span><span class="token string">'get'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">dataType</span><span class="token operator">:</span><span class="token string">'jsonp'</span><span class="token punctuation">,</span> <span class="token comment">//=&gt; 执行jsonp请求</span>
            <span class="token function-variable function">success</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    
        <span class="token keyword">function</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
</code></pre> 
<h4><a id="B_CORS_342"></a>B、 CORS跨域资源共享：</h4> 
<p>浏览器会自动进行CORS通信，实现CORS通信的关键是后端。服务端设置<strong>Access-Control-Allow-Origin</strong>就可以开启CORS。该属性表示哪些域名跨域访问资源。<br> 主要设置以下几个属性：<br> Access-Control-Allow-Origin//允许跨域的域名<br> Access-Control-Allow-Headers//允许的header类型<br> Access-Control-Allow-Methods//跨域允许的请求方式</p> 
<p>浏览器将CORS请求分成两类：<strong>简单请求</strong>（simple request）和<strong>非简单请求</strong>（not-so-simple request）。</p> 
<h5><a id="_352"></a>简单请求</h5> 
<p>只要同时满足以下两大条件，就属于简单请求。<br> <img src="https://images2.imgbox.com/9d/c1/QBpjQQK4_o.png" alt="在这里插入图片描述"><br> 对于简单请求，浏览器直接发出CORS请求。具体来说，就是在头信息之中，增加一个<strong>Origin字段。</strong></p> 
<h5><a id="_358"></a>非简单请求（预检请求）</h5> 
<p>非简单请求是那种对服务器有特殊要求的请求，比如请求方法是PUT或DELETE，或者Content-Type字段的类型是application/json。<br> 非简单请求的CORS请求，会在正式通信之前，增加一次HTTP查询请求，称为<strong>预检请求</strong>（preflight），该请求由<strong>option</strong>方法得到，<strong>通过该请求来指导服务端是否允许跨域请求。</strong><br> <img src="https://images2.imgbox.com/6c/ec/xWPxOjCn_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="CNginx_364"></a>C、Nginx反向代理</h4> 
<p>通过nginx配置一个代理服务器将客户机请求转发给内部网络上的目标服务器；并将服务器上返回的结果返回给客户端。</p> 
<h4><a id="Dwebpack_vueconfigjs_webpackdevserver_368"></a>D、webpack （在vue.config.js文件中）中 配置webpack-dev-server</h4> 
<pre><code class="prism language-javascript"><span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">proxy</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token string-property property">'/api'</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">"http://39.98.123.211"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">changeOrigin</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token comment">//是否跨域</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<h2><a id="es6_382"></a>五、es6的新特性</h2> 
<p>增加了<strong>块级作用域</strong>，关键字let,常量const<br> <strong>解构赋值</strong><br> <strong>模块</strong>（将JS代码分割成不同功能的小块进行模块化）<br> <strong>模板字符串</strong>（使用反引号创建字符串，字符串里面可以包含用${}包裹的变量）<br> <strong>箭头函数</strong>；扩展运算符（…[1,2,3]-&gt;1,2,3）<br> <strong>Class类</strong><br> <strong>Promise异步对象</strong><br> <strong>For…of循环</strong><br> <strong>Map，set，weakmap，weakset</strong><br> 新增的<strong>数组方法</strong>：Array.from()将set类变为数组；Array.find()找出第一个符合条件的数组成员<br> <strong>字符串方法</strong>：string.includes(value)-&gt;是否包含某个值，是返回true<br> <strong>symbol</strong>数据类型,表示独一无二的值。<br> <strong>Proxy代理</strong></p> 
<h3><a id="common_jses6_398"></a>common js和es6模块的区别</h3> 
<p>commonjs模块输出的是一个值的拷贝，es6模块输出的是值的引用。<br> commonjs模块是运行时加载，es6模块是编译时输出接口。<br> commonjs是单个值导出，es6模块可以导出多个。<br> commonjs是动态语法可以写在判断里，es6模块静态语法只能写在顶层。<br> commonjs的this是当前模块，es6模块的this是undefined</p> 
<h2><a id="Symboles6_409"></a>六、Symbol（es6新增）</h2> 
<p>symbol不能使用new,因为<strong>symbol是原始数据类型</strong>，不是对象。<br> 每一个symbol的值都是不相等的，是唯一的。<strong>主要是为了防止属性名冲突。</strong><br> symbol不能和其他的数据类型比较，比较的话会报错<br> 如果symbol和symbol比较，值为false。<br> for…in和object.keys()均不能访问到symbolz作为key的值。可以通过object.getOwnPropertySymbols获取。</p> 
<h3><a id="Symbol_417"></a>Symbol的应用场景</h3> 
<p><strong>（1）防止属性污染</strong><br> 在某些情况下，我们可能要为对象添加一个属性，此时就有可能造成属性覆盖，用Symbol作为对象属性可以保证永远不会出现同名属性。<br> <strong>（2）<strong>借助Symbol类型的不可枚举，我们可以在类中</strong>模拟私有属性</strong>，控制变量读写<br> <strong>（3）<strong>可以</strong>防止XSS攻击</strong>，JSON中不能存储Symbol类型的变量，这就是防止XSS的一种手段。</p> 
<h2><a id="let_var_const_424"></a>七、let var const的区别</h2> 
<p>（1）var定义的变量，没有块的概念，可以跨块访问（块{}），不能跨函数访问<br> Let定义的变量，只能在块作用域里访问，不能跨块访问，也不能跨函数访问<br> Const用来定义常量，使用时必须初始化（必须赋值），只能在块作用域里面访问，且不能修改。<br> （2）var可以先使用后声明，因为var有变量提升；let必须先声明后使用<br> （3）Var允许相同作用域内重复定义，let和const不允许重复定义<br> （4）Var声明的全局变量会自动成为window属性，但是let和const不会<br> （5）TDZ（临时性死区）：凡是在使用let，const声明的变量之前，这些变量都是不可使用的。CONST</p> 
<pre><code class="prism language-javascript">  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// TDZ开始</span>
            tmp <span class="token operator">=</span> <span class="token string">'abc'</span><span class="token punctuation">;</span> <span class="token comment">// ReferenceError</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ReferenceError</span>
            <span class="token comment">//在没有声明变量之前tmp都是错误的</span>
            <span class="token keyword">let</span> tmp<span class="token punctuation">;</span> <span class="token comment">// TDZ结束</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
            tmp <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 123</span>
        <span class="token punctuation">}</span>
</code></pre> 
<h3><a id="const_447"></a>const是怎么实现的只能赋值一次</h3> 
<h2><a id="setweaksetmapweakmap_449"></a>八、介绍下set,weakset,map,weakmap的区别</h2> 
<h4><a id="Set_451"></a>Set:</h4> 
<p>类似于数组，但是set的值是唯一的；向set加入值的时候不会发生类型转换（set内部判断两个值是否相等，类似于精确相等运算符（===），所以5和’5’是两个不同的值）</p> 
<h4><a id="Weakset_455"></a>Weakset:</h4> 
<p>和set类似，也是不重复的值的集合。它和set有三个个区别：<br> Weakset的成员只能是对象；<br> weakset不能遍历；<br> weakset中的对象都是弱引用，也就是说如果其他对象都不再引用该对象，那么垃圾回收机制会自动回收该对象占的内存。（没有size属性和foreach）</p> 
<h4><a id="Map_462"></a>Map:</h4> 
<p>类似于对象，是键值对的集合（键不局限于字符串，各种类型都可以当做键）。</p> 
<h4><a id="Weakmap_466"></a>Weakmap:</h4> 
<p>与Map结构类似，是键值对的集合。它和map区别有两点：<br> weakmap只接受对象作为键名<br> 键名是弱引用，一旦不需要，weakmap里面的键值对会自动消失，不需要手动删除。</p> 
<h2><a id="_472"></a>九、原型和原型链</h2> 
<h3><a id="1_474"></a>（1）构造函数</h3> 
<p>构造函数是一种特殊的函数，主要用来初始化对象（也就是为对象成员变量赋值），它总与new一起使用。我们可以把对象中一些公共属性和方法抽取出来，然后封装到这个函数里面。</p> 
<h3><a id="2prototype_478"></a>（2）为什么引入原型对象prototype</h3> 
<p>构造函数方法很好用，但是存在浪费内存的问题。<br> 构造函数中不变的方法在每次new一个实例的时候，都会在堆里面开辟一个空间。我们想让这个不变的方法只占一个空间，所以就有了构造函数原型。<br> JS规定每一个构造函数都有一个原型对象。我们可以把那些不变的方法，直接定义在prototype对象上，这样所有对象的实例就可以共享这些方法。</p> 
<h3><a id="3__484"></a>（3） 原型对象</h3> 
<p>原型是什么：原型是一个对象，我们也称prototype为原型对象。<br> 原型的作用是什么：共享方法</p> 
<h3><a id="4_489"></a>（4）构造函数，实例对象，原型对象三者之间的关系</h3> 
<p>每个构造函数都有一个原型对象，可以通过构造函数的prototype属性指向这个原型对象。<br> 原型对象里面也有一个constructor属性，这个属性又指回了构造函数本身。<br> 可以通过new和构造函数创建一个实例对象，这个实例对象里面有一个__proto__属性，这个属性指向构造函数的原型对象。<br> <img src="https://images2.imgbox.com/13/36/Y7aOrZpc_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="5_496"></a>（5）原型链</h3> 
<p>当访问一个对象的某个属性时，会先从对象本身的属性去查找，如果没有找到的话，就会通过__proto__属性去构造函数的prototype上去查找；如果还没有找到，就去构造函数的prototype上的__proto__去查找，这样一层一层向上找所形成的链式结构，就是原型链。<br> （原型链的顶端是object的原型对象，也就是object.prototype.__proto__指向null）</p> 
<p><strong>原型链的应用</strong>：原型链是实现继承的主要方法</p> 
<h3><a id="6_503"></a>（6）原型链打印题踩坑</h3> 
<ol><li></ol> 
<pre><code class="prism language-javascript">	  <span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">a</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">b</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">function</span> <span class="token constant">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      a<span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//报错 除非把function改成A，才输出1</span>
      a<span class="token punctuation">.</span><span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//2    a的原型链上只有Object</span>
     
</code></pre> 
<ol start="2"><li></ol> 
<p>原因：new返回了一个新对象{a:4,b:5}，这个新的对象原型(<strong>proto</strong>）不是Foo,所以访问不到Foo原型对象里面的值。（o insatnceof Foo为false）</p> 
<pre><code class="prism language-javascript"> 	<span class="token keyword">function</span> <span class="token function">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">a</span><span class="token operator">:</span><span class="token number">4</span><span class="token punctuation">,</span>
          <span class="token literal-property property">b</span><span class="token operator">:</span><span class="token number">5</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token class-name">Foo</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>
      <span class="token class-name">Foo</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>b <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span>
      <span class="token class-name">Foo</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>c <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">//console.log(o)//{a:4,b:5}</span>
      <span class="token comment">//console.log(o instanceof Foo)//false</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//4</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//5</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//undefined</span>
</code></pre> 
<h2><a id="10JSES5ES6_539"></a>10、了解JS的继承吗？ES5继承与ES6继承的区别</h2> 
<h3><a id="1_541"></a>（1）继承：</h3> 
<p>子类可以继承父类的一些属性和方法</p> 
<h3><a id="2Es5es6_545"></a>（2）Es5和es6继承的区别：</h3> 
<ul><li>Es5的继承实质是先创建子类的实例对象，然后再将父类的方法添加到this上（Father.call(this)）。<br> Es6的继承实质是先创建父类的实例对象this,然后再用子类的构造函数修改this。</li><li>Es5的继承通过<strong>构造函数和原型</strong>来实现<br> Es6通过<strong>class关键字</strong>定义类，类里面有构造方法，类之间通过关键字extends实现继承。子类必须在constructor方法中调用super方法，否则新建实例报错。因为子类没有自己的this对象，而是继承类父类的this对象，然后对其加工。如果不调用super方法，子类将得不到this对象。</li></ul> 
<h3><a id="3js_552"></a>（3）js继承的六种方法：</h3> 
<p>原型链继承，借用构造函数继承，组合继承（原型加构造函数），原型式继承，寄生式继承，寄生组合式继承</p> 
<h2><a id="11jses6_556"></a>11、js如何定义一个类并实现继承；要求不能使用es6的语法（手写一个寄生组合式继承）</h2> 
<h3><a id="_558"></a>组合继承（构造函数和原型链实现继承）</h3> 
<pre><code class="prism language-javascript"><span class="token keyword">function</span> <span class="token function">Father</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>age</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">Father</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">work</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//父亲的方法</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'父亲工作'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">function</span> <span class="token function">Son</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>age</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token function">Father</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token comment">//继承父类的属性（在father中把this指向子构造函数的实例）</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">Son</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">study</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'孩子上学'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">Son</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Father</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//继承父类的方法（直接赋值，修改了儿子原型对象的constructor）</span>
    <span class="token class-name">Son</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Son<span class="token punctuation">;</span><span class="token comment">//把儿子的constructor修改回去</span>
    <span class="token keyword">var</span> son <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Son</span><span class="token punctuation">(</span><span class="token string">'小明'</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>son<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>son<span class="token punctuation">.</span><span class="token class-name">__proto__</span><span class="token punctuation">.</span>constructor<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>son <span class="token keyword">instanceof</span> <span class="token class-name">Father</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/aa/c3/IemjZygZ_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_585"></a>寄生组合式继承</h3> 
<pre><code class="prism language-javascript">		<span class="token keyword">function</span> <span class="token function">Father</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>age</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
        <span class="token punctuation">}</span>
        <span class="token class-name">Father</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">work</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'父亲工作'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">function</span> <span class="token function">Son</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>age</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token function">Father</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//继承父类的属性</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">Son</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">study</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'孩子上学'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">Son</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">Father</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//继承父类的方法：先创建了一个临时的构造函数，然后将父亲的原型对象作为这个构造函数的原型，最后返回临时类型的新实例</span>
        <span class="token comment">//然后让儿子的原型对象指向临时类型的新实例（这样就可以实现继承了）</span>
        <span class="token class-name">Son</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Son<span class="token punctuation">;</span>
        <span class="token keyword">var</span> son <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Son</span><span class="token punctuation">(</span><span class="token string">'aaa'</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Son</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>son<span class="token punctuation">.</span><span class="token class-name">__proto__</span><span class="token punctuation">.</span>constructor<span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-javascript">object<span class="token punctuation">.</span>create相当于下面的create函数（不用写）
        <span class="token keyword">function</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">function</span> <span class="token constant">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token comment">//先创建了一个临时的构造函数</span>
            <span class="token class-name">F</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> obj<span class="token punctuation">;</span><span class="token comment">//然后将传入的对象作为这个构造函数的原型</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//返回了临时类型的新实例</span>
        <span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/b7/d5/Sgc5jr7e_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="Es6_621"></a>Es6实现继承</h3> 
<pre><code class="prism language-javascript"><span class="token keyword">class</span> <span class="token class-name">Father</span><span class="token punctuation">{<!-- --></span>
           <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span>y</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>
           <span class="token punctuation">}</span>
           <span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
               console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
               console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">)</span>
           <span class="token punctuation">}</span>
           <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
               <span class="token keyword">return</span> <span class="token string">'我是爸爸'</span>
           <span class="token punctuation">}</span>
       <span class="token punctuation">}</span>
       <span class="token keyword">class</span> <span class="token class-name">Son</span> <span class="token keyword">extends</span> <span class="token class-name">Father</span><span class="token punctuation">{<!-- --></span>
        <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span>y</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">super</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//调用了父类中的构造函数,必须在子类this之前调用</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'的儿子'</span><span class="token punctuation">)</span><span class="token comment">//super调用父类的普通函数</span>
        <span class="token punctuation">}</span>
       <span class="token punctuation">}</span>
       <span class="token keyword">var</span> son <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Son</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>
       son<span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h2><a id="12Promise_652"></a>12、讲一讲Promise；语法</h2> 
<p><strong>promise主要用于异步状态，可以将异步状态操作队列化，按照希望的顺序执行，用来替换es5的异步回调，解决回调地狱。</strong><br> <strong>promise有三种状态</strong>，pending进行中，fulfilled成功，rejected失败。异步操作的结果可以决定是哪种状态。对象状态改变只有两种可能：从pending变成fulfilled和从pending变成rejected；状态改变之后不会再变，称为已定型resolved。</p> 
<h3><a id="Promise_657"></a>Promise的缺点：</h3> 
<p>无法取消promise,一旦新建它就会立即执行，无法中途取消。<br> 如果不设置回调函数，promise内部抛出的错误，不会反映到外部<br> 当处于pending状态时，无法得知目前进展到哪一个阶段（刚刚开始还是即将完成）</p> 
<h3><a id="Promise_663"></a>Promise用法</h3> 
<p>Promise的构造函数接收一个函数作为参数，这个函数得传入两个参数：异步操作执行成功后的回调函数resolve和异步操作失败后的回调函数reject。</p> 
<h3><a id="Promisethen_667"></a>Promise.then</h3> 
<p>Promise.then方法也可以接收两个参数，第一个对应resolve的回调，第二个对应reject的回调。第二个参数是可选的，不一定要提供。</p> 
<h3><a id="Promisecatch_671"></a>Promise.catch</h3> 
<p>Promise.catch方法和.then方法的第二个参数一样，用来指定reject的回调。不过它还有另外一个作用，在执行resolve回调（也就是.then的第一个参数时），如果代码出错，并不会报错卡死js，而是进入到catch这个方法中。</p> 
<h3><a id="Promiseall_675"></a>Promise.all</h3> 
<p>Promise.all方法接收一个数组参数（可迭代对象，例如数组,map,set），返回一个promise对象。提供了并行执行异步操作的能力，并且在所有异步操作执行完成后才执行回调。也就是将多个promise实例包装成一个新的promise实例。如果有一个promise失败，都失败；如果都成功，结果才返回成功。（项目中写删除选中的全部商品时用到了promise.all。因为之前写好了删除某一个产品的方法，所以把选中的商品遍历，用promise.all封装起来）</p> 
<h3><a id="Promiseany_679"></a>Promise.any</h3> 
<p>Promise.any方法接收一组promise实例作为参数，只要有一个promise成功，就返回已经成功的那个promise,如果没有一个promise成功，就返回一个失败的promise和AggregateError类型（它把单一的错误集合在一起）的实例。</p> 
<h3><a id="Promise_finally_683"></a>Promise .finally</h3> 
<p>Promise .finally方法接收一个回调函数作为参数，返回一个promise。在promise结束时，无论结果是fulfilled或者是rejected，都会执行这个回调函数。避免了同样的语句.then和.catch中各写一次的情况。</p> 
<h3><a id="Promise_race_687"></a>Promise .race</h3> 
<p>Promise .race方法接收一个可迭代对象作为参数，迭代器中哪个promise获得的快，就返回那个结果，不管结果本身是成功状态还是失败状态。</p> 
<h3><a id="PromiseallSettled_691"></a>Promise.allSettled</h3> 
<p>Promise.allSettled方法返回一个在所有给定的promise都已经fulfilled或rejected后的promise，并带有一个对象数组，每个对象表示对应的promise结果。</p> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> promise1 <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> promise2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token function">setTimeout</span><span class="token punctuation">(</span>reject<span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> promise3 <span class="token operator">=</span> <span class="token punctuation">[</span>promise1<span class="token punctuation">,</span>promise2<span class="token punctuation">]</span><span class="token punctuation">;</span>
Promise<span class="token punctuation">.</span><span class="token function">allSettled</span><span class="token punctuation">(</span>promise3<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">results</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>results<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
结果是：
<span class="token punctuation">{<!-- --></span> <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token string">'fulfilled'</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span>
<span class="token punctuation">{<!-- --></span> <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token string">'rejected'</span><span class="token punctuation">,</span> <span class="token literal-property property">reason</span><span class="token operator">:</span> <span class="token string">'foo'</span> <span class="token punctuation">}</span>
</code></pre> 
<h2><a id="13promise_705"></a>13、如何中止promise链式调用</h2> 
<p>（1）抛出一个异常，然后用catch接收<br> （2）返回一个pending状态的promise对象也可以结束回调，但是这样finally和catch都不会执行。<br> （3）返回一个rejected状态的promise</p> 
<h2><a id="14promise_711"></a>14、promise发生错误，怎么捕捉</h2> 
<ul><li>在then中指定异常处理函数，在then中添加两个函数，第二个函数用来处理失败的情况。</li><li>用.catch实现全部捕获。</li><li>在浏览器端，用window对象监听异常，监听方式是onunhandledrejection和onrejectionhandled,然后在回调函数中都会创建一个参数，该参数是个对象，包含了type,reason（错误原因）,promise。</li></ul> 
<h2><a id="15promisepromiseallpromiseanypromisefinallyPromiseracePromiseallSettled_717"></a>15、手写promise;手写promise.all；手写promise.any;手写promise.finally；手写Promise.race；手写Promise.allSettled</h2> 
<h3><a id="Promise_719"></a>手写Promise</h3> 
<pre><code class="prism language-javascript"><span class="token keyword">class</span> <span class="token class-name">WPromise</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">static</span> pending <span class="token operator">=</span> <span class="token string">'pending'</span><span class="token punctuation">;</span><span class="token comment">//static静态方法/静态属性;表示该方法不会被实例继承；而是通过类来直接调用</span>
            <span class="token keyword">static</span> fulfilled <span class="token operator">=</span> <span class="token string">'fulfilled'</span><span class="token punctuation">;</span>
            <span class="token keyword">static</span> rejected <span class="token operator">=</span> <span class="token string">'rejected'</span><span class="token punctuation">;</span>
            <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">executor</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">=</span> WPromise<span class="token punctuation">.</span>pending<span class="token punctuation">;</span><span class="token comment">//初始化状态为pending</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span><span class="token comment">//存储操作成功（this._resolve）返回的值</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>reason <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span><span class="token comment">//存储操作失败（this._reject）返回的值</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>callbacks <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//存储then中传入的参数，同一个promise的then方法可以调用多次，所以用数组存</span>
                <span class="token function">executor</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_resolve</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_reject</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//_方法名：表示这是只限于内部使用的私有方法</span>
            <span class="token punctuation">}</span>
            <span class="token comment">//onFulfilled是成功时执行的函数；onRejected是失败时执行的函数</span>
            <span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">onFulfilled<span class="token punctuation">,</span> onRejected</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">//返回一个新的promise</span>
                <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">WPromise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">nextResolve<span class="token punctuation">,</span> nextReject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//把下一个promsie的resolve函数和reject函数也存在callback中，是为了将</span>
                    <span class="token comment">//onFulfilled的执行结果通过nextResolve传入到下一个promise作为它的value值。</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_handler</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
                        nextResolve<span class="token punctuation">,</span>
                        nextReject<span class="token punctuation">,</span>
                        onFulfilled<span class="token punctuation">,</span>
                        onRejected
                    <span class="token punctuation">}</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            <span class="token function">_resolve</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//处理onFulfilled执行结果是一个promise时的情况</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token keyword">instanceof</span> <span class="token class-name">WPromise</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//当为true,说明promise肯定不是第一个promise,而是后续then方法返回的promise</span>
                    value<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token comment">//获取value;当value是个promsie时，内部会存有value变量</span>
                        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_resolve</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_reject</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
                    <span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">return</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> value<span class="token punctuation">;</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">=</span> WPromise<span class="token punctuation">.</span>fulfilled<span class="token punctuation">;</span><span class="token comment">//将状态设置为成功</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>callbacks<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">cb</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_handler</span><span class="token punctuation">(</span>cb<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//通知事件执行</span>
            <span class="token punctuation">}</span>
            <span class="token function">_reject</span><span class="token punctuation">(</span><span class="token parameter">reason</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>reason <span class="token keyword">instanceof</span> <span class="token class-name">WPromise</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    reason<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
                        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_resolve</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_reject</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
                    <span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">return</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>reason <span class="token operator">=</span> reason<span class="token punctuation">;</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">=</span> WPromise<span class="token punctuation">.</span>rejected<span class="token punctuation">;</span><span class="token comment">//将状态设置为失败</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>callbacks<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">cb</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_handler</span><span class="token punctuation">(</span>cb<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token function">_handler</span><span class="token punctuation">(</span><span class="token parameter">callback</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
                    onFulfilled<span class="token punctuation">,</span>
                    onRejected<span class="token punctuation">,</span>
                    nextResolve<span class="token punctuation">,</span>
                    nextReject
                <span class="token punctuation">}</span> <span class="token operator">=</span> callback
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">===</span> WPromise<span class="token punctuation">.</span>pending<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span>callbacks<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">return</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">===</span> WPromise<span class="token punctuation">.</span>fulfilled<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">const</span> nextValue <span class="token operator">=</span> onFulfilled <span class="token operator">?</span> <span class="token function">onFulfilled</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span><span class="token comment">//传入存储的值，未传入onFulfilled时，value传入</span>
                    <span class="token function">nextResolve</span><span class="token punctuation">(</span>nextValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">return</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">===</span> WPromise<span class="token punctuation">.</span>rejected<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">const</span> nextReason <span class="token operator">=</span> onRejected <span class="token operator">?</span> <span class="token function">onRejected</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>reason<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>reason<span class="token punctuation">;</span><span class="token comment">//传入存储的错误信息，未传入onRejected时，reason传入</span>
                    <span class="token function">nextReject</span><span class="token punctuation">(</span>nextReason<span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
</code></pre> 
<p>测试：</p> 
<pre><code class="prism language-javascript">  <span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WPromise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
            <span class="token comment">//resolve('ok')</span>
            <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        p<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'成功'</span> <span class="token operator">+</span> data<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'失败'</span> <span class="token operator">+</span> err<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="Promiseall_809"></a>手写Promise.all:</h3> 
<p><strong>思路</strong>：接收一个可迭代对象作为参数，方法返回一个promise实例，参数中的所有promise都完成时回调完成（resolve）;如果参数中有一个promise失败，这个实例回调失败（reject）。</p> 
<pre><code class="prism language-javascript">Promise<span class="token punctuation">.</span><span class="token function-variable function">myAll</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">promises</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>promises<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token comment">//判断参数是不是数组，是返回</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span><span class="token comment">//返回一个promise实例</span>
        <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> promises<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>promises<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
                result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
                count<span class="token operator">++</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>count<span class="token operator">===</span>promises<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//相等也意味着promise都完成</span>
                    <span class="token function">resolve</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">reason</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
                <span class="token function">reject</span><span class="token punctuation">(</span>reason<span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>测试：</p> 
<pre><code class="prism language-javascript">Const promise1 <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> promise2 <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> promise3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Promise<span class="token punctuation">.</span><span class="token function">myAll</span><span class="token punctuation">(</span><span class="token punctuation">[</span>promise1<span class="token punctuation">,</span> promise2<span class="token punctuation">,</span> promise3<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">values</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>values<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="Promiseany_849"></a>手写Promise.any:</h3> 
<p><strong>思路</strong>：接收一组promise实例作为参数，参数中只要一个promise成功，就返回那个已经成功的promise；如果没有一个成功，就返回一个失败的promise和aggregateError类型的实例（agreegateError用于把单一的错误集合在一起）</p> 
<pre><code class="prism language-javascript">  Promise<span class="token punctuation">.</span><span class="token function-variable function">myany</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">promises</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>promises<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">let</span> errcount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> promises<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>promises<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
                    <span class="token function">resolve</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">reason</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
                    errcount<span class="token operator">++</span><span class="token punctuation">;</span>
                    <span class="token keyword">if</span><span class="token punctuation">(</span>errcount<span class="token operator">&gt;=</span>promises<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                        <span class="token function">reject</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">AggregateError</span><span class="token punctuation">(</span><span class="token string">'All promises were rejected'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</code></pre> 
<p>测试：</p> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> pErr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">"总是失败"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> pSlow <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token string">"最终完成"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> pFast <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token string">"很快完成"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Promise<span class="token punctuation">.</span><span class="token function">myany</span><span class="token punctuation">(</span><span class="token punctuation">[</span>pErr<span class="token punctuation">,</span> pSlow<span class="token punctuation">,</span> pFast<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 打印‘很快完成’</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    Promise<span class="token punctuation">.</span><span class="token function">any</span><span class="token punctuation">(</span><span class="token punctuation">[</span>pErr<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//All promises were rejected</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="Promisefinally_897"></a>手写Promise.finally:</h3> 
<p><strong>思路</strong>：不管成功还是失败都会执行finally.因为不知道promise的最终状态，所以不接收参数</p> 
<pre><code class="prism language-javascript"> Promise<span class="token punctuation">.</span><span class="token function-variable function">finally</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">callback</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>constructor<span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
                <span class="token parameter">value</span> <span class="token operator">=&gt;</span> p<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> value<span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token parameter">reason</span> <span class="token operator">=&gt;</span> p<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">throw</span> reason <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
</code></pre> 
<p>测试：</p> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
            console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'starting...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
                Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0.5</span> <span class="token operator">?</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'success'</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'fail'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 正常顺序测试</span>
        p<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">%c resolve: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>data<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token string">'color: green'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">%c catch: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>err<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token string">'color: red'</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">finally</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
                console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'finally: completed'</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="Promiserace_933"></a>手写Promise.race:</h3> 
<p><strong>思路</strong>：接收一组promise实例作为参数，哪个promise获得的快，就返回那个结果，不管结果是成功还是失败。</p> 
<pre><code class="prism language-javascript"> Promise<span class="token punctuation">.</span><span class="token function-variable function">myrace</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">promises</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
                promises<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">promise</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
                    promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
</code></pre> 
<p>测试：</p> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> promise1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token string">'one'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">const</span> promise2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token string">'two'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Promise<span class="token punctuation">.</span><span class="token function">myrace</span><span class="token punctuation">(</span><span class="token punctuation">[</span>promise1<span class="token punctuation">,</span> promise2<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//two</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="PromiseallSettled_962"></a>手写Promise.allSettled:</h3> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> promise1 <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> promise2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span>reject<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token string">"foo"</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> promise3 <span class="token operator">=</span> <span class="token punctuation">[</span>promise1<span class="token punctuation">,</span> promise2<span class="token punctuation">]</span><span class="token punctuation">;</span>
Promise<span class="token punctuation">.</span><span class="token function-variable function">myAllSettled</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">promises</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> resolvedCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> promise <span class="token keyword">of</span> promises<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">let</span> i <span class="token operator">=</span> count<span class="token punctuation">;</span>
            count<span class="token operator">++</span><span class="token punctuation">;</span>
            Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>promise<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
                resolvedCount<span class="token operator">++</span><span class="token punctuation">;</span>
                result<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token literal-property property">status</span><span class="token operator">:</span><span class="token string">'fullfilled'</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">value</span><span class="token operator">:</span>data
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
                resolvedCount<span class="token operator">++</span><span class="token punctuation">;</span>
                result<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span>  <span class="token punctuation">{<!-- --></span>
                    <span class="token literal-property property">status</span><span class="token operator">:</span><span class="token string">'rejected'</span><span class="token punctuation">,</span>
                    err
                <span class="token punctuation">}</span>

            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">finally</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>resolvedCount<span class="token operator">&gt;=</span>count<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                    <span class="token function">resolve</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
                
        <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
Promise<span class="token punctuation">.</span><span class="token function">myAllSettled</span><span class="token punctuation">(</span>promise3<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">results</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
  results<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h2><a id="17_1005"></a>17、什么是事件委托（事件代理），为什么在父元素上绑事件，子元素上点击可能触发。</h2> 
<p><strong>事件委托</strong>：把子节点的监听函数定义在父节点上，由父节点的监听函数统一处理多个子元素的事件。<br> <strong>原理</strong>：事件冒泡。也就是事件从发生的元素一直向上传播，直到传递到document为止。在传播过程中，会依次检查经过的节点是否有事件监听函数，如果有，就执行。<br> <strong>事件委托</strong>的优点：<br> 可以大量节省内存占用，减少事件注册（比如在ul上代理所有li的点击事件）</p> 
<h3><a id="_1012"></a>事件流/事件传播</h3> 
<p>一个事件触发后，会在子元素和父元素之间传播。这个传播（事件传播/事件流）分为三个阶段：<strong>捕获阶段，目标阶段，冒泡阶段</strong>。<br> 捕获阶段：事件从document一直向下传播到事件发生的元素。<br> 目标阶段：在目标节点上触发<br> 冒泡阶段：事件从发生的元素一直向上传播，直到传播到document为止。</p> 
<h3><a id="_1019"></a>事件委托的实现</h3> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>ul id<span class="token operator">=</span><span class="token string">"list"</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token number">2</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token number">3</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token number">4</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
	<span class="token keyword">let</span> ul <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#list'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	ul<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">let</span> target <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">;</span><span class="token comment">//被点击的目标元素</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>target<span class="token punctuation">.</span>tagName <span class="token operator">!==</span> <span class="token string">'LI'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//target.tagName可以获取到元素名</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>target<span class="token punctuation">.</span>tagName <span class="token operator">===</span> <span class="token string">'UL'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				target <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			target <span class="token operator">=</span> target<span class="token punctuation">.</span>parentNode<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>target<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'你点击了ui里的li'</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> 
<h2><a id="18jsArrayinsatnceofobjectprototypetoStringcall_1048"></a>18、js数据类型，怎样判断数据类型；基本数据类型和引用数据类型的区别；怎么判断一个数组是不是Array类型（insatnceof,object.prototype.toString.call）；堆和栈是什么</h2> 
<h3><a id="js_1050"></a>js数据类型</h3> 
<p>Js数据类型分为基本类型和引用数据类型。<br> <strong>基本类型</strong>(<strong>值放在栈中</strong>)：number,string,null,undefined,boolean,symbol<br> <strong>引用数据类型</strong>（<strong>值放在堆内存中，栈中保存指向该数据的指针</strong>）:object,array,function</p> 
<h3><a id="_1056"></a>堆和栈</h3> 
<p><strong>栈</strong>：是一个先进后出的数据结构，它是由操作系统分配管理的，也就是说它的内存是规整的，内存的大小在申请之后不会发生变化。栈也不会出现碎片化，读取的速度很快。基本数据在声明的时候，内存的大小已经确定，它们会放到栈中。栈内存中的变量用完就会回收了。<br> <strong>堆</strong>：堆的内存分配比较自由，并不要求是连续的内存，只要有空间，都可以拿来分配，不过这样会导致产生很多碎片，不利于高速读取。堆主要存放的是大小不固定的内存结构。</p> 
<h3><a id="_1061"></a>判断方法</h3> 
<h4><a id="Typeof_1063"></a>Typeof:</h4> 
<p>能够区分基本数据类型；不能区分array和null,都返回’object’</p> 
<pre><code class="prism language-javascript"> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">//object</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token comment">//object</span>
</code></pre> 
<h4><a id="Instanceof_1072"></a>Instanceof：</h4> 
<p>主要检测的是<strong>引用值</strong>，<strong>原理</strong>是检测构造函数的原型（右边）是否出现在对象的原型链（左边）上。返回true/false.<br> 能够区别array,object,function,不能判断number,string,布尔等基本类型数据</p> 
<h4><a id="ObjectprototypetoStringcall_1077"></a>Object.prototype.toString.call()：可以精准判断数据类型</h4> 
<pre><code class="prism language-javascript">	<span class="token keyword">var</span> toString <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//[object Number]</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">'ass'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//[object String]</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//[object Array]</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//[object Object]</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//[object Undefined]</span>
</code></pre> 
<h2><a id="19undefinednull_1088"></a>19、undefined和null的区别</h2> 
<p><strong>Undefined</strong>代表的是未定义，而<strong>null</strong>表示的是一个空对象。<br> 一个变量声明了但未赋值，就会返回undefined;而null主要用来初始化一些可能返回对象的变量。</p> 
<h2><a id="20_1093"></a>20、箭头函数与普通函数的区别是什么？</h2> 
<p><strong>（1）this</strong><br> 普通函数有自己的this,谁调用指向谁;箭头函数没有this，它会从作用域链的上一层继承this<br> <strong>（2）原型</strong><br> 普通函数有原型，箭头函数没有<br> <strong>（3）Arguments</strong>（arguments是一个传递给函数参数的类数组对象）<br> 普通函数有arguments；箭头函数没有arguments对象,如果要用，可以用rest参数代替<br> <strong>（4）New</strong><br> 普通函数可以使用new,箭头函数不可以（原因在下一题）</p> 
<h2><a id="21new_1104"></a>21、构造函数可以使用new生成实例，那么箭头函数可以吗？为什么？</h2> 
<h3><a id="new_1106"></a>箭头函数不能使用new生成实例</h3> 
<p><strong>原因</strong>：箭头函数没有自己的this,无法调用call,apply;<br> 箭头函数没有prototype属性，而new命令在执行时需要将构造函数的prototype赋值给新的对象_proto_</p> 
<h3><a id="New_1111"></a>New的过程：</h3> 
<ul><li>创建一个新的对象</li><li>将新对象的__proto__设置为构造函数的prototype</li><li>让函数的this指向这个对象，执行构造函数中的代码</li><li>判断函数的返回值类型，如果是值类型，返回创建的对象；如果是引用类型，就返回这个引用类型的对象。</li></ul> 
<pre><code class="prism language-javascript"><span class="token keyword">function</span> <span class="token function">myNew</span><span class="token punctuation">(</span><span class="token parameter">constructor<span class="token punctuation">,</span><span class="token operator">...</span>args</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
           <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span>
           obj<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> constructor<span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
           <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">constructor</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token comment">//让this指向实例</span>
           <span class="token keyword">return</span> result <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token operator">?</span>result<span class="token operator">:</span>obj<span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
</code></pre> 
<p><strong>测试：</strong></p> 
<pre><code class="prism language-javascript"><span class="token keyword">var</span> <span class="token function-variable function">father</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>age</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
       <span class="token punctuation">}</span>
       <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token function">myNew</span><span class="token punctuation">(</span>father<span class="token punctuation">,</span><span class="token string">'aaa'</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
</code></pre> 
<h2><a id="22_1138"></a>22、循环（遍历）的方法，各个方法的区别</h2> 
<p>xxxxxxxxxx  </p> 
<div class="main"> 
 <div></div> 
 <div></div> 
 <div></div> 
 <div></div> 
 <div></div> 
 <div></div> 
 <div></div> 
 <div></div> 
 <div></div> 
</div>javascript 
<p></p> 
<pre><code class="prism language-javascript">array<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">currentValue<span class="token punctuation">,</span>index<span class="token punctuation">,</span>arr</span><span class="token punctuation">)</span><span class="token punctuation">,</span> thisValue<span class="token punctuation">)</span>
</code></pre> 
<p>xxxxxxxxxx  </p> 
<div class="main"> 
 <div></div> 
 <div></div> 
 <div></div> 
 <div></div> 
 <div></div> 
 <div></div> 
 <div></div> 
 <div></div> 
 <div></div> 
</div>javascript 
<p></p> 
<h3><a id="_1148"></a>遍历</h3> 
<h2><a id="23forofreduce_1150"></a>23、除了for…of还有哪些方法可以遍历字符串，数组中reduce方法有哪些参数，是怎样使用的</h2> 
<p><strong>遍历字符串</strong>：for…in;for…of；str.charAt（2）返回指定下标的字符<br> <strong>reduce</strong>包含两个参数：回调函数，传给函数的初始值。reduce() 方法遍历数组中的每一项，接收一个函数作为累加器，数组中的每个值（从左到右）开始缩减，最终计算为一个值。</p> 
<h2><a id="24_1155"></a>24、怎么让对象的一个属性不可被改变</h2> 
<h3><a id="1_ObjectdefineProperty_1157"></a>（1） Object.defineProperty()</h3> 
<p>可以使用Object.defineProperty()方法，让对象的某一个属性不可变，把对象某一属性的writable和configurable设置为false.</p> 
<pre><code class="prism language-javascript"><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token literal-property property">a</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token literal-property property">b</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
      Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token string">'c'</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">value</span><span class="token operator">:</span><span class="token number">100000</span><span class="token punctuation">,</span>
        <span class="token literal-property property">writable</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">//当该属性的 writable 键值为 true 时，属性的值才能被赋值操作修改</span>
        <span class="token literal-property property">configurable</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token comment">//当为true时，该属性的描述符才能够被改变，同时该属性也能从对应的对象上被删除。</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      
      obj<span class="token punctuation">.</span>c <span class="token operator">=</span> <span class="token number">282031283</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>c<span class="token punctuation">)</span><span class="token comment">//100000</span>
</code></pre> 
<h3><a id="2objectpreventExtensions_1173"></a>（2）object.preventExtensions()</h3> 
<p>让对象不能添加新属性，可以使用object.preventExtensions()方法。（但是可以修改属性值）</p> 
<pre><code class="prism language-javascript">	  <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token literal-property property">a</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token literal-property property">b</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
      Object<span class="token punctuation">.</span><span class="token function">preventExtensions</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
      obj<span class="token punctuation">.</span>c <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
</code></pre> 
<h2><a id="25_1186"></a>25.对浏览器的理解</h2> 
<p><strong>浏览器主要的功能是将用户选择的web资源呈现出来</strong>。它需要从服务器请求资源，并将其显示在浏览器的窗口中。资源的格式通常是HTML,PDF,image等格式。用户用URI（统一资源定位标识符）来指定所请求资源的位置。<br> 简单来说，<strong>浏览器可以分为两个部分，shell（脚本）和内核</strong>。其中shell的种类相对比较多，内核则比较少。<strong>shell是指浏览器的外壳</strong>，例如菜单，工具栏等。主要是提供给用户界面操作，参数设置等等，它是调用内核来实现各种功能的。<strong>内核才是浏览器的核心，它是基于标记语言显示内容的程序或模块。</strong></p> 
<h2><a id="26_1191"></a>26.对浏览器内核的理解</h2> 
<p>浏览器内核主要分为<strong>渲染引擎</strong>和<strong>JS引擎</strong>两部分。<br> <strong>渲染引擎</strong>的作用就是在浏览器窗口中显示所请求的内容，渲染引擎可以显示html,xml文档及图片,它也可以借用插件，显示其他类型的数据。例如使用PDF阅读器插件，可以显示PDF格式。<br> <strong>JS引擎</strong>可以解析和执行js来实现网页的动态效果。最开始渲染引擎和JS引擎区分的不是很明确，后来JS引擎越来越独立，内核就倾向于只指渲染引擎。</p> 
<h2><a id="27_1197"></a>27.浏览器所用的内核</h2> 
<p><strong>IE</strong>：Trident内核<br> <strong>Chrome</strong>:以前是webkit内核，现在是Blink内核<br> <strong>Firefox</strong>:Gecko（/ˈɡekoʊ/）内核<br> <strong>Safari</strong>:webkit内核<br> <strong>Opera</strong>:最初使用的是presto内核，后来加入谷歌大军，从webkit内核又变成了Blink内核<br> <strong>360</strong>，猎豹浏览器：IE+chrome双内核</p> 
<h2><a id="28_1206"></a>28.浏览器内核比较</h2> 
<p><strong>Trident</strong>:是IE浏览器用的内核，对真正的网页标准支持不是很好，还有很多Bug等安全问题没有解决。很多用户开始转向其他浏览器。<br> <strong>Gecko</strong>:是firefox采用的内核，这个内核的优点是功能强大，丰富，可以支持很多复杂网页效果和浏览器扩展接口，缺点是会消耗很多内存。<br> <strong>Presto</strong>:opera曾经采用的就是presto内核，它是浏览网页速度最快的内核，它在处理JS等脚本语言时，会比其他的内核快3倍左右，缺点就是网页兼容性不好。<br> <strong>Webkit</strong>:是safari采用的内核，它的优点是网页浏览速度快，缺点是网页代码的容错性不高，也就是会让一些编写不标准的网页无法显示。<br> <strong>Blink</strong>:是chrome现在使用的内核，它就是webkit的一个分支。</p> 
<h2><a id="29_1214"></a>29.浏览器的渲染原理</h2> 
<p>解析HTML，生成<strong>DOM树</strong>；解析CSS，生成<strong>CSSOM树</strong>（也就是css object model）。DOM树中每一个节点对应着网页里每一个元素；CSSOM树中每个节点对应着网页里每个元素的样式。<br> 但是DOM/CSSOM树不能直接用于排版和渲染，浏览器会生成另一棵树：<strong>Render树</strong>。Render树生成的过程就是：从DOM树的根节点遍历每个可见节点（不可见节点就是：不会渲染输出的节点，比如script,meta,link等；一些通过css隐藏的节点，比如设置了display:none的节点（visibility和opacity在渲染树中）），对于每个可见的节点，找到cssom树中对应的规则并应用它们；根据每个可见节点和对应样式，组合生成渲染树。<br> 构造渲染树之后，我们还需要计算它们在设备视口内确切的位置和大小，这个计算的阶段就是<strong>重排</strong>。<br> 我们通过构造渲染树和重排阶段，知道了哪些节点是可见的，以及可见节点的样式和具体的位置，大小，那么就可以将渲染树的每个节点都转为屏幕上的实际像素，这个阶段就叫<strong>重绘</strong>。<br> 经过重排重绘之后，我们就可以在浏览器上看到网页了。</p> 
<h2><a id="30_1222"></a>30、重排重绘</h2> 
<p><strong>重排</strong>：根据生成的渲染树，得到节点的几何信息（位置，大小），这个过程称为重排。<br> <strong>重绘</strong>：根据生成的渲染树和重排得到的几何信息，得到节点的绝对像素的过程称为重绘。<br> <strong>重排一定引起重绘，而重绘不一定会引起重排</strong></p> 
<h3><a id="_1228"></a>什么时候发生重排？</h3> 
<p>添加或删除可见的DOM元素<br> 元素的位置发生变化<br> 元素的尺寸发生变化（包括外边距、内边框、边框大小、高度和宽度等）<br> 元素内容改变<br> 页面一开始渲染的时候<br> 浏览器的窗口尺寸变化（因为重排是根据视口的大小来计算元素的位置和大小的）</p> 
<h3><a id="_1237"></a>什么时候发生重绘？</h3> 
<p>DOM元素的字体颜色，背景色，visibility等改变会发生重绘</p> 
<h3><a id="_1241"></a>如何减少重排重绘？</h3> 
<p><strong>在css方面：</strong><br> 使用visibility代替display:none（因为visibility只引起重绘，display:none改变了布局，引起重排）<br> 避免使用table布局<br> 将动画效果应用到position属性为absolute或fixed的元素上（因为它们脱离了文档流），避免影响其他元素布局，这样只是重绘<br> <strong>在js方面：</strong><br> 最小化重排和重绘，可以合并多次对DOM和样式的修改，然后一次性处理掉（比如修改css的class属性）<br> 避免频繁读取会引发重排重绘的属性（比如offsetTop,scrollTop等），如果要多次用，就用一个变量缓存起来</p> 
<h3><a id="_1251"></a>浏览器的优化机制</h3> 
<p>由于每次重排都会造成额外的计算消耗，因此大多数浏览器都会通过队列化修改并批量执行来优化重排过程。<br> 浏览器会将修改操作放入到队列里，直到过了一段时间或者操作达到了一个阈值，才清空队列。但是，当你获取布局信息的操作的时候，会强制队列刷新。比如当你使用了：offsetTop,offsetLeft,offsetWidth,offsetHeight,scrollTop,scrollLeft,clientTop,clientLeft等这些属性时会强制队列刷新，所以要避免使用，若要使用，最好用变量存储起来。</p> 
<h2><a id="31flat_1256"></a>31、flat数组扁平化</h2> 
<h3><a id="flat_1258"></a>flat方法</h3> 
<pre><code class="prism language-javascript"><span class="token keyword">let</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">'中'</span><span class="token punctuation">,</span><span class="token string">'文'</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token comment">//使用 Infinity，可展开任意深度的嵌套数组</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> arr1<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span> <span class="token number">Infinity</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="concat_1266"></a>递归处理（递归遍历每一项，若为数组继续遍历，否则concat（拼接））</h3> 
<pre><code class="prism language-javascript"> <span class="token keyword">function</span> <span class="token function">flat</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">let</span> arrresult <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    arrresult <span class="token operator">=</span> arrresult<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token function">flat</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span>  
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                    arrresult<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> arrresult<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
</code></pre> 
<h3><a id="reduceconcat_1282"></a>用reduce实现的数组扁平化（遍历数组每一项，若为数组就继续遍历，否则就concat（连接））</h3> 
<pre><code class="prism language-javascript"> <span class="token keyword">function</span> <span class="token function">flatten</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">result<span class="token punctuation">,</span>item</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> result<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token operator">?</span><span class="token function">flatten</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token operator">:</span>item<span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">//result初始值为[]</span>
        <span class="token punctuation">}</span>
</code></pre> 
<p>reduce() 方法接收一个函数作为累加器，数组中的每个值（从左到右）开始缩减，最终计算为一个值。reduce包含两个参数：回调函数，传给函数的初始值。</p> 
<h3><a id="_1294"></a>扩展运算符</h3> 
<pre><code class="prism language-javascript"><span class="token keyword">while</span> <span class="token punctuation">(</span>arr1<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span>isArray<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//判断数组元素是否为数组</span>
            arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token operator">...</span>arr1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//扩展运算符...和concat都可以去掉一层[]</span>
        <span class="token punctuation">}</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> arr1 <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>Arr.some(条件)</strong>：检测数组中的元素是否满足指定条件。返回布尔值，满足条件返回true。Arr1.concat(arr2):用于连接两个数组，将新数组的成员添加到原数组的尾部。返回一个新数组。<br> [].concat([[1],[2],[3]])-&gt;[[1],[2],[3]]<br> [].concat(1,[[2,3],[7]])-&gt;[1,[2,3],[7]]</p> 
<h3><a id="var_arr___1_2_2_3_4_5_5_6_7_8_9_11_12_12_13_14____10_1307"></a>已知如下数组：var arr = [ [1, 2, 2], [3, 4, 5, 5], [6, 7, 8, 9, [11, 12, [12, 13, [14] ] ] ], 10];编写一个程序将数组扁平化并去除其中重复部分数据，最终得到一个升序且不重复的数组</h3> 
<p>Arr.flat()-&gt;数组扁平化<br> New Set()-&gt;数组去重（会被变成set类）<br> Array.from()-&gt;将set类变为数组<br> Arr.sort(排序)</p> 
<pre><code class="prism language-javascript"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">14</span><span class="token punctuation">]</span> <span class="token punctuation">]</span> <span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> newarr <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token number">Infinity</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newarr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> a<span class="token operator">-</span>b
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<h2><a id="3254321_1322"></a>32、什么是闭包；闭包的作用；使用闭包实现每秒钟打印数组中的一个数组[5,4,3,2,1]</h2> 
<h3><a id="54321_1324"></a>使用闭包实现每秒钟打印数组中的一个数组[5,4,3,2,1]</h3> 
<pre><code class="prism language-javascript">		<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">j</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_1336"></a>闭包：</h3> 
<p>函数和函数内部能访问到的变量的总和就是一个闭包。</p> 
<h3><a id="_1340"></a>闭包产生的原因：</h3> 
<p>有<strong>作用域链</strong>的存在，因为作用域链不仅保存着当前的变量对象，还保存着创建该函数时的变量对象。当你查找一个变量时，如果在当前变量对象中没找到，就去上一个变量对象中去找。（函数作用域链是程序根据函数所在的执行环境栈来初始化的）</p> 
<h3><a id="_1344"></a>闭包的作用：</h3> 
<p>读取函数内部的变量<br> 让变量的值始终保持在内存中</p> 
<h3><a id="_1349"></a>缺点：</h3> 
<p>闭包会让函数中的变量都保存在内存之中，<strong>内存消耗很大</strong>。在IE中，我们使用完闭包之后，依然回收不了闭包中的引用变量，会造成内存泄漏（用不到的变量，依然占着内存空间）。<br> 可能会导致this指向不正常</p> 
<h2><a id="33_1355"></a>33、输出什么/函数每秒依次输出</h2> 
<pre><code class="prism language-javascript"> <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
</code></pre> 
<p>每秒打印的都是5</p> 
<h3><a id="11504_1368"></a>（1）怎么修改可以让上面代码从1到5秒依次输出0-4,写出你能想到的所有方法</h3> 
<p><strong>Let声明的变量会在当前的块级作用域里面创建一个文法环境，该环境里面包括了当前for循加粗样式环过程中的i（let会绑定作用域）</strong></p> 
<pre><code class="prism language-javascript"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
</code></pre> 
<p>等价</p> 
<pre><code class="prism language-javascript">  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">let</span> j <span class="token operator">=</span> i
            <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
</code></pre> 
<p><strong>闭包：用立即执行函数和闭包构建一个单独作用域</strong></p> 
<pre><code class="prism language-javascript"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
</code></pre> 
<p><strong>利用setTimeout函数的第三个参数，会作为回调函数的第一个参数传入</strong></p> 
<pre><code class="prism language-javascript"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token parameter">i</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</code></pre> 
<p><strong>使用promise函数</strong></p> 
<pre><code class="prism language-javascript"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
                <span class="token function">resolve</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
</code></pre> 
<h2><a id="33ajax_1428"></a>33、手写:ajax请求，解释状态码含义;</h2> 
<p><img src="https://images2.imgbox.com/a5/76/9oYgwhU6_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="ajax_1432"></a>手写ajax</h3> 
<pre><code class="prism language-javascript">	<span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//1.创建ajax核心对象xmlhttprequest</span>
    xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'get'</span><span class="token punctuation">,</span><span class="token string">'https://cnodejs.org/api/v1//topics'</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//2.向服务器发送请求,第三个参数是布尔值，如果为true就为异步，如果为false就为同步</span>
    xhr<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span><span class="token string">'content-Type'</span><span class="token punctuation">,</span> <span class="token string">'application/x-www-form-urlencoded'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置请求头</span>
    xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//可以发送请求时携带参数</span>
    xhr<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>status<span class="token operator">===</span><span class="token number">200</span><span class="token operator">&amp;&amp;</span>xhr<span class="token punctuation">.</span>readyState<span class="token operator">===</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//readyState用来标识当前XMLHttPRequest对象处于什么状态</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>responseText<span class="token punctuation">)</span><span class="token comment">//responseText：获取字符串形式的响应数据</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_1446"></a>状态码含义</h3> 
<p>readystate状态码含义(ajax的5种状态)：<br> <strong>0：未初始化</strong>，还未调用open方法<br> <strong>1：启动</strong>，已经调用open方法，但没有调用send方法<br> <strong>2：发送</strong>，已经调用send方法，但尚未接收到响应<br> <strong>3：接收</strong>，已经接收到部分数据<br> <strong>4：完成</strong>，已经接收全部数据了，可以使用</p> 
<h2><a id="34ajaxpromise_1455"></a>34、手写ajax请求，用promise封装</h2> 
<pre><code class="prism language-javascript">   <span class="token keyword">const</span> <span class="token function-variable function">ajax</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span>method<span class="token punctuation">,</span>data</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token comment">//url:地址；method:请求方法；data:数据（可选）</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
                <span class="token keyword">let</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//1.创建xhr对象</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>method<span class="token operator">===</span><span class="token string">"get"</span><span class="token operator">||</span>method<span class="token operator">===</span><span class="token string">"GET"</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span>data<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>  <span class="token comment">//get方式并传参</span>
                    url <span class="token operator">=</span> url <span class="token operator">+</span><span class="token string">"?"</span> <span class="token operator">+</span>data<span class="token punctuation">;</span><span class="token comment">//把data拼接在地址栏里</span>
                    xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"get"</span><span class="token punctuation">,</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//发送请求</span>
                    xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>method<span class="token operator">===</span><span class="token string">"get"</span><span class="token operator">||</span>method<span class="token operator">===</span><span class="token string">"GET"</span><span class="token operator">&amp;&amp;</span><span class="token operator">!</span>data<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>  <span class="token comment">//get方式不传参</span>
                    xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"get"</span><span class="token punctuation">,</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>   <span class="token comment">//post方式</span>
                    xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"post"</span><span class="token punctuation">,</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//可以携带参数</span>
                <span class="token punctuation">}</span>
                xhr<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//绑定事件对象</span>
                    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>status<span class="token operator">===</span><span class="token number">200</span><span class="token operator">&amp;&amp;</span><span class="token keyword">this</span><span class="token punctuation">.</span>readyState<span class="token operator">===</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>responseText<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//将成功信息传入then方法</span>
                    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>status<span class="token operator">!==</span><span class="token number">200</span><span class="token operator">&amp;&amp;</span><span class="token keyword">this</span><span class="token punctuation">.</span>readyState<span class="token operator">===</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                        <span class="token function">reject</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//将错误码传入then方法</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
测试：
        <span class="token function">ajax</span><span class="token punctuation">(</span><span class="token string">"https://cnodejs.org/api/v1//topics"</span><span class="token punctuation">,</span><span class="token string">"get"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">info</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token parameter">err</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h2><a id="35__1490"></a>35、== 和===的区别</h2> 
<p><strong>==</strong> ：只比较两边的<strong>值</strong>是否相等。当进行双等号比较时，先检查两个操作数的操作类型，如果相同，就进行恒等（ === ）比较；如果不同，就先进行类型转换，转换成相同类行再比较。<br> <strong>===</strong>：又叫严格判断，不仅比较<strong>值相等</strong>还比较<strong>类型</strong>是否相等。<br> Null= = undefined//true<br> 把字符串化成数值比较<br> 把true-&gt;1比较，把false-&gt;0比较<br> 把对象换成基础类型再比较（利用对象内置的valueOf或toString方法1）</p> 
<h2><a id="36JS_1499"></a>36、JS隐式转换</h2> 
<pre><code class="prism language-javascript">		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token comment">//true 布尔值转为number，为0；[]转为number，也为0；所以相等</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span> <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token comment">//false {}转为number为NAN，不相等</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token operator">!</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">//true 两个[]不指向同一个地址，不相等，返回true</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token comment">//false !隐式调用Boolean()函数</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//false</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//false</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Number</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// NaN</span>
        <span class="token keyword">const</span> demo3 <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">return</span> <span class="token number">30</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>demo3 <span class="token operator">-</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//减号，将对象转为number，调用valueof函数，结果不是基础类型，继续调用toString，返回30，30-4=26</span>
</code></pre> 
<p>在JS中，当运算符在运算时，如果两边数据不统一，CPU就无法计算，JS引擎会把运算符两边的数据转成一样的类型再计算。这种自动转换的方式就叫<strong>隐式转换。</strong></p> 
<ul><li>当进行加法运算时：<br> 有一方为string，那么另一方也会被转为string<br> 一方为number,另一方为原始值类型，则将原始值转换为number<br> 一方为number，另一方为引用类型，将双方都转为string（引用类型转string就调用toString函数）</li><li>乘除，减号，取模，就隐式调用Number()函数，转为number</li><li>== （相等操作符）的类型转换是：<br> Null==undefined//true<br> 布尔值与其他类型比较时，先转换为number<br> string与number比较，string转为number<br> 引用类型与值类型比较，引用类型先转为值类型（引用类型转值类型调用valueOf函数，结果为基础类型就返回，不是基础类型就再调用toString）<br> 引用类型与引用类型比较，直接判断是否指向同一对象<br> Null,undefined与其他任何类型进行比较，结果都为false</li><li>！隐式调用Boolean函数<br> <img src="https://images2.imgbox.com/7a/01/xfJOuOTx_o.png" alt="在这里插入图片描述"></li></ul> 
<h2><a id="37ifa1a2a3_1538"></a>37、如何让if(a<mark>1&amp;&amp;a</mark>2&amp;&amp;a==3)条件成立？</h2> 
<pre><code class="prism language-javascript"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token operator">?</span><span class="token punctuation">;</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>a <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> a <span class="token operator">==</span> <span class="token number">2</span> <span class="token operator">&amp;&amp;</span> a <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
 	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>解析</strong>：用==（相等操作符）判断会进行<strong>隐式类型转换</strong>，隐式转换会调用<strong>toString（将数组/num转换为字符串）<strong>或者</strong>valueOf</strong>方法，所以重写toString/valueOf方法就行了。</p> 
<pre><code class="prism language-javascript">		<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">i</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//重写tosting方法</span>
                <span class="token keyword">return</span> a<span class="token punctuation">.</span>i<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> a <span class="token operator">==</span> <span class="token number">2</span> <span class="token operator">&amp;&amp;</span> a <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//a==1 对象和数字比较，先把对象转换为基础类型（利用toString方法转换为字符串），再把字符串转化为数值</span>
           console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
</code></pre> 
<h2><a id="38JS_1561"></a>38、JS的垃圾回收机制</h2> 
<p><strong>JS的垃圾回收机制主要解决内存的泄露</strong>（不用的内存，没有及时释放）。<strong>它会定期的找出那些不再用到的变量（内存），然后释放其内存。</strong></p> 
<ul><li>垃圾回收怎样进行<br> 现在浏览器通常采用的垃圾回收机制有两种方法：<strong>标记清除</strong>和<strong>引用计数</strong><br> <strong>（1）标记清除法</strong>：垃圾收集器在运行时会给内存中的所有变量都加上一个标记，假设内存中所有对象都是垃圾，全标记为0 
  <ul><li>然后从各个根对象开始遍历，把不是垃圾的节点改成1</li><li>清理所有标记为0的垃圾，销毁并回收它们所占用的内存空间</li><li>最后，把所有内存中对象标记修改为0，等待下一轮垃圾回收<br> <strong>缺点</strong>：<br> 标记清除算法有一个很大的缺点，就是在清除之后，剩余的对象内存位置是不变的，也会导致空闲内存空间是不连续的，出现了 <code>内存碎片</code>，并且由于剩余空闲内存不是一整块，它是由不同大小内存组成的内存列表，这就牵扯出了内存分配的问题,假设我们新建对象分配内存时需要大小为 size，由于空闲内存是间断的、不连续的，则需要对空闲内存列表进行一次单向遍历找出大于等于 size 的块才能为其分配。<br> <strong>（2）引用计数</strong>：语言引擎中有一张引用表，保存了内存里面所有资源的引用次数。如果一个值的引用次数为0，就表示这个值不再用到了，因此可以将这块内存释放。</li></ul> </li><li><strong>对象在垃圾回收机制中有三种状态</strong>：<strong>可达性，可恢复性，不可达性</strong><br> 当一个对象被创建后，只要有一个以上的引用变量引用它，这个状态就处于<strong>可达状态</strong>。<br> 当一个对象失去了所有的引用之后，它就进入了<strong>可恢复状态</strong>。这个状态下，垃圾回收机制会随时对它占用的资源回收。<br> 被垃圾回收机制回收之后，就会进入<strong>不可达状态</strong>。</li></ul> 
<h3><a id="v8_1579"></a>v8引擎对垃圾回收做了哪些优化</h3> 
<p>V8中将<strong>堆内存</strong>分为<strong>新生代</strong>和<strong>老生代</strong>两区域。新生代的对象为存活时间较短的对象，也就是新产生的对象；老生代的对象为存活时间长或者常驻内存的对象，也就是经历过新生代垃圾回收之后还存活下来的对象，容量通常比较大。<br> （1）<strong>新生代</strong>对象空间采用<strong>并行策略</strong>，也就是说垃圾回收器在主线程上执行的过程中，开启多个辅助线程，同时执行同样的回收工作。（JS是单线程语言，是运行在主线程的，那在进行垃圾回收时就会阻塞js脚本的执行，需要等待垃圾回收完毕之后再恢复脚本执行，这个就是<strong>全停顿</strong>）。<br> （2）<strong>老生代</strong>采用<strong>增量标记</strong>和<strong>懒性清理/并行回收</strong>。增量标记就是将一次垃圾回收标记的过程分成了很多小步，每执行完一小步就让应用逻辑执行（js）一会，这样交替多次后完成一轮GC标记。<br> 老生代主要使用并发标记，主线程在开始执行js时，辅助线程也同时执行标记操作（标记操作全都由辅助线程完成）。标记完成之后，再执行并行清理操作，同时，清理的任务会采用增量的方式分批在各个js任务之间执行。</p> 
<h5><a id="_1586"></a>增量标记：对活动对象和非活动对象进行标记</h5> 
<p>将一次完整的gc标记分次执行，那在每一小次gc标记执行完之后如何暂停下来去执行任务程序，之后又如何恢复？V8对这两个问题提出的解决方案是<strong>三色标记法</strong>和<strong>写屏障</strong>。<br> <strong>三色标记法</strong>：两个标记位编码了3种颜色：白，黑，灰。白色指的是未被标记的对象，灰色指的是自身被标记，成员变量（该对象的引用对象）未被标记。黑色是指自身和成员变量都被标记。从根开始标记，最后剩下的白色对象都是不可达的，也就是等待回收。<br> 采用三色标记法后在恢复时就好办了，可以直接通过当前内存中有没有灰色节点来判断整个标记是否完成，如果没有灰色节点，直接进入清理阶段，如果还有灰色标记，恢复时直接从灰色的节点开始继续执行就可以。<br> 三色标记法的mark操作可以渐进执行而不需要每次都扫描整个内存空间，可以很好的配合增量回收进行暂停恢复的一些操作，减少了全停顿的时间。<br> <strong>写屏障</strong>：一次完整的GC标记分块暂停后，执行任务程序时内存标记好的对象引用关系被修改了，也就是增量中修改引用。比如我们有A,B,C三个对象依次引用，在第一次增量分段中全部标记为黑色（活动对象），而后暂停开始执行应用程序也就是js脚本，在脚本中我们将对象B的指向由C改为了对象D，接着恢复执行下一次增量分段。我们来看新的对象D是初始的白色，按照之前说的，已经没有灰色对象了，也就是全部标记完毕接下来要清理了。新修改的白色对象D将在次轮GC的清理阶段被回收，还有引用关系就被回收，后面我们程序里可能还会用到对象D呢，这肯定是不对的。<br> 为了解决这个问题，V8增量回收使用写屏障机制，也就是说<strong>一旦有黑色对象引用白色对象，该机制会强制将引用的白色对象改为灰色，从而保证下一次增量GC标记阶段可以正确标记，这个机制也被称为强三色不变性。</strong><br> <img src="https://images2.imgbox.com/79/2a/tmvVMsUJ_o.png" alt="在这里插入图片描述"><br> 将对象B的指向由对象C改为D后，白色对象D会被强制改为灰色。</p> 
<h5><a id="V8_1597"></a>懒性清理：V8采用的是惰性清理来释放内存</h5> 
<p>增量标记完成之后，惰性清理就开始了。当增量标记完成之后，假如当前的可用内存足以让我们快速的执行代码，其实是没必要立即清理内存的。可以将清理过程稍微延迟一下，让js脚本代码先执行。也不用一次清理完所有非活动对象内存，可以按需逐一进行清理直到所有的非活动对象内存都清理完毕，后面再接着执行增量标记。</p> 
<h5><a id="_1601"></a>并发回收：</h5> 
<p>并行回收会阻塞主线程，增量标记与惰性清理让主线程的停顿时间减少，但并没有减少总暂停时间，也没有降低应用程序吞吐量。并发回收指的是主线程在执行js的过程中，辅助线程能够在后台完成执行垃圾回收的操作，辅助线程在执行垃圾回收的时候，主线程也可以自由执行而不会被挂起。</p> 
<h2><a id="38memory_leak_1605"></a>38、内存泄露（memory leak）</h2> 
<p><strong>（1）什么是内存泄露</strong><br> 引擎中有垃圾回收机制，主要针对一些程序中不再使用的对象，对其清理回收释放掉内存。虽然引擎针对垃圾回收做了各种优化，尽可能确保垃圾得以回收，但是不是所有无用对象内存都可以被回收的，当<strong>不再用到的对象内存没有被及时回收，就叫内存泄露。</strong><br> <strong>（2）常见的内存泄露</strong><br> 不正当的闭包<br> 隐式全局变量<br> 游离DOM引用：当我们使用变量缓存DOM节点引用之后删除了节点，如果不将缓存引用的变量置空，依然进行不了GC，也就会出现内存泄露。<br> 遗忘的定时器：当不需要setTimeout或者setInterval时，最好调用clearInterval或者clearTimeout.如果没有被clear掉的话，就会造成内存泄露。<br> 遗忘的事件监听器<br> 遗忘的监听者模式<br> 遗忘的map，set对象:当使用map或者set存储对象时，同object一致都是强引用，如果不将其主动清除引用，会造成内存不自动进行回收。可以使用weakset和weakmap存储对象，他俩是对对象对弱引用，也就是被认为是不可达的，可能在任何时候被回收。<br> 未清理的console输出：浏览器保存了我们输出对象的信息数据引用，未清理的console输出也会造成内存泄露。因为console.log是全局方法，在打印当前组件中的变量时，实际上就相当于全局持有了这个变量的引用，垃圾回收的时候是不释放内存的。</p> 
<h2><a id="39_1619"></a>39、内存三大件</h2> 
<p>内存泄露<br> 内存膨胀：在短时间内内存占用极速上升到达一个峰值，想要避免需要使用技术手段减少对内存对占用。<br> 频繁GC：GC执行的频繁，一般出现在频繁使用大的临时变量导致新生代。空间被装满的速度极快，而每次新生代装满时就会触发GC，频繁GC会导致页面卡顿<br> Cookie，localstorage,sessionstorage的区别（浏览器存储方式）</p> 
<h2><a id="40_1626"></a>40、浏览器存储方式</h2> 
<p><strong>cookie</strong><br> cookie 是服务器保存在浏览器的一小段文本信息。浏览器每次向服务器发出请求，就会自动附上这段信息。<br> <strong>localStorage</strong><br> localStorage保存的数据若不主动清空，则一直存在；<br> <strong>sessionStorage</strong><br> sessionStorage保存的数据用于浏览器的一次会话，当会话结束（通常是窗口关闭），数据被清空；<br> <strong>IndexedDB</strong><br> IndexedDB 就是浏览器提供的本地数据库，它可以被网页脚本创建和操作。IndexedDB 允许储存大量数据，提供查找接口，还能建立索引。(非关系型数据库)<br> <strong>相同点</strong><br> 都存储在客户端<br> <strong>不同点</strong><br> （1）Cookie<strong>存储数据的大小</strong>不能超过4kb；sessionStorage和localStorage的存储比cookie大得多，可以达到5Mb。<br> （2）<strong>生命周期</strong>不同：cookie在设置的过期时间（max-age）之前一直有效；localStorage是永久存储，浏览器关闭后数据不丢失除非主动删除数据；sessionStorage数据在浏览器窗口关闭后自动删除。<br> （3）Cookie的数据会自动传递到服务器；sessionStorage和localStorage数据保存在本地中。</p> 
<h2><a id="39JS_1643"></a>39、JS的设计模式</h2> 
<h4><a id="_1645"></a>模块模式</h4> 
<p>可以让特定部分的代码与其他部分相独立。它提供了松散耦合支撑了良好的代码结构。模块就是js中的类，类的好处就是封装，避免自身的状态和行为被其他类获取。模块模式允许私有和公有访问级别。</p> 
<pre><code class="prism language-javascript"><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
<span class="token comment">//私有变量或者函数</span>
<span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
<span class="token comment">//公有变量或者函数</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="_1658"></a>原型模式</h4> 
<p>原型设计模式依赖于js原型继承。原型继承主要用来在性能密集的条件下创建对象。</p> 
<h4><a id="_1662"></a>观察者模式</h4> 
<p>观察者模式就是如果一个对象被更新，它会对依赖它的对象进行广播，告知它有变化发生了。</p> 
<h4><a id="_1666"></a>单例模式</h4> 
<p>单例模式旨在保证一个类仅有一个实例，并提供一个全局的访问点。</p> 
<h4><a id="_1670"></a>工厂模式</h4> 
<p>工厂模式定义一个用于创建对象的接口，这个接口由子类决定实例化哪一个类</p> 
<h3><a id="JS_1674"></a>为什么JS单例模式不会产生互锁现象（异步）</h3> 
<h2><a id="40_1676"></a>40、考查原型和函数的打印题</h2> 
<pre><code class="prism language-javascript"> <span class="token keyword">function</span> <span class="token function">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            Foo<span class="token punctuation">.</span><span class="token function-variable function">a</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">a</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token comment">//是Foo的构造函数，没有产生实例，此刻也没有执行</span>
        <span class="token class-name">Foo</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">a</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token comment">//在Foo的原型对象上挂载了方法a</span>
        Foo<span class="token punctuation">.</span><span class="token function-variable function">a</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token comment">//给构造函数Foo挂载了直接方法a</span>
        Foo<span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//4  立刻执行了Foo上的a方法</span>
        <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//调用了FOO的构建方法，把FOO的全局上的直接方法替换掉，输出1,在新对象上挂载直接方法a,输出值为2</span>
        obj<span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//3cuo  2 因为有直接方法（this.a），所以不需要去原型链上访问</span>
        Foo<span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//1</span>
</code></pre> 
<pre><code class="prism language-javascript">   <span class="token keyword">function</span> <span class="token function">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token comment">//window</span>
            <span class="token keyword">return</span> <span class="token keyword">this</span>
        <span class="token punctuation">}</span><span class="token comment">//Foo的构造函数</span>
        Foo<span class="token punctuation">.</span><span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token comment">//给Foo挂载了直接方法（2）</span>
        <span class="token class-name">Foo</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token comment">//在Foo原型上挂在了方法</span>
        <span class="token keyword">var</span> <span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token comment">//存在变量提升</span>
        <span class="token keyword">function</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token comment">//存在函数提升，函数提升在变量提升之上</span>
        Foo<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//2  执行直接方法</span>
        <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//4  上面的执行顺序：function getName(){console.log(5)};var getName;getName=function(){console.log(4)} 4覆盖了5</span>
        <span class="token function">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//1  Foo()返回this,相当于this.getName()，全局范围,Foo中的getName未使用let，所以覆盖了4，打印1</span>
        <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//1</span>
</code></pre> 
<h2><a id="41TagName_1725"></a>41、手写代码：浏览器打开了一个页面，在控制台执行脚本，获取页面TagName种类。</h2> 
<pre><code class="prism language-javascript">   <span class="token keyword">var</span> list <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'*'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token keyword">var</span> newlist <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       list<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
           <span class="token comment">//console.log(item)</span>
            newlist<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>tagName<span class="token punctuation">)</span><span class="token comment">//获取node的tagName属性（标签名）</span>
       <span class="token punctuation">}</span><span class="token punctuation">)</span>
       console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>newlist<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h2><a id="42_1737"></a>42、连续赋值-输出以下代码的执行结果并解释为什么？（连续赋值的坑）</h2> 
<pre><code class="prism language-javascript">  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token literal-property property">n</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> b <span class="token operator">=</span> a<span class="token punctuation">;</span>
  a<span class="token punctuation">.</span>x <span class="token operator">=</span> a <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token literal-property property">n</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">//a.x-&gt;a-&gt;a={n:2}-&gt;a.x={n:2}（这里的a仍然指向旧对象）（从左到右赋值）</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//undefined</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token comment">//{n:2}</span>
</code></pre> 
<h2><a id="43DOM_1747"></a>43、操作DOM的方法</h2> 
<h3><a id="_1749"></a>创建新节点</h3> 
<p>document.createElement(eName);　　//创建一个节点<br> document.createTextNode(text);　　　//创建文本节点</p> 
<h3><a id="_1754"></a>添加节点</h3> 
<p>document.insertBefore(newNode,referenceNode);　 //在某个节点前插入节点<br> parentNode.appendChild(newNode);　　　　　　　　//给某个节点添加子节点</p> 
<h3><a id="_1759"></a>删除节点</h3> 
<p>parentNode.removeChild(node);　　//删除某个节点的子节点 node是要删除的节点</p> 
<h3><a id="_1763"></a>替换节点</h3> 
<p>replace(newNode,oldNode);</p> 
<h3><a id="_1767"></a>获取/查找节点</h3> 
<p>document.getElementById(id);　　　　　　//返回对拥有指定id的第一个对象进行访问<br> document.getElementsByName(name);　　　//返回带有指定名称的节点集合　　<br> document.getElementsByTagName(tagname); 　//返回带有指定标签名的对象的集合document.getElementsByClassName(classname); //返回带有指定class名称的对象集合<br> document.querySelector(‘#idxxx’)<br> document.querySelectorAll(‘.red’)[0]</p> 
<h3><a id="_1775"></a>属性操作</h3> 
<p>document.createAttribute(attrName); //对某个节点创建属性<br> getAttribute(name)　　　　//通过属性名称获取某个节点属性的值<br> setAttribute(name,value); //修改某个节点属性的值<br> removeAttribute(name);　 //删除某个属性</p> 
<h3><a id="getQuerySelectorgetClassName_1782"></a>getQuerySelector和getClassName的区别</h3> 
<p>getQuerySelector只能是获取到静态的已经渲染出来的子元素，如果是动态创建加入的就获取不到。<br> getClassName可以实现获取动态元素。</p> 
<h2><a id="44_1787"></a>44、求两个数组的并集和交集和差集</h2> 
<pre><code class="prism language-javascript"><span class="token comment">//求两个数组的并集和交集</span>
    <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> a1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> b1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>
    <span class="token keyword">let</span> union <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>a<span class="token punctuation">,</span><span class="token operator">...</span>b<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//并集</span>
    <span class="token keyword">let</span> intersect <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>a1<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> b1<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//交集</span>
    <span class="token keyword">let</span> different <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>a1<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token operator">=&gt;</span><span class="token operator">!</span>b1<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//a相对于b的差集</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>union<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>intersect<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>different<span class="token punctuation">)</span>
</code></pre> 
<h2><a id="45_1803"></a>45、数组的常用方法</h2> 
<h2><a id="46_1805"></a>46.深拷贝和浅拷贝</h2> 
<p><strong>浅拷贝</strong>：只复制指向某个对象的指针而不复制对象本身，新旧对象共享一块内存。无论在新旧对象上哪一个进行修改，两者都会发生变化。<br> <strong>深拷贝</strong>：会另外创造一个一模一样的对象，新对象和旧对象不共享内存，修改新对象不会修改原对象。</p> 
<h3><a id="_1810"></a>如何实现深拷贝</h3> 
<p>（1）<strong>用JSON.stringify()将对象转换为JSON字符串，再用JSON.parse()把字符串解析成对象。</strong>（可以处理对象和数组实现深拷贝，但不能处理函数）</p> 
<pre><code class="prism language-javascript">		<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'hst'</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> copyarr <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        copyarr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'aaa'</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>copyarr<span class="token punctuation">)</span>
</code></pre> 
<p><strong>（2）递归</strong></p> 
<pre><code class="prism language-javascript">  <span class="token keyword">function</span> <span class="token function">deepClone</span><span class="token punctuation">(</span><span class="token parameter">currobj</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> currobj <span class="token operator">!==</span> <span class="token string">'object'</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token keyword">return</span> currobj<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>currobj <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//是否为数组</span>
                <span class="token keyword">var</span> newobj <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
                <span class="token keyword">var</span> newobj <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> item <span class="token keyword">in</span> currobj<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> currobj<span class="token punctuation">[</span>item<span class="token punctuation">]</span> <span class="token operator">!==</span> <span class="token string">'object'</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                    <span class="token comment">//不是引用类型，则直接赋值</span>
                    newobj<span class="token punctuation">[</span>item<span class="token punctuation">]</span> <span class="token operator">=</span> currobj<span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
                    <span class="token comment">//是引用类型，就递归遍历复制对象</span>
                    newobj<span class="token punctuation">[</span>item<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>currobj<span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> newobj
        <span class="token punctuation">}</span>
</code></pre> 
<p><strong>测试：</strong></p> 
<pre><code class="prism language-javascript">		<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'hst'</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> copyobj <span class="token operator">=</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
        copyobj<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'aaa'</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>copyobj<span class="token punctuation">)</span>
</code></pre> 
<h3><a id="_1857"></a>浅拷贝的方法</h3> 
<p>（1）<strong>Object.assign</strong>(目标对象，源对象)：将源对象拷贝给目标对象，然后返回目标对象。<br> 当object只有一层的时候，是深拷贝；当object有多层，是浅拷贝。<br> （3）<strong>array.concat和array.slice是浅拷贝。</strong></p> 
<h2><a id="47instanceOf_1863"></a>47.手写instanceOf</h2> 
<pre><code class="prism language-javascript">	<span class="token keyword">function</span> <span class="token function">myInstanceOf</span><span class="token punctuation">(</span><span class="token parameter">left<span class="token punctuation">,</span>right</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//判断构造函数的原型是否出现在对象的原型链上</span>
      <span class="token comment">//原始值返回false</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> left <span class="token operator">!==</span> <span class="token string">'object'</span><span class="token operator">||</span>left <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        left <span class="token operator">=</span> left<span class="token punctuation">.</span>__proto__<span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>left <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token comment">//找到原型链顶端了都没找到，返回false</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>left <span class="token operator">===</span> right<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token comment">//比如[] instanceOf Array</span>
            left <span class="token operator">=</span> left<span class="token punctuation">.</span>__proto__
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">myInstanceOf</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>Array<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<h2><a id="48_1879"></a>48.数组去重</h2> 
<p>（1）元素前后比较</p> 
<pre><code class="prism language-javascript"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span>
        <span class="token keyword">function</span> <span class="token function">unique</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">var</span> newarr <span class="token operator">=</span> <span class="token punctuation">[</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!==</span> arr<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                    newarr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> newarr
        <span class="token punctuation">}</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">unique</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p><strong>（1）用indexOf方法判断新数组中是否出现该元素</strong></p> 
<pre><code class="prism language-javascript"><span class="token keyword">function</span> <span class="token function">unique</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
            <span class="token keyword">let</span> newArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>newArr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//indexOf()可返回数组中某个指定元素的下标；若返回-1，就是没找到</span>
                    newArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> newArr<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
</code></pre> 
<p><strong>（2）利用es6中的set类</strong></p> 
<pre><code class="prism language-javascript"><span class="token keyword">function</span> <span class="token function">unique1</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
            <span class="token comment">//return Array.from(new Set(arr));</span>
            <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
</code></pre> 
<h2><a id="49Newnewnewnew_1922"></a>49.New的实现（构造函数的执行过程，new实现、new的过程，new干了什么）</h2> 
<ul><li>创建一个新的对象</li><li>将新对象的__proto__设置为构造函数的prototype</li><li>让函数的this指向这个对象，执行构造函数中的代码</li><li>判断函数的返回值类型，如果是值类型，返回创建的对象；如果是引用类型，就返回这个引用类型的对象。</li></ul> 
<pre><code class="prism language-javascript"><span class="token keyword">function</span> <span class="token function">myNew</span><span class="token punctuation">(</span><span class="token parameter">constructor<span class="token punctuation">,</span><span class="token operator">...</span>args</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
           <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span>
           obj<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> constructor<span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
           <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">constructor</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token comment">//让this指向实例</span>
           <span class="token keyword">return</span> result <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token operator">?</span>result<span class="token operator">:</span>obj<span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
</code></pre> 
<p>测试：</p> 
<pre><code class="prism language-javascript"><span class="token keyword">var</span> <span class="token function-variable function">father</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>age</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
       <span class="token punctuation">}</span>
       <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token function">myNew</span><span class="token punctuation">(</span>father<span class="token punctuation">,</span><span class="token string">'aaa'</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
</code></pre> 
<h2><a id="50_1949"></a>50.函数柯里化</h2> 
<p>柯里化是一种将使用<strong>多个参数</strong>的一个函数转换成一系列使用<strong>一个参数</strong>的函数的技术。可以实现参数复用。</p> 
<pre><code class="prism language-javascript"><span class="token keyword">function</span> <span class="token function">curry</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span>currArgs</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token comment">//fn是处理的原函数；currArgs是调用curry时传入的参数列表</span>
            <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//返回一个匿名函数</span>
                <span class="token keyword">let</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//将arguments数组化，不然arguments没法使用数组的方法</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>currArgs <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//递归调用的时候进行参数拼接</span>
                    args <span class="token operator">=</span> args<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>currArgs<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> fn<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                    <span class="token comment">//判断args的个数是否与fn的参数个数相等，</span>
                    <span class="token comment">//相等就把参数传给fn；否则，继续递归调用，直到两者相等。</span>
                    <span class="token keyword">return</span> <span class="token function">curry</span><span class="token punctuation">(</span>fn<span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
</code></pre> 
<p><strong>Es6实现：</strong></p> 
<pre><code class="prism language-javascript"><span class="token keyword">function</span> <span class="token function">curry</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> <span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> fn<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> args<span class="token punctuation">.</span>length <span class="token operator">?</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">curry</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> fn<span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//判断args的个数是否与fn的参数个数相等，</span>
            <span class="token comment">//相等就把参数传给fn；否则，继续递归调用，直到两者相等。</span>
        <span class="token punctuation">}</span>
</code></pre> 
<p><strong>测试：</strong></p> 
<pre><code class="prism language-javascript">		<span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">,</span>d<span class="token punctuation">,</span>e</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">+</span> b <span class="token operator">+</span> c <span class="token operator">+</span> d <span class="token operator">+</span> e<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">const</span> fn <span class="token operator">=</span> <span class="token function">curry</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">fn</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>
        <span class="token function">fn</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
        <span class="token function">fn</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>
        <span class="token function">fn</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
</code></pre> 
<h2><a id="51_1994"></a>51.二分查找（顺序表）</h2> 
<p>表中元素按<strong>顺序</strong>排列才可以使用二分查找（升序、降序）。<strong>基本思想</strong>是将n个元素分成大致相等的两部分，取a[n/2]与x（x是要查找的元素）做比较。如果x=a[n/2],则找到x，算法终止；如果x&gt;a[n/2],就在a数组的<strong>右半部分查找</strong>；如果x&lt;a[n/2],就在a数组的<strong>左半部分查找</strong>。</p> 
<pre><code class="prism language-javascript">		<span class="token keyword">var</span> <span class="token function-variable function">findNumber</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span>target</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
            <span class="token keyword">let</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">let</span> right <span class="token operator">=</span> arr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token keyword">let</span> middle <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span><span class="token punctuation">(</span>left <span class="token operator">&lt;=</span> right<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>middle<span class="token punctuation">]</span> <span class="token operator">===</span> target<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">return</span> middle<span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>middle<span class="token punctuation">]</span> <span class="token operator">&gt;</span> target<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//去左边找</span>
                    right <span class="token operator">=</span> middle <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>middle<span class="token punctuation">]</span> <span class="token operator">&lt;</span> target<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//去右边找</span>
                    left <span class="token operator">=</span> middle <span class="token operator">+</span> <span class="token number">1</span>
                <span class="token punctuation">}</span>
                middle <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token punctuation">(</span>left <span class="token operator">+</span> right<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token function">findNumber</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span>
</code></pre> 
<h2><a id="52_A1_A2_B1_B2_C1_C2_D1_D2__A_B_C_D_A1_A2_A_B1_B2_B_C1_C2_C_D1_D2_D_2021"></a>52.两个数组合并成一个数组。请把两个数组 [‘A1’, ‘A2’, ‘B1’, ‘B2’, ‘C1’, ‘C2’, ‘D1’, ‘D2’] 和 [‘A’, ‘B’, ‘C’, ‘D’]，合并为 [‘A1’, ‘A2’, ‘A’, ‘B1’, ‘B2’, ‘B’, ‘C1’, ‘C2’, ‘C’, ‘D1’, ‘D2’, ‘D’]。</h2> 
<pre><code class="prism language-javascript">		<span class="token keyword">let</span> arr1 <span class="token operator">=</span>  <span class="token punctuation">[</span><span class="token string">'A1'</span><span class="token punctuation">,</span> <span class="token string">'A2'</span><span class="token punctuation">,</span> <span class="token string">'B1'</span><span class="token punctuation">,</span> <span class="token string">'B2'</span><span class="token punctuation">,</span> <span class="token string">'C1'</span><span class="token punctuation">,</span> <span class="token string">'C2'</span><span class="token punctuation">,</span> <span class="token string">'D1'</span><span class="token punctuation">,</span> <span class="token string">'D2'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> arr2 <span class="token operator">=</span>  <span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">,</span> <span class="token string">'D'</span><span class="token punctuation">]</span>
        <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token keyword">let</span> temp <span class="token operator">=</span> arr2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        arr1<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span>index</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>temp <span class="token operator">===</span> item<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//str.charAt(0) 返回字符串的第一个字符  或者把判断条件变成item.includes(temp)-&gt;判断字符串里面是否有某个字符</span>
                result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
                result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span>
                result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
                temp <span class="token operator">=</span> arr2<span class="token punctuation">[</span><span class="token operator">++</span>j<span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>index<span class="token operator">===</span>arr1<span class="token punctuation">.</span>length<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
</code></pre> 
<h2><a id="530102__03_2044"></a>53、0.1+0.2 !== 0.3，如何让它等于</h2> 
<p>0.1+0.2=0.30000000000000004<br> <strong>原因</strong>：计算机计算0.1+0.2的时候，实际上计算的是两个数字在计算机内部存储的二进制之和，这两个数字转换为二进制后会无限循环。但由于标准位数有限，所以标准位后面的数字会被截掉，就产生了精度缺失。</p> 
<h2><a id="54Consolelogtypeof_typeof_typeof_null_2049"></a>54、Console.log(typeof typeof typeof null)</h2> 
<p>打印<strong>String</strong>。<br> Typeof null 返回object（是一个字符串），typeof typeof null返回string ，typeof typeof typeof返回string</p> 
<h2><a id="55_Let_mySet__new_Set_2054"></a>55、 Let mySet = new Set();</h2> 
<p>mySet.add({});//mySetx.size?? 1<br> mySet.add({});//mySetx.size?? 2</p> 
<h2><a id="56_ParseInt071parseInt071js_2059"></a>56、 ParseInt(071)和parseInt(‘071’)分别会输出多少，js中有哪些表示数值的方式</h2> 
<h2><a id="57123mapparseInt_what_Why_2061"></a>57、[‘1’,’2’,’3’].map(parseInt) what? Why?</h2> 
<h3><a id="1NaNNaN_2063"></a>答案：[1,NaN,NaN]</h3> 
<h3><a id="_2065"></a>原因：</h3> 
<p><img src="https://images2.imgbox.com/0e/d0/rFvBA2zp_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/8f/cc/Aqw0J7Tn_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/95/7d/TKpxCTp5_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/bc/06/IyGcMmDB_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="58_convert__list_render_2075"></a>58、实现 convert 方法，把原始 list 转换成树形结构，要求尽可能降低时间复杂度。（render函数）</h2> 
<p>以下数据结构中，id 代表部门编号，name 是部门名称，parentId 是父部门编号，为 0 代表一级部门，现在要求实现一个 convert 方法，把原始 list 转换成树形结构，parentId 为多少就挂载在该 id 的属性 children 数组下，结构如下：</p> 
<blockquote> 
 <p>// 原始 list 如下 let list =[<br> {id:1,name:‘部门A’,parentId:0},<br> {id:2,name:‘部门B’,parentId:0},<br> {id:3,name:‘部门C’,parentId:1},<br> {id:4,name:‘部门D’,parentId:1},<br> {id:5,name:‘部门E’,parentId:2},<br> {id:6,name:‘部门F’,parentId:3},<br> {id:7,name:‘部门G’,parentId:2},<br> {id:8,name:‘部门H’,parentId:4} ]; const result = convert(list, …);</p> 
</blockquote> 
<blockquote> 
 <p>// 转换后的结果如下 let result = [<br> {<!-- --><br> id: 1,<br> name: ‘部门A’,<br> parentId: 0,<br> children: [<br> {<!-- --><br> id: 3,<br> name: ‘部门C’,<br> parentId: 1,<br> children: [<br> {<!-- --><br> id: 6,<br> name: ‘部门F’,<br> parentId: 3<br> }, {<!-- --><br> id: 16,<br> name: ‘部门L’,<br> parentId: 3<br> }<br> ]<br> },<br> {<!-- --><br> id: 4,<br> name: ‘部门D’,<br> parentId: 1,<br> children: [<br> {<!-- --><br> id: 8,<br> name: ‘部门H’,<br> parentId: 4<br> }<br> ]<br> }<br> ]<br> }, ];</p> 
</blockquote> 
<pre><code class="prism language-javascript"> 		<span class="token keyword">function</span> <span class="token function">convert</span><span class="token punctuation">(</span><span class="token parameter">list</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">let</span> map <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">result<span class="token punctuation">,</span> item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
            result<span class="token punctuation">[</span>item<span class="token punctuation">.</span>id<span class="token punctuation">]</span> <span class="token operator">=</span> item<span class="token comment">//保存map和id对象的映射</span>
            <span class="token keyword">return</span> result
            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            list<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>parentId <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    res<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>parentId <span class="token keyword">in</span> map<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">let</span> parent <span class="token operator">=</span> map<span class="token punctuation">[</span>item<span class="token punctuation">.</span>parentId<span class="token punctuation">]</span><span class="token comment">//从map里面获取父节点</span>
                    parent<span class="token punctuation">.</span>children <span class="token operator">=</span> parent<span class="token punctuation">.</span>children <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
                    parent<span class="token punctuation">.</span>children<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> res
        <span class="token punctuation">}</span>
        <span class="token keyword">let</span> list <span class="token operator">=</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'部门A'</span><span class="token punctuation">,</span> <span class="token literal-property property">parentId</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'部门B'</span><span class="token punctuation">,</span> <span class="token literal-property property">parentId</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'部门C'</span><span class="token punctuation">,</span> <span class="token literal-property property">parentId</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'部门D'</span><span class="token punctuation">,</span> <span class="token literal-property property">parentId</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'部门E'</span><span class="token punctuation">,</span> <span class="token literal-property property">parentId</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'部门F'</span><span class="token punctuation">,</span> <span class="token literal-property property">parentId</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'部门G'</span><span class="token punctuation">,</span> <span class="token literal-property property">parentId</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'部门H'</span><span class="token punctuation">,</span> <span class="token literal-property property">parentId</span><span class="token operator">:</span> <span class="token number">4</span> <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">convert</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<h2><a id="_2158"></a>给一个树形对象结构，写一个函数层次遍历这个树形结构</h2> 
<h2><a id="59git_2160"></a>59、git常用命令</h2> 
<p>git config //配置详情<br> Git init //初始化仓库<br> Git remote//管理远程仓库，添加，删除和修改远程分支的关联<br> Git add//将文件提交到缓存区<br> Git push//将本地更新推送远程主机<br> Git status//显示文件状态，红色表示已修改未提交暂存区，绿色代表已提交到暂存区</p> 
<h2><a id="60linux_2169"></a>60、linux常用命令</h2> 
<p><strong>ls</strong>：显示目录下的内容<br> <strong>cd</strong>：切换目录<br> <strong>grep</strong>:在指定文件中搜索特定的内容。正则匹配。可用来查询DNS服务。<br> <strong>mkdir</strong>：建立子目录，所有用户都有权限。<br> $mkdir -m 777 tsk 创建目录名为tsk的目录<br> <strong>mv</strong>:为文件或目录改名；或者将文件由一个目录移入另一个目录。<br> <strong>rm</strong>：删除文件 rm -rf 可以删除非空目录<br> <strong>rmdir</strong>：删除空目录<br> <strong>cp</strong>：复制<br> <strong>touch</strong>:创建空文件<br> <strong>cat</strong>：用于连接并显示指定的一个或多个文件的有关信息。<br> cat最简单的一个用处是显示文本文件的内容。也可以将几个文件处理成一个文件，并将这种处理的结果保存到一个单独的输出文件。<br> tail<br> <strong>chmod</strong>：改变文件或者目录的访问权限。使用权限是超级用户。有两种用法，一种是字母和操作符表达式；另一种是包含数字的数字设定法。<br> 数字属性的格式是3个0-7的八进制数，数字表示的含义是：0001为所有者的执行权限，0002为所有者的执行权限，0004为组的执行权限；0020为组的写权限，0040为组的读权限，0010为组的执行权限；0100为其他人的执行权限，0200为其他人的写权限，0400是其他人的读权限；1000为粘贴位置位等。<br> eg:chmod 666 tem -&gt;代表所有用户对这个文件有读写权限<br> <strong>kill</strong>：终止一个进程。<br> <strong>vi</strong>编辑文件<br> <strong>ifconfig</strong>:用于查看和更改网络接口的地址和参数（包括IP地址，子网掩码，广播地址等）<br> <strong>ping</strong>:检测主机网络接口状态可以检测网络是否连通<br> <strong>ps</strong>:监视后台进程</p> 
<h2><a id="61_2193"></a>61、实现一个计数器</h2> 
<pre><code class="prism language-javascript">		<span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"text"</span><span class="token operator">&gt;</span>
           <span class="token operator">&lt;</span>span id<span class="token operator">=</span><span class="token string">"demo"</span><span class="token operator">&gt;</span><span class="token number">0</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"btn"</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>button id<span class="token operator">=</span><span class="token string">"add"</span><span class="token operator">&gt;</span>＋<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>button id<span class="token operator">=</span><span class="token string">"sub"</span><span class="token operator">&gt;</span>－<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        
           <span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
			<span class="token keyword">var</span> counter <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"demo"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML<span class="token punctuation">;</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>counter<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">var</span> add <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'add'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">var</span> sub <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'sub'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			add<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				 counter<span class="token operator">++</span><span class="token punctuation">;</span>
				 document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"demo"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> counter<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			sub<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				<span class="token keyword">if</span><span class="token punctuation">(</span>counter <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				   counter <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
					counter<span class="token operator">--</span><span class="token punctuation">;</span>
				    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"demo"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> counter<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> 
<h2><a id="62funcA_2224"></a>62、判断一个函数是普通函数还是构造函数（补全funcA(){}）</h2> 
<blockquote> 
 <p>构造函数中this指向new创建的实例。所以可通过在函数内部判断this是否为当前函数的实例进而判断当前函数是否作为构造函数。</p> 
</blockquote> 
<pre><code class="prism language-javascript">		<span class="token keyword">function</span> <span class="token constant">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token keyword">instanceof</span> <span class="token class-name">A</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'我是构造函数'</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'我是普通函数'</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token constant">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h2><a id="63_2240"></a>63、写一个简单的计算器类，实现±*÷，链式调用</h2> 
<p><strong>使用class类：</strong></p> 
<pre><code class="prism language-javascript">  <span class="token keyword">class</span> <span class="token class-name">myCalculator</span><span class="token punctuation">{<!-- --></span>
        <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> value
        <span class="token punctuation">}</span>
        <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">newvalue</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">+=</span> newvalue
            <span class="token keyword">return</span> <span class="token keyword">this</span>
        <span class="token punctuation">}</span>
        <span class="token function">sub</span><span class="token punctuation">(</span><span class="token parameter">newvalue</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">-=</span> newvalue
            <span class="token keyword">return</span> <span class="token keyword">this</span>
        <span class="token punctuation">}</span>
        <span class="token function">mul</span><span class="token punctuation">(</span><span class="token parameter">newvalue</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">*=</span> newvalue
            <span class="token keyword">return</span> <span class="token keyword">this</span>
        <span class="token punctuation">}</span>
        <span class="token function">division</span><span class="token punctuation">(</span><span class="token parameter">newvalue</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">/=</span> newvalue
            <span class="token keyword">return</span> <span class="token keyword">this</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">myCalculator</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> result <span class="token operator">=</span> num<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sub</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mul</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">division</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
</code></pre> 
<h2><a id="64_2271"></a>64、打印题</h2> 
<pre><code class="prism language-javascript">  <span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">var</span> x<span class="token punctuation">;</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token function">f</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token comment">//5</span>
        <span class="token function">f</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token comment">//报错，a没有定义</span>
</code></pre> 
<h2><a id="65chC_abcdbac_2282"></a>65、让所有的c都变成h(包括大写的C) ‘abcdbac’</h2> 
<pre><code class="prism language-javascript">		<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'abcdcbaC'</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'abcdcbaC'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[cC]</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span><span class="token string">'h'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<h2><a id="66repeat3shelloword4_2289"></a>66、手写一个repeat()函数，加上下面的代码运行，使每3s打印一个helloword，总共执行4次</h2> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> repeatFunc <span class="token operator">=</span> <span class="token function">repeat</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3000</span><span class="token punctuation">)</span>
<span class="token function">repeatFunc</span><span class="token punctuation">(</span><span class="token string">'helloword'</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-javascript"> 
 <span class="token keyword">const</span> <span class="token function-variable function">sleep</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">time</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
     <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
         <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span>time<span class="token punctuation">)</span>
     <span class="token punctuation">}</span><span class="token punctuation">)</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">const</span> <span class="token function-variable function">repeat</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">todo<span class="token punctuation">,</span>n<span class="token punctuation">,</span>time</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
     <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">recall</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
         <span class="token keyword">while</span><span class="token punctuation">(</span>n<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
             <span class="token keyword">await</span> <span class="token function">sleep</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span>
             <span class="token function">todo</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>data<span class="token punctuation">)</span>
         <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>
     <span class="token keyword">return</span> recall
 <span class="token punctuation">}</span>
 <span class="token keyword">const</span> repeatFunc <span class="token operator">=</span> <span class="token function">repeat</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3000</span><span class="token punctuation">)</span>
 <span class="token function">repeatFunc</span><span class="token punctuation">(</span><span class="token string">'helloword'</span><span class="token punctuation">)</span>
</code></pre> 
<h2><a id="67promiseasyncawait_2316"></a>67、promise,async,await的应用场景和区别</h2> 
<p>Promise和async/await常用的就是用来<strong>优化多重异步和异步嵌套</strong>，<strong>防止回调地狱</strong><br> 应用场景：<br> <strong>（1）需要先获取一个人的信息，在通过这个人的信息来进行另外操作，这两个异步操作需要按照先后顺序依次执行（使用async和await）</strong></p> 
<pre><code class="prism language-javascript"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getAllInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> info1 <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getinfo1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>info1<span class="token punctuation">)</span>
    <span class="token keyword">let</span> info2 <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getinfo2</span><span class="token punctuation">(</span>info1<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>info2<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">getAllInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">function</span> <span class="token function">getinfo1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
             <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">"get info1!!"</span><span class="token punctuation">)</span>            
        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>    
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">getinfo2</span><span class="token punctuation">(</span><span class="token parameter">info1</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
<span class="token comment">//模拟耗时请求</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
             <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">"get info2!!!"</span><span class="token punctuation">)</span>               
        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>    
    <span class="token punctuation">}</span><span class="token punctuation">)</span>    
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>（2）需要同时获取一个人的多方面信息，而且信息需要多个请求才能获得，但是获取的信息没有依赖关系，可以同时请求（使用promise.all）</strong></p> 
<pre><code class="prism language-javascript"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getAllInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">getinfo1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">getinfo2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
<span class="token function">getAllInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">function</span> <span class="token function">getinfo1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
             <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">"get info1!!"</span><span class="token punctuation">)</span>            
        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>    
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">getinfo2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
<span class="token comment">//模拟耗时请求</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
             <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">"get info2!!!"</span><span class="token punctuation">)</span>               
        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">2000</span><span class="token punctuation">)</span>    
    <span class="token punctuation">}</span><span class="token punctuation">)</span>    
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>区别：</strong><br> Promise链式操作，自己catch异常。async则要在函数内catch</p> 
<h2><a id="69myNew_2378"></a>69、补全myNew，让打印满足条件</h2> 
<pre><code class="prism language-javascript">		<span class="token keyword">function</span> <span class="token constant">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">A</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token keyword">function</span> <span class="token function">myNew</span><span class="token punctuation">(</span><span class="token parameter">constructor</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">constructor</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>b <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">var</span> a1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">myNew</span><span class="token punctuation">(</span><span class="token constant">A</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a1<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a1<span class="token punctuation">.</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 12</span>
</code></pre> 
<h2><a id="70_2395"></a>70、作用域（分为全局作用域，函数作用域，块级作用域）</h2> 
<p><strong>作用域就是变量和函数的可访问范围。</strong><br> es6之前 js 的作用域只有全局作用域和函数作用域两种，es6 之后又新增了块级作用域。<br> ● <strong>全局作用域</strong>主要指的是在全局作用域下声明的变量，会在函数在程序的任何地方都能访问到<br> ● <strong>函数作用域</strong>只能由函数来创建，在函数作用域下声明的变量或函数，只能在函数里面访问到，在函数外面访问不到<br> js 采用的是 <strong>静态词法作用域</strong>，也就是函数的作用域是在创建的时候就已经决定了。</p> 
<p>作用域的是有着上下级关系的，上下级关系的确定就是看函数是在哪个作用域下创建的。</p> 
<p>作用域的最大<strong>用处</strong>我觉得就是<strong>隔离变量</strong>，因为在不同的作用域下的同名变量不会有冲突</p> 
<pre><code class="prism language-javascript"><span class="token keyword">var</span> count <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
   <span class="token keyword">return</span> count <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">;</span>
   js是静态词法作用域，函数声明时词法作用域就已经确定了，
   这个题在函数声明时能够访问的是自身的词法作用域，
   如果没有就会访问全局的词法作用域。
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
   <span class="token keyword">var</span> count <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
   <span class="token keyword">return</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//20</span>
</code></pre> 
<h2><a id="71_2425"></a>71、求连续子数组的最大和</h2> 
<p>思路：<strong>动态规划问题</strong>，从头开始遍历数组，遍历到arr[i]时，连续的最大和可能为max(dp[i-1])+arr[i],也可能为arr[i].做比较即可得出哪个更大，取最大值。<br> （1）动态规划</p> 
<pre><code class="prism language-javascript"> 	   <span class="token keyword">let</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">6</span><span class="token punctuation">]</span>
       <span class="token keyword">function</span> <span class="token function">getMax</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
           <span class="token comment">//从1到j，将j之前的数字加起来，与arr[j]比较谁大，谁大就选谁</span>
           <span class="token comment">//这样层层往前压缩范围选出数字</span>
           <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length<span class="token operator">&lt;</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
               <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
           <span class="token punctuation">}</span>
           <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length<span class="token operator">===</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
               <span class="token keyword">return</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
           <span class="token punctuation">}</span>
           <span class="token keyword">var</span> res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
           res<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
           <span class="token keyword">var</span> result <span class="token operator">=</span> res<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
           <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
               <span class="token comment">//将之前的数字加起来与这个位置上的数字比较谁更大，把数字大的保留下来</span>
               res<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>res<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
               <span class="token comment">//每次比较后都选出目前最大的和</span>
               result <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span>res<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token punctuation">}</span>
           <span class="token keyword">return</span> result<span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
       <span class="token keyword">let</span> max <span class="token operator">=</span> <span class="token function">getMax</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token punctuation">;</span>
       console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>max<span class="token punctuation">)</span>
</code></pre> 
<p>（2）动态规划</p> 
<pre><code class="prism language-javascript">   <span class="token keyword">let</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">6</span><span class="token punctuation">]</span>
   <span class="token keyword">function</span> <span class="token function">getMax</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
       <span class="token keyword">let</span> dp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//首先定义一个与arr同纬度的数组</span>
       dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
       <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
           dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> dp<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token number">0</span><span class="token operator">?</span>dp<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">:</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token comment">//dp[i]是第i个元素之前的所有子数组的和的最大值</span>
           <span class="token comment">//当dp[i-1]大于0的时候，加上此时的arr[i]，才是包含第i个元素的所有子数组的最大值</span>
       <span class="token punctuation">}</span>
       dp<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">num1<span class="token punctuation">,</span>num2</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> num2 <span class="token operator">-</span> num1<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token keyword">return</span> dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   <span class="token keyword">let</span> max <span class="token operator">=</span> <span class="token function">getMax</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token punctuation">;</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>max<span class="token punctuation">)</span>
</code></pre> 
<h2><a id="72_2474"></a>72、字符串相加/大数相加</h2> 
<p><strong>思路</strong>：可以从字符串末尾的数字开始依次相加，需要用flag标志位记录是否进位<br> <strong>大数相加</strong>:可以将数组转为字符串之后相加<br> JS的Number类型是遵循IEEE754规范表示的，也就是JS能精确表示的数字是有限的，JS可以精确到个位的最大整数是2的53次方，超过这个范围精度就会丢失，造成JS无法判断大小。可以将number转换为string解决。<br> IEEE754标准规定了64位双精度浮点数的格式，最高的1位是符号位，然后是11位指数，剩下的52位都是有效数字。</p> 
<pre><code class="prism language-javascript"> <span class="token comment">//给定两个字符串形式的非负整数 num1 和num2 ，计算它们的和。</span>
        <span class="token keyword">let</span> str1 <span class="token operator">=</span> <span class="token string">'1234'</span>
        <span class="token keyword">let</span> str2 <span class="token operator">=</span> <span class="token string">'22'</span>
        <span class="token keyword">var</span> <span class="token function-variable function">addStrings</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">num1<span class="token punctuation">,</span> num2</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//可以从字符串末尾的数字开始依次相加，需要用flag标志位记录是否进位</span>
            <span class="token keyword">let</span> i <span class="token operator">=</span> num1<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token keyword">let</span> j <span class="token operator">=</span> num2<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token keyword">let</span> temp <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">//目前相加的位置上的数字</span>
            <span class="token keyword">let</span> flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">//记录是否进位</span>
            <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span> <span class="token comment">//返回的字符串</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">||</span> j <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">||</span> flag<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">let</span> n1 <span class="token operator">=</span> <span class="token operator">+</span>num1<span class="token punctuation">[</span>i<span class="token operator">--</span><span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//+num1[i--] 这个加号是让它变成数字类型</span>
                <span class="token keyword">let</span> n2 <span class="token operator">=</span> <span class="token operator">+</span>num2<span class="token punctuation">[</span>j<span class="token operator">--</span><span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">;</span>
                temp <span class="token operator">=</span> n1 <span class="token operator">+</span> n2 <span class="token operator">+</span> flag<span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>temp <span class="token operator">&gt;</span> <span class="token number">9</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    temp <span class="token operator">=</span> temp <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">;</span>
                    flag <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                    flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                res <span class="token operator">=</span> temp <span class="token operator">+</span> res<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> res<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">addStrings</span><span class="token punctuation">(</span>str1<span class="token punctuation">,</span>str2<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<h2><a id="73_2509"></a>73、搜索二维矩阵</h2> 
<p>使用二分查找先找到target在哪一行，然后在这一行内继续二分查找</p> 
<pre><code class="prism language-javascript"> 		<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
        <span class="token keyword">let</span> target <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span>

        <span class="token keyword">var</span> <span class="token function-variable function">search</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">matrix<span class="token punctuation">,</span> target</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">let</span> m <span class="token operator">=</span> matrix<span class="token punctuation">.</span>length<span class="token punctuation">;</span><span class="token comment">//行数</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>m <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token keyword">let</span> n <span class="token operator">=</span> matrix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span><span class="token comment">//获取列数</span>

            <span class="token keyword">let</span> low <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">let</span> high <span class="token operator">=</span> m <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token keyword">let</span> mid<span class="token punctuation">;</span>
            <span class="token keyword">let</span> row <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token comment">//用二分查找在target哪一行</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>low <span class="token operator">&lt;=</span> high<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                mid <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token punctuation">(</span>low <span class="token operator">+</span> high<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token keyword">if</span> <span class="token punctuation">(</span>matrix<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> target<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    high <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>matrix<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token punctuation">[</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> target<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    low <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                    row <span class="token operator">=</span> mid<span class="token punctuation">;</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>row <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token comment">//继续用二分查找在这一行查找</span>
            low <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            high <span class="token operator">=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>

            <span class="token keyword">while</span> <span class="token punctuation">(</span>low <span class="token operator">&lt;=</span> high<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                mid <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token punctuation">(</span>low <span class="token operator">+</span> high<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token keyword">if</span> <span class="token punctuation">(</span>matrix<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">&gt;</span> target<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    high <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>matrix<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">&lt;</span> target<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    low <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>


        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">search</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h2><a id="74_2564"></a>74、进制转换</h2> 
<p><strong>（1）Number.toString(radix)</strong><br> 这个函数只能将十进制数字转换为任意进制的字符串形式，同样，radix表示进制，取值2~36。</p> 
<pre><code class="prism language-javascript">		<span class="token keyword">function</span> <span class="token function">toBase</span><span class="token punctuation">(</span><span class="token parameter">m<span class="token punctuation">,</span>n</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> m<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toBase</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toBase</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p><strong>（2）原生写</strong></p> 
<pre><code class="prism language-javascript"> <span class="token comment">//十进制到2~9任意进制的转化</span>
         <span class="token keyword">function</span> <span class="token function">toBase</span><span class="token punctuation">(</span><span class="token parameter">m<span class="token punctuation">,</span>n</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">let</span> baseString <span class="token operator">=</span> <span class="token string">''</span>
            <span class="token keyword">while</span><span class="token punctuation">(</span>m <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>m <span class="token operator">%</span> n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                m <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>m <span class="token operator">/</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token comment">//求出来的结果是反的</span>
            <span class="token comment">//比如100的二进制是1100100,但是上面求出来是0010011</span>
            <span class="token keyword">while</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                baseString <span class="token operator">+=</span> arr<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> baseString<span class="token punctuation">;</span>
         <span class="token punctuation">}</span>
         console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toBase</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toBase</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h2><a id="75_2598"></a>75、大数相乘</h2> 
<h2><a id="76_2600"></a>76、事件监听</h2> 
<h2><a id="77_2602"></a>77、快排，哈希，插入排序</h2> 
<h3><a id="_2604"></a>插入排序</h3> 
<pre><code class="prism language-javascript"><span class="token keyword">var</span> <span class="token function-variable function">insert</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">nums</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">var</span> temp<span class="token punctuation">,</span>onner<span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">var</span> temp <span class="token operator">=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            onner <span class="token operator">=</span> i<span class="token punctuation">;</span>
            <span class="token keyword">while</span><span class="token punctuation">(</span>temp <span class="token operator">&lt;</span> nums<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> onner <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                i<span class="token operator">--</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> temp<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> 
<h2><a id="78_2621"></a>78、随机生成一个颜色</h2> 
<pre><code class="prism language-javascript"><span class="token keyword">function</span> <span class="token function">getColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">var</span> colors <span class="token operator">=</span> <span class="token string">"rgba("</span><span class="token punctuation">;</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				colors <span class="token operator">+=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">256</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">","</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			colors <span class="token operator">+=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">")"</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> colors
		<span class="token punctuation">}</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<h2><a id="79kuaishougongchengKuaiShouGongCheng_2635"></a>79、“kuai-shou-gong-cheng"转化为"KuaiShouGongCheng”（变驼峰命名）</h2> 
<pre><code class="prism language-javascript"><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">'kuai-shou-gong-cheng'</span><span class="token comment">//变为驼峰命名</span>
<span class="token keyword">let</span> strArr <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> strArr<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	strArr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> strArr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> strArr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>strArr<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<h2><a id="80HashMap_2646"></a>80、HashMap的数据结构</h2> 
<h2><a id="810_2648"></a>81、手写：字符串补0</h2> 
<h2><a id="82_2650"></a>82、值传递和引用值传递打印题</h2> 
<pre><code class="prism language-javascript">		<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token literal-property property">a</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//传进来一个obj的副本（也就是说副本也指向obj）</span>
            obj<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//副本和obj指向同一块内存，一个变都变</span>
            obj <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token literal-property property">a</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
            obj<span class="token punctuation">.</span>b <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token function">test</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token comment">//{a:1}</span>
</code></pre> 
<p>原因：ES中的所有函数的参数都是按值传递的，当函数参数为引用类型时，相当于将参数复制了一个副本到局部变量，这个副本就是指向内存中的地址。</p> 
<h2><a id="83_2665"></a>83、只出现一次的数字</h2> 
<p>给定一个非空整数数组，除了某个元素只出现一次以外，其余每个元素均出现两次。找出那个只出现了一次的元素。</p> 
<blockquote> 
 <p>示例 1:<br> 输入: [2,2,1]<br> 输出: 1</p> 
</blockquote> 
<p>思路：利用异或运算<br> a ^ a = 0<br> a ^ 0 = a<br> a ^ b ^ c = a ^ c ^ b</p> 
<pre><code class="prism language-javascript"><span class="token keyword">var</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token function-variable function">singleNumber</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        result <span class="token operator">^=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> number <span class="token operator">=</span> <span class="token function">singleNumber</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span>
</code></pre> 
<h2><a id="84_2691"></a>84、多数元素</h2> 
<p>给定一个大小为 n 的数组，找到其中的多数元素。多数元素是指在数组中出现次数 大于 ⌊ n/2 ⌋ 的元素。</p> 
<blockquote> 
 <p>示例 1：<br> 输入：[3,2,3]<br> 输出：3</p> 
</blockquote> 
<p><strong>思路</strong>：用map保存数组元素和出现次数的映射，当出现次数大于n/2时，就返回<br> Map类似于对象，是键值对的集合（键不局限于字符串，各种类型都可以当做键）。</p> 
<pre><code class="prism language-javascript">		<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> <span class="token function-variable function">majorityElement</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">nums</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">const</span> n <span class="token operator">=</span> nums<span class="token punctuation">.</span>length <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
            <span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//map[属性]可以取到这个属性的值，判断这个值是否存在，不存在 赋值为1，存在赋值+1</span>
                map<span class="token punctuation">[</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> map<span class="token punctuation">[</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">?</span> map<span class="token punctuation">[</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">1</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>map<span class="token punctuation">[</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">&gt;=</span> n<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">return</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> <span class="token keyword">null</span>

        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> number <span class="token operator">=</span> <span class="token function">majorityElement</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span>
</code></pre> 
<h2><a id="85_2721"></a>85、合并两个有序数组</h2> 
<blockquote> 
 <p>给你两个按 非递减顺序 排列的整数数组 nums1 和 nums2，另有两个整数 m 和 n ，分别表示 nums1 和 nums2<br> 中的元素数目。 输入：nums1 = [1,2,3,0,0,0], m = 3, nums2 = [2,5,6], n = 3<br> 输出：[1,2,2,3,5,6] 解释：需要合并 [1,2,3] 和 [2,5,6] 。 合并结果是 [1,2,2,3,5,6]<br> ，其中斜体加粗标注的为 nums1 中的元素。</p> 
</blockquote> 
<p><strong><strong>思路</strong>：先将nums2插入到nums1中，再排序<br> （1）普通排序</strong></p> 
<pre><code class="prism language-javascript"><span class="token keyword">var</span> nums1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> m <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>nums2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> n <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token function-variable function">merge</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">nums1<span class="token punctuation">,</span> m<span class="token punctuation">,</span> nums2<span class="token punctuation">,</span> n</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    nums1<span class="token punctuation">.</span>length <span class="token operator">=</span> m<span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> nums2<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        nums1<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>nums2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    nums1<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>compare<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token parameter">num1<span class="token punctuation">,</span>num2</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> num1 <span class="token operator">-</span> num2<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">merge</span><span class="token punctuation">(</span>nums1<span class="token punctuation">,</span>m<span class="token punctuation">,</span>nums2<span class="token punctuation">,</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>nums1<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>（2）插入排序</strong></p> 
<pre><code class="prism language-javascript"><span class="token keyword">var</span> nums1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> m <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span> nums2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span> n <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token function-variable function">merge</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">nums1<span class="token punctuation">,</span> m<span class="token punctuation">,</span> nums2<span class="token punctuation">,</span> n</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    nums1<span class="token punctuation">.</span>length <span class="token operator">=</span> m<span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> nums2<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        nums1<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>nums2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">insert</span><span class="token punctuation">(</span>nums1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token keyword">var</span> <span class="token function-variable function">insert</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">nums</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">var</span> temp<span class="token punctuation">,</span>onner<span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">var</span> temp <span class="token operator">=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            onner <span class="token operator">=</span> i<span class="token punctuation">;</span>
            <span class="token keyword">while</span><span class="token punctuation">(</span>temp <span class="token operator">&lt;</span> nums<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> onner <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                i<span class="token operator">--</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> temp<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token function">merge</span><span class="token punctuation">(</span>nums1<span class="token punctuation">,</span>m<span class="token punctuation">,</span>nums2<span class="token punctuation">,</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>nums1<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h2><a id="86_2780"></a>86、外观数列</h2> 
<p>给定一个正整数 n ，输出外观数列的第 n 项。<br> 「外观数列」是一个整数序列，从数字 1 开始，序列中的每一项都是对前一项的描述。<br> <img src="https://images2.imgbox.com/14/72/EttwWiCP_o.png" alt="在这里插入图片描述"><br> 第一项是数字 1<br> 描述前一项，这个数是 1 即 “ 一 个 1 ”，记作 “11”<br> 描述前一项，这个数是 11 即 “ 二 个 1 ” ，记作 “21”<br> 描述前一项，这个数是 21 即 “ 一 个 2 + 一 个 1 ” ，记作 “1211”<br> 描述前一项，这个数是 1211 即 “ 一 个 1 + 一 个 2 + 二 个 1 ” ，记作 “111221”<br> 要 描述 一个数字字符串，首先要将字符串分割为 最小 数量的组，每个组都由连续的最多 相同字符 组成。然后对于每个组，先描述字符的数量，然后描述字符，形成一个描述组。<br> <strong>思路</strong>：递归+遍历</p> 
<pre><code class="prism language-javascript">		<span class="token keyword">var</span> <span class="token function-variable function">countAndSay</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
         <span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">===</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">'1'</span><span class="token punctuation">;</span>
         <span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
             <span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token function">countAndSay</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//递归,把上一个字符返回</span>
             <span class="token keyword">var</span> temp <span class="token operator">=</span> str<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//给temp初始化，让temp为temp[0]</span>
             <span class="token keyword">var</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//计数</span>
             <span class="token keyword">var</span> ans <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span><span class="token comment">//保存字符</span>
             <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>str<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//遍历</span>
                 <span class="token keyword">if</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">===</span>temp<span class="token punctuation">)</span> count<span class="token operator">++</span><span class="token punctuation">;</span><span class="token comment">//一样计数</span>
                 <span class="token keyword">else</span><span class="token punctuation">{<!-- --></span><span class="token comment">//不一样的话把之前的赋值到ans中，重新给temp,count赋值</span>
                     ans <span class="token operator">+=</span> <span class="token string">''</span> <span class="token operator">+</span> count <span class="token operator">+</span> temp<span class="token punctuation">;</span>
                     temp <span class="token operator">=</span> str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
                     count <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
                 <span class="token punctuation">}</span>
                 <span class="token keyword">if</span> <span class="token punctuation">(</span>i<span class="token operator">===</span>str<span class="token punctuation">.</span>length<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> ans <span class="token operator">+=</span> <span class="token string">''</span> <span class="token operator">+</span> count <span class="token operator">+</span> temp<span class="token punctuation">;</span>
             <span class="token punctuation">}</span>
             <span class="token keyword">return</span> ans<span class="token punctuation">;</span>
         <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">countAndSay</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//1</span>
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">countAndSay</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//21</span>
</code></pre> 
<h2><a id="87_2817"></a>87、二叉树中序遍历（栈）（左根右）</h2> 
<p><strong>（1）递归</strong></p> 
<pre><code class="prism language-javascript"><span class="token keyword">function</span> <span class="token function">inOrder</span><span class="token punctuation">(</span><span class="token parameter">root</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">var</span> arr<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token comment">//递归基</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>root<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token function">inOrder</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>
	arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">inOrder</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> arr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>（2）栈</strong></p> 
<pre><code class="prism language-javascript"><span class="token keyword">function</span> <span class="token function">visit</span><span class="token punctuation">(</span><span class="token parameter">root<span class="token punctuation">,</span>s</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">while</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token comment">//先访问左子树，因此将将将根节点压入栈中，访问的时候先访问左子树，在访问右子树</span>
		s<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>
		root<span class="token operator">=</span>root<span class="token punctuation">.</span>left<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">inOrder</span><span class="token punctuation">(</span><span class="token parameter">root</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">var</span> s<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>arr<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token function">visit</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>length<span class="token operator">&lt;=</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token comment">//如果当前弹出的是左子树，那么先将左子树根节点存储起来，访问右子树</span>
		<span class="token comment">//如果当前是根节点，那么访问当前根节点的右子树，相当于上一个根节点左子树遍历完成，开始遍历根节点</span>
		root<span class="token operator">=</span>s<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
		root<span class="token operator">=</span>root<span class="token punctuation">.</span>right<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="88Promise10_2857"></a>88、手写Promise并发控制调度器。大概是：一次性可能发10个请求，但是请求池控制一次性只能处理三个，请求池内的请求一个处理完后推进下一个请求</h2> 
<h2><a id="89_2859"></a>89、递归数组求和</h2> 
<pre><code class="prism language-javascript">	<span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">var</span> len <span class="token operator">=</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>len <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>len <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				<span class="token keyword">return</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
				<span class="token keyword">return</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token function">sum</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//计算的是 1+sum([2,3])-&gt; 1+2+sum([3])</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="91_2876"></a>91、二维数组排列组合：</h2> 
<p>输入：[[A,B],[a,b],[1,2]]<br> 输出：[Aa1,Aa2,Ab1,Ab2,Ba1,Ba2,Bb1,Bb2]</p> 
<pre><code class="prism language-javascript">	<span class="token keyword">function</span> <span class="token function">serialArray</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">var</span> lengthArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token keyword">var</span> productArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token keyword">var</span> length <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				<span class="token keyword">var</span> len <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
				lengthArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">var</span> product <span class="token operator">=</span> i <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> arr<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length <span class="token operator">*</span> productArr<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
				productArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>product<span class="token punctuation">)</span><span class="token punctuation">;</span>
				length <span class="token operator">*=</span> len<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				<span class="token keyword">var</span> resultItem <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
				<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
					resultItem <span class="token operator">+=</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>i <span class="token operator">/</span> productArr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">%</span> lengthArr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>resultItem<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">return</span> result
		<span class="token punctuation">}</span>
		<span class="token keyword">var</span> myArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span><span class="token string">'B'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">serialArray</span><span class="token punctuation">(</span>myArr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h2><a id="92abbccccaaa_a1b2c4a3_2907"></a>92、输入abbccccaaa 输出a1b2c4a3</h2> 
<pre><code class="prism language-javascript"><span class="token keyword">var</span> <span class="token function-variable function">compressString</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token constant">S</span></span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
       <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token string">''</span>
       <span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token number">0</span>
       <span class="token comment">//记录字符出现次数，默认为1</span>
       <span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token number">1</span>
       <span class="token keyword">while</span><span class="token punctuation">(</span>index <span class="token operator">&lt;</span> <span class="token constant">S</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
           <span class="token comment">//如果当前字符不等于下一个字符，则停止当前字符的计数，统计到result中，否则计数+1</span>
           <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">S</span><span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">!==</span> <span class="token constant">S</span><span class="token punctuation">[</span>index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
               result <span class="token operator">+=</span> <span class="token constant">S</span><span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">+</span> count
               <span class="token comment">//当前字符计数完成后 重置计数为默认值</span>
               count <span class="token operator">=</span> <span class="token number">1</span>
           <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
               count<span class="token operator">++</span>
           <span class="token punctuation">}</span>
            index<span class="token operator">++</span>
       <span class="token punctuation">}</span>
       <span class="token keyword">return</span> result<span class="token punctuation">.</span>length <span class="token operator">&gt;=</span> <span class="token constant">S</span><span class="token punctuation">.</span>length <span class="token operator">?</span> <span class="token constant">S</span> <span class="token operator">:</span> result
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h2><a id="93_2931"></a>93、反转链表</h2> 
<pre><code class="prism language-javascript"><span class="token keyword">var</span> <span class="token function-variable function">reverseList</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">head</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 判断头节点是否为空或者是否只有头节点</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>head <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> head<span class="token punctuation">.</span>next <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> head<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 生成的新节点，递归调用</span>
    <span class="token keyword">const</span> newHead <span class="token operator">=</span> <span class="token function">reverseList</span><span class="token punctuation">(</span>head<span class="token punctuation">.</span>next<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 将头节点的下一个指针指向头节点，也就是反转</span>
    head<span class="token punctuation">.</span>next<span class="token punctuation">.</span>next <span class="token operator">=</span> head<span class="token punctuation">;</span>
    <span class="token comment">// 头节点的下一个指针指向null</span>
    head<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> newHead<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h2><a id="94_Interfacetype_2949"></a>94、 Interface和type的区别</h2> 
<ul><li>type可以直接声明联合类型,interface不支持这种写法。（type unionType = myType1 | myType2）</li><li>type可以声明基本类型（type myString = string）</li><li>type和interface都可以用来表示接口，也都支持继承，并且可以互相继承。但interface的继承是通过extends实现的，type是通过&amp;实现的。</li></ul> 
<h2><a id="95never__void__2955"></a>95、never 和 void 的区别</h2> 
<p>void表示没有任何类型（可以被赋值为null和undefined）<br> never表示一个永远不存在的值，拥有void返回值类型的函数能正常运行，拥有never返回值类型的函数无法正常返回，无法终止，或者抛出异常</p> 
<h2><a id="96_TypeScript__JavaScript__npm__2960"></a>96、如何使 TypeScript 项目引入并识别编译为 JavaScript 的 npm 库包？</h2> 
<h2><a id="97_ExcludeOmitMergeIntersectionOverwrite_2962"></a>97、简述工具类型 <code>Exclude</code>、<code>Omit</code>、<code>Merge</code>、<code>Intersection</code>、<code>Overwrite</code>的作用</h2> 
<p>（1）<strong>Exclude&lt;T,U&gt;</strong>:从T中排除出可分配给U的元素</p> 
<pre><code class="prism language-typescript"><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token operator">=</span> <span class="token builtin">number</span><span class="token operator">|</span><span class="token builtin">string</span><span class="token operator">|</span><span class="token builtin">boolean</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">B</span></span> <span class="token operator">=</span> <span class="token builtin">number</span><span class="token operator">|</span><span class="token builtin">boolean</span>
<span class="token keyword">type</span> <span class="token class-name">Foo</span> <span class="token operator">=</span> Exclude<span class="token operator">&lt;</span><span class="token constant">A</span><span class="token punctuation">,</span><span class="token constant">B</span><span class="token operator">&gt;</span> 相当于<span class="token keyword">type</span> <span class="token class-name">Foo</span> <span class="token operator">=</span> <span class="token builtin">string</span>
</code></pre> 
<p>(2)<strong>Omit&lt;T,K&gt;</strong>:忽略T中的某些属性</p> 
<pre><code class="prism language-typescript"><span class="token keyword">type</span> <span class="token class-name">Foo</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    name<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">;</span>
    age<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">Bar</span> <span class="token operator">=</span> Omit<span class="token operator">&lt;</span>Foo<span class="token punctuation">,</span><span class="token string">'age'</span><span class="token operator">&gt;</span>
相当于
<span class="token keyword">type</span> <span class="token class-name">Bar</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    name<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>(3)<strong>Merge&lt;O1,O2&gt;</strong>:是将两个对象的属性合并<br> (4)<strong>Intersection&lt;T,U&gt;</strong>:取T和U的交集属性<br> (5)<strong>Overwrite&lt;T,U&gt;</strong>:是用U的属性覆盖T的相同属性<br> (6)<strong>Partial</strong>:生成一个新类型，该类型与T拥有相同的属性，但是属性都是可选<br> (7)<strong>Compute&lt;A &amp; B&gt;</strong>: 是将交叉类型合并</p> 
<h2><a id="98keyof__typeof__2992"></a>98、keyof 和 typeof 关键字的作用</h2> 
<p><strong>keyof 索引类型查询操作符</strong> 获取索引类型的属性名，构成联合类型。<br> <strong>typeof</strong> 获取一个变量或对象的类型。</p> 
<h2><a id="99__2997"></a>99、 字符串翻转</h2> 
<p>(1)</p> 
<pre><code class="prism language-javascript"><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">'hello world'</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> newStr <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newStr<span class="token punctuation">)</span>
</code></pre> 
<p>(2)</p> 
<pre><code class="prism language-javascript"><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">"i am good man "</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> newStr <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>str<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> s <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span>length<span class="token operator">-</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
    newStr <span class="token operator">+=</span> s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newStr<span class="token punctuation">)</span><span class="token comment">//nam doog ma i</span>
<span class="token comment">//从尾部开始遍历字符串，然后逐个拼接字符，得到最终的结果。</span>

</code></pre> 
<h2><a id="100_3021"></a>100、去除字符串中重复字符</h2> 
<pre><code class="prism language-javascript"><span class="token keyword">let</span> str <span class="token operator">=</span><span class="token string">"hello world"</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> newStr <span class="token operator">=</span> <span class="token string">''</span>
<span class="token keyword">let</span> newArray <span class="token operator">=</span>Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//先把字符串转为数组，再变成set类去重，去重后再转为数组</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newArray<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//把去重后的数组转为字符串</span>

</code></pre> 
<h2><a id="101min_3031"></a>101、实现一个栈，要求实现min函数以返回栈中的最小值</h2> 
<p><strong>思路实现：</strong></p> 
<p><strong>push(x)函数</strong>：重点为保持辅助栈stack2中的元素是非严格降序的。<br> 1.将x压入数据栈stack1<br> 2.若辅助栈stack2为空或者x小于等于辅助栈stack2的栈顶元素，则将x压入辅助栈stack2<br> <strong>pop()函数</strong>：重点为保持数据栈和辅助栈的元素一致性。<br> 1.执行数据栈stack1出栈，将出栈元素记为y<br> 2.若y等于辅助栈stack2的栈顶元素，则执行stack2出栈<br> <strong>top()函数</strong>：直接返回数据栈stack1的栈顶元素<br> <strong>min()函数</strong>：直接返回辅助栈stack2的栈顶元素</p> 
<p><strong>复杂度分析：</strong></p> 
<ul><li>时间复杂度O(1)：push()、pop()、top()、min()四个函数的时间复杂度均为常数级别</li><li>空间复杂度O(N)：当共有N个待入栈元素时，辅助栈stack2最差情况下存储N个元素，使用O(N)额外空间。</li></ul> 
<pre><code class="prism language-javascript"><span class="token keyword">var</span> <span class="token function-variable function">MinStack</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>stack1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//数据栈</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>stack2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//辅助栈</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">MinStack</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">push</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>stack1<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//元素压入数据栈</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>stack2<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//若辅助栈为空 直接压入</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>stack2<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span> 
		<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>stack2<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>stack2<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&gt;=</span> x<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//若辅助栈栈顶元素大于等于该元素 即数据栈中最小值更新</span>
				<span class="token keyword">this</span><span class="token punctuation">.</span>stack2<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>	
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">MinStack</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">pop</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">var</span> pop <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>stack1<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>pop <span class="token operator">==</span> <span class="token keyword">this</span><span class="token punctuation">.</span>stack2<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>stack2<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//若删除的元素等于辅助栈的栈顶元素 即该元素是数据栈中的最小值 要删除辅助栈栈顶元素 更新最小值 </span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>stack2<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">MinStack</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">top</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//返回数据栈的栈顶元素</span>
	<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>stack1<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>stack1<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">MinStack</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">min</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//返回数据栈中的最小值 即辅助栈的栈顶元素</span>
	<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>stack2<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>stack2<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
 <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MinStack</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
 obj<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 obj<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 obj<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 obj<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<h2><a id="102_3084"></a>102、使用两个栈实现一个队列</h2> 
<p>**思路：**定义两个栈A和B，分别为入队栈和出队栈（栈：先进后出；队列：先进先出）<br> appendTail操作即放到入队栈中<br> deleteHead则从出队栈中拿（前提是入队栈先全部清空，放到出队栈中），如果没有则返回-1</p> 
<pre><code class="prism language-javascript"><span class="token comment">//使用两个栈实现一个队列</span>
<span class="token keyword">var</span> <span class="token function-variable function">CQueue</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>stackA <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>stackB <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">CQueue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">appendTail</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token comment">//从stack1入队</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>stackA<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">CQueue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">deleteHead</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token comment">//当stack2不空时，从stack2出队</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>stackB<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>stackB<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
    	<span class="token comment">//当stack2空时，将stack1中的所有元素依次压入stack2中</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>stackA<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>stackB<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>stackA<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>stackB<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        	<span class="token comment">//此时stack1为空，以全部颠倒放入stack2，取出stack2中栈顶的元素出栈即为出队</span>
            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>stackB<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> queue <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
queue<span class="token punctuation">.</span><span class="token function">appendTail</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
queue<span class="token punctuation">.</span><span class="token function">appendTail</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
queue<span class="token punctuation">.</span><span class="token function">appendTail</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>queue<span class="token punctuation">)</span>
queue<span class="token punctuation">.</span><span class="token function">deleteHead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>queue<span class="token punctuation">)</span>

</code></pre> 
<h2><a id="103n_3127"></a>103、写一个函数来产生第n个斐波那契数</h2> 
<h2><a id="10416_3129"></a>104、将数字转化为16进制</h2> 
<h2><a id="105_compose__3131"></a>105、 compose 函数柯里化</h2> 
<h2><a id="106_3133"></a>106、计算数组交集</h2> 
<h2><a id="107idname_3135"></a>107、把id排序后对应的name拿出来</h2> 
<pre><code class="prism language-javascript"><span class="token keyword">let</span> list <span class="token operator">=</span><span class="token punctuation">[</span>
  <span class="token punctuation">{<!-- --></span><span class="token literal-property property">id</span><span class="token operator">:</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'部门A'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{<!-- --></span><span class="token literal-property property">id</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'部门B'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{<!-- --></span><span class="token literal-property property">id</span><span class="token operator">:</span><span class="token number">34</span><span class="token punctuation">,</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'部门C'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{<!-- --></span><span class="token literal-property property">id</span><span class="token operator">:</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'部门D'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
<span class="token comment">//先存储每个id对应的item;把id单独拿出来排序；再拿出排序对应后的name</span>
<span class="token keyword">function</span> <span class="token function">getSortList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
  <span class="token keyword">let</span> map <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">result<span class="token punctuation">,</span>item</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
    result<span class="token punctuation">[</span>item<span class="token punctuation">.</span>id<span class="token punctuation">]</span> <span class="token operator">=</span> item
    <span class="token keyword">return</span> result
  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> idArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  list<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span>index</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
    idArray<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  idArray<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span><span class="token keyword">return</span> a<span class="token operator">-</span>b<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> nameSortArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  idArray<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span>index</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
    nameSortArray<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>map<span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> nameSortArray
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getSortList</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="108__3164"></a>108、 组合和高阶函数；</h4> 
<h4><a id="109_110NodeparentNodeNodefirstChildNodelastChild__NodechildNodesNodepreviousSibling__NodenextSibling_3166"></a>109、 什么时候可以使用函数声明和表达式110、上下遍历——Node.parentNode、Node.firstChild、Node.lastChild 和 Node.childNodes；左右遍历——Node.previousSibling 和 Node.nextSibling；</h4> 
<h4><a id="111_DOM__3168"></a>111、性能——当有很多节点时，修改 DOM 的成本会很高，应该知道如何使用文档片段和节点缓存。</h4> 
<h4><a id="113_3172"></a>113、有这样一个场景，页面中有个列表，数据量非常大，如何保障页面不卡顿？（用虚拟列表）</h4> 
<h3><a id="1_3174"></a>（1）数据不分页</h3> 
<p>有的列表无法使用分页方式来加载，我们一般把这种列表叫长列表。（数据有多少就展示多少，例如，有1000条数据要在客户端全部展示，该怎么去优化列表数据的展示呢？）</p> 
<p>因为DOM元素的创建和渲染需要的时间成本很高，在大多数情况下，完整渲染列表所需要的的时间不可接受。所以在只对可见区域渲染的情况下，可以达到极高的初次渲染性能。</p> 
<p><strong>非完整渲染长列表</strong>：一般有两种方式：<strong>懒渲染</strong>（是常见的无限滚动，每次只渲染一部分（比如10条），等剩余部分滚动到可见区域，就再渲染另一部分）和<strong>可视区域渲染</strong>（只渲染可见部分，不可见部分不渲染，在滚动条滚动时动态更新列表项）。</p> 
<p><strong>虚拟列表</strong>是指可视区域渲染的列表。是一种对长列表的优化方案。（虚拟列表的实现上，分为两种情况，列表项是固定高度的，列表项是动态高度的）</p> 
<p>滚动容器元素：一般是window对象，我们可以通过布局的方式，在某个页面中指定一个或多个滚动容器元素。只要某个元素能在内部产生横向或纵向的滚动，那么它就是滚动容器元素。</p> 
<p>可滚动区域：滚动容器元素的内部内容区域。假设有100条数据，每个列表项的高度是50，那么可滚动区域的高度就是100*50.可滚动区域当前的具体高度值可以通过滚动容器元素的scrollHeight属性获取。</p> 
<p>可视区域：滚动容器元素的视觉可见区域，如果容器元素是window对象，可视区域就是浏览器的视口大小。</p> 
<h4><a id="2_3190"></a>（2）数据分页的两种方法</h4> 
<p>大多数场景下，常见的列表展示方式是分页加载。分页加载又分为两种：普通的分页加载和无限滚动式的分页加载。</p> 
<p>普通的分页加载通常需要用户进行点击进行列表的翻页操作，这种方式一般会在一页数据展示完毕的底部都会显示数据分页的页码，上一页，下一页，加载更多等按钮。</p> 
<p>无限滚动式的分页加载时根据用户鼠标或者触摸板的向下滚动一直加载下一页数据，直到数据加载完毕，比如知乎首页就用的是这种方式。这种方式的优点是当用户向上滚动时不会再去加载上一页的数据。</p> 
<p>还有的是采用两种方式结合进行数据展示，展示给用户的数据前几页是无限滚动的分页加载，当滚动到某页时，则需要用户点击触发下一页的数据的加载。（比如思否的首页）</p> 
<h3><a id="3_3200"></a>（3）实现虚拟列表</h3> 
<p>实现虚拟列表就是在处理用户滚动时，要改变列表在可视区域的渲染部分。</p> 
<p>计算当前可见区域起始数据的<strong>startIndex</strong>,计算当前可见区域结束数据的<strong>endIndex</strong>,计算当前可见区域的数据，并渲染到页面中。计算startIndex对应的数据在整个列表中的<strong>偏移位置startOffset</strong>,并设置到列表上。计算endIndex对应的数据相对于可滚动区域最底部的<strong>偏移位置endOffset</strong>，并设置到列表上。</p> 
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-oHJKrYI6-1667490285257)(https://image-static.segmentfault.com/227/201/2272011973-5bc939b290143)]</p> 
<p>先假设每个列表项的高度都是30px,</p> 
<h2><a id="11410_3210"></a>114、表格实现如何做性能优化，比如有10万数据</h2> 
<p>A：分页、虚拟列表、缓存。</p> 
<h2><a id="115domoffsetHeight_3214"></a>115、有一个会频繁触发的函数，该函数依赖页面中某些dom的offsetHeight属性，如何保障页面不卡顿？</h2> 
<p>A：答出节流即可，让其手写实现节流，能答出缓存offsetHeight的方案最佳（结合防抖）。</p> 
<h2><a id="115DOM_3218"></a>115、是否了解文档片段，在什么情况下使用？（DOM）</h2> 
<p>文档片段createDocumentFragment</p> 
<p>A：在频繁对DOM操作时使用即可。 实际上浏览器会做优化，使用文档片段和不使用差不多。</p> 
<p>我们在使用原生js进行开发时，经常会用到两种更新DOM节点的方法，innerHTML和appendChild(),innerHTML会完全替换掉原先的节点内容，如果我们想向元素追加子节点的话，会使用appendChild()方法，appendChild()方法接收的参数类型为单个的节点类型对象，如果想要添加多个子节点时，只能通过循环来实现。对DOM的操作次数越多，性能消耗会越大，循环添加节点，循环了多少次，就对DOM操作了多少次，性能消耗是很大的。我们可以用createDocumentFragment把要插入的节点进行打包，然后一次性添加。</p> 
<p>DocumentFragments是DOM节点，不是主DOM树的一部分。通常的用例是创建文档片段，将元素附加到文档片段，然后将文档片段附加到DOM树。文档片段存在于内存中，不在DOM树中，所以将子元素插入到文档片段时不会引起页面回流。</p> 
<h2><a id="116DOM_3228"></a>116、如何判断一个元素是否在可视区域内？（DOM）</h2> 
<p>（1）滚动监听+scrollTop+offsetTop+innerHeight</p> 
<p>scrollTop是指网页元素被滚动条卷去的部分。</p> 
<p>offsetTop:元素相对于父元素的位置。</p> 
<p>innerHeight:当前浏览器窗口的大小。（需要注意兼容性问题，IE8及更早以前没有提供取得浏览器窗口大小的属性，不过提供了API：document.documentElement.clientHeight/clientWidth,它可以返回元素内容及其内边距所占据的空间大小。）</p> 
<p>三个属性的关系如图所示，所以当scrollTop+innerHeight&gt;offsetTop时，在视口内，否则在可视区域外。</p> 
<p><img src="https://images2.imgbox.com/e9/eb/f1hckUSo_o.png" alt="img"></p> 
<p>（2）滚动监听+getBoundingClientRect()</p> 
<p>getBoundingClientRect方法返回元素的大小及其相对视口的位置。返回一个对象，对象属性包括top,right，bottom,left,width,height等属性。</p> 
<p>所以当getBoundingClientRect().top&gt;=0或者&lt;offsetHeight时，元素就处于可视区域。</p> 
<h2><a id="117span_3248"></a>117、获取页面中第一个span的字体颜色</h2> 
<p>A：getComputedStyle(document.querySelector(‘span’)).color</p> 
<h2><a id="118ES6__ES5__3252"></a>118、ES6 代码转成 ES5 代码的实现思路是什么？</h2> 
<p>A：答出解析成AST，转化代码即可。</p> 
<p>Babel是一个JS编译器，是一个工具链。主要用于将采用ES2015+语法编写的代码转换为向后兼容的JS语法，从而在老版本的浏览器中执行。Babel的本质就是操作AST来完成代码的转义。</p> 
<p><strong>解析</strong>（将模板解析成AST）----&gt;<strong>转换</strong>（将高版本语法的AST转换成支持低版本语法的AST）----&gt;<strong>生成</strong>（将AST转换成字符串形式的低版本代码）；经过这三个阶段，代码就被babel转译成功了。<br> <strong>AST（抽象语法树Abstract syntax tree）</strong>：<br> 用JS中的对象来表示节点树，对象中的属性用来保存节点所需的各种数据，和vnode很像。</p> 
<pre><code class="prism language-javascript"><span class="token punctuation">{<!-- --></span>
<span class="token literal-property property">Tag</span><span class="token operator">:</span>’div’<span class="token punctuation">,</span>
<span class="token literal-property property">Type</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
<span class="token literal-property property">Parent</span><span class="token operator">:</span><span class="token keyword">undefined</span><span class="token punctuation">,</span>
<span class="token literal-property property">Children</span><span class="token operator">:</span><span class="token punctuation">[</span>
<span class="token punctuation">{<!-- --></span>
Ta<span class="token operator">**</span>加粗样式<span class="token operator">**</span>g<span class="token operator">:</span>’p’<span class="token punctuation">,</span>
<span class="token literal-property property">Type</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="_3276"></a></h2> 
<h2><a id="119webpack_3278"></a>119、webpack打包有什么优化手段可以让打包出的内容尽量小或打包速度加快</h2> 
<h3><a id="1_3280"></a>（1）减少打包时间：</h3> 
<p>1.1优化loader,首先优化babel，babel会将代码转成模板字符串并生成AST，然后继续转换成新的代码，转换的代码越多，效率越低。可以优化一下loader的搜索范围，只对js文件使用babel,只在src文件夹下查找，不去查找node_modules下的代码，因为它是编译过的。</p> 
<pre><code class="prism language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token comment">// 对js文件使用babel</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">'babel-loader'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">include</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'src'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token comment">// 只在src文件夹下查找</span>
            <span class="token comment">// 不去查找的文件夹路径，node_modules下的代码是编译过得，没必要再去处理一遍</span>
            <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span> 
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>1.2可以将babel编译过的文件缓存起来，主要在于设置cacheDirectory.</p> 
<p>loader: ‘babel-loader?cacheDirectory=true’</p> 
<p>1.3happyPack</p> 
<p>因为受限于Node的单线程运行，所以webpack的打包也是单线程的，使用happyPack可以将loader的同步转为并行，从而执行loader的编译等待时间。</p> 
<pre><code class="prism language-javascript"><span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">loaders</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">include</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'src'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">'happypack/loader?id=happybabel'</span> <span class="token comment">//id对应插件下的配置的id</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">HappyPack</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'happybabel'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">loaders</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'babel-loader?cacheDirectory'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">threads</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token comment">// 线程开启数</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span>
</code></pre> 
<h3><a id="2_3324"></a>（2）减少打包大小：</h3> 
<p>2.1按需加载</p> 
<p>首页加载文件越小越好，将每个页面单独打包为一个文件，（同样对于loadsh类库也可以使用按需加载），原理即是使用的时候再去下载对应的文件，返回一个promise，当promise成功后再去执行回调。</p> 
<p>路由组件按需加载；第三方组件和插件也按需加载引入；对于一些插件，如果只是在个别组件中用到，也可以不在main.js中引入，而是在组件中按需引入。</p> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/index'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> require<span class="token punctuation">.</span><span class="token function">ensure</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@/components/index'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/about'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> require<span class="token punctuation">.</span><span class="token function">ensure</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@/components/about'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre> 
<p>2.2代码压缩</p> 
<h2><a id="120fetch_3347"></a>120、实现限制fetch并发数</h2> 
<p><img src="https://images2.imgbox.com/47/5d/JMPj2Na9_o.png" alt="img"></p> 
<p>批量请求：要实现批量请求，而且不需要按顺序发起请求，所以可以存到数组里面，然后进行遍历，取出数组中的每一项去fetch中进行调用。</p> 
<p>可控制并发度：控制并发数的同时，每结束一个请求就发起一个新的请求。可以添加一个请求队列，只要维护这个队列，每次发起一个请求就添加进去，结束一个就丢出来。</p> 
<p>全部请求结束，就执行callback。不能按照正常的顺序在函数调用之后执行，但是每次fetch有返回结果会调用then或者catch，我们可以在这个时候判断请求数组是否为空就可以知道是否全部被调用完。</p> 
<p>（1）递归</p> 
<pre><code class="prism language-javascript"><span class="token keyword">function</span> <span class="token function">sendResquest</span><span class="token punctuation">(</span><span class="token parameter">urls<span class="token punctuation">,</span> max<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">let</span> urlsCopy <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span> urls<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//防止影响外部urls变量</span>
  <span class="token keyword">function</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">function</span> <span class="token function">Handle</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          count<span class="token operator">--</span><span class="token punctuation">;</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'end 当前并发数为: '</span><span class="token operator">+</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">if</span><span class="token punctuation">(</span>urlsCopy<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//还有未请求的则递归</span>
              <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//并发数为0则表示全部请求完成</span>
              <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      count<span class="token operator">++</span><span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'start 当前并发数为: '</span><span class="token operator">+</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">//请求</span>
      <span class="token function">fetch</span><span class="token punctuation">(</span>urlsCopy<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>Handle<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>Handle<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">//并发数不足时递归</span>
      count <span class="token operator">&lt;</span> max <span class="token operator">&amp;&amp;</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//几率并发数</span>
  <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>



<span class="token keyword">let</span> urls <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> k</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> k<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token keyword">let</span> <span class="token function-variable function">fetch</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">idx</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">let</span> timeout <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1e4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">resolve</span><span class="token punctuation">(</span>idx<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> timeout<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
 
<span class="token keyword">let</span> max <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
 
<span class="token keyword">let</span> <span class="token function-variable function">callback</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'run callback'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//执行</span>
<span class="token function">sendResquest</span><span class="token punctuation">(</span>urls<span class="token punctuation">,</span> max<span class="token punctuation">,</span> callback<span class="token punctuation">)</span>

</code></pre> 
<pre><code class="prism language-javascript">（<span class="token number">2</span>）Promise
<span class="token keyword">function</span> <span class="token function">sendResquest</span><span class="token punctuation">(</span><span class="token parameter">urls<span class="token punctuation">,</span> max<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> 
  <span class="token keyword">let</span> pending_count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">//并发数</span>
  idx <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//当前请求的位置</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>pending_count <span class="token operator">&lt;</span> max<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> 
      <span class="token function">_fetch</span><span class="token punctuation">(</span>urls<span class="token punctuation">[</span>idx<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> 
  <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">_fetch</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> 
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>url<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span> 
      pending_count<span class="token operator">++</span><span class="token punctuation">;</span> 
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">':start'</span><span class="token punctuation">,</span><span class="token string">'并发数: '</span><span class="token operator">+</span>pending_count<span class="token punctuation">)</span><span class="token punctuation">;</span> 
      <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span> 
      pending_count<span class="token operator">--</span><span class="token punctuation">;</span> 
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">':done'</span><span class="token punctuation">,</span><span class="token string">'并发数: '</span><span class="token operator">+</span>pending_count<span class="token punctuation">)</span><span class="token punctuation">;</span> 
      <span class="token function">_fetch</span><span class="token punctuation">(</span>urls<span class="token punctuation">[</span>idx<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
      pending_count <span class="token operator">||</span> callback <span class="token operator">&amp;&amp;</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>



<span class="token keyword">let</span> urls <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> k</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> k<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token keyword">let</span> <span class="token function-variable function">fetch</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">idx</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">let</span> timeout <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1e4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">resolve</span><span class="token punctuation">(</span>idx<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> timeout<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
 
<span class="token keyword">let</span> max <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
 
<span class="token keyword">let</span> <span class="token function-variable function">callback</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'run callback'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//执行</span>
<span class="token function">sendResquest</span><span class="token punctuation">(</span>urls<span class="token punctuation">,</span> max<span class="token punctuation">,</span> callback<span class="token punctuation">)</span>

</code></pre> 
<p>121、数组乱序<br> A：https://www.cnblogs.com/guolao/p/10173537.html</p> 
<p>122、判断二叉树是否对称<br> A：<br> var isSymmetric = function(root) { if(root === null) return true; const dfs = (left, right) =&gt; { if (!left &amp;&amp; !right) { return true; } else if (!left &amp;&amp; right || left &amp;&amp; !right) { return false; } return left.val === right.val &amp;&amp; dfs(left.left, right.right) &amp;&amp; dfs(left.right, right.left); } return dfs(root.left, root.right)}</p> 
<h2><a id="124Loadashget_3458"></a>124、手写Loadash中的get函数</h2> 
<h2><a id="125_3460"></a>125、断点续传如何实现</h2> 
<h2><a id="126_3462"></a>126、图片的上传接口如何写</h2> 
<h2><a id="127_3464"></a>127、如何保证上传的图片在服务器上不重复</h2> 
<h2><a id="128_3466"></a>128、上传的进度条如何得到</h2> 
<h2><a id="129UUID_3468"></a>129、短链UUID算法</h2> 
<h2><a id="130N_3470"></a>130、算法题，倒置N阶矩阵</h2> 
<h2><a id="131_3472"></a>131、给定一个数组，没有重复数字，输出全部排列组合</h2> 
<h2><a id="132dombom_3474"></a>132、什么是dom和bom?</h2> 
<p><strong>DOM</strong>是文档对象模型，它指的是把文档当做一个对象，这个对象主要定义了处理网页内容的方法和接口。</p> 
<p><strong>BOM</strong>是浏览器对象模型，它指的是把浏览器当做一个对象来对待，这个对象主要定义了与浏览器进行交互的方法和接口。</p> 
<h2><a id="133_3480"></a>133、排序的时间，空间复杂度</h2>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/06b032b140ae3f8cbeb588be6be703e3/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">安装SeisMix计算跨密度混合面</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2d785170d08625f1f6098f256ce7f1e1/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">quartus-版本比较</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程爱好者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151260"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>