<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>运行在JVM上的编程语言，认为只有java你就狭隘了 - 编程爱好者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="运行在JVM上的编程语言，认为只有java你就狭隘了" />
<meta property="og:description" content="一、背景 公司国外市场部的同事，外包写了一个discord机器人！！！ 要我们配合部署，给了个jar；因为是部署到线上环境，为了安全让外包人员给了源码进行Review，git拉下来一看，国粹，什么鬼！！！ 抱着文件后缀，问了下强大的GPT，才知道原来不止是java语言可以运行在JVM上。。。 下面我就简单的介绍一下这种语言
二、运行在JVM上并与Java紧密集成的编程语言-Clojure Clojure 是一种动态函数式编程语言，它运行在 Java 虚拟机（JVM）上并与 Java 紧密集成。 Clojure 是由 Rich Hickey开发的，它结合了函数式编程的思想和强大的并发性能，提供了一种简洁、可扩展和可靠的编程语言。
以下是 Clojure 的一些主要特点和概念：
函数式编程：Clojure 是一门函数式编程语言，强调使用纯函数和不可变数据。它鼓励将计算视为函数的求值，避免副作用和可变状态，从而提高代码的可读性、可维护性和并发性。
不可变数据：在 Clojure 中，数据结构是不可变的，这意味着一旦创建，就无法修改。当对数据进行操作时，会返回一个新的数据结构，而不会改变原始数据。这种不可变性有助于避免竞态条件和共享状态的问题，并简化了并发编程。
持久化数据结构：Clojure 提供了一系列高效的持久化数据结构，如列表、矢量、集合和映射。这些数据结构在进行修改时可以共享大部分不变的部分，从而提供了高效的操作和内存使用。
Lisp 历史和语法：Clojure 是一门 Lisp 方言，它继承了 Lisp 的强大元编程能力和简洁的语法。Clojure 的代码以表达式的形式表示，并使用方括号来组织代码。这种语法使得 Clojure 具有强大的宏系统和代码生成能力。
并发编程：Clojure 提供了一些强大的并发编程工具，如原子（atom）、代理（agent）和软件事务内存（Software Transactional Memory，简称 STM）。这些工具使得编写并发代码变得更加简单和安全，可以有效地处理共享状态和多线程环境。
Java 互操作性：由于运行在 JVM 上，Clojure 可以无缝地与 Java 代码进行交互和集成。Clojure 可以直接调用 Java 类和方法，并且可以访问 Java 生态系统中丰富的库和工具。
社区支持和库生态系统：Clojure 拥有活跃的社区和丰富的库生态系统。有许多开源库可供选择，涵盖了各种领域，从 Web 开发到数据处理和科学计算。
Clojure 的设计目标是简洁、具有表达力和可靠性。它适用于各种应用场景，从命令行工具到大规模分布式系统。 作为一门函数式编程语言，Clojure提供了一种不同于传统命令式语言的思考方式，并且在并发编程方面具有很强的优势。
三、Clojure怎么打jar包 在 Windows 环境下，您可以使用 Leiningen 构建工具将 Clojure 代码打包成 JAR 文件。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bchobby.github.io/posts/ec2a246ba39937919021c69799721717/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-09-04T17:02:05+08:00" />
<meta property="article:modified_time" content="2023-09-04T17:02:05+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程爱好者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程爱好者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">运行在JVM上的编程语言，认为只有java你就狭隘了</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3>一、背景</h3> 
<blockquote> 
 <p>公司国外市场部的同事，外包写了一个discord机器人！！！ 要我们配合部署，给了个jar；因为是部署到线上环境，为了安全让外包人员给了源码进行Review，git拉下来一看，国粹，什么鬼！！！ 抱着文件后缀，问了下强大的GPT，才知道原来不止是java语言可以运行在JVM上。。。 下面我就简单的介绍一下这种语言</p> 
</blockquote> 
<h3>二、运行在JVM上并与Java紧密集成的编程语言-Clojure</h3> 
<blockquote> 
 <p>Clojure 是一种动态函数式编程语言，它运行在 Java 虚拟机（JVM）上并与 Java 紧密集成。 Clojure 是由 Rich Hickey开发的，它结合了函数式编程的思想和强大的并发性能，提供了一种简洁、可扩展和可靠的编程语言。</p> 
</blockquote> 
<p>以下是 Clojure 的一些主要特点和概念：</p> 
<ol><li> <p>函数式编程：Clojure 是一门函数式编程语言，强调使用纯函数和不可变数据。它鼓励将计算视为函数的求值，避免副作用和可变状态，从而提高代码的可读性、可维护性和并发性。</p> </li><li> <p>不可变数据：在 Clojure 中，数据结构是不可变的，这意味着一旦创建，就无法修改。当对数据进行操作时，会返回一个新的数据结构，而不会改变原始数据。这种不可变性有助于避免竞态条件和共享状态的问题，并简化了并发编程。</p> </li><li> <p>持久化数据结构：Clojure 提供了一系列高效的持久化数据结构，如列表、矢量、集合和映射。这些数据结构在进行修改时可以共享大部分不变的部分，从而提供了高效的操作和内存使用。</p> </li><li> <p>Lisp 历史和语法：Clojure 是一门 Lisp 方言，它继承了 Lisp 的强大元编程能力和简洁的语法。Clojure 的代码以表达式的形式表示，并使用方括号来组织代码。这种语法使得 Clojure 具有强大的宏系统和代码生成能力。</p> </li><li> <p>并发编程：Clojure 提供了一些强大的并发编程工具，如原子（atom）、代理（agent）和软件事务内存（Software Transactional Memory，简称 STM）。这些工具使得编写并发代码变得更加简单和安全，可以有效地处理共享状态和多线程环境。</p> </li><li> <p>Java 互操作性：由于运行在 JVM 上，Clojure 可以无缝地与 Java 代码进行交互和集成。Clojure 可以直接调用 Java 类和方法，并且可以访问 Java 生态系统中丰富的库和工具。</p> </li><li> <p>社区支持和库生态系统：Clojure 拥有活跃的社区和丰富的库生态系统。有许多开源库可供选择，涵盖了各种领域，从 Web 开发到数据处理和科学计算。</p> </li></ol> 
<blockquote> 
 <p>Clojure 的设计目标是简洁、具有表达力和可靠性。它适用于各种应用场景，从命令行工具到大规模分布式系统。 作为一门函数式编程语言，Clojure提供了一种不同于传统命令式语言的思考方式，并且在并发编程方面具有很强的优势。</p> 
</blockquote> 
<h3>三、Clojure怎么打jar包</h3> 
<blockquote> 
 <p>在 Windows 环境下，您可以使用 Leiningen 构建工具将 Clojure 代码打包成 JAR 文件。</p> 
</blockquote> 
<p>以下是在 Windows 上使用 Leiningen 打包 Clojure 代码的步骤：</p> 
<h4>第一步、安装java环境</h4> 
<blockquote> 
 <p>确保您已经安装了 Java 开发工具包（JDK）并配置了环境变量 JAVA_HOME 指向 JDK 的安装目录。您可以从 Oracle 官方网站下载并安装 JDK。（==我是安装的jdk11，因为外包项目开发就是在11上面开发的==）</p> 
 <p>这玩意是每个java开发的入门课，就不多做阐述了</p> 
</blockquote> 
<h4>第二步、安装打包工具</h4> 
<blockquote> 
 <p>下载并安装 Leiningen。可以从 Leiningen 的官方网站（<a href="https://link.juejin.cn?target=https%3A%2F%2Fleiningen.org%2F" rel="nofollow" title="leiningen.org/">leiningen.org/</a> ↗）上下载 lein.bat 文件，并将其放置在系统的可执行路径中。</p> 
 <p>例如，您可以将 lein.bat 文件放在 C:\Windows\System32 目录下。</p> 
</blockquote> 
<h5>将lein.bat放到可执行目录</h5> 
<blockquote> 
 <p><code>@echo off setLocal EnableExtensions EnableDelayedExpansion set LEIN_VERSION=2.10.0 if "%LEIN_VERSION:~-9%" == "-SNAPSHOT" ( set SNAPSHOT=YES ) else ( set SNAPSHOT=NO ) set ORIGINAL_PWD=%CD% :: If ORIGINAL_PWD ends with a backslash (such as C:\), :: we need to escape it with a second backslash. if "%ORIGINAL_PWD:~-1%x" == "\x" set "ORIGINAL_PWD=%ORIGINAL_PWD%\" call :FIND_DIR_CONTAINING_UPWARDS project.clj if "%DIR_CONTAINING%" neq "" cd "%DIR_CONTAINING%" :: LEIN_JAR and LEIN_HOME variables can be set manually. :: Only set LEIN_JAR manually if you know what you are doing. :: Having LEIN_JAR pointing to one version of Leiningen as well as :: having a different version in PATH has been known to cause problems. if "x%LEIN_HOME%" == "x" ( set LEIN_HOME=!USERPROFILE!\.lein ) SET RC=1 if "x%LEIN_JAR%" == "x" set "LEIN_JAR=!LEIN_HOME!\self-installs\leiningen-!LEIN_VERSION!-standalone.jar" if "%1" == "self-install" goto SELF_INSTALL if "%1" == "upgrade" goto UPGRADE if "%1" == "downgrade" goto UPGRADE if not exist "%~dp0..\src\leiningen\version.clj" goto RUN_NO_CHECKOUT :: Running from source checkout. call :SET_LEIN_ROOT "%~dp0.." set "bootstrapfile=!LEIN_ROOT!\leiningen-core\.lein-bootstrap" rem in .lein-bootstrap there is only one line where each path is concatenated to each other via a semicolon, there's no semicolon at the end rem each path is NOT inside double quotes and may contain spaces (even semicolons but this is not supported here) in their names, rem but they won't/cannot contain double quotes " or colons : in their names (at least on windows it's not allowed/won't work) rem tested when folders contain spaces and when LEIN_ROOT contains semicolon if not "x%DEBUG%" == "x" echo LEIN_ROOT=!LEIN_ROOT! rem if not "%LEIN_ROOT:;=%" == "%LEIN_ROOT%" ( rem oddly enough /G:/ should've worked but doesn't where / they say it's console rem findstr is C:\Windows\System32\findstr.exe echo.!LEIN_ROOT! | findstr /C:";" &gt;nul 2&gt;&amp;1 &amp;&amp; ( rem aka errorlevel is 0 aka the string ";" was found echo Your folder structure !LEIN_ROOT! contains at least one semicolon in its name echo This is not allowed and would break things with the generated bootstrap file echo Please correct this by renaming the folders to not contain semicolons in their name del !bootstrapfile! &gt;nul 2&gt;&amp;1 echo You'll also have to recreate the bootstrap file just to be sure it has semicolon-free names inside echo the bootstrap file ^(which was just deleted^) is: !bootstrapfile! echo and the info on how to do that is: goto RUN_BOOTSTRAP ) if not exist !bootstrapfile! goto NO_DEPENDENCIES findstr \^" "!bootstrapfile!" &gt;nul 2&gt;&amp;1 if errorlevel 1 goto PARSE_BOOTSTRAPFILE echo double quotes detected inside file: !bootstrapfile! echo this should not be happening goto RUN_BOOTSTRAP :PARSE_BOOTSTRAPFILE rem will proceed to set LEIN_LIBS and surround each path from bootstrap file in double quotes and separate it from others with a semicolon rem the paths inside the bootstrap file do not already contain double quotes but may contain spaces rem note worthy: the following won't work due to a hard 1022bytes limit truncation in the variable that was set rem set /p LEIN_LIBS=&lt;!bootstrapfile! rem so this will work instead: rem for /f "usebackq delims=" %%j in (!bootstrapfile!) do set LEIN_LIBS=%%j rem just set LEIN_LIBS="%%j" is uglier/hacky but would also work here instead of the below: for /f "usebackq delims=" %%j in ("!bootstrapfile!") do ( set tmpline=%%j call :PROCESSPATH ) rem remove trailing semicolon, if any if "!LEIN_LIBS:~-1!x" == ";x" SET LEIN_LIBS=!LEIN_LIBS:~0,-1! if not "x%DEBUG%" == "x" echo LEIN_LIBS=!LEIN_LIBS! if "x!LEIN_LIBS!" == "x" goto NO_DEPENDENCIES rem semicolons in pathes are not supported, spaces are supported by quoting CLASSPATH as a whole rem (no end semicolon required) set CLASSPATH=!LEIN_LIBS!;!LEIN_ROOT!\src;!LEIN_ROOT!\resources :: Apply context specific CLASSPATH entries if exist "%~dp0..\.lein-classpath" ( for /f "tokens=* delims= " %%i in ("%~dp0..\.lein-classpath") do ( set CONTEXT_CP=%%i ) if NOT "x!CONTEXT_CP!"=="x" ( set CLASSPATH=!CONTEXT_CP!;!CLASSPATH! ) ) goto SETUP_JAVA :RUN_NO_CHECKOUT :: Not running from a checkout. if not exist "%LEIN_JAR%" goto NO_LEIN_JAR set CLASSPATH=%LEIN_JAR% if exist ".lein-classpath" ( for /f "tokens=* delims= " %%i in (.lein-classpath) do ( set CONTEXT_CP=%%i ) if NOT "x!CONTEXT_CP!"=="x" ( set CLASSPATH=!CONTEXT_CP!;!CLASSPATH! ) ) :SETUP_JAVA if not "x%DEBUG%" == "x" echo CLASSPATH=!CLASSPATH! :: ################################################## if "x!JAVA_CMD!" == "x" set JAVA_CMD=java if "x!LEIN_JAVA_CMD!" == "x" set LEIN_JAVA_CMD=%JAVA_CMD% rem remove quotes from around java commands for /f "usebackq delims=" %%i in ('!JAVA_CMD!') do set JAVA_CMD=%%~i for /f "usebackq delims=" %%i in ('!LEIN_JAVA_CMD!') do set LEIN_JAVA_CMD=%%~i if "x%JVM_OPTS%" == "x" set JVM_OPTS=%JAVA_OPTS% goto RUN :DownloadFile set LAST_HTTP_CLIENT= rem parameters: TargetFileName Address if "x%HTTP_CLIENT%" == "x" goto TRY_POWERSHELL %HTTP_CLIENT% %1 %2 SET RC=%ERRORLEVEL% goto EXITRC :TRY_POWERSHELL call powershell -? &gt;nul 2&gt;&amp;1 if NOT ERRORLEVEL 0 goto TRY_WGET set LAST_HTTP_CLIENT=powershell rem By default: Win7 = PS2, Win 8.0 = PS3 (maybe?), Win 8.1 = PS4, Win10 = PS5 powershell -Command "&amp; {param($a,$f) if (($PSVersionTable.PSVersion | Select-Object -ExpandProperty Major) -lt 4) { exit 111; } else { $client = New-Object System.Net.WebClient; [Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12; $client.Proxy.Credentials = [System.Net.CredentialCache]::DefaultNetworkCredentials; $client.DownloadFile($a, $f); }}" ""%2"" ""%1"" SET RC=%ERRORLEVEL% goto EXITRC :TRY_WGET call wget --help &gt;nul 2&gt;&amp;1 if NOT ERRORLEVEL 0 goto TRY_CURL set LAST_HTTP_CLIENT=wget call wget -O %1 %2 SET RC=%ERRORLEVEL% goto EXITRC :TRY_CURL call curl --help &gt;nul 2&gt;&amp;1 if NOT ERRORLEVEL 0 GOTO NO_HTTP_CLIENT rem We set CURL_PROXY to a space character below to pose as a no-op argument set LAST_HTTP_CLIENT=curl set CURL_PROXY= if NOT "x%HTTPS_PROXY%" == "x" set CURL_PROXY="-x %HTTPS_PROXY%" call curl %CURL_PROXY% -f -L -o %1 %2 SET RC=%ERRORLEVEL% goto EXITRC :NO_LEIN_JAR echo. echo %LEIN_JAR% can not be found. echo You can try running "lein self-install" echo or change LEIN_JAR environment variable echo or edit lein.bat to set appropriate LEIN_JAR path. echo. goto EXITRC :NO_DEPENDENCIES echo. echo Leiningen is missing its dependencies. :RUN_BOOTSTRAP echo Please run "lein bootstrap" in the leiningen-core/ directory echo with a stable release of Leiningen. See CONTRIBUTING.md for details. echo. goto EXITRC :SELF_INSTALL if exist "%LEIN_JAR%" ( echo %LEIN_JAR% already exists. Delete and retry. goto EXITRC ) for %%f in ("%LEIN_JAR%") do set LEIN_INSTALL_DIR="%%~dpf" if not exist %LEIN_INSTALL_DIR% mkdir %LEIN_INSTALL_DIR% echo Downloading Leiningen now... set LEIN_JAR_URL=https://github.com/technomancy/leiningen/releases/download/%LEIN_VERSION%/leiningen-%LEIN_VERSION%-standalone.jar call :DownloadFile "%LEIN_JAR%.pending" "%LEIN_JAR_URL%" SET RC=%ERRORLEVEL% if not %RC% == 0 goto DOWNLOAD_FAILED if not exist "%LEIN_JAR%.pending" goto DOWNLOAD_FAILED move /y "%LEIN_JAR%.pending" "%LEIN_JAR%" &gt;nul 2&gt;&amp;1 SET RC=%ERRORLEVEL% goto EXITRC :DOWNLOAD_FAILED SET RC=3 if "%ERRORLEVEL%" == "111" ( echo. echo You seem to be using an old version of PowerShell that echo can't download files via TLS 1.2. echo Please upgrade your PowerShell to at least version 4.0, e.g. via echo https://www.microsoft.com/en-us/download/details.aspx?id=50395 echo. echo Alternatively you can manually download echo %LEIN_JAR_URL% echo and save it as echo %LEIN_JAR% echo. echo If you have "curl" or "wget" you can try setting the HTTP_CLIENT echo variable, but the TLS problem might still persist. echo. echo a^) set HTTP_CLIENT=wget -O echo b^) set HTTP_CLIENT=curl -f -L -o echo. echo NOTE: Make sure to *not* add double quotes when setting the value echo of HTTP_CLIENT goto EXITRC ) SET RC=3 del "%LEIN_JAR%.pending" &gt;nul 2&gt;&amp;1 echo. echo Failed to download %LEIN_JAR_URL% echo. echo It is possible that the download failed due to "powershell", echo "curl" or "wget"'s inability to retrieve GitHub's security certificate. echo. if "%LAST_HTTP_CLIENT%" == "powershell" ( echo The PowerShell failed to download the latest Leiningen version. echo Try to use "curl" or "wget" to download Leiningen by setting up echo the HTTP_CLIENT environment variable with one of the following echo values: echo. echo a^) set HTTP_CLIENT=wget -O echo b^) set HTTP_CLIENT=curl -f -L -o echo. echo NOTE: Make sure to *not* add double quotes when setting the value echo of HTTP_CLIENT ) if "%LAST_HTTP_CLIENT%" == "curl" ( echo Curl failed to download the latest Leiningen version. echo Try to use "wget" to download Leiningen by setting up echo the HTTP_CLIENT environment variable with one of the following echo values: echo. echo a^) set HTTP_CLIENT=wget -O echo. echo NOTE: Make sure to *not* add double quotes when setting the value echo of HTTP_CLIENT echo. echo If neither curl nor wget can download Leiningen, please seek echo for help on Leiningen's GitHub project issues page. ) if "%LAST_HTTP_CLIENT%" == "wget" ( echo Curl failed to download the latest Leiningen version. echo Try to use "wget" to download Leiningen by setting up echo the HTTP_CLIENT environment variable with one of the following echo values: echo. echo. a^) set HTTP_CLIENT=curl -f -L -o echo. echo NOTE: make sure *not* to add double quotes to set the value of echo HTTP_CLIENT echo. echo If neither curl nor wget can download Leiningen, please seek echo for help on Leiningen's GitHub project issues page. ) if %SNAPSHOT% == YES echo See README.md for SNAPSHOT build instructions. echo. goto EOF :UPGRADE set LEIN_BAT=%~dp0%~nx0 set TARGET_VERSION=%2 if "x%2" == "x" set TARGET_VERSION=stable echo The script at %LEIN_BAT% will be upgraded to the latest %TARGET_VERSION% version. set /P ANSWER=Do you want to continue (Y/N)? if /i {%ANSWER%}=={y} goto YES_UPGRADE if /i {%ANSWER%}=={yes} goto YES_UPGRADE echo Aborted. goto EXITRC :YES_UPGRADE echo Downloading latest Leiningen batch script... set LEIN_BAT_URL=https://github.com/technomancy/leiningen/raw/%TARGET_VERSION%/bin/lein.bat set TEMP_BAT=%~dp0temp-lein-%RANDOM%%RANDOM%.bat call :DownloadFile "%LEIN_BAT%.pending" "%LEIN_BAT_URL%" if ERRORLEVEL 0 goto EXEC_UPGRADE del "%LEIN_BAT%.pending" &gt;nul 2&gt;&amp;1 echo Failed to download %LEIN_BAT_URL% goto EXITRC :EXEC_UPGRADE move /y "%LEIN_BAT%.pending" "%TEMP_BAT%" &gt;nul 2&gt;&amp;1 echo. echo Upgrading... set LEIN_JAR= call "%TEMP_BAT%" self-install ( rem This is self-modifying batch code. Use brackets to pre-load the exit command. rem This way, script execution does not depend on whether the replacement script rem has that command at the *very same* file position as the calling batch file. move /y "%TEMP_BAT%" "%LEIN_BAT%" &gt;nul 2&gt;&amp;1 exit /B %ERRORLEVEL% ) :NO_HTTP_CLIENT echo. echo ERROR: Neither PowerShell, Wget, or Curl could be found. echo Make sure at least one of these tools is installed echo and is in PATH. You can get them from URLs below: echo. echo PowerShell: "http://www.microsoft.com/powershell" rem echo Wget: "http://users.ugent.be/~bpuype/wget/" rem Note: Stale URL. HTTP 404. rem Alternative: wget64.exe compiled by J. Simoncic, rename to wget.exe rem MD5 1750c130c5daca8b347d3f7e34824c9b rem Check: https://www.virustotal.com/en/file/abf507f8240ed41aac74c9df6de558c88c2f11d7770f02.8.4-SNAPSHOT5f1cc544b9c08b/analysis/ echo Wget: "https://eternallybored.org/misc/wget/" echo Curl: "http://curl.haxx.se/dlwiz/?type=bin&amp;os=Win32&amp;flav=-&amp;ver=2000/XP" echo. goto EXITRC :SET_LEIN_ROOT set LEIN_ROOT=%~f1 goto EOF :: Find directory containing filename supplied in first argument :: looking in current directory, and looking up the parent :: chain until we find it, or run out :: returns result in %DIR_CONTAINING% :: empty string if we don't find it :FIND_DIR_CONTAINING_UPWARDS set DIR_CONTAINING=%CD% set LAST_DIR= :LOOK_AGAIN if "%DIR_CONTAINING%" == "%LAST_DIR%" ( :: didn't find it set DIR_CONTAINING= goto EOF ) if EXIST "%DIR_CONTAINING%\%1" ( :: found it - use result in DIR_CONTAINING goto EOF ) set LAST_DIR=%DIR_CONTAINING% call :GET_PARENT_PATH "%DIR_CONTAINING%\.." set DIR_CONTAINING=%PARENT_PATH% goto LOOK_AGAIN :GET_PARENT_PATH set PARENT_PATH=%~f1 goto EOF :RUN :: We need to disable delayed expansion here because the %* variable :: may contain bangs (as in test!). There may also be special :: characters inside the TRAMPOLINE_FILE. setLocal DisableDelayedExpansion set "TRAMPOLINE_FILE=%TEMP%\lein-trampoline-%RANDOM%.bat" del "%TRAMPOLINE_FILE%" &gt;nul 2&gt;&amp;1 set ERRORLEVEL= set RC=0 "%LEIN_JAVA_CMD%" -client %LEIN_JVM_OPTS% ^ -Dfile.encoding=UTF-8 ^ -Dclojure.compile.path="%DIR_CONTAINING%/target/classes" ^ -Dleiningen.original.pwd="%ORIGINAL_PWD%" ^ -cp "%CLASSPATH%" clojure.main -m leiningen.core.main %* SET RC=%ERRORLEVEL% if not %RC% == 0 goto EXITRC if not exist "%TRAMPOLINE_FILE%" goto EOF call "%TRAMPOLINE_FILE%" del "%TRAMPOLINE_FILE%" &gt;nul 2&gt;&amp;1 goto EOF :PROCESSPATH rem will surround each path with double quotes before appending it to LEIN_LIBS for /f "tokens=1* delims=;" %%a in ("%tmpline%") do ( set LEIN_LIBS=!LEIN_LIBS!"%%a"; set tmpline=%%b ) if not "%tmpline%" == "" goto PROCESSPATH goto EOF :EXITRC exit /B %RC% :EOF </code></p> 
</blockquote> 
<h5>安装Leiningen</h5> 
<p>配置好可执行文件之后，运行==lein self-install==命令进行安装。可在任意目录下执行这个命令。</p> 
<blockquote> 
 <p><code>D:\coding20200401\lucky-master&gt;lein self-install Downloading Leiningen now... </code></p> 
</blockquote> 
<blockquote> 
 <p>lein self-install 是 Leiningen（一款用于构建和管理 Clojure 项目的构建工具）提供的命令之一。它的作用是将 Leiningen 自身安装到本地系统上，以便您可以在命令行中直接使用 lein 命令而无需手动下载和配置 Leiningen。</p> 
 <p>当您运行 lein self-install 命令时，它会自动从 Leiningen 的官方仓库下载最新版本的 Leiningen JAR 文件，并将其安装到本地的 Leiningen 目录中。通常情况下，Leiningen JAR 文件会被安装在用户的主目录下的 .lein/self-installs 目录中（例如在 Windows 上是 C:\Users\YourUsername.lein\self-installs）。</p> 
 <p>安装完成后，您可以在命令行中直接使用 lein 命令来执行各种 Leiningen 的任务，如创建新的 Clojure 项目、编译和运行代码、管理依赖项等。 lein self-install 的作用是简化了安装和配置 Leiningen 的过程，使您能够快速开始使用 Leiningen 构建和管理 Clojure 项目。</p> 
</blockquote> 
<h4>第三步、使用lein命令打包</h4> 
<ol><li> <p>打开命令提示符（Command Prompt）或 PowerShell。</p> </li><li> <p>进入存储有 Clojure 项目的目录。在命令提示符中使用 cd 命令切换到项目目录下。</p> </li><li> <p>确保项目根目录中包含一个 project.clj 文件。如果没有，请创建一个，该文件用于描述项目的配置和依赖项。</p> </li></ol> 
<p>项目结构示例：</p> 
<blockquote> 
 <p><code>lucky-master ---- doc ---- resources ---- src ---- target ---- CHANGELOG.md ---- docker-compose.yml ---- Dockerfile ---- LICENSE.md ---- poker.iml ---- project.clj ---- README.md </code></p> 
</blockquote> 
<ol><li>运行以下命令来打包项目；这一个命令运行成功就打包好</li></ol> 
<blockquote> 
 <p><code>lein uberjar // 这将使用 Leiningen 编译 Clojure 代码并生成一个可执行的 JAR 文件。生成的 JAR 文件将位于项目根目录的 `target` 子目录下。 </code></p> 
</blockquote> 
<ol><li>运行成功后，最后两句类似及时正确的</li></ol> 
<blockquote> 
 <p><code>Created D:\coding20230904\lucky-master\target\lucky-0.1.0-SNAPSHOT.jar Created D:\coding20230904\lucky-master\target\lucky-0.1.0-SNAPSHOT-standalone.jar </code></p> 
</blockquote> 
<h3>四、使用Java命令运行</h3> 
<blockquote> 
 <p>使用 Java 运行时环境来运行生成的 JAR 文件。在命令提示符中执行以下命令：</p> 
</blockquote> 
<blockquote> 
 <p><code>java -jar D:\coding20230904\lucky-master\target\lucky-0.1.0-SNAPSHOT.jar </code></p> 
</blockquote> 
<p>请将 <code>D:\coding20230904\lucky-master\target\lucky-0.1.0-SNAPSHOT.jar</code> 替换为实际生成的 JAR 文件的路径和名称。</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c9de90c44739596f2b2852a951f21794/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">深度思考rpc框架面经之一：基本组件和概览</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c0a97626d975144d5befdb766030dab7/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Redisson——联合锁和红锁</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程爱好者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151260"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>