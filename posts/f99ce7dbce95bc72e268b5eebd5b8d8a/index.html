<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>MyBatis（一） 概述与SQL定制、对象映射 - 编程爱好者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="MyBatis（一） 概述与SQL定制、对象映射" />
<meta property="og:description" content="个人博客网：https://wushaopei.github.io/ (你想要这里多有) 一、MyBatis概述 1、mybatis简介 MyBatis 是支持定制化 SQL、存储过程以及高级映射的优秀的持久层框架。
MyBatis 避免了几乎所有的 JDBC 代码和手动设置参数以及获取结果集。
MyBatis可以使用简单的XML或注解用于配置和原始映射，将接口和Java的POJO（Plain Old Java Objects，普通的Java对象）映射成数据库中的记录.
2、mybatis历史 原是apache的一个开源项目iBatis, 2010年6月这个项目由apache software foundation 迁移到了google code，随着开发团队转投Google Code旗下，ibatis3.x正式更名为Mybatis ，代码于2013年11月迁移到Github（下载地址见后）。
iBATIS一词来源于“internet”和“abatis”的组合，是一个基于Java的持久层框架。iBATIS提供的持久层框架包括SQL Maps和Data Access Objects（DAO）
3、为什么要使用mybatis MyBatis是一个半自动化的持久化层框架。
jdbc编程---当我们使用jdbc持久化的时候，sql语句被硬编码到java代码中。这样耦合度太高。代码不易于维护。在实际项目开发中会经常添加sql或者修改sql，这样我们就只能到java代码中去修改。
Hibernate和JPA
长难复杂SQL，对于Hibernate而言处理也不容易
内部自动生产的SQL，不容易做特殊优化。
基于全映射的全自动框架，javaBean存在大量字段时无法只映射部分字段。导致数据库性能下降。
对开发人员而言，核心sql还是需要自己优化
sql和java编码分开，功能边界清晰，一个专注业务、一个专注数据。
可以使用简单的XML或注解用于配置和原始映射，将接口和Java的POJO映射成数据库中的记录。成为业务代码&#43;底层数据库的媒介
4、理解 SqlSession及其子父类的含义！ SqlSession的使用范围
SqlSession中封装了对数据库的操作，如：查询、插入、更新、删除等。SqlSession通过SqlSessionFactory创建。SqlSessionFactory是通过SqlSessionFactoryBuilder进行创建。 SqlSessionFactoryBuilder
SqlSessionFactoryBuilder用于创建SqlSessionFacoty，SqlSessionFacoty一旦创建完成就不需要SqlSessionFactoryBuilder了，因为SqlSession是通过SqlSessionFactory创建的。所以可以将SqlSessionFactoryBuilder当成一个工具类使用，最佳使用范围是方法范围即方法体内局部变量。
SqlSessionFactory
SqlSessionFactory是一个接口，接口中定义了openSession的不同重载方法，SqlSessionFactory的最佳使用范围是整个应用运行期间，一旦创建后可以重复使用，通常以单例模式管理SqlSessionFactory。
SqlSession
SqlSession是一个面向用户的接口，sqlSession中定义了数据库操作方法。
每个线程都应该它自己的SqlSession实例。SqlSession的实例不能共享使用，它也是线程不安全的。因此最佳的范围是请求或方法范围。绝对不能将SqlSession实例的引用放在一个类的静态字段或实例字段中。
二、MyBatis的Hello示例程序 1、创建一个数据库和一个单表 drop database if exists mybatis; create database mybatis; use mybatis; ## 创建单表 #################################################################### create table t_user( `id` int primary key auto_increment, `last_name`	varchar(50), `sex` int ); insert into t_user(`last_name`,`sex`) values(&#39;wsp168&#39;,1); select * from t_user; 2、搭建mybatis开发环境 创建一个java工程" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bchobby.github.io/posts/f99ce7dbce95bc72e268b5eebd5b8d8a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-10-11T21:01:48+08:00" />
<meta property="article:modified_time" content="2018-10-11T21:01:48+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程爱好者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程爱好者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">MyBatis（一） 概述与SQL定制、对象映射</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <hr> 
<h2>个人博客网：<a href="https://wushaopei.github.io/" rel="nofollow">https://wushaopei.github.io/</a>    (你想要这里多有)</h2> 
<h2 id="1.MyBatis%E6%A6%82%E8%BF%B0">一、MyBatis概述</h2> 
<h3 id="1%E3%80%81mybatis%E7%AE%80%E4%BB%8B"><strong><strong><strong>1、mybatis简介</strong></strong></strong></h3> 
<p style="margin-left:0pt;">MyBatis 是支持定制化 SQL、存储过程以及高级映射的优秀的持久层框架。</p> 
<p style="margin-left:0pt;">MyBatis 避免了几乎所有的 JDBC 代码和手动设置参数以及获取结果集。</p> 
<blockquote> 
 <p style="margin-left:0pt;">MyBatis可以使用简单的XML或注解用于配置和原始映射，将接口和Java的POJO（Plain Old Java Objects，普通的Java对象）映射成数据库中的记录.</p> 
</blockquote> 
<h3 id="2%E3%80%81mybatis%E5%8E%86%E5%8F%B2"><strong><strong><strong>2、mybatis历史</strong></strong></strong></h3> 
<p style="margin-left:0pt;">原是apache的一个开源项目iBatis, 2010年6月这个项目由apache software foundation 迁移到了google code，随着开发团队转投Google Code旗下，ibatis3.x正式更名为Mybatis ，代码于2013年11月迁移到Github（下载地址见后）。</p> 
<blockquote> 
 <p style="margin-left:0pt;"><span style="color:#f33b45;">iBATIS一词来源于“internet”和“abatis”的组合，是一个基于Java的持久层框架。iBATIS提供的持久层框架包括SQL Maps和Data Access Objects（DAO）</span></p> 
</blockquote> 
<h3 id="3%E3%80%81%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8mybatis" style="margin-left:0pt;">3、为什么要使用mybatis</h3> 
<p style="margin-left:0pt;">MyBatis是一个半自动化的持久化层框架。</p> 
<blockquote> 
 <p style="margin-left:0pt;"><span style="color:#f33b45;">jdbc编程---当我们使用jdbc持久化的时候，sql语句被硬编码到java代码中。这样耦合度太高。代码不易于维护。在实际项目开发中会经常添加sql或者修改sql，这样我们就只能到java代码中去修改。</span></p> 
</blockquote> 
<p style="margin-left:0pt;"><strong>Hibernate和JPA</strong></p> 
<blockquote> 
 <p style="margin-left:0pt;"><span style="color:#f33b45;">长难复杂SQL，对于Hibernate而言处理也不容易</span></p> 
 <p style="margin-left:0pt;"><span style="color:#f33b45;">内部自动生产的SQL，不容易做特殊优化。</span></p> 
 <p style="margin-left:0pt;"><span style="color:#f33b45;">基于全映射的全自动框架，javaBean存在大量字段时无法只映射部分字段。导致数据库性能下降。</span></p> 
</blockquote> 
<p style="margin-left:0pt;"><strong>对开发人员而言，核心sql还是需要自己优化</strong></p> 
<p style="margin-left:0pt;">sql和java编码分开，功能边界清晰，一个专注业务、一个专注数据。</p> 
<blockquote> 
 <p style="margin-left:0pt;"><span style="color:#f33b45;">可以使用简单的XML或注解用于配置和原始映射，将接口和Java的POJO映射成数据库中的记录。成为业务代码+底层数据库的媒介</span></p> 
</blockquote> 
<h3 id="4.%E7%90%86%E8%A7%A3%20SqlSession%E5%8F%8A%E5%85%B6%E5%AD%90%E7%88%B6%E7%B1%BB%E7%9A%84%E5%90%AB%E4%B9%89%EF%BC%81" style="margin-left:0pt;">4、理解 SqlSession及其子父类的含义！</h3> 
<p><strong>SqlSession的使用范围</strong></p> 
<blockquote> 
 <ul><li>SqlSession中封装了对数据库的操作，如：查询、插入、更新、删除等。</li><li>SqlSession通过SqlSessionFactory创建。</li><li>SqlSessionFactory是通过SqlSessionFactoryBuilder进行创建。</li></ul> 
</blockquote> 
<p><strong>SqlSessionFactoryBuilder</strong></p> 
<blockquote> 
 <p>SqlSessionFactoryBuilder用于创建SqlSessionFacoty，SqlSessionFacoty一旦创建完成就不需要SqlSessionFactoryBuilder了，因为SqlSession是通过SqlSessionFactory创建的。所以可以将SqlSessionFactoryBuilder当成一个工具类使用，最佳使用范围是方法范围即方法体内局部变量。</p> 
</blockquote> 
<p><strong>SqlSessionFactory</strong></p> 
<blockquote> 
 <p>SqlSessionFactory是一个接口，接口中定义了openSession的不同重载方法，SqlSessionFactory的最佳使用范围是整个应用运行期间，一旦创建后可以重复使用，通常以单例模式管理SqlSessionFactory。</p> 
</blockquote> 
<p><strong>SqlSession</strong></p> 
<blockquote> 
 <p>SqlSession是一个面向用户的接口，sqlSession中定义了数据库操作方法。<br> 每个线程都应该它自己的SqlSession实例。SqlSession的实例不能共享使用，它也是线程不安全的。因此最佳的范围是请求或方法范围。绝对不能将SqlSession实例的引用放在一个类的静态字段或实例字段中。</p> 
</blockquote> 
<h2 id="MyBatis%E7%9A%84Hello%E7%A4%BA%E4%BE%8B%E7%A8%8B%E5%BA%8F" style="margin-left:0pt;">二、MyBatis的Hello示例程序</h2> 
<h3 id="1%E3%80%81%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%95%B0%E6%8D%AE%E5%BA%93%E5%92%8C%E4%B8%80%E4%B8%AA%E5%8D%95%E8%A1%A8" style="margin-left:0pt;">1、创建一个数据库和一个单表</h3> 
<pre class="has"><code class="language-sql">drop database if exists mybatis;
create database mybatis;
use mybatis;
 ## 创建单表
####################################################################
create table t_user(
	`id` int primary key auto_increment,
	`last_name`	varchar(50),
	`sex` int
);

insert into t_user(`last_name`,`sex`) values('wsp168',1);

select * from t_user;</code></pre> 
<h3 id="2%E3%80%81%E6%90%AD%E5%BB%BAmybatis%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83"><strong><strong><strong>2、搭建mybatis开发环境</strong></strong></strong></h3> 
<p><strong><strong><strong>创建一个java工程</strong></strong></strong></p> 
<p><img alt="" class="has" height="260" src="https://images2.imgbox.com/2b/c9/MqrcJA32_o.png" width="362"></p> 
<p style="margin-left:0pt;"><strong>导 入 需 要 的 jar 包：</strong></p> 
<pre class="has"><code class="language-javascript">    log4j-1.2.17.jar
    mybatis-3.4.1.jar
    mysql-connector-java-5.1.7-bin.jar</code></pre> 
<h3 id="3%E3%80%81%E5%88%9B%E5%BB%BAPojo%E5%AF%B9%E8%B1%A1User"><strong><strong><strong>3、创建Pojo对象User</strong></strong></strong></h3> 
<p><strong>不调用接口方法，直接映射到xml文件中！</strong></p> 
<pre class="has"><code class="language-java">package com.webcode.pojo;

public class User {
	
	private Integer id;
	private String lastName;
	private Integer sex;
	。。。。。。。。。。	
}
</code></pre> 
<h3 id="4%E3%80%81%E5%9C%A8src%E7%9B%AE%E5%BD%95%E5%88%9B%E5%BB%BAmybatis-config.xml%E6%A0%B8%E5%BF%83%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><strong><strong><strong>4、在src目录创建mybatis-config.xml核心配置文件</strong></strong></strong></h3> 
<pre class="has"><code class="language-html">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;!DOCTYPE configuration
  PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-config.dtd"&gt;
&lt;configuration&gt;
  &lt;environments default="development"&gt;
    &lt;environment id="development"&gt;
      &lt;transactionManager type="JDBC"/&gt;
      &lt;dataSource type="POOLED"&gt;
        &lt;property name="driver" value="com.mysql.jdbc.Driver"/&gt;
        &lt;property name="url" value="jdbc:mysql://localhost:3306/mybatis"/&gt;
        &lt;property name="username" value="root"/&gt;
        &lt;property name="password" value="root"/&gt;
      &lt;/dataSource&gt;
    &lt;/environment&gt;
  &lt;/environments&gt;
  &lt;mappers&gt;
    &lt;mapper resource="com/webcode/pojo/UserMapper.xml"/&gt;
  &lt;/mappers&gt;
&lt;/configuration&gt;</code></pre> 
<p><strong>配置文件代码获取方法</strong></p> 
<p><img alt="" class="has" height="300" src="https://images2.imgbox.com/1c/a0/BwGnhA3K_o.png" width="800"></p> 
<h3 id="5%E3%80%81%E5%88%9B%E5%BB%BAUserMapper.xml%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6" style="margin-left:0pt;">5、创建UserMapper.xml配置文件</h3> 
<pre class="has"><code class="language-html">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt;
  &lt;!-- 
  		namespace名称空间
  		取值一般有两种情况：
  			一种情况是：使用javaBean的全类名
  			二种情况是：使用Mapper接口的全类名
   --&gt;
&lt;mapper namespace="com.webcode.pojo.User"&gt;
	&lt;!-- 
  	select标签用来配置一个select语句
  		id 用来配置一个唯一的标识
  		resultType 是查询完之后一条记录对应转换成为的javaBean对象
  		#{id}是占位符
   --&gt;
  &lt;select id="selectUserById" resultType="com.webcode.pojo.User"&gt;
    	select id,last_name lastName,sex from t_user where id = #{id}  
  &lt;/select&gt;
&lt;/mapper&gt;</code></pre> 
<h3 id="%E2%80%8B"><img alt="" class="has" height="435" src="https://images2.imgbox.com/21/25/lXLD2YwB_o.png" width="490"></h3> 
<h3> </h3> 
<h3 id="6%E3%80%81%E4%BC%A0%E7%BB%9Fmybatis%E7%9A%84hello%20world%20%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81"><strong><strong><strong>6、传统mybatis的hello world 示例代码</strong></strong></strong></h3> 
<p> </p> 
<pre class="has"><code class="language-java">package com.webcode.pojo.test;

import java.io.IOException;
import java.io.InputStream;
import org.apache.ibatis.io.Resources;
import org.apache.ibatis.session.SqlSession;
import org.apache.ibatis.session.SqlSessionFactory;
import org.apache.ibatis.session.SqlSessionFactoryBuilder;
import org.junit.Test;

import com.webcode.pojo.User;

public class UserTest {

	

	@Test
	public void testselectUserById() throws IOException {
		//从配置文件读取指定的资源，以输入流的形式返回
		InputStream is = Resources.getResourceAsStream("mybatis-config.xml");
		
		// 通过sqlSessionFactoryBuilder创建SqlSessionFactory（从输入流获取连接条件，创建连接工厂）
		SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(is);		
		System.out.println(sqlSessionFactory);
		
		//从工厂中获取一个连接（看成是数据库连接池即可），相当于 以前的Connection对象，每次用来都用关闭
		SqlSession openSession = sqlSessionFactory.openSession();
		
		try {
			/*由相对路径映射到xml文件中的id，调动执行sql语句，
			并以resultType定义的类型返回到请求端或者是客户端*/
			User user = openSession.selectOne("com.webcode.pojo.User.selectUserById",1);
			System.out.println(user);
		} catch (Exception e) {
			e.printStackTrace();
		} finally {
			openSession.close();//释放资源
		}
	}

}</code></pre> 
<p> </p> 
<pre class="has"><code>打印结果：     User [id=1, lastName=wsp168, sex=1]</code></pre> 
<h4 id="%E4%BB%A3%E7%A0%81%E6%B5%81%E7%A8%8B%EF%BC%9A">代码流程：</h4> 
<p><img alt="" class="has" height="467" src="https://images2.imgbox.com/f3/bd/byrKF3x2_o.png" width="687"></p> 
<h2 id="%E5%85%B3%E4%BA%8EMybatis%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E6%8F%90%E7%A4%BA%E5%8A%9F%E8%83%BD%3A">关于Mybatis的配置文件提示功能:</h2> 
<p><img alt="" class="has" height="692" src="https://images2.imgbox.com/8a/d8/T7ITRQsH_o.png" width="899"></p> 
<p> </p> 
<h4 id="%E5%85%B3%E4%BA%8Elog4j%E7%9A%84%E6%8F%90%E7%A4%BA%EF%BC%9A">关于log4j的提示：</h4> 
<p><img alt="" class="has" height="140" src="https://images2.imgbox.com/4d/46/HzuqQES8_o.png" width="906"></p> 
<h4 id="%E5%A6%82%E6%9E%9C%E4%B8%8D%E6%83%B3%E7%9C%8B%E5%88%B0%EF%BC%8C%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%E4%B8%BA%EF%BC%9A">如果不想看到，解决方案为：</h4> 
<p><img alt="" class="has" src="https://images2.imgbox.com/55/c8/NpfdcgnA_o.png"></p> 
<h4 id="%E5%8F%AA%E8%A6%81%E5%9C%A8%E5%BA%94%E7%94%A8%E7%9A%84classpath%E4%B8%AD%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%90%8D%E7%A7%B0%E4%B8%BAlog4j.properties%E7%9A%84%E6%96%87%E4%BB%B6%EF%BC%8C%20%E6%96%87%E4%BB%B6%E7%9A%84%E5%85%B7%E4%BD%93%E5%86%85%E5%AE%B9%E5%A6%82%E4%B8%8B%EF%BC%9A">只要在应用的classpath中创建一个名称为log4j.properties的文件， 文件的具体内容如下：</h4> 
<pre class="has"><code># Global logging configuration
log4j.rootLogger=ERROR, stdout
# MyBatis logging configuration...
log4j.logger.org.mybatis.example.BlogMapper=TRACE
# Console output...
log4j.appender.stdout=org.apache.log4j.ConsoleAppender
log4j.appender.stdout.layout=org.apache.log4j.PatternLayout
log4j.appender.stdout.layout.ConversionPattern=%5p [%t] - %m%n</code></pre> 
<h4 id="%E6%B3%A8%E6%84%8F%EF%BC%9A">注意：</h4> 
<p><img alt="" class="has" height="137" src="https://images2.imgbox.com/8d/03/ddMwWsan_o.png" width="726"></p> 
<h3 id="7.%E5%8A%A0%E5%85%A5log4j%E9%85%8D%E7%BD%AE">7.加入log4j配置</h3> 
<h4 id="%E5%AF%BC%E5%85%A5%E2%80%98log4j-1.2.17.jar%E2%80%99%E5%8C%85">导入‘<span style="color:#7c79e5;">log4j-1.2.17.jar</span>’包</h4> 
<h4 id="%E5%9C%A8%E5%B7%A5%E7%A8%8B%E4%B8%8B%E7%9A%84config%E6%96%87%E4%BB%B6%E5%A4%B9%E4%B8%AD%E5%88%9B%E5%BB%BA%20%22log4j.properties%22%E6%96%87%E4%BB%B6"><span style="color:#3399ea;">在工程下的config文件夹中创建 "log4j.properties"文件</span></h4> 
<pre class="has"><code class="language-java">\u4E0B\uFF1A 

# Global logging configuration
log4j.rootLogger=DEBUG, stdout
# MyBatis logging configuration...
# Console output...
log4j.appender.stdout=org.apache.log4j.ConsoleAppender
log4j.appender.stdout.layout=org.apache.log4j.PatternLayout
log4j.appender.stdout.layout.ConversionPattern=%5p [%t] - %m%n
</code></pre> 
<h4 id="%E6%89%93%E5%8D%B0%E7%BB%93%E6%9E%9C%EF%BC%9A">打印结果：</h4> 
<pre class="has"><code>DEBUG [main] - Logging initialized using 'class org.apache.ibatis.logging.log4j.Log4jImpl' adapter.
DEBUG [main] - PooledDataSource forcefully closed/removed all connections.
DEBUG [main] - PooledDataSource forcefully closed/removed all connections.
DEBUG [main] - PooledDataSource forcefully closed/removed all connections.
DEBUG [main] - PooledDataSource forcefully closed/removed all connections.
org.apache.ibatis.session.defaults.DefaultSqlSessionFactory@61832929
DEBUG [main] - Opening JDBC Connection
DEBUG [main] - Created connection 1585787493.
DEBUG [main] - Setting autocommit to false on JDBC Connection [com.mysql.jdbc.JDBC4Connection@5e853265]
DEBUG [main] - ==&gt;  Preparing: select id,last_name lastName,sex from t_user where id = ? 
DEBUG [main] - ==&gt; Parameters: 1(Integer)
DEBUG [main] - &lt;==      Total: 1
User [id=1, lastName=wsp168, sex=1]
DEBUG [main] - Resetting autocommit to true on JDBC Connection [com.mysql.jdbc.JDBC4Connection@5e853265]
DEBUG [main] - Closing JDBC Connection [com.mysql.jdbc.JDBC4Connection@5e853265]
DEBUG [main] - Returned connection 1585787493 to pool.
</code></pre> 
<p>流程图解：</p> 
<p><img alt="" class="has" height="294" src="https://images2.imgbox.com/19/ec/NduerhfF_o.png" width="800"></p> 
<h2 id="3%E3%80%81%E4%BC%A0%E7%BB%9F%E6%96%B9%E5%BC%8Fmybatis%E7%9A%84%E5%A2%9E%EF%BC%8C%E5%88%A0%EF%BC%8C%E6%94%B9%EF%BC%8C%E6%9F%A5%E5%AE%9E%E7%8E%B0"><strong><strong><strong>三、传统方式mybatis的增，删，改，查实现</strong></strong></strong></h2> 
<h4 id="UserDao%3A">1、UserDao:</h4> 
<pre class="has"><code class="language-java">package com.webcode.dao;

import java.util.List;

import org.apache.ibatis.session.SqlSession;
import org.apache.ibatis.session.SqlSessionFactory;

import com.webcode.pojo.User;
/**
 * @author 鮀城小帅
 * */
/**
 * 
 * 注意：在创建连接时，底层自动对事务commit做了false定义，而没有提交的事务会自动回滚。
 * 		在执行CRUD时要手动提交事务，即，在执行语句后，session.commit();
 * */
public class UserDao {

	
	private SqlSessionFactory sqlSessionFactory;
	
	
	/*
	 * 创建sql会话工厂方法
	 * */
	public void setSqlSessionFactory(SqlSessionFactory sqlSessionFactory) {
		
		this.sqlSessionFactory = sqlSessionFactory;
	}
	/*
	 * 根据id查询用户
	 * */
	public User queryUserById(Integer id) {
		SqlSession openSession = sqlSessionFactory.openSession();
		try {
			return openSession.selectOne("com.webcode.pojo.User.selectUserById",id);
		} catch (Exception e) {
			e.printStackTrace();
		} finally {
			openSession.close();//释放资源
		}
		return null;
	}
	/*
	 * 查询所有用户
	 * */
	public List&lt;User&gt; queryUsers(){
		SqlSession session = sqlSessionFactory.openSession();

		try {
			return session.selectList("com.webcode.pojo.User.queryUsers");
		} catch (Exception e) {
			e.printStackTrace();
		} finally {
			session.close();//释放资源
		}
		return null;
	}
	/*
	 * 添加用户
	 * */
	public int saveUser(User user) {
		SqlSession session = sqlSessionFactory.openSession();
		try {
			 int result = session.insert("com.webcode.pojo.User.saveUser",user);
			session.commit();//提交事务
			return result;
		} catch (Exception e) {
			e.printStackTrace();
		} finally {
			session.close();//释放资源
		}
		return -1;
	}
	/*
	 * 根据id删除用户
	 * */
	public int deleteUserById(Integer id) {
		SqlSession openSession = sqlSessionFactory.openSession();
		try {
			int delete = openSession.delete("com.webcode.pojo.User.deleteUserById",id);
			openSession.commit();//手动提交事务
			return delete;
		} catch (Exception e) {
			e.printStackTrace();
		} finally {
			openSession.close();//释放资源
		}
		
		return -1;
		
	}
	/*
	 * 修改用户
	 * */
	public int updateUser(User user) {
		SqlSession openSession = sqlSessionFactory.openSession();
		try {
			int update = openSession.update("com.webcode.pojo.User.updateUsers",user);
			openSession.commit();//手动提交事务
			return update;
		} catch (Exception e) {
			// TODO: handle exception
		}finally {
			openSession.close();//释放资源
		}
		return -1;
	}
	
}
</code></pre> 
<h3 id="%E7%BC%96%E5%86%99UserMapper.xml%E4%B8%AD%E7%9A%84%E9%85%8D%E7%BD%AE"><strong><strong><strong>2、编写UserMapper.xml中的配置</strong></strong></strong></h3> 
<pre class="has"><code class="language-html">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt;
  &lt;!-- 
  		namespace名称空间
  		取值一般有两种情况：
  			一种情况是：使用javaBean的全类名
  			二种情况是：使用Mapper接口的全类名
   --&gt;
&lt;mapper namespace="com.webcode.pojo.User"&gt;
	&lt;!-- 
  	select标签用来配置一个select语句
  		id 用来配置一个唯一的标识
  		resultType 是查询完之后一条记录对应转换成为的javaBean对象
  		#{id}是占位符
   --&gt;
  &lt;select id="selectUserById" resultType="com.webcode.pojo.User"&gt;
  
    	select id,last_name lastName,sex from t_user where id = #{id}  
  &lt;/select&gt;
  
  &lt;!-- 查询全部的User对象 --&gt;
  &lt;select id="queryUsers" resultType="com.webcode.pojo.User"&gt;
  		select id,last_name lastName,sex from t_user
  &lt;/select&gt;
  
   	&lt;!-- parameterTypr参数类型（可选）
   		useGeneratedKeys="true"		使用（或返回）数据库生成的主键
		keyProperty="id"	把数据库返回的主键值注入到bean对象的id属性中
   	
   	 --&gt;
  &lt;insert id="saveUser" parameterType="com.webcode.pojo.User" &gt;
  		&lt;!-- 
  			selectKey标签可以定义一些查询语句，这些语句可以选择性地在大标签的sql语句之前或之后执行
  				我们希望，通过执行一个查询，把最后一次生成的id返回。
  					order属性配置执行的顺序
  						BEFORE		之前
  						AFTER		之后
  					keyProperty="id"	把数据库返回的主键值注入到bean对象的id属性中
  					resultType="int"	设置selectKey查询之后返回的类型是什么 int 表示Integer类型
  		 --&gt;
  		 &lt;selectKey order="AFTER" keyProperty="id" resultType="int"&gt;
  		 		select last_insert_id()
  		 &lt;/selectKey&gt;
  		insert into t_user (`last_name`,`sex`) values(#{lastName},#{sex}) 
  		
  &lt;/insert&gt;
&lt;!--   &lt;insert id="saveUser" parameterType="com.webcode.pojo.User"  --&gt;
&lt;!--   	useGeneratedKeys="true" keyProperty="id"&gt; --&gt;
&lt;!--   		insert into t_user (`last_name`,`sex`) values(#{lastName},#{sex})  --&gt;
&lt;!--   &lt;/insert&gt; --&gt;
  
  	&lt;!-- 根据id删除一个用户 --&gt;
  &lt;delete id="deleteUserById" parameterType="int"&gt;
  	delete from t_user where id=#{id}  	
  &lt;/delete&gt;
  
  &lt;update id="updateUser" parameterType="com.webcode.pojo.User"&gt;
  	update t_user set last_name = #{lastName},sex=#{sex} where id=#{id}
  &lt;/update&gt;
  
&lt;/mapper&gt;</code></pre> 
<p>映射关系图解：</p> 
<p><img alt="" class="has" height="264" src="https://images2.imgbox.com/7f/f4/lKs3bwi4_o.png" width="800"></p> 
<h3 id="%E7%BC%96%E5%86%99UserDao%E6%B5%8B%E8%AF%95"><strong><strong><strong>3、编写UserDao测试</strong></strong></strong></h3> 
<pre class="has"><code class="language-java">package com.webcode.dao.test;

import static org.junit.Assert.*;

import org.apache.ibatis.io.Resources;
import org.apache.ibatis.session.SqlSessionFactory;
import org.apache.ibatis.session.SqlSessionFactoryBuilder;
import org.junit.BeforeClass;
import org.junit.Test;

import com.webcode.dao.UserDao;
import com.webcode.pojo.User;
/**
 * @author 鮀城小帅
 * */
public class UserDaoTest {
	
	private static UserDao userDao;
	@BeforeClass
	public static void setUpBeforeClass() throws Exception {
		SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder()
				.build(Resources.getResourceAsStream("mybatis-config.xml"));
		userDao = new UserDao();
		userDao.setSqlSessionFactory(sqlSessionFactory);
	}

	@Test
	public void testQueryUserById() {
		System.out.println(userDao.queryUserById(1));
	}

	@Test
	public void testQueryUsers() {
		userDao.queryUsers().forEach(System.out::println);
	}

	@Test
	public void testSaveUser() {
		userDao.saveUser(new User(null, "xxx", 1));
	}

	@Test
	public void testDeleteUserById() {
		userDao.deleteUserById(3);
	}

	@Test
	public void testUpdateUser() {

		userDao.updateUser(new User(3,"aaa",0));
	}

}
</code></pre> 
<h4 id="%E6%8F%92%E5%85%A5%E8%AE%B0%E5%BD%95%E5%B9%B6%E8%BF%94%E5%9B%9E%E4%B8%BB%E9%94%AE" style="margin-left:0pt;">4、插入记录并返回主键</h4> 
<p><img alt="" class="has" height="198" src="https://images2.imgbox.com/34/39/GX0aPCww_o.png" width="683"></p> 
<h4>打印结果：</h4> 
<p><img alt="" class="has" height="609" src="https://images2.imgbox.com/df/e4/k3NGkWDh_o.png" width="663"></p> 
<h4>5、插入记录并返回主键</h4> 
<pre class="has"><code>  &lt;!-- parameterType类型（可选） --&gt;
  &lt;insert id="saveUser" parameterType="com.webcode.pojo.User" keyProperty="id"        useGeneratedKeys="true" &gt;
  		&lt;!--   parameterType 参数类型（可选）
			useGeneratedKeys="true"		使用（或返回）数据库生成的主键
			keyProperty="id"	把数据库返回的主键值注入到bean对象的id属性中
	 --&gt;
  		insert into t_user(`last_name`,`sex`) values(#{lastName},#{sex})
  &lt;/insert&gt;</code></pre> 
<h4>6、标签的使用</h4> 
<pre class="has"><code class="language-javascript">&lt;!-- parameterType类型（可选） --&gt;
  &lt;insert id="saveUser" parameterType="com.webcode.pojo.User"  &gt;
  		
  		&lt;!-- 
  			selectKey标签可以定义一些查询语句，这些语句可以选择性地在大标签的sql语句之前或之后执行
  				我们希望，通过执行一个查询，把最后一次生成的id返回。
  					order属性配置执行的顺序
  						BEFORE		之前
  						AFTER		之后
  					keyProperty="id"	把数据库返回的主键值注入到bean对象的id属性中
  					resultType="int"	设置selectKey查询之后返回的类型是什么 int 表示Integer类型
  		 --&gt;
  		 &lt;selectKey order="AFTER" keyProperty="id" resultType="int"&gt; 
   		 	select last_insert_id 
   		 &lt;/selectKey&gt; 
  		insert into t_user(`last_name`,`sex`) values(#{lastName},#{sex})
  &lt;/insert&gt;
</code></pre> 
<p><img alt="" class="has" height="271" src="https://images2.imgbox.com/61/72/6sMfmIZV_o.png" width="800"></p> 
<h3 style="margin-left:0pt;">四、Mapper 接口方式的 mybatis 的增，删，改，查实现</h3> 
<h4>1、Mapper 接口编程的命名习惯</h4> 
<blockquote> 
 <ol><li>JavaBean对象是                User</li><li>Mapper接口的名称是：         UserMapper</li><li>sql语句的配置文件命名：       UserMapper.xml</li></ol> 
</blockquote> 
<blockquote> 
 <ol><li>JavaBean对象是                Book</li><li>Mapper接口的名称是：         BookMapper</li><li>sql语句的配置文件命名：       BookMapper.xml</li></ol> 
</blockquote> 
<h4>2、Mapper接口开发有四个开发规范 必须遵守</h4> 
<blockquote> 
 <p>1、名称空间必须是接口的全类名<br> 2、方法名必须与id值一致<br> 3、parameterType必须与方法参数类型一致<br> 4、resultType必须与方法返回值一致（是指javaBean对象）</p> 
</blockquote> 
<h4>3、编写 Mapper 接口</h4> 
<pre class="has"><code class="language-javascript">public interface UserMapper {

	public User queryUserById(Integer id);

	public List&lt;User&gt; queryUsers();

	public int saveUser(User user);

	public int deleteUserById(Integer id);

	public int updateUser(User user);
	
}
</code></pre> 
<h4>4、UserMapper.xml 配置文件</h4> 
<pre class="has"><code class="language-java">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt;
  &lt;!-- 
  		使用Mapper接口方案，需要注意的第一点事项是：
  		namespace名称空间值必须是Mapper接口的全类名
   --&gt;
&lt;mapper namespace="com.webcode.mapper.UserMapper"&gt;
&lt;!-- 	
		Mapper接口方案需要注意的第二点事项是：
			方法名，必须要和id值一致
		Mapper接口方案需要注意的第三点事项是：
			返回值类型必须一致
		Mapper接口方案需要注意的第四点事项是：
			参数类型也必须一致（写就必须一致）
 --&gt;
	&lt;select id="queryUserById" resultType="com.webcode.pojo.User" parameterType="int"&gt;
		select id,last_name lastName,sex from t_user where id = #{id}
	&lt;/select&gt;
&lt;!-- 	public List&lt;User&gt; queryUsers(); --&gt;
	&lt;select id="queryUsers" resultType="com.webcode.pojo.User"&gt;
		select id,last_name lastName,sex from t_user
	&lt;/select&gt;

&lt;!-- 	public int saveUser(User user);
			普通类型可以忽略（主要是javaBean对象）
 --&gt;
	&lt;insert id="saveUser" parameterType="com.webcode.pojo.User" useGeneratedKeys="true" keyProperty="id"&gt;
		insert into t_user(last_name,sex) values(#{lastName},#{sex})
	&lt;/insert&gt;

&lt;!-- 	public int deleteUserById(Integer id); --&gt;
	&lt;delete id="deleteUserById"&gt;
		delete from t_user where id = #{id}
	&lt;/delete&gt;
&lt;!-- 	public int updateUser(User user); --&gt;
  	&lt;update id="updateUser" parameterType="com.webcode.pojo.User"&gt;
  		update t_user set last_name = #{lastName},sex = #{sex} where id = #{id}
  	&lt;/update&gt;
&lt;/mapper&gt;
</code></pre> 
<h4>5、编写UserMapper测试</h4> 
<pre class="has"><code class="language-java">package com.webcode.mapper.test;



import org.apache.ibatis.io.Resources;
import org.apache.ibatis.session.SqlSession;
import org.apache.ibatis.session.SqlSessionFactory;
import org.apache.ibatis.session.SqlSessionFactoryBuilder;

import com.webcode.mapper.UserMapper;
import com.webcode.pojo.User;

import org.junit.BeforeClass;
import org.junit.Test;

public class UserMapperTest {
	static SqlSessionFactory sqlSessionFactory;
	
	@BeforeClass
	public static void setUpBeforeClass() throws Exception {
			 sqlSessionFactory = new SqlSessionFactoryBuilder().build(Resources.getResourceAsStream("mybatis-config.xml"));
	}

	@Test
	public void testQueryUserById() {
		SqlSession session = sqlSessionFactory.openSession();
		try {
			UserMapper mapper = session.getMapper(UserMapper.class);
			System.out.println(mapper.queryUserById(1));
			
		} catch (Exception e) {
			e.printStackTrace();
		}finally {
			session.close();
		}
	}

	@Test
	public void testQueryUsers() {
		SqlSession session = sqlSessionFactory.openSession();
		try {
			UserMapper mapper = session.getMapper(UserMapper.class);
			mapper.queryUsers().forEach(System.out::println);
		} catch (Exception e) {
			e.printStackTrace();
		}finally {
			session.close();
		}
	}

	@Test
	public void testSaveUser() {
		SqlSession session = sqlSessionFactory.openSession();
		try {
			UserMapper mapper = session.getMapper(UserMapper.class);
			int saveUser = mapper.saveUser(new User(null,"吴",11));
			session.commit();
			System.out.println(saveUser);
			
		} catch (Exception e) {
			e.printStackTrace();
		}finally {
			session.close();
		}
	}

	@Test
	public void testDeleteUserById() {
		SqlSession openSession = sqlSessionFactory.openSession();
		try {
			UserMapper mapper = openSession.getMapper(UserMapper.class);
			int deleteUserById = mapper.deleteUserById(2);
			openSession.commit();
			System.out.println(deleteUserById);
		} catch (Exception e) {
			e.printStackTrace();
		}finally {
			openSession.close();
		}
	}

	@Test
	public void testUpdateUser() {
		SqlSession session = sqlSessionFactory.openSession();
		try {
			UserMapper mapper = session.getMapper(UserMapper.class);
			int updateUser = mapper.updateUser(new User(1,"少",33));
			session.commit();
			System.out.println(updateUser);
		}catch (Exception e) {
			e.printStackTrace();
		}finally {
			session.close();
		}
	}

}
</code></pre> 
<h3>五、<strong><strong><strong>mybatis的核心配置之properties</strong></strong></strong></h3> 
<pre class="has"><code class="language-java">	&lt;!-- 
		properties标签可以用来定义多组键值对
			每个property标签是一组键值对 
		properties标签还可以引入单独的属性配置文件
			resource="jdbc.properties" 引入classpath路径下的jdbc.properties配置文件
		源码目录，就是classPath路径
		
		properties标签在引入外部属性配置文件和内部定义属性的时候。外部会替换掉内部定义的值。
	--&gt;
	&lt;properties resource="jdbc.properties"&gt;
		&lt;property name="url" value="jdbc:mysql://localhost:3306/mybatis"/&gt;
		&lt;property name="username" value="root"/&gt;
	&lt;/properties&gt;</code></pre> 
<p> </p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/46750ca9f8cb5f5cc1fc575cf676dc29/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">微信小程序登录Java后台接口</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/48f7ed569b8637ed95aa7d103c8a9b3c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Linux下使用JTAG</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程爱好者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151260"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>