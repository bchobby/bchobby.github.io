<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【AWS实验】 配置中转网关及对等连接 - 编程爱好者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【AWS实验】 配置中转网关及对等连接" />
<meta property="og:description" content="文章目录 实验概览目标实验环境任务 1：查看网络拓扑并创建基准任务 2：创建中转网关任务 3：创建中转网关挂载任务 4：创建中转网关路由表任务 4.1：创建路由表关联任务 4.2：创建路由传播 任务 5：更新 VPC 路由表任务 5.1：网络验证 任务 6：创建与远程区域中转网关的对等连接任务 6.1：记录远程区域的中转网关 ID任务 6.2：创建中转网关对等连接任务 6.3：接受中转网关对等连接请求 – 远程区域任务 6.4：更新路由表关联 – 远程区域任务 6.5：更新中转网关路由表 – 远程区域任务 6.6：更新 VPC 路由表 – 远程区域任务 6.7：网络验证 任务 7：创建路由筛选条件任务 7.1：网络验证 任务 8：可视化和分析网络（可选）任务 8.1：将网络可视化任务 8.2：分析路由 总结 实验概览 可以使用对等连接来连接 Amazon Virtual Private Cloud (Amazon VPC)。但是，如果无法集中管理连接策略，那么跨多个 Amazon VPC 管理点到点连接可能会造成运营成本高昂且操作繁琐。对于本地连接，需要将 AWS VPN 附加到每个单独的 Amazon VPC。当 VPC 数量增长到数百个时，这种解决方案的构建可能非常耗时，而且难以管理。
使用 AWS Transit Gateway，只需要创建和管理从中央网关到网络中每个 VPC、本地数据中心或远程办公室的一条连接。中转网关就像一个轮轴，控制着流量在连接的所有网络之间的路由方式，而这些网络就像辐条一样。这种轴辐式模型可以显著简化管理工作并降低运营成本，因为每个网络只需连接到中转网关，而不是连接到所有其他网络。将任何新的 VPC 连接到中转网关，然后该 VPC 就会自动向连接到中转网关的所有其他网络开放。这种易连接性让您能够随着需求的增长轻松地扩展网络。
在本实验中，将通过中转网关来构建和配置路由，这些中转网关具有不同的复杂程度。首先，将检查现有 VPC、子网、路由表和 Amazon Elastic Compute Cloud (Amazon EC2) 实例。然后，将创建一个中转网关并将四个现有 VPC 附加到该网关。需要研究中转网关上的默认路由表，该路由表可以让附加到中转网关的 VPC 进行多对多通信。在确认中转网关正常运行后，需要修改该中转网关上的路由表，以便隔离特定 VPC 之间的通信。最后，需要跨区域边界建立两个中转网关的对等连接，以便展示如何配置具有中转网关的全局网络。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bchobby.github.io/posts/fd46cae4fb90659a32cf55c18af6dd9f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-09-03T16:12:28+08:00" />
<meta property="article:modified_time" content="2023-09-03T16:12:28+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程爱好者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程爱好者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【AWS实验】 配置中转网关及对等连接</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><ul><li><a href="#_1" rel="nofollow">实验概览</a></li><li><a href="#_19" rel="nofollow">目标</a></li><li><a href="#_33" rel="nofollow">实验环境</a></li><li><a href="#_1_67" rel="nofollow">任务 1：查看网络拓扑并创建基准</a></li><li><a href="#_2_113" rel="nofollow">任务 2：创建中转网关</a></li><li><a href="#_3_192" rel="nofollow">任务 3：创建中转网关挂载</a></li><li><a href="#_4_244" rel="nofollow">任务 4：创建中转网关路由表</a></li><li><ul><li><a href="#_41_288" rel="nofollow">任务 4.1：创建路由表关联</a></li><li><a href="#_42_333" rel="nofollow">任务 4.2：创建路由传播</a></li></ul> 
   </li><li><a href="#_5_VPC__378" rel="nofollow">任务 5：更新 VPC 路由表</a></li><li><ul><li><a href="#_51_428" rel="nofollow">任务 5.1：网络验证</a></li></ul> 
   </li><li><a href="#_6_450" rel="nofollow">任务 6：创建与远程区域中转网关的对等连接</a></li><li><ul><li><a href="#_61_ID_456" rel="nofollow">任务 6.1：记录远程区域的中转网关 ID</a></li><li><a href="#_62_490" rel="nofollow">任务 6.2：创建中转网关对等连接</a></li><li><a href="#_63___542" rel="nofollow">任务 6.3：接受中转网关对等连接请求 – 远程区域</a></li><li><a href="#_64___588" rel="nofollow">任务 6.4：更新路由表关联 – 远程区域</a></li><li><a href="#_65___627" rel="nofollow">任务 6.5：更新中转网关路由表 – 远程区域</a></li><li><a href="#_66_VPC____672" rel="nofollow">任务 6.6：更新 VPC 路由表 – 远程区域</a></li><li><a href="#_67_708" rel="nofollow">任务 6.7：网络验证</a></li></ul> 
   </li><li><a href="#_7_823" rel="nofollow">任务 7：创建路由筛选条件</a></li><li><ul><li><a href="#_71_887" rel="nofollow">任务 7.1：网络验证</a></li></ul> 
   </li><li><a href="#_8_901" rel="nofollow">任务 8：可视化和分析网络（可选）</a></li><li><ul><li><a href="#_81_1002" rel="nofollow">任务 8.1：将网络可视化</a></li><li><a href="#_82_1029" rel="nofollow">任务 8.2：分析路由</a></li></ul> 
   </li><li><a href="#_1056" rel="nofollow">总结</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="_1"></a>实验概览</h3> 
<p>可以使用<code>对等连接</code>来连接<code> Amazon Virtual Private Cloud (Amazon VPC)</code>。但是，如果无法集中管理连接策略，那么跨多个 Amazon VPC 管理点到点连接可能会造成运营成本高昂且操作繁琐。对于本地连接，需要将 AWS VPN 附加到每个单独的 Amazon VPC。当 VPC 数量增长到数百个时，这种解决方案的构建可能非常耗时，而且难以管理。</p> 
<p>使用 <code>AWS Transit Gateway</code>，<code>只需要创建和管理从中央网关到网络中每个 VPC、本地数据中心或远程办公室的一条连接</code>。中转网关就像一个<code>轮轴</code>，控制着流量在连接的所有网络之间的路由方式，而这些网络就像<code>辐条</code>一样。这种<strong>轴辐式模型</strong>可以显著简化管理工作并降低运营成本，因为每个网络只需连接到中转网关，而不是连接到所有其他网络。将任何新的 VPC 连接到中转网关，然后该 VPC 就会自动向连接到中转网关的所有其他网络开放。这种易连接性让您能够随着需求的增长轻松地扩展网络。</p> 
<p>在本实验中，将通过中转网关来<code>构建和配置路由</code>，这些中转网关具有不同的复杂程度。首先，将检查现有 VPC、子网、路由表和 Amazon Elastic Compute Cloud (Amazon EC2) 实例。然后，将创建一个中转网关并将四个现有 VPC 附加到该网关。需要研究中转网关上的默认路由表，该路由表可以让附加到中转网关的 VPC 进行多对多通信。在确认中转网关正常运行后，需要修改该中转网关上的<strong>路由表</strong>，以便隔离特定 VPC 之间的通信。最后，需要跨区域边界建立两个中转网关的对等连接，以便展示如何配置具有中转网关的全局网络。</p> 
<p>能够在不同 AWS 区域之间建立中转网关对等连接，客户就可以扩展这种连接，并建立跨多个 AWS 区域的全局网络。使用区域间中转网关对等连接的流量会始终留在 AWS 全球网络中，永远不会通过公共互联网。这可以减少威胁载体，例如常见攻击和分布式拒绝服务 (DDoS) 攻击。区域间中转网关对等连接可以加密区域间的流量，而且不会发生单点故障。</p> 
<h3><a id="_19"></a>目标</h3> 
<p>完成本实验后，将能够：</p> 
<ul><li>配置中转网关</li><li>将 VPC 附加到中转网关</li><li>使用 AWS Transit Gateway 控制和自定义路由</li><li>建立两个区域之间的中转网关对等连接</li><li>使用 Network Manager 可视化和分析您的网络</li></ul> 
<h3><a id="_33"></a>实验环境</h3> 
<p>本实验在主区域的不同 VPC 上预置了四个 EC2 实例。在远程区域中预置了一个 EC2 实例和一个<code>中转网关</code>。将在主区域中配置一个<code>中转网关</code>，将 VPC 附加到该中转网关，更新路由，然后验证主区域中的所有 EC2 实例是否能相互通信。然后，<code>将建立中转网关与远程区域的对等连接</code>，并验证所有 EC2 实例之间的网络连接。最后，<code>将创建路由筛选条件来限制特定 VPC 之间的连接</code>。</p> 
<p>所有后端组件（例如 Amazon EC2 实例和 AWS Identity and Access Management (IAM) 角色）都已内置于实验中。</p> 
<p><strong>AWS Transit Gateway</strong>：将 Amazon VPC 和本地网络连接到单个网关。利用 Transit Gateway，网络将得到简化并可以扩展。</p> 
<p><strong>Amazon VPC</strong>：在定义的虚拟网络中启动 AWS 资源。这种虚拟网络与您在自己的数据中心中运行的传统网络极其相似，并且可以让使用 AWS 的可扩展基础设施。</p> 
<p><strong>AWS Transit Gateway Network Manager</strong>：跨 AWS 和本地站点集中管理您的网络。在集中式控制面板中将您的全局网络可视化为逻辑示意图或地图。通过 Amazon CloudWatch 指标和事件监控您的网络，以便了解网络拓扑、路由和连接状态的变化。</p> 
<p>下图显示了为本实验预置的资源以及在实验开始时连接这些资源的方式：</p> 
<p><img src="https://images2.imgbox.com/a5/e5/a9i3q4E2_o.png" alt="image-20230903111427122"></p> 
<hr> 
<h3><a id="_1_67"></a>任务 1：查看网络拓扑并创建基准</h3> 
<p>在此任务中，使用互联网控制消息协议 (ICMP) 来验证命令主机与其他主机之间的网络可访问性。已经配置了四个 Amazon EC2 实例，标记为主机 A 到 D，这些实例位于同一个主区域，每个都有自己的 VPC。主机 A 在一个公有子网中，将被用作命令主机。下图显示了实验环境中的当前配置：</p> 
<p><img src="https://images2.imgbox.com/04/20/n1ZHNVbA_o.png" alt="image-20230903111650516"></p> 
<p>现在，对每个实例的私有 IP 地址执行 Ping 操作。IP 地址可以在实验页面的左侧找到。完成后续步骤后，在文本编辑器中记录结果。表的示例如下：</p> 
<p><img src="https://images2.imgbox.com/38/27/MFcuiA1z_o.png" alt="image-20230903112101373"></p> 
<p><strong>表 A：Ping 测试结果</strong></p> 
<table><thead><tr><th>主机</th><th>结果</th></tr></thead><tbody><tr><td>主机 B</td><td>通过/失败</td></tr><tr><td>主机 C</td><td>通过/失败</td></tr><tr><td>主机 D</td><td>通过/失败</td></tr></tbody></table> 
<p>运行以下命令。将 <em></em> 替换为EC2的 <strong>HostB</strong> IP 地址：【重复上述步骤，对 <strong>HostC</strong> 和 <strong>HostD</strong> 执行 Ping 操作。】</p> 
<pre><code class="prism language-bash"><span class="token function">ping</span> <span class="token operator">&lt;</span>Host IP address<span class="token operator">&gt;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/9e/13/97Qnmrqk_o.png" alt="image-20230903112447138"></p> 
<blockquote> 
 <p><font color="red">注意：由于每个主机都在自己的私有子网中，而且各主机之间没有配置路由，预计对每个主机执行的 ICMP Ping 操作都会出现超时失败。</font></p> 
</blockquote> 
<hr> 
<h3><a id="_2_113"></a>任务 2：创建中转网关</h3> 
<p>在此任务中，将在<code>主区域</code>中<code>创建一个中转网关</code>。<em>中转网关</em>是一种网络传输枢纽，可以将同一账户或不同账户内挂载的资源（VPC 和 VPN）互联。</p> 
<p><img src="https://images2.imgbox.com/5f/e6/VvZ7VtnG_o.png" alt="image-20230903112550937"></p> 
<p>在 <strong>AWS 管理控制台</strong>中，使用 <strong>AWS 搜索栏</strong>搜索 <code>VPC</code>，然后从结果列表中选择该服务。</p> 
<p>在左侧导航窗格中，向下滚动到 <strong>Transit Gateways</strong>（中转网关）部分。</p> 
<p>选择 <strong>Transit Gateways</strong>（中转网关）。</p> 
<p>在页面顶部，选择 <strong>Create transit gateway</strong>（创建中转网关）。</p> 
<p><img src="https://images2.imgbox.com/fa/c3/WOG202l2_o.png" alt="image-20230903112746441"></p> 
<p>配置以下各项：</p> 
<blockquote> 
 <ul><li>Name tag（名称标签）：maintransitgw</li><li>Amazon side ASN（Amazon 端 ASN）：65001</li><li>取消选中 VPN ECMP support（VPN ECMP 支持）</li><li>取消选中 Default route table association（原定设置路由表关联）</li><li>取消选中 Default route table propagation（原定设置路由表传播）</li><li>选择 <code>创建中转网关</code> 按钮。</li></ul> 
</blockquote> 
<p>现在已将<code>私有自治系统编号 (ASN) </code>用于中转网关，并为附加到中转网关的 VPC 启用了 DNS 支持。</p> 
<blockquote> 
 <p>PS：边界网关协议 (BGP) 会话的 AWS 端的自治系统编号 (ASN)。可以使用原定设置的 ASN，也可以在 64512-65534 或 4200000000-4294967294 范围内指定私有 ASN。</p> 
</blockquote> 
<p>页面顶部将显示一条绿色边框，内容为：</p> 
<p><img src="https://images2.imgbox.com/23/4b/kWaOL9Jt_o.png" alt="image-20230903113103975"></p> 
<p><img src="https://images2.imgbox.com/14/7d/Kxns6tk2_o.png" alt="image-20230903113135455"></p> 
<blockquote> 
 <p><strong>注意</strong>：中转网关处于<em>待处理</em>状态几分钟后，会变为<em>可用</em>状态。</p> 
</blockquote> 
<p>在文本编辑器中记录<strong>中转网关 ID</strong>。（本实验中转网关ID：tgw-0ab8c846a55b43bc2）</p> 
<p><img src="https://images2.imgbox.com/a6/62/Pl07sFXz_o.png" alt="image-20230903113237904"></p> 
<blockquote> 
 <p><strong>附加信息</strong>：中转网关充当一种区域虚拟路由器，用于路由在 VPC 和 VPN 连接之间流动的流量。</p> 
</blockquote> 
<hr> 
<h3><a id="_3_192"></a>任务 3：创建中转网关挂载</h3> 
<p>在此任务中，需要将 VPC 附加到中转网关，如下图所示：</p> 
<p><img src="https://images2.imgbox.com/88/54/zre4DVXI_o.png" alt="image-20230903113334721"></p> 
<p>在左侧导航窗格的 <strong>Transit Gateways</strong>（中转网关）部分中，选择 <strong>Transit Gateway Attachments</strong>（中转网关挂载）。</p> 
<p>在页面顶部，选择 <strong>Create transit gateway attachment</strong>（创建中转网关挂载）按钮。</p> 
<p><img src="https://images2.imgbox.com/0f/8d/CAngyKA3_o.png" alt="image-20230903113439939"></p> 
<p>配置以下各项：</p> 
<blockquote> 
 <ul><li>Name tag - optional（名称标签 – 可选）：vpc-a</li><li>Transit Gateway ID（中转网关 ID）：选择中转网关 ID</li><li>Attachment type（挂载类型）：VPC</li><li>VPC ID：选择名为 vpc-a 的 VPC</li><li>选择 Create transit gateway attachment（创建中转网关挂载）按钮。</li></ul> 
</blockquote> 
<p><img src="https://images2.imgbox.com/08/11/tgQNrzLY_o.png" alt="image-20230903113723980"></p> 
<blockquote> 
 <p>重复上述步骤，将<code>vpc-b</code> 、<code>vpc-c</code> 和<code>vpc-d</code> 附加到中转网关。</p> 
</blockquote> 
<blockquote> 
 <p><code>提示</code>：请等待所有中转网关挂载的状态均变为<em>可用</em>，然后再继续下一项任务。</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/17/37/crDDECrO_o.png" alt="image-20230903113956640"></p> 
<hr> 
<h3><a id="_4_244"></a>任务 4：创建中转网关路由表</h3> 
<p>在此任务中，需要使用<code>中转网关路由表</code>为中转网关挂载<code>配置路由</code>。<em>路由表</em>可以控制所有关联挂载的流量的流动方式。</p> 
<p>在左侧导航窗格的 <strong>Transit Gateways</strong>（中转网关）部分中，选择 <strong>Transit Gateway Route Tables</strong>（中转网关路由表）。</p> 
<p>在页面顶部，选择 <strong>Create transit gateway route table</strong>（创建中转网关路由表）按钮。</p> 
<p>配置以下各项：</p> 
<blockquote> 
 <ul><li>Name Tag - optional（名称标签 – 可选）：<code>maintransitgw-rt</code></li><li>Transit Gateway ID（中转网关 ID）：选择中转网关 ID</li><li>选择 Create transit gateway route table（创建中转网关路由表）按钮。</li></ul> 
</blockquote> 
<p><img src="https://images2.imgbox.com/95/e0/vOkiCi7H_o.png" alt="image-20230903114220727"></p> 
<p><img src="https://images2.imgbox.com/d6/f0/PNciLSFy_o.png" alt="image-20230903114257871"></p> 
<blockquote> 
 <p><strong>注意</strong>：中转网关路由表处于<em>待处理</em>状态几分钟后，会变为<em>可用</em>状态。</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/b1/3e/z8VbJVg3_o.png" alt="image-20230903114332978"></p> 
<p><img src="https://images2.imgbox.com/30/00/JV7mAXDt_o.png" alt="image-20230903114400459"></p> 
<h4><a id="_41_288"></a>任务 4.1：创建路由表关联</h4> 
<p>在此任务中，需要将中转网关路由表与中转网关挂载<code>相关联</code>。将挂载与路由表关联之后，<u>流量就可以从挂载发送到目标路由表</u>。</p> 
<blockquote> 
 <p><strong>注意</strong>：一个中转网关挂载只能与一个路由表相关联。每个路由表可以关联零到多个挂载，并可以将数据包转发到其他挂载。</p> 
</blockquote> 
<p>选择 <strong>maintransitgw-rt</strong> 中转网关路由表。 选择 <strong>Associations</strong>（关联）选项卡。</p> 
<p>选择 <strong>Create association</strong>（创建关联）</p> 
<p>配置以下各项：</p> 
<blockquote> 
 <ul><li>Choose attachment to associate（选择要关联的挂载）：选择名称标签为 vpc-a 的挂载 ID</li><li>选择 Create association（创建关联）按钮。</li></ul> 
</blockquote> 
<p><img src="https://images2.imgbox.com/35/da/j4fJ9CFY_o.png" alt="image-20230903114602531"></p> 
<p>重复上述步骤，将 <strong>vpc-b</strong>、<strong>vpc-c</strong> 和 <strong>vpc-d</strong> 的关联添加到路由表中。</p> 
<blockquote> 
 <p><strong>注意</strong>：创建每个关联可能需要几分钟时间。请刷新页面，直到所有挂载的状态都显示为 <em>Associated</em>（已关联）。</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/3a/09/cgVYb3O5_o.png" alt="image-20230903115103428"></p> 
<hr> 
<h4><a id="_42_333"></a>任务 4.2：创建路由传播</h4> 
<p>在此任务中，需要使用<code>路由传播</code>将路由表中的路由添加到挂载。添加传播之后，<strong>路由可以从挂载传播到目标中转网关路由表</strong>。一个挂载可以传播到多个路由表。</p> 
<p>选择 <strong>Propagations</strong>（传播）选项卡。</p> 
<p>选择 <strong>Create propagation</strong>（创建传播）按钮。</p> 
<p><img src="https://images2.imgbox.com/cf/36/bOMMPSj5_o.png" alt="image-20230903115136605"></p> 
<p>配置以下各项：</p> 
<blockquote> 
 <ul><li>选择要传播的挂载：选择名称标签为 vpc-a 的挂载 ID</li><li>选择 Create propagation（创建传播）按钮。</li></ul> 
</blockquote> 
<p><img src="https://images2.imgbox.com/d6/25/nAfz6dos_o.png" alt="image-20230903115208471"></p> 
<p>重复上述步骤，为 <strong>vpc-b</strong>、<strong>vpc-c</strong> 和 <strong>vpc-d</strong> 创建传播。</p> 
<p>传播创建完成后，可以在 <strong>Routes</strong>（路由）选项卡上查看填充的所有 VPC 的子网。</p> 
<p><img src="https://images2.imgbox.com/aa/66/oPXIgU5y_o.png" alt="image-20230903115307640"></p> 
<hr> 
<h3><a id="_5_VPC__378"></a>任务 5：更新 VPC 路由表</h3> 
<p>在此任务中，将为每个 VPC 中的<code>子网添加一个路由</code>，<code>指向作为目标目的地的中转网关</code>。这样，发往本地子网以外的任何私有子网的任何流量都将通过路由流向中转网关。</p> 
<p>在左侧导航窗格中，向上滚动到 <strong>Virtual Private Cloud</strong> 部分，然后选择 <strong>Route Tables</strong>（路由表）。</p> 
<p>选择名为 <strong>vpc_a-public</strong> 的路由表。</p> 
<p><img src="https://images2.imgbox.com/48/2c/RcDNREcc_o.png" alt="image-20230903115514401"></p> 
<p>从页面顶部的 <em><strong>*Actions*</strong></em> （操作）菜单中，选择 <strong>Edit routes</strong>（编辑路由）。</p> 
<p><img src="https://images2.imgbox.com/d6/6d/gskaygFB_o.png" alt="image-20230903115614998"></p> 
<p>选择****Add route****（添加路由），然后配置以下各项：</p> 
<blockquote> 
 <ul><li>Destination（目的地）：10.0.0.0/8</li><li>Target（目标）：复制并粘贴您在任务 1 中复制的中转网关 ID</li><li>选择 Save changes（保存更改）按钮。</li></ul> 
</blockquote> 
<p><img src="https://images2.imgbox.com/e0/83/Z9Smh1mc_o.gif" alt="TGW"></p> 
<blockquote> 
 <p><strong>注意</strong>：对于<strong>目标</strong>，您也可以键入 <code>tgw-</code>，并选择名为 <strong>maintransitgw</strong> 的中转网关。</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/e9/2b/7aKXIetC_o.png" alt="image-20230903120030617"></p> 
<p>PS：重复上述步骤，为每个路由使用相同目的地，将相应路由添加到 <strong>vpc_b-private</strong>、<strong>vpc_c-private</strong> 和 <strong>vpc_d-private</strong> 路由表。</p> 
<h4><a id="_51_428"></a>任务 5.1：网络验证</h4> 
<p>运行以下命令。将 <em></em> 替换为EC2的 <strong>HostB</strong> IP 地址：【重复上述步骤，对 <strong>HostC</strong> 和 <strong>HostD</strong> 执行 Ping 操作。】</p> 
<pre><code class="prism language-bash"><span class="token function">ping</span> <span class="token operator">&lt;</span>Host IP address<span class="token operator">&gt;</span>
</code></pre> 
<p>请注意，<strong>HostE</strong> 位于远程区域，请重复之前的步骤，对 <strong>HostE</strong> 执行 Ping 操作</p> 
<p><strong>思考</strong>：针对 <strong>HostB</strong>、<strong>HostC</strong> 和 <strong>HostD</strong> 的网络可访问性测试本应是成功的。但针对 <strong>HostE</strong> 的测试却失败了。为什么？</p> 
<p><img src="https://images2.imgbox.com/36/96/vzSiTOyK_o.png" alt="image-20230903121229362"></p> 
<hr> 
<h3><a id="_6_450"></a>任务 6：创建与远程区域中转网关的对等连接</h3> 
<p>在此任务中，将在<code>主区域</code>中转网关与<code>远程区域</code>中转网关之间<code>建立对等连接</code>。AWS Transit Gateway 使用<code>自治系统编号 (ASN) </code>与另一个中转网关建立对等连接。用于对等连接的路由协议是<code>边界网关协议 (BGP)</code>。</p> 
<h4><a id="_61_ID_456"></a>任务 6.1：记录远程区域的中转网关 ID</h4> 
<p>在 <strong>AWS 管理控制台</strong>中，使用 <strong>AWS 搜索栏</strong>搜索<code>VPC</code> ，然后从结果列表中选择该服务。</p> 
<p>现在将 AWS 区域切换到为<strong>远程区域</strong>，即切换AWS区域<code>us-east-1</code>。</p> 
<blockquote> 
 <p>在 AWS 管理控制台的右上角，选择 Region name（区域名称）。</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/da/71/fQmPvJ1S_o.png" alt="image-20230903122027216"></p> 
<p>在左侧导航窗格中，向下滚动到 <strong>Transit Gateways</strong>（中转网关）部分，然后选择 <strong>Transit Gateways</strong>（中转网关）。</p> 
<p>在文本编辑器中记录远程网关的<strong>中转网关 ID</strong>。<code>tgw-0d1ba3be61f49fab9</code></p> 
<p><img src="https://images2.imgbox.com/f5/7d/D6V3nOhn_o.png" alt="image-20230903122238401"></p> 
<hr> 
<h4><a id="_62_490"></a>任务 6.2：创建中转网关对等连接</h4> 
<p>在此任务中，将添加与远程区域中转网关的<code>对等连接</code>。将在主区域中配置对等连接。</p> 
<p>现在，将 AWS 区域更改回<strong>主区域</strong>。</p> 
<p>在左侧导航窗格中，向下滚动到 <strong>Transit Gateways</strong>（中转网关）部分，然后选择 <strong>Transit Gateway Attachments</strong>（中转网关挂载）。</p> 
<p>在页面顶部，选择 <strong>Create transit gateway attachment</strong>（创建中转网关挂载）按钮。</p> 
<p>配置以下各项：</p> 
<blockquote> 
 <ul><li>Name tag - optional（名称标签 – 可选）：remote-vpc-e</li><li>Transit Gateway ID（中转网关 ID）：选择中转网关</li><li>Attachment type（挂载类型）：Peering Connection（对等连接）</li><li>Account（账户）：My account（我的账户）</li><li>Region（区域）：选择远程区域名称</li><li>Transit gateway (accepter)（中转网关（接受方））：复制并粘贴您在上一部分中记录的远程区域的中转网关 ID</li><li>选择 Create transit gateway attachment（创建中转网关挂载）按钮。</li></ul> 
</blockquote> 
<p><img src="https://images2.imgbox.com/63/79/zrpWrWbV_o.png" alt="image-20230903122804744"></p> 
<blockquote> 
 <p><strong>注意</strong>：挂载的状态将依次变为<em>正在发起请求</em>和<em>等待接受</em>。</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/c0/06/YA1JfFWS_o.png" alt="image-20230903122859850"></p> 
<p><img src="https://images2.imgbox.com/34/a8/4PSJ6SJ8_o.png" alt="image-20230903122936191"></p> 
<hr> 
<h4><a id="_63___542"></a>任务 6.3：接受中转网关对等连接请求 – 远程区域</h4> 
<p>目标中转网关必须批准对等连接请求。在此任务中，将允许从<strong>主区域</strong>到<strong>远程区域</strong>的对等连接。</p> 
<p>现在将 AWS 区域更改为<strong>远程区域</strong>。</p> 
<p><strong>注意</strong>：如果收到内容为 <strong>An error occurred, Transit Gateway Attachment tgw-attach-xxxxxxxx was deleted or does not exist.</strong>（出现错误，中转网关挂载 tgw-attach-xxxxxxxx 被删除或不存在。）的错误消息，请忽略。</p> 
<p>在左侧导航窗格中，向下滚动到 <strong>Transit Gateways</strong>（中转网关）部分，然后选择 <strong>Transit Gateway Attachments</strong>（中转网关挂载）。</p> 
<p>要确认，请选择 <strong>接受</strong> 按钮。</p> 
<p><img src="https://images2.imgbox.com/b4/24/7IN3ZRlR_o.png" alt="image-20230903125020735"></p> 
<p><img src="https://images2.imgbox.com/70/b7/TRQGf1VC_o.png" alt="image-20230903125045752"></p> 
<p><img src="https://images2.imgbox.com/32/ee/SgpBT3gU_o.png" alt="image-20230903125425679"></p> 
<p><img src="https://images2.imgbox.com/c8/b0/YBJnoDBe_o.png" alt="image-20230903125927067"></p> 
<p><img src="https://images2.imgbox.com/e6/0c/NU0TYvWf_o.png" alt="image-20230903125958431"></p> 
<p><strong>注意</strong>：挂载的状态可能需要几分钟的时间才能从<strong>待处理</strong>变为<strong>可用</strong>。</p> 
<h4><a id="_64___588"></a>任务 6.4：更新路由表关联 – 远程区域</h4> 
<p>在此任务中，需要将挂载关联到路由表。这样，流量就可以从挂载发送到目标路由表。</p> 
<p>在左侧导航窗格中，向下滚动到 <strong>Transit Gateways</strong>（中转网关）部分，然后选择 <strong>Transit Gateway Route Tables</strong>（中转网关路由表）。</p> 
<p>选择 <strong>remote-rt</strong> 中转网关路由表。</p> 
<p>选择 <strong>Associations</strong>（关联）选项卡。</p> 
<p>选择 <strong>Create association</strong>（创建关联）按钮。</p> 
<p>配置以下各项：</p> 
<blockquote> 
 <ul><li>Choose attachment to associate（选择要关联的挂载）：选择不带名称标签且 Resource Type（资源类型）为 peering（对等连接）的挂载 ID</li><li>选择 Create association（创建关联）按钮。</li></ul> 
</blockquote> 
<p><img src="https://images2.imgbox.com/d4/92/vaqRJs5m_o.png" alt="image-20230903132103435"></p> 
<p><img src="https://images2.imgbox.com/c4/46/Oy2theCG_o.png" alt="image-20230903132650355"></p> 
<hr> 
<h4><a id="_65___627"></a>任务 6.5：更新中转网关路由表 – 远程区域</h4> 
<p>在此任务中，将修改远程区域中转网关的默认路由，以便指向对等中转网关。通过执行这一操作，可以将本地子网以外的流量路由到对等中转网关。</p> 
<p>选择 <strong>Routes</strong>（路由）选项卡。</p> 
<p>选择 CIDR 为 <strong>0.0.0.0/0</strong> 的路由。</p> 
<p>从 <em><strong>*Actions*</strong></em> （操作）菜单中，选择 <strong>Replace static route</strong>（替换静态路由）。</p> 
<p>此时将显示 <strong>Replace static route</strong>（替换静态路由）页面。</p> 
<p>配置以下各项：</p> 
<blockquote> 
 <ul><li><strong>Choose attachment</strong>（选择挂载）：选择远程对等连接的挂载 ID，该连接没有名称标签且 <strong>Resource Type</strong>（资源类型）为 <em>peering</em>（对等连接）</li><li>选择 <strong>Replace static route</strong>（替换静态路由）按钮。</li></ul> 
</blockquote> 
<p><img src="https://images2.imgbox.com/c8/54/9D4FDIdw_o.png" alt="image-20230903132753256"></p> 
<p><img src="https://images2.imgbox.com/1e/7e/6JrcHNMB_o.png" alt="image-20230903132851695"></p> 
<p><img src="https://images2.imgbox.com/db/d0/47x6C8hA_o.png" alt="image-20230903132943323"></p> 
<hr> 
<h4><a id="_66_VPC____672"></a>任务 6.6：更新 VPC 路由表 – 远程区域</h4> 
<p>在此任务中，将添加默认路由以便指向<code>中转网关</code>。这样，<strong>HostE</strong> 就能够向中转网关发送非本地流量。</p> 
<p>在左侧导航窗格中，向上滚动到 <strong>Virtual Private Cloud</strong> 部分，然后选择 <strong>Route Tables</strong>（路由表）。</p> 
<p>选择 <strong>vpc_e-private</strong> 路由表。</p> 
<p>从 <em><strong>*Actions*</strong></em> （操作）菜单中，选择 <strong>Edit routes</strong>（编辑路由）。</p> 
<p>选择 <em><strong>*Add route*</strong></em>（添加路由），然后配置以下各项：</p> 
<blockquote> 
 <ul><li>Destination（目的地）：0.0.0.0/0</li><li>Target（目标）：复制并粘贴远程区域的中转网关 ID</li><li>选择 Save changes（保存更改）按钮。</li></ul> 
</blockquote> 
<p><img src="https://images2.imgbox.com/d2/b1/TryBKQsw_o.png" alt="image-20230903133335654"></p> 
<blockquote> 
 <p><strong>注意</strong>：对于<strong>目标</strong>，您也可以键入 <code>tgw-</code>，并选择名为 <strong>remote-tgw</strong> 的中转网关。</p> 
</blockquote> 
<h4><a id="_67_708"></a>任务 6.7：网络验证</h4> 
<p>重复任务 1 中的步骤，对 <strong>HostB</strong>、<strong>HostC</strong>、<strong>HostD</strong> 和 <strong>HostE</strong> 执行 Ping 操作。记录结果。</p> 
<p>请注意，命令主机仍然无法对 HostE 执行 Ping 操作。更新主区域中的路由，以便命令主机可以对 HostE 执行 Ping 操作。</p> 
<p><strong>解决方案</strong></p> 
<p><strong>注意</strong>：在更新路由之后，您应能够访问所有主机。</p> 
<p>1、<strong>更新主区域的路由表关联</strong></p> 
<p>确保您位于控制台中的<strong>主区域</strong>内。</p> 
<p>在左侧导航窗格中，向下滚动到 <strong>Transit Gateways</strong>（中转网关）部分，然后选择 <strong>Transit Gateway Route Tables</strong>（中转网关路由表）。</p> 
<p>选择 <strong>maintransitgw-rt</strong> 中转网关路由表。</p> 
<p>选择 <strong>Associations</strong>（关联）选项卡。</p> 
<p>选择 <strong>Create association</strong>（创建关联）按钮。</p> 
<p>配置以下各项：</p> 
<blockquote> 
 <ul><li>Choose attachment to associate（选择要关联的挂载）：选择名称标签为 remote-vpc-e 的 Attachment ID（挂载 ID）</li><li>选择 Create association（创建关联）按钮。</li></ul> 
</blockquote> 
<p><img src="https://images2.imgbox.com/0e/50/dy19x2yt_o.png" alt="image-20230903134941391"></p> 
<p>2、<strong>更新主区域的中转网关路由表</strong></p> 
<p>其次，添加静态路由表以从远程区域添加 VPC E 子网，从而指向对等连接中转网关关联。这样，中转网关就可以路由发送到 VPC E 的流量。</p> 
<p>选择 <strong>Routes</strong>（路由）选项卡。</p> 
<p>选择 <strong>Create static route</strong>（创建静态路由）</p> 
<p>配置以下各项：</p> 
<blockquote> 
 <ul><li>CIDR：10.0.0.0/16</li><li>Choose attachment（选择挂载）：选择名称标签为 remote-vpc-e 的挂载 ID</li><li>选择 Create static route（创建静态路由）按钮。</li></ul> 
</blockquote> 
<p><strong>注意</strong>：选择 <strong>Routes</strong>（路由）选项卡，查看新路由。如果没有立即显示，请在几秒钟后刷新页面，直到路由显示。</p> 
<p><img src="https://images2.imgbox.com/47/b8/YaQzO3fh_o.png" alt="image-20230903135226138"></p> 
<p><img src="https://images2.imgbox.com/91/d2/iSuUxWPf_o.png" alt="image-20230903135314473"></p> 
<p><img src="https://images2.imgbox.com/35/07/bHRsdLwK_o.png" alt="image-20230903135420983"></p> 
<p><strong>网络验证</strong></p> 
<p>重复任务 1 中的步骤，对 <strong>HostB</strong>、<strong>HostC</strong>、<strong>HostD</strong> 和 <strong>HostE</strong> 执行 Ping 操作。记录结果。</p> 
<p>命令主机现在应该能够成功对 HostE 执行 Ping 操作。</p> 
<p><img src="https://images2.imgbox.com/19/37/kiwyeLba_o.png" alt="image-20230903135539125"></p> 
<h3><a id="_7_823"></a>任务 7：创建路由筛选条件</h3> 
<p>在此任务中，将使用<code>黑洞路由</code>来筛选流量。可以为 VPC B 和 VPC D 中的<code>子网创建黑洞路由</code>，如下图所示：</p> 
<p><img src="https://images2.imgbox.com/53/6a/DpzO0dYh_o.png" alt="image-20230903135638781"></p> 
<p>中转网关路由表中的<em>黑洞路由</em>会丢弃与路由匹配的流量。</p> 
<p>在 <strong>AWS 管理控制台</strong>中，使用 <strong>AWS 搜索栏</strong>搜索 <code>VPC</code>，然后从结果列表中选择该服务。</p> 
<p>在左侧导航窗格中，向下滚动到 <strong>Transit Gateways</strong>（中转网关）部分，然后选择 <strong>Transit Gateway Route Tables</strong>（中转网关路由表）。</p> 
<p>选择 <strong>maintransitgw-rt</strong> 中转网关路由表。</p> 
<p>从 <em><strong>*Actions*</strong></em> （操作）菜单中，选择 <strong>Create static route</strong>（创建静态路由）。</p> 
<p>此时将显示 <strong>Create static route</strong>（创建静态路由）页面。</p> 
<p>配置以下各项：</p> 
<blockquote> 
 <ul><li>CIDR*：10.2.2.0/24</li><li>选择 Blackhole（黑洞）</li><li>选择 Create static route（创建静态路由）按钮。</li></ul> 
</blockquote> 
<p><strong>注意</strong>：选择 <strong>Routes</strong>（路由）选项卡，查看新路由。如果没有立即显示，请在几秒钟后刷新页面，直到路由显示。</p> 
<p><img src="https://images2.imgbox.com/12/51/ozCmnhxw_o.png" alt="image-20230903152614682"></p> 
<p><img src="https://images2.imgbox.com/d4/3c/8enhNmFj_o.png" alt="image-20230903152724669"></p> 
<p>重复上述步骤，为 VPC D 子网 (<code>10.4.4.0/24</code>) 添加黑洞路由。</p> 
<p><img src="https://images2.imgbox.com/66/15/qu5utCZo_o.png" alt="image-20230903152853431"></p> 
<p>​</p> 
<h4><a id="_71_887"></a>任务 7.1：网络验证</h4> 
<p>重复任务 1 中的步骤，对 <strong>HostB</strong>、<strong>HostC</strong>、<strong>HostD</strong> 和 <strong>HostE</strong> 执行 Ping 操作。记录结果。</p> 
<p><strong>注意</strong>：针对 HostB 和 HostD 的网络可访问性测试应该会失败。</p> 
<p><img src="https://images2.imgbox.com/91/a9/ZJw7uzCR_o.png" alt="image-20230903153113680"></p> 
<h3><a id="_8_901"></a>任务 8：可视化和分析网络（可选）</h3> 
<p>在此任务中，需要使用 Network Manager 在集中式控制面板中将<code>全局网络可视化为逻辑示意图或地图</code>。然后，使用路由分析器来检查命令主机与 HostE 之间的路由。</p> 
<p>在 <strong>AWS 管理控制台</strong>中，使用 <strong>AWS 搜索栏</strong>搜索<code>VPC</code> ，然后从结果列表中选择该服务。</p> 
<p>在左侧导航窗格中，选择 <strong>Network Manager</strong>（网络管理器）。</p> 
<p>选择 <strong>Transit Gateway Network Manager</strong>（中转网关网络管理器）卡的链接文本。</p> 
<p><img src="https://images2.imgbox.com/ca/6f/vQgTArNw_o.png" alt="image-20230903153458616"></p> 
<p>选择 <strong>Get Started</strong>（开始使用）。</p> 
<p>选择 <em><strong>*Create global network*</strong></em>（创建全局网络）或 <strong>Create global network</strong>（创建全球网络）。</p> 
<p><img src="https://images2.imgbox.com/31/5b/NHhlXmmr_o.png" alt="image-20230903153604334"></p> 
<p>配置以下各项：</p> 
<blockquote> 
 <ul><li>Name（名称）：TGW-Network</li><li>Description（描述）：Transit Gateway Network</li><li>选择 Next（下一步）。</li><li>取消选择 Add core network in your global network（在全局网络中添加核心网络）</li><li>选择 Next（下一步）。</li><li>选择 Create global network（创建全局网络）按钮。</li></ul> 
</blockquote> 
<p><img src="https://images2.imgbox.com/6b/fa/OD76hsTI_o.png" alt="image-20230903153712090"></p> 
<p><img src="https://images2.imgbox.com/2f/16/ia241rhN_o.png" alt="image-20230903153745785"></p> 
<p><img src="https://images2.imgbox.com/da/7e/3Drv1Izz_o.png" alt="image-20230903153803176"></p> 
<p><img src="https://images2.imgbox.com/7b/9e/dGTsGfZg_o.png" alt="image-20230903153842162"></p> 
<p>等待 Global network State（全局网络状态）显示<strong>可用</strong>。</p> 
<p>在 <strong>Global networks</strong>（全局网络）窗格中，选择 <strong>TGW-Network</strong> 名称的超链接。</p> 
<p>从左侧导航窗格中选择 <strong>Transit gateways</strong>（中转网关）。</p> 
<p>选择 <strong>Register Transit Gateway</strong>（注册中转网关），以便添加要监控的中转网关。</p> 
<p><img src="https://images2.imgbox.com/ed/24/Yad9YWAk_o.png" alt="image-20230903154312185"></p> 
<p>选择两个中转网关，然后选择 <strong>注册中转网关</strong> 按钮。</p> 
<p><img src="https://images2.imgbox.com/b3/7b/gnYtSVXc_o.png" alt="image-20230903154432454"></p> 
<p><strong>注意</strong>：状态可能需要几分钟的时间才能从<em>待处理</em>变为<em>可用</em>。请时不时刷新浏览器页面，直到状态显示为<em>可用</em>。</p> 
<p><img src="https://images2.imgbox.com/c7/6b/jRK7O38i_o.png" alt="image-20230903154544064"></p> 
<h4><a id="_81_1002"></a>任务 8.1：将网络可视化</h4> 
<p>要查看网络，在左侧导航窗格中选择 <strong>Transit gateway network</strong>（中转网关网络）。</p> 
<p>查看 <strong>Geography</strong>（地理位置）、<strong>Topology tree</strong>（拓扑树）和 <strong>Monitoring</strong>（监控）选项卡。</p> 
<p><img src="https://images2.imgbox.com/38/07/VQre3Ege_o.png" alt="image-20230903154724101"></p> 
<p>在此控制面板上，您可以将全局网络可视化为拓扑图和地图。您可以查看使用率指标，如输入/输出的字节数、输入/输出的数据包和丢失的数据包。您还可以查看有关拓扑、路由和上/下行连接状态变化的提醒。</p> 
<p><img src="https://images2.imgbox.com/b0/d4/E50iSi2p_o.png" alt="image-20230903154951931"></p> 
<p><img src="https://images2.imgbox.com/af/f6/u3nyyMwd_o.png" alt="image-20230903155033092"></p> 
<p><img src="https://images2.imgbox.com/10/ef/YCCnqSxc_o.png" alt="image-20230903155358527"></p> 
<h4><a id="_82_1029"></a>任务 8.2：分析路由</h4> 
<p>选择 <strong>Route Analyzer</strong>（路由分析器）选项卡。</p> 
<p>配置以下各项：</p> 
<p><strong>Source</strong>（源）</p> 
<blockquote> 
 <ul><li>Transit Gateway（中转网关）：maintransitgw</li><li>Transit Gateway attachment（中转网关挂载）：vpc-a</li><li>IP address（IP 地址）：复制并粘贴 CommandHostPrivateIP 公有IP 地址</li><li>选择 Include return path in results（在结果中包含返回路径）</li></ul> 
</blockquote> 
<p><strong>Destination</strong>（目的地）</p> 
<blockquote> 
 <ul><li>Transit Gateway（中转网关）：remote-tgw</li><li>Transit Gateway attachment（中转网关挂载）：vpc-e</li><li>IP address（IP 地址）：复制并粘贴实验页面左侧的 HostE IP 地址</li></ul> 
</blockquote> 
<p>要分析网络路径，请选择 <strong>Run route analysis</strong>（运行路由分析）按钮。</p> 
<p>可以查看命令主机与 HostE 之间的<code>转发和返回网络路径</code>。可以使用这一功能<code>排除两个终端节点之间的网络问题</code>。</p> 
<p><img src="https://images2.imgbox.com/14/32/m9lvGErd_o.png" alt="image-20230903155555695"><br> <img src="https://images2.imgbox.com/e8/85/1tlMSP8s_o.png" alt="image-20230903155758505"></p> 
<h3><a id="_1056"></a>总结</h3> 
<ul><li>配置中转网关</li><li>将 VPC 附加到中转网关</li><li>使用 AWS Transit Gateway 控制和自定义路由</li><li>建立两个区域之间的中转网关对等连接</li><li>使用网络管理器可视化和分析您的网络</li></ul>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5d38d635d149e4c6a01ddf305a9696a1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Halcon_blob分析_形态学</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8fa2609453130eb4b7bc3675ac30bb2f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">如何一键导出PDF文档的图片？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程爱好者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151260"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>