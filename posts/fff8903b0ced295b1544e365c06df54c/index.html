<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>算法刷题总结 (七) 双指针 - 编程爱好者博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="算法刷题总结 (七) 双指针" />
<meta property="og:description" content="算法总结7 双指针 一、双指针的概念1.1、什么是双指针？1.2、常见类型1.2.1、快慢指针1.2.2、左右端点指针（相向双指针）* 详解二分法（二分查找 / 二分答案） 1.2.3、区间指针 - 滑动窗口（同向双指针）汇总 二、经典例题2.1、快慢指针（1）、链表判环141. 环形链表142. 环形链表 II287. 寻找重复数876. 链表的中间结点 （2）、读写指针26. 删除有序数组中的重复项 - 仅保留一次80. 删除有序数组中的重复项 II - 保留两次重复递推：删除且保留k次重复202. 快乐数 2.2、左右端点指针（相向双指针）（1.1）、二分法34. 在排序数组中查找元素的第一个和最后一个位置33. 搜索旋转排序数组 - （非有序序列）162. 寻找峰值 - （非有序序列）475. 供暖器 （使用python库 bisect） （1.2）、二分答案购物系统的降级策略875. 爱吃香蕉的珂珂组装最大可靠性设备最佳植树距离食堂供餐数据最节约的备份方法 - 二分答案&#43;dfs （2）、有序数组暴力枚举 - N数和问题167. 两数之和 II - 输入有序数组1. 两数之和15. 三数之和18. 四数之和递推：N数之和16. 最接近的三数之和881. 救生艇 （3）、其他暴力枚举75. 颜色分类 - 类似于荷兰国旗问题977. 有序数组的平方11. 盛最多水的容器42. 接雨水 2.3、区间指针 - 滑动窗口 （同向双指针）（1）、定长滑动窗口1456. 定长子串中元音的最大数目剑指 Offer 22. 链表中倒数第k个节点 （2）、变长滑动窗口1004. 最大连续1的个数 III209. 长度最小的子数组 - （从符合条件到不符合条件）713." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bchobby.github.io/posts/fff8903b0ced295b1544e365c06df54c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-10-23T09:43:44+08:00" />
<meta property="article:modified_time" content="2023-10-23T09:43:44+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程爱好者博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程爱好者博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">算法刷题总结 (七) 双指针</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>算法总结7 双指针</h4> 
 <ul><li><a href="#_4" rel="nofollow">一、双指针的概念</a></li><li><ul><li><a href="#11_9" rel="nofollow">1.1、什么是双指针？</a></li><li><a href="#12_56" rel="nofollow">1.2、常见类型</a></li><li><ul><li><a href="#121_68" rel="nofollow">1.2.1、快慢指针</a></li><li><a href="#122_147" rel="nofollow">1.2.2、左右端点指针（相向双指针）</a></li><li><ul><li><a href="#____159" rel="nofollow">* 详解二分法（二分查找 / 二分答案）</a></li></ul> 
    </li><li><a href="#123___303" rel="nofollow">1.2.3、区间指针 - 滑动窗口（同向双指针）</a></li><li><a href="#_334" rel="nofollow">汇总</a></li></ul> 
  </li></ul> 
  </li><li><a href="#_348" rel="nofollow">二、经典例题</a></li><li><ul><li><a href="#21_349" rel="nofollow">2.1、快慢指针</a></li><li><ul><li><a href="#1_359" rel="nofollow">（1）、链表判环</a></li><li><ul><li><a href="#141__360" rel="nofollow">141. 环形链表</a></li><li><a href="#142__II_412" rel="nofollow">142. 环形链表 II</a></li><li><a href="#287__466" rel="nofollow">287. 寻找重复数</a></li><li><a href="#876__498" rel="nofollow">876. 链表的中间结点</a></li></ul> 
    </li><li><a href="#2_519" rel="nofollow">（2）、读写指针</a></li><li><ul><li><a href="#26____520" rel="nofollow">26. 删除有序数组中的重复项 - 仅保留一次</a></li><li><a href="#80__II___541" rel="nofollow">80. 删除有序数组中的重复项 II - 保留两次重复</a></li><li><a href="#k_560" rel="nofollow">递推：删除且保留k次重复</a></li><li><a href="#202__579" rel="nofollow">202. 快乐数</a></li></ul> 
   </li></ul> 
   </li><li><a href="#22_615" rel="nofollow">2.2、左右端点指针（相向双指针）</a></li><li><ul><li><a href="#11_626" rel="nofollow">（1.1）、二分法</a></li><li><ul><li><a href="#34__629" rel="nofollow">34. 在排序数组中查找元素的第一个和最后一个位置</a></li><li><a href="#33____694" rel="nofollow">33. 搜索旋转排序数组 - （非有序序列）</a></li><li><a href="#162____743" rel="nofollow">162. 寻找峰值 - （非有序序列）</a></li><li><a href="#475__python_bisect_772" rel="nofollow">475. 供暖器 （使用python库 bisect）</a></li></ul> 
    </li><li><a href="#12_843" rel="nofollow">（1.2）、二分答案</a></li><li><ul><li><a href="#_844" rel="nofollow">购物系统的降级策略</a></li><li><a href="#875__873" rel="nofollow">875. 爱吃香蕉的珂珂</a></li><li><a href="#_901" rel="nofollow">组装最大可靠性设备</a></li><li><a href="#_957" rel="nofollow">最佳植树距离</a></li><li><a href="#_987" rel="nofollow">食堂供餐</a></li><li><a href="#__dfs_1019" rel="nofollow">数据最节约的备份方法 - 二分答案+dfs</a></li></ul> 
    </li><li><a href="#2__N_1063" rel="nofollow">（2）、有序数组暴力枚举 - N数和问题</a></li><li><ul><li><a href="#167__II___1075" rel="nofollow">167. 两数之和 II - 输入有序数组</a></li><li><a href="#1__1095" rel="nofollow">1. 两数之和</a></li><li><a href="#15__1129" rel="nofollow">15. 三数之和</a></li><li><a href="#18__1221" rel="nofollow">18. 四数之和</a></li><li><a href="#N_1279" rel="nofollow">递推：N数之和</a></li><li><a href="#16__1335" rel="nofollow">16. 最接近的三数之和</a></li><li><a href="#881__1386" rel="nofollow">881. 救生艇</a></li></ul> 
    </li><li><a href="#3_1406" rel="nofollow">（3）、其他暴力枚举</a></li><li><ul><li><a href="#75____1410" rel="nofollow">75. 颜色分类 - 类似于荷兰国旗问题</a></li><li><a href="#977__1434" rel="nofollow">977. 有序数组的平方</a></li><li><a href="#11__1458" rel="nofollow">11. 盛最多水的容器</a></li><li><a href="#42__1485" rel="nofollow">42. 接雨水</a></li></ul> 
   </li></ul> 
   </li><li><a href="#23____1544" rel="nofollow">2.3、区间指针 - 滑动窗口 （同向双指针）</a></li><li><ul><li><a href="#1_1552" rel="nofollow">（1）、定长滑动窗口</a></li><li><ul><li><a href="#1456__1553" rel="nofollow">1456. 定长子串中元音的最大数目</a></li><li><a href="#_Offer_22_k_1576" rel="nofollow">剑指 Offer 22. 链表中倒数第k个节点</a></li></ul> 
    </li><li><a href="#2_1599" rel="nofollow">（2）、变长滑动窗口</a></li><li><ul><li><a href="#1004_1_III_1600" rel="nofollow">1004. 最大连续1的个数 III</a></li><li><a href="#209____1630" rel="nofollow">209. 长度最小的子数组 - （从符合条件到不符合条件）</a></li><li><a href="#713__K____1650" rel="nofollow">713. 乘积小于 K 的子数组 - （从不符合条件到符合条件）</a></li><li><a href="#3____1713" rel="nofollow">3. 无重复字符的最长子串 - 只增不减</a></li></ul> 
   </li></ul> 
   </li><li><a href="#24_1756" rel="nofollow">2.4、其他类型指针</a></li><li><ul><li><a href="#1_1759" rel="nofollow">（1）、中间开花</a></li><li><ul><li><a href="#5__1760" rel="nofollow">5. 最长回文子串</a></li></ul> 
    </li><li><a href="#2_1783" rel="nofollow">（2）、快慢指针变体</a></li><li><ul><li><a href="#392__1784" rel="nofollow">392. 判断子序列</a></li></ul> 
    </li><li><a href="#3_1802" rel="nofollow">（3）、从尾向头逆序</a></li><li><ul><li><a href="#88__1803" rel="nofollow">88. 合并两个有序数组</a></li></ul> 
   </li></ul> 
  </li></ul> 
  </li><li><a href="#_1828" rel="nofollow">三、相似题练习</a></li><li><ul><li><a href="#2730__1829" rel="nofollow">2730. 找到最长的半重复子字符串</a></li><li><a href="#2861__1876" rel="nofollow">2861. 最大合金数</a></li><li><a href="#___1910" rel="nofollow">无限数组的最短子数组 - 找规律缩短数组</a></li></ul> 
  </li><li><a href="#_1922" rel="nofollow">参考</a></li></ul> 
</div> 
<p></p> 
<p><img src="https://images2.imgbox.com/50/27/vk162uHN_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_4"></a>一、双指针的概念</h2> 
<br> 
<h3><a id="11_9"></a>1.1、什么是双指针？</h3> 
<p>顾名思议，双指针就是两个指针，但是该指针不同于 C，C++中的指针地址，而是一种记录两个索引的算法思想。</p> 
<p>实际上，在很多简单题目中，我们经常使用<strong>单指针</strong>，比如我们通过索引来遍历某数组：</p> 
<pre><code class="prism language-python">
<span class="token comment"># 可以这样</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token keyword">print</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># 当然也可以这样</span>
i <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">while</span> i<span class="token operator">&lt;</span>n<span class="token punctuation">:</span>
	<span class="token keyword">print</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
	i<span class="token operator">+=</span><span class="token number">1</span>
<span class="token comment"># 这样写为了引申出双指针，因为双指针一般用while来遍历</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/bf/42/daD7XLUb_o.png" alt="在这里插入图片描述"></p> 
<p>那么双指针实际上就是有两个这样的指针，最为经典的就是二分法中的左右双指针。</p> 
<pre><code class="prism language-python">left<span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span>

<span class="token keyword">while</span> left<span class="token operator">&lt;</span>right<span class="token punctuation">:</span>
	<span class="token keyword">if</span> 一定条件<span class="token punctuation">:</span>
		<span class="token keyword">return</span> 合适的值，一般是 l 和 r 的中点
	<span class="token keyword">elif</span> 一定条件<span class="token punctuation">:</span>
		l<span class="token operator">+=</span><span class="token number">1</span>
	<span class="token keyword">else</span><span class="token punctuation">:</span>
		r<span class="token operator">-=</span><span class="token number">1</span>
<span class="token comment"># 因为 l == r，因此返回 l 和 r 都是一样的</span>
<span class="token keyword">return</span> l
</code></pre> 
<p><img src="https://images2.imgbox.com/1b/d5/JHEx87mO_o.png" alt="在这里插入图片描述"></p> 
<p>其实双指针是一个很宽泛的概念，就好像数组，链表一样，其类型会有很多很多， 比如<strong>二分法</strong>经常用到<strong>左右端点双指针</strong>。<strong>滑动窗口</strong>会用到<strong>快慢指针</strong>和<strong>固定间距指针</strong>。 因此双指针其实是一种综合性很强的类型，类似于数组，栈等。 但是我们这里所讲述的双指针，往往指的是某几种类型的双指针，而不是“只要有两个指针就是双指针了”。</p> 
<p>有了这样一个算法框架，或者算法思维，有很大的好处。它能帮助你理清思路，当你碰到新的问题，在脑海里进行搜索的时候，双指针这个词就会在你脑海里闪过，闪过的同时你可以根据双指针的所有套路和这道题进行穷举匹配，这个思考解题过程本来就像是算法。</p> 
<br> 
<br> 
<p><img src="https://images2.imgbox.com/c8/e7/tQasgnX6_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="12_56"></a>1.2、常见类型</h3> 
<p>指针一般情况下将分为三种类类型，分别是：</p> 
<table><thead><tr><th>类型</th><th>特点</th></tr></thead><tbody><tr><td>快慢指针</td><td>两个指针步长不同，一般情况下，快的走两步，慢的走一步</td></tr><tr><td>左右端点指针</td><td>两个指针分别指向头尾，并往中间移动，步长不确定，一般为1</td></tr><tr><td>区间指针</td><td>一般为滑动窗口，两个指针及其间距视作整体，窗口有定长有变长，每次操作窗口整体向右滑动</td></tr></tbody></table> 
<p>不管是哪一种双指针，只考虑双指针部分的话 ，由于最多还是会遍历整个数组一次，因此时间复杂度取决于步长，如果步长是 1，2 这种常数的话，那么时间复杂度就是 O(N)，如果步长是和数据规模有关（比如二分法），其时间复杂度就是 O(logN)。并且由于不管规模多大，我们都只需要最多两个指针，因此空间复杂度是 O(1)。下面我们就来看看双指针的常见套路有哪些。</p> 
<br> 
<h4><a id="121_68"></a>1.2.1、快慢指针</h4> 
<p>本方法需要我们对「Floyd 判圈算法」（又称龟兔赛跑算法）有所了解。</p> 
<p>假想「乌龟」和「兔子」在链表上移动，「兔子」跑得快，「乌龟」跑得慢。当「乌龟」和「兔子」从链表上的同一个节点开始移动时，如果该链表中没有环，那么「兔子」将一直处于「乌龟」的前方；如果该链表中有环，那么「兔子」会先于「乌龟」进入环，并且一直在环内移动。等到「乌龟」进入环时，由于「兔子」的速度快，它一定会在某个时刻与乌龟相遇，即套了「乌龟」若干圈。</p> 
<p>我们可以根据上述思路来解决本题。具体地，我们定义两个指针，一快一慢。慢指针每次只移动一步，而快指针每次移动两步。初始时，慢指针在位置 head，而快指针在位置 head.next。这样一来，如果在移动的过程中，快指针反过来追上慢指针，就说明该链表为环形链表。否则快指针将到达链表尾部，该链表不为环形链表。</p> 
<p>具体的的示意图如下，同时也可以参考相似思路的，且比较简单的例题 <a href="https://leetcode.cn/problems/linked-list-cycle/" rel="nofollow">141. 环形链表</a>。</p> 
<p>1.开始，乌龟slow在起始点，兔子fast在起点的下一个点。<br> <img src="https://images2.imgbox.com/36/9d/3My9GTjg_o.png" alt="在这里插入图片描述"><br> 2.乌龟走得慢每次走一步，兔子走得快，每次走两步。<br> <img src="https://images2.imgbox.com/17/80/uOb4ceIf_o.png" alt="在这里插入图片描述"><br> 继续走，兔子先进入环。<br> <img src="https://images2.imgbox.com/26/0e/GpLnsOOM_o.png" alt="在这里插入图片描述"></p> 
<p>继续走，兔子一圈环快走完了，而乌龟刚进入环<br> <img src="https://images2.imgbox.com/e5/c1/vCBMFWCc_o.png" alt="在这里插入图片描述"><br> 最后乌龟走第一圈的时候，兔子第二圈刚好遇上。<br> <img src="https://images2.imgbox.com/41/d1/RdmG2VAK_o.png" alt="在这里插入图片描述"><br> <strong>注意：</strong><br> 当然具体第几圈遇上是不确定的，根据步长与环的大小相关，但是乌龟与兔子在圈中循环跑时，只要步长不一致，他们之间的最近距离会不断减少，总会相遇。</p> 
<p>但是一般情况下会设置slow走一步，fast走两步，这个设定会产生很多有规律的数学推导，比如：<a href="https://leetcode.cn/problems/linked-list-cycle-ii/" rel="nofollow">142. 环形链表 II</a> 中的快慢指针做法。</p> 
<p><strong>细节：</strong></p> 
<p>为什么我们要规定初始时慢指针在位置 head，快指针在位置 head.next，而不是两个指针都在位置 head（即与「乌龟」和「兔子」中的叙述相同）？</p> 
<p>观察下面的代码，我们使用的是 while 循环，循环条件先于循环体。由于循环条件一定是判断快慢指针是否重合，如果我们将两个指针初始都置于 head，那么 while 循环就不会执行。因此，我们可以假想一个在 head 之前的虚拟节点，慢指针从虚拟节点移动一步到达 head，快指针从虚拟节点移动两步到达 head.next，这样我们就可以使用 while 循环了。</p> 
<p>当然，我们也可以使用 do-while 循环或者其他方法。此时，我们就可以把快慢指针的初始值都置为 head。（所以，从这里可以得知，快慢指针初始化的值，可以相同也可以不同，具体取决于后面的判断条件）</p> 
<p><strong>复杂度分析：</strong></p> 
<table><thead><tr><th>时间复杂度：<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
        
         
          
          
            O 
           
          
            ( 
           
          
            N 
           
          
            ) 
           
          
         
           O(N) 
          
         
       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right: 0.109em;">N</span><span class="mclose">)</span></span></span></span></span>，其中 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
        
         
          
          
            N 
           
          
         
           N 
          
         
       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.109em;">N</span></span></span></span></span> 是链表中的节点数。</th><th>空间复杂度：<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
        
         
          
          
            O 
           
          
            ( 
           
          
            1 
           
          
            ) 
           
          
         
           O(1) 
          
         
       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>。</th></tr></thead><tbody><tr><td>当链表中不存在环时，快指针将先于慢指针到达链表尾部，链表中每个节点至多被访问两次；当链表中存在环时，每一轮移动后，快慢指针的距离将减小一。而初始距离为环的长度，因此至多移动 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
        
         
          
          
            N 
           
          
         
           N 
          
         
       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.109em;">N</span></span></span></span></span> 轮。</td><td>我们只使用了两个指针的额外空间。</td></tr></tbody></table> 
<p><strong>题目类型：</strong></p> 
<table><thead><tr><th></th><th>问题</th><th>例题</th></tr></thead><tbody><tr><td>1</td><td>判断链表是否有环；寻找入环节点</td><td><a href="https://leetcode.cn/problems/linked-list-cycle/" rel="nofollow">141. 环形链表</a> | <a href="https://leetcode.cn/problems/linked-list-cycle-ii/" rel="nofollow">142. 环形链表 II</a> | <a href="https://leetcode.cn/problems/find-the-duplicate-number/" rel="nofollow">287. 寻找重复数</a></td></tr><tr><td>2</td><td>读写指针。将快指针的内容记录到慢指针的位置，典型的题目是原地删除(前置移动)重复元素。</td><td><a href="https://leetcode.cn/problems/remove-duplicates-from-sorted-array/" rel="nofollow">26. 删除有序数组中的重复项</a> | <a href="https://leetcode.cn/problems/remove-duplicates-from-sorted-array-ii/" rel="nofollow">80. 删除有序数组中的重复项 II</a> | <a href="https://leetcode.cn/problems/happy-number/" rel="nofollow">202. 快乐数</a></td></tr></tbody></table> 
<p><strong>伪代码模板：</strong></p> 
<pre><code class="prism language-python"><span class="token comment"># 1.fast与slow初始化不同</span>

fast<span class="token punctuation">,</span> slow <span class="token operator">=</span> head<span class="token punctuation">,</span> head<span class="token punctuation">.</span><span class="token builtin">next</span>
<span class="token comment"># 有环则一定相遇 退出循环后，后面return True</span>
<span class="token keyword">while</span> fast<span class="token operator">!=</span>slow <span class="token punctuation">:</span>
	<span class="token keyword">if</span> <span class="token keyword">not</span> fast <span class="token keyword">or</span> <span class="token keyword">not</span> fast<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">:</span>
		<span class="token keyword">return</span> <span class="token boolean">False</span>
	slow<span class="token operator">=</span>slow<span class="token punctuation">.</span><span class="token builtin">next</span>
	fast<span class="token operator">=</span>fast<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">.</span><span class="token builtin">next</span>
<span class="token keyword">return</span> <span class="token boolean">True</span>
	
<span class="token comment"># 2.fast与slow初始化相同</span>
<span class="token comment"># fast = slow = head</span>
fast <span class="token operator">=</span> head
slow <span class="token operator">=</span> head
<span class="token keyword">while</span> fast <span class="token keyword">and</span> fast<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">:</span>
  slow<span class="token operator">=</span>slow<span class="token punctuation">.</span><span class="token builtin">next</span>
  fast<span class="token operator">=</span>fast<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">.</span><span class="token builtin">next</span>
  <span class="token comment"># 有环则一定相遇 return True</span>
  <span class="token keyword">if</span> slow <span class="token operator">==</span> fast<span class="token punctuation">:</span>
  	<span class="token keyword">return</span> <span class="token boolean">True</span>
<span class="token keyword">return</span> <span class="token boolean">False</span>
</code></pre> 
<br> 
<h4><a id="122_147"></a>1.2.2、左右端点指针（相向双指针）</h4> 
<table><thead><tr><th></th><th>问题</th><th>例题</th></tr></thead><tbody><tr><td>1</td><td>二分查找</td><td><a href="https://leetcode.cn/problems/search-in-rotated-sorted-array/" rel="nofollow">33. 搜索旋转排序数组</a> | <a href="https://leetcode.cn/problems/koko-eating-bananas/" rel="nofollow">875. 爱吃香蕉的珂珂</a></td></tr><tr><td>2</td><td>有序数组暴力枚举。区别于上面的二分查找，这种算法指针移动是连续的，而不是跳跃性的</td><td><a href="https://leetcode.cn/problems/two-sum/description/" rel="nofollow">1. 两数之和</a> | <a href="https://leetcode.cn/problems/3sum/description/" rel="nofollow">15. 三数之和</a> | <a href="https://leetcode.cn/problems/4sum/" rel="nofollow">18. 四数之和</a> | <a href="https://leetcode.cn/problems/boats-to-save-people/" rel="nofollow">881. 救生艇</a></td></tr><tr><td>3</td><td>其他暴力枚举。比如：双边比较从大到小枚举，双边按条件枚举，无需排序或者已经有序（当然2和3其实可以归为一类）</td><td><a href="https://leetcode.cn/problems/squares-of-a-sorted-array/" rel="nofollow">977. 有序数组的平方</a> | <a href="https://leetcode.cn/problems/sort-colors/" rel="nofollow">75. 颜色分类</a>(Dutch National Flag Problem)</td></tr></tbody></table> 
<p>这一节，我们主要要讲的是1.二分查找，其他两种类型很单一，做几题便能理解。而二分法的模板形式很多，比如：循环上是否取等号，循环内left和right是否+1等等，不同的题型很多的人有不同的写法，我们能否按照自己的思维，整理出一个通用的，便于自己理解的模板呢？</p> 
<br> 
<h5><a id="____159"></a>* 详解二分法（二分查找 / 二分答案）</h5> 
<p><strong>（1）二分查找：</strong><br> <strong>概念：</strong><br> 在计算机科学中，二分查找算法也称折半搜索算法，对数搜索算法，是一种在有序数组中查找某一特定元素的搜索算法。搜索过程从数组的中间元素开始，如果中间元素正好是要查找的元素，则搜索过程结束；如果某一特定元素大于或者小于中间元素，则在数组大于或小于中间元素的那一半中查找，而且跟开始一样从中间元素开始比较。如果在某一步骤数组为空，则代表找不到。这种搜索算法每一次比较都使搜索范围缩小一半，时间复杂度是log(n)。</p> 
<p>二分查找用于在多条记录中快速找到待查找的记录，它的思想是：每次将查找的范围缩小一半，直到最后找到记录或者找不到记录返回</p> 
<p><strong>二分法的使用条件：</strong><br> 二分法是适用于解决具有“二段性”(单调性)的问题的方法，通常表现为求解满足某一条件的最大值或者最小值问题。</p> 
<ol><li><strong>上下界确定。</strong> 我们可以通过上下界的折半来优化查找。</li><li><strong>二段性：</strong> 对某一范围内的数据，存在一个临界点，使得临界点某一侧的所有数据都满足某一性质，另一侧的所有数据都不满足这一性质，就称这一范围内的数据具有二段性。<br> 二段性包括单调性，即区间内有序，这样二分出来的结果是严格大于或者小于或等于target的。<br> 但是，二段性也体现在非单调性上，也称为局部有序，可以参考 <a href="https://leetcode.cn/problems/find-peak-element/description/" rel="nofollow">162. 寻找峰值</a> 和 <a href="https://leetcode.cn/problems/search-in-rotated-sorted-array/" rel="nofollow">33. 搜索旋转排序数组</a>。由这些题我们可以得知，二分法的奥义（本质）不在于单调性，而是二段性。也就是我们能对整体无序但局部有序的序列进行二分法。</li></ol> 
<p><strong>举例理解（有序）：</strong><br> 给定一个数组，返回<strong>有序数组</strong>中第一个 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         ≥ 
        
       
      
        \geq 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.7719em; vertical-align: -0.136em;"></span><span class="mrel">≥</span></span></span></span></span> target的数的位置，如果所有数都<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         &lt; 
        
       
      
        \lt 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.5782em; vertical-align: -0.0391em;"></span><span class="mrel">&lt;</span></span></span></span></span>target，则返回数组长度。</p> 
<p>暴力做法：从头开始遍历每一个数，判断是否<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         ≥ 
        
       
      
        \geq 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.7719em; vertical-align: -0.136em;"></span><span class="mrel">≥</span></span></span></span></span> target</p> 
<p>高效做法：<br> L 和R分别指向左右边界，即<strong>闭区间</strong>。<br> M指向当前正在访问的数。<br> <img src="https://images2.imgbox.com/a8/09/g9aMH5w7_o.png" alt="在这里插入图片描述"></p> 
<p>三种模板，比较常用第一种，其他类型也可转化为第一种。</p> 
<pre><code class="prism language-python"><span class="token comment"># 左闭右闭</span>
<span class="token keyword">def</span> <span class="token function">bisect_search</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">:</span>
    left<span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span>
    <span class="token keyword">while</span> left<span class="token operator">&lt;=</span>right<span class="token punctuation">:</span>
        <span class="token comment"># 循环不变量：</span>
        <span class="token comment"># nums[left-1] &lt; target</span>
        <span class="token comment"># nums[right+1] &gt;= target</span>
        mid <span class="token operator">=</span> <span class="token punctuation">(</span>left<span class="token operator">+</span>right<span class="token punctuation">)</span><span class="token operator">//</span><span class="token number">2</span>
        <span class="token comment"># bisect_left 加上=是bisect_right</span>
        <span class="token keyword">if</span> nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token operator">&lt;</span>target<span class="token punctuation">:</span>
            left <span class="token operator">=</span> mid<span class="token operator">+</span><span class="token number">1</span>  <span class="token comment"># 范围缩小到 [mid+1, right]</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            right <span class="token operator">=</span> mid<span class="token operator">-</span><span class="token number">1</span> <span class="token comment"># 范围缩小到 [left, mid-1]</span>
    <span class="token keyword">return</span> left <span class="token comment"># right+1</span>

<span class="token comment"># 左闭右开</span>
<span class="token keyword">def</span> <span class="token function">bisect_search1</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">:</span>
    left<span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>
    <span class="token keyword">while</span> left<span class="token operator">&lt;</span>right<span class="token punctuation">:</span>
        mid <span class="token operator">=</span> <span class="token punctuation">(</span>left<span class="token operator">+</span>right<span class="token punctuation">)</span><span class="token operator">//</span><span class="token number">2</span>
        <span class="token keyword">if</span> nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token operator">&lt;</span>target<span class="token punctuation">:</span>
            left <span class="token operator">=</span> mid<span class="token operator">+</span><span class="token number">1</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            right <span class="token operator">=</span> mid
    <span class="token keyword">return</span> left <span class="token comment"># right</span>
    
<span class="token comment"># 左开右开</span>
<span class="token keyword">def</span> <span class="token function">bisect_search2</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">:</span>
    left<span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>
    <span class="token keyword">while</span> left<span class="token operator">+</span><span class="token number">1</span><span class="token operator">&lt;</span>right<span class="token punctuation">:</span>
        mid <span class="token operator">=</span> <span class="token punctuation">(</span>left<span class="token operator">+</span>right<span class="token punctuation">)</span><span class="token operator">//</span><span class="token number">2</span>
        <span class="token keyword">if</span> nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token operator">&lt;</span>target<span class="token punctuation">:</span>
            left <span class="token operator">=</span> mid
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            right <span class="token operator">=</span> mid
    <span class="token keyword">return</span> right <span class="token comment"># left+1</span>
</code></pre> 
<p>输入：</p> 
<pre><code class="prism language-python">nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token punctuation">,</span><span class="token number">3</span> <span class="token punctuation">,</span><span class="token number">3</span> <span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
target <span class="token operator">=</span> <span class="token number">3</span>
</code></pre> 
<br> 
<p><strong>下面列出了四种不同类型的目标：</strong></p> 
<p>有序数组的二分查找分为这四种类型，这四种实际上是可以相互转换的，但为了方便，一般都转换成类型一的 <strong>lower bound</strong> 形式，即 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         ≥ 
        
       
      
        \geq 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.7719em; vertical-align: -0.136em;"></span><span class="mrel">≥</span></span></span></span></span> target以及它的变体。</p> 
<p>注意：下面是以1为单位，即是在数组中都是整数时可以用的。</p> 
<pre><code class="prism language-python">nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token punctuation">,</span><span class="token number">3</span> <span class="token punctuation">,</span><span class="token number">3</span> <span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
target <span class="token operator">=</span> <span class="token number">3</span>
</code></pre> 
<table><thead><tr><th>序号</th><th>类型</th><th>目标</th><th>转换</th><th>输入</th><th>结果</th><th>值</th></tr></thead><tbody><tr><td>类型一</td><td>返回第一个<code>大于等于</code>target的数的位置</td><td>x<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
        
         
          
          
            ≥ 
           
          
         
           \geq 
          
         
       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.7719em; vertical-align: -0.136em;"></span><span class="mrel">≥</span></span></span></span></span>target</td><td>x<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
        
         
          
          
            ≥ 
           
          
         
           \geq 
          
         
       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.7719em; vertical-align: -0.136em;"></span><span class="mrel">≥</span></span></span></span></span>target</td><td>bisect_search2(nums, target)</td><td>4 ；nums = [1, 1, 2, 2 ,<code>3</code> ,3 ,4, 4, 5]</td><td>值为从左向右第一个target的位置</td></tr><tr><td>类型二</td><td>返回第一个<code>大于</code>target的数的位置</td><td>x<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
        
         
          
          
            &gt; 
           
          
         
           \gt 
          
         
       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.5782em; vertical-align: -0.0391em;"></span><span class="mrel">&gt;</span></span></span></span></span>target</td><td>x<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
        
         
          
          
            ≥ 
           
          
         
           \geq 
          
         
       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.7719em; vertical-align: -0.136em;"></span><span class="mrel">≥</span></span></span></span></span>(target+1)</td><td>bisect_search2(nums, target+1)</td><td>6；nums = [1, 1, 2, 2 ,3 ,3 ,<code>4</code>, 4, 5]</td><td>值为最后一个target的下一位；比第一个比target大1的位置</td></tr><tr><td>类型三</td><td>返回第一个<code>小于</code>target的数的位置</td><td>x<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
        
         
          
          
            &lt; 
           
          
         
           \lt 
          
         
       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.5782em; vertical-align: -0.0391em;"></span><span class="mrel">&lt;</span></span></span></span></span>target</td><td>(x<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
        
         
          
          
            ≥ 
           
          
         
           \geq 
          
         
       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.7719em; vertical-align: -0.136em;"></span><span class="mrel">≥</span></span></span></span></span>target)-1</td><td>bisect_search2(nums, target)-1</td><td>3；nums = [1, 1, 2, <code>2</code> ,3 ,3 ,4, 4, 5]</td><td>第一个target的前一位；最后一个比target小1的位置</td></tr><tr><td>类型四</td><td>返回第一个<code>小于等于</code>target的数的位置</td><td>x<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
        
         
          
          
            ≤ 
           
          
         
           \leq 
          
         
       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.7719em; vertical-align: -0.136em;"></span><span class="mrel">≤</span></span></span></span></span>target</td><td>(x<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
        
         
          
          
            ≥ 
           
          
         
           \geq 
          
         
       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.7719em; vertical-align: -0.136em;"></span><span class="mrel">≥</span></span></span></span></span>target+1)-1</td><td>bisect_search2(nums, target+1)-1</td><td>5；nums = [1, 1, 2, 2 ,3 ,<code>3</code> ,4, 4, 5]</td><td>最后一个target的位置</td></tr></tbody></table> 
<p>有人问，怎么不讲左开右闭模板？</p> 
<p>左开右闭这种写法一般是处理最大值的，或者说是 &lt; 和 ≤。下面视频中讲了，这两都可以转换成 ≥，所以可以用左闭右开模板来解决。</p> 
<p>换句话说，视频中讲的这三种二分模板，都只需关注 left right 的初始值，以及二分判定条件的写法，其余的代码都是固定的。</p> 
<p>参考：<br> <a href="https://www.bilibili.com/video/BV1AP41137w7/?spm_id_from=333.788&amp;vd_source=b7e9879b599479b9363a62a4b4dec416" rel="nofollow">二分法 [bilibili]</a><br> <a href="https://www.cnblogs.com/xxxjc-js/p/17255803.html" rel="nofollow">算法—二分法详解 [cnblogs]</a><br> <a href="https://leetcode.cn/problems/find-first-and-last-position-of-element-in-sorted-array/solutions/1980196/er-fen-cha-zhao-zong-shi-xie-bu-dui-yi-g-t9l9/" rel="nofollow">一个视频讲透二分查找！[leetcode]</a><br> <a href="https://blog.csdn.net/njuptACMcxk/article/details/104254668">二分法总结 [csdn]</a></p> 
<br> 
<p><strong>（2）二分答案：</strong><br> 二分查找是一种在<strong>有序数组中</strong>查找给定目标值的算法，而二分答案是一种用于<strong>求解最优化问题</strong>的算法。</p> 
<p>二分答案通常用于求解具有单调性质的最优化问题，例如求解最大值、最小值等。根据题目要求，我们可以将二分答案分为两类：最大化答案和最小化答案。以下模板，我们可以根据实际问题进行修改。</p> 
<p><strong>最大化答案</strong>的二分答案模板，可行区在左侧：</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">binary_answer_max</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    l<span class="token punctuation">,</span> r <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token comment"># 定义搜索范围的左右边界</span>
    <span class="token keyword">while</span> l <span class="token operator">&lt;=</span> r<span class="token punctuation">:</span>
        mid <span class="token operator">=</span> <span class="token punctuation">(</span>l <span class="token operator">+</span> r<span class="token punctuation">)</span> <span class="token operator">//</span> <span class="token number">2</span>
        <span class="token keyword">if</span> check<span class="token punctuation">(</span>mid<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment"># 定义一个 check 函数来检查当前的假设是否成立</span>
            l <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span> <span class="token comment"># 如果成立，则更新左边界</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            r <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span> <span class="token comment"># 否则更新右边界</span>
    <span class="token keyword">return</span> r <span class="token comment"># 返回最终答案</span>
</code></pre> 
<p><strong>最小化答案</strong>的二分答案模板，可行区在右侧：</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">binary_answer_min</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    l<span class="token punctuation">,</span> r <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token comment"># 定义搜索范围的左右边界</span>
    <span class="token keyword">while</span> l <span class="token operator">&lt;=</span> r<span class="token punctuation">:</span>
        mid <span class="token operator">=</span> <span class="token punctuation">(</span>l <span class="token operator">+</span> r<span class="token punctuation">)</span> <span class="token operator">//</span> <span class="token number">2</span>
        <span class="token keyword">if</span> check<span class="token punctuation">(</span>mid<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment"># 定义一个 check 函数来检查当前的假设是否成立</span>
            r <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span> <span class="token comment"># 如果成立，则更新右边界</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            l <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span> <span class="token comment"># 否则更新左边界</span>
    <span class="token keyword">return</span> l <span class="token comment"># 返回最终答案</span>
</code></pre> 
<p>在这两个模板中，我们都需要定义一个 check 函数来检查当前的假设是否成立。具体地，check 函数接受一个参数 mid，表示当前二分答案的中间值。check 函数需要根据实际问题进行实现，以判断当前的假设是否成立。</p> 
<br> 
<br> 
<h4><a id="123___303"></a>1.2.3、区间指针 - 滑动窗口（同向双指针）</h4> 
<table><thead><tr><th></th><th>区间指针</th><th>例题</th></tr></thead><tbody><tr><td>1</td><td>定长滑动窗口</td><td><a href="https://leetcode.cn/problems/maximum-number-of-vowels-in-a-substring-of-given-length/" rel="nofollow">1456. 定长子串中元音的最大数目</a> | <a href="https://leetcode.cn/problems/lian-biao-zhong-dao-shu-di-kge-jie-dian-lcof/" rel="nofollow">剑指 Offer 22. 链表中倒数第k个节点</a></td></tr><tr><td>2</td><td>变长滑动窗口</td><td><a href="https://leetcode.cn/problems/subarray-product-less-than-k/" rel="nofollow">713. 乘积小于 K 的子数组</a></td></tr></tbody></table> 
<p>伪代码模板：</p> 
<pre><code class="prism language-python">l <span class="token operator">=</span> <span class="token number">0</span>
r <span class="token operator">=</span> k
<span class="token keyword">while</span> 没有遍历完<span class="token punctuation">:</span>
  自定义逻辑
  l <span class="token operator">+=</span> <span class="token number">1</span>
  r <span class="token operator">+=</span> <span class="token number">1</span>
<span class="token keyword">return</span> 合适的值
</code></pre> 
<p>或者for循环</p> 
<pre><code class="prism language-python">left <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">for</span> right <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    自定义逻辑
    <span class="token keyword">while</span> 满足某条件<span class="token punctuation">:</span>
        自定义逻辑
        left<span class="token operator">+=</span><span class="token number">1</span>
    自定义逻辑
</code></pre> 
<br> 
<h4><a id="_334"></a>汇总</h4> 
<table><thead><tr><th>快慢指针</th><th>左右端点指针</th><th>区间指针-滑动窗口</th></tr></thead><tbody><tr><td>判断链表是否有环；寻找入环节点</td><td>二分查找</td><td>定长滑动窗口</td></tr><tr><td>读写指针。将快指针的内容记录到慢指针的位置，典型的题目是原地删除(前置移动)重复元素。</td><td>有序数组暴力枚举。区别于上面的二分查找，这种算法指针移动是连续的，而不是跳跃性的</td><td>变长滑动窗口</td></tr><tr><td></td><td>其他暴力枚举。比如：双边比较从大到小枚举，双边按条件枚举，无需排序或者已经有序（当然2和3其实可以归为一类）</td><td></td></tr></tbody></table> 
<br> 
<br> 
<h2><a id="_348"></a>二、经典例题</h2> 
<h3><a id="21_349"></a>2.1、快慢指针</h3> 
<table><thead><tr><th></th><th>问题</th><th>例题</th></tr></thead><tbody><tr><td>1</td><td>判断链表是否有环；寻找入环节点</td><td><a href="https://leetcode.cn/problems/linked-list-cycle/" rel="nofollow">141. 环形链表</a> | <a href="https://leetcode.cn/problems/linked-list-cycle-ii/" rel="nofollow">142. 环形链表 II</a> | <a href="https://leetcode.cn/problems/find-the-duplicate-number/" rel="nofollow">287. 寻找重复数</a></td></tr><tr><td>2</td><td>读写指针。将快指针的内容记录到慢指针的位置，典型的题目是原地删除(前置移动)重复元素</td><td><a href="https://leetcode.cn/problems/remove-duplicates-from-sorted-array/" rel="nofollow">26. 删除有序数组中的重复项</a> | <a href="https://leetcode.cn/problems/remove-duplicates-from-sorted-array-ii/" rel="nofollow">80. 删除有序数组中的重复项 II</a> | <a href="https://leetcode.cn/problems/happy-number/" rel="nofollow">202. 快乐数</a></td></tr></tbody></table> 
<br> 
<h4><a id="1_359"></a>（1）、链表判环</h4> 
<h5><a id="141__360"></a>141. 环形链表</h5> 
<p><a href="https://leetcode.cn/problems/linked-list-cycle/" rel="nofollow">141. 环形链表</a></p> 
<p><strong>解法1：哈希表</strong><br> 最容易想到的方法是遍历所有节点，每次遍历到一个节点时，判断该节点此前是否被访问过。</p> 
<p>具体地，我们可以使用哈希表来存储所有已经访问过的节点。每次我们到达一个节点，如果该节点已经存在于哈希表中，则说明该链表是环形链表，否则就将该节点加入哈希表中。重复这一过程，直到我们遍历完整个链表即可。</p> 
<p><strong>注意：Python中的哈希表为字典和集合。</strong></p> 
<pre><code class="prism language-python"><span class="token comment"># Definition for singly-linked list.</span>
<span class="token comment"># class ListNode:</span>
<span class="token comment">#     def __init__(self, x):</span>
<span class="token comment">#         self.val = x</span>
<span class="token comment">#         self.next = None</span>

<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">hasCycle</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> head<span class="token punctuation">:</span> Optional<span class="token punctuation">[</span>ListNode<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">bool</span><span class="token punctuation">:</span>
        seen <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment"># 如果有环，虽然while死循环，但一定能在while中return True</span>
        <span class="token keyword">while</span> head<span class="token punctuation">:</span>
            <span class="token keyword">if</span> head <span class="token keyword">in</span> seen<span class="token punctuation">:</span>
                <span class="token keyword">return</span> <span class="token boolean">True</span>
            seen<span class="token punctuation">.</span>add<span class="token punctuation">(</span>head<span class="token punctuation">)</span>
            head <span class="token operator">=</span> head<span class="token punctuation">.</span><span class="token builtin">next</span>
        <span class="token comment"># 没有环则head的最后一个next会None而退出循环</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>
</code></pre> 
<p><strong>解法2：快慢指针</strong></p> 
<pre><code class="prism language-python"><span class="token comment"># Definition for singly-linked list.</span>
<span class="token comment"># class ListNode:</span>
<span class="token comment">#     def __init__(self, x):</span>
<span class="token comment">#         self.val = x</span>
<span class="token comment">#         self.next = None</span>

<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">hasCycle</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> head<span class="token punctuation">:</span> Optional<span class="token punctuation">[</span>ListNode<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">bool</span><span class="token punctuation">:</span>
        slow <span class="token operator">=</span> head
        fast <span class="token operator">=</span> head

        <span class="token keyword">while</span> fast <span class="token keyword">and</span> fast<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">:</span>
            slow<span class="token operator">=</span>slow<span class="token punctuation">.</span><span class="token builtin">next</span>
            fast<span class="token operator">=</span>fast<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">.</span><span class="token builtin">next</span>
            <span class="token keyword">if</span> fast<span class="token operator">==</span>slow<span class="token punctuation">:</span>
                <span class="token keyword">return</span> <span class="token boolean">True</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>
</code></pre> 
<br> 
<h5><a id="142__II_412"></a>142. 环形链表 II</h5> 
<p><a href="https://leetcode.cn/problems/linked-list-cycle-ii/" rel="nofollow">142. 环形链表 II</a></p> 
<p><strong>解法1：哈希表</strong><br> 思路同上</p> 
<pre><code class="prism language-python"><span class="token comment"># Definition for singly-linked list.</span>
<span class="token comment"># class ListNode:</span>
<span class="token comment">#     def __init__(self, x):</span>
<span class="token comment">#         self.val = x</span>
<span class="token comment">#         self.next = None</span>

<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">detectCycle</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> head<span class="token punctuation">:</span> Optional<span class="token punctuation">[</span>ListNode<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> Optional<span class="token punctuation">[</span>ListNode<span class="token punctuation">]</span><span class="token punctuation">:</span>
        seen <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment"># 不允许修改表，用一个临时的指针来操作</span>
        cur <span class="token operator">=</span> head
        <span class="token keyword">while</span> cur<span class="token punctuation">:</span>
            <span class="token keyword">if</span> cur <span class="token keyword">in</span> seen<span class="token punctuation">:</span>
                <span class="token keyword">return</span> cur
            seen<span class="token punctuation">.</span>add<span class="token punctuation">(</span>cur<span class="token punctuation">)</span>
            cur<span class="token operator">=</span>cur<span class="token punctuation">.</span><span class="token builtin">next</span>
        <span class="token keyword">return</span> <span class="token boolean">None</span>
</code></pre> 
<p><strong>解法2：快慢指针</strong><br> 找数学规律：当快慢指针在环中相遇，链表的起点到入环点=快慢指针相遇点到入环点的距离。<br> 所以相遇之后，定义新的游标在链表起点，此时该游标和慢指针一起以相同步长走，相遇即到了入环点。</p> 
<pre><code class="prism language-python"><span class="token comment"># Definition for singly-linked list.</span>
<span class="token comment"># class ListNode:</span>
<span class="token comment">#     def __init__(self, x):</span>
<span class="token comment">#         self.val = x</span>
<span class="token comment">#         self.next = None</span>

<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">detectCycle</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> head<span class="token punctuation">:</span> Optional<span class="token punctuation">[</span>ListNode<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> Optional<span class="token punctuation">[</span>ListNode<span class="token punctuation">]</span><span class="token punctuation">:</span>
        slow <span class="token operator">=</span> fast <span class="token operator">=</span> head
        
        <span class="token keyword">while</span> fast <span class="token keyword">and</span> fast<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">:</span>
            fast <span class="token operator">=</span> fast<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">.</span><span class="token builtin">next</span>
            slow <span class="token operator">=</span> slow<span class="token punctuation">.</span><span class="token builtin">next</span>

            <span class="token keyword">if</span> fast<span class="token operator">==</span>slow<span class="token punctuation">:</span>
                cur <span class="token operator">=</span> head
                <span class="token keyword">while</span> cur<span class="token operator">!=</span>slow<span class="token punctuation">:</span>
                    cur<span class="token operator">=</span>cur<span class="token punctuation">.</span><span class="token builtin">next</span>
                    slow<span class="token operator">=</span>slow<span class="token punctuation">.</span><span class="token builtin">next</span>
                <span class="token keyword">return</span> cur
        <span class="token keyword">return</span> <span class="token boolean">None</span>
</code></pre> 
<br> 
<h5><a id="287__466"></a>287. 寻找重复数</h5> 
<p><a href="https://leetcode.cn/problems/find-the-duplicate-number/" rel="nofollow">287. 寻找重复数</a><br> 这题比较巧妙的一点是将nums的每个值当做下一个点的坐标，从而进行连接起来。我们来看看这个例子：<br> 1 4 6 6 6 2 3<br> 值为6时会指向索引6值为3的点，再以3为索引，又指向索引为3值为6的索引。</p> 
<p>这道题同上一题 环形链表 II 的解法一致，重复元素即表示入环点</p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">findDuplicate</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        fast <span class="token operator">=</span> slow <span class="token operator">=</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>

        <span class="token comment"># 至少存在一个重复的数，说明不会死循环，一定存在slow==fast的情况</span>
        <span class="token comment"># 不同判断是否有环，因为一定有</span>
        <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
            slow <span class="token operator">=</span> nums<span class="token punctuation">[</span>slow<span class="token punctuation">]</span>
            fast <span class="token operator">=</span> nums<span class="token punctuation">[</span>nums<span class="token punctuation">[</span>fast<span class="token punctuation">]</span><span class="token punctuation">]</span>
            <span class="token comment"># 同环形链表的解法</span>
            <span class="token comment"># 1. 先记录第一次相遇</span>
            <span class="token keyword">if</span> slow <span class="token operator">==</span> fast<span class="token punctuation">:</span>
                <span class="token comment"># 记录一个起点与slow一同移动直到相遇，即为入环点</span>
                cur <span class="token operator">=</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
                <span class="token keyword">while</span> cur<span class="token operator">!=</span>slow<span class="token punctuation">:</span>
                    cur <span class="token operator">=</span> nums<span class="token punctuation">[</span>cur<span class="token punctuation">]</span>
                    slow <span class="token operator">=</span> nums<span class="token punctuation">[</span>slow<span class="token punctuation">]</span>
                <span class="token keyword">return</span> cur
        <span class="token keyword">return</span> <span class="token boolean">None</span>
</code></pre> 
<p>当然也有哈希表解法，同上，但时间复杂度高。</p> 
<br> 
<h5><a id="876__498"></a>876. 链表的中间结点</h5> 
<p>慢指针走一步，快指针走两步，当快指针走到结尾，慢指针会走到链表中间。</p> 
<pre><code class="prism language-python"><span class="token comment"># Definition for singly-linked list.</span>
<span class="token comment"># class ListNode:</span>
<span class="token comment">#     def __init__(self, val=0, next=None):</span>
<span class="token comment">#         self.val = val</span>
<span class="token comment">#         self.next = next</span>
<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">middleNode</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> head<span class="token punctuation">:</span> Optional<span class="token punctuation">[</span>ListNode<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> Optional<span class="token punctuation">[</span>ListNode<span class="token punctuation">]</span><span class="token punctuation">:</span>
        slow <span class="token operator">=</span> fast <span class="token operator">=</span> head

        <span class="token keyword">while</span> fast <span class="token keyword">and</span> fast<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">:</span>
            slow <span class="token operator">=</span> slow<span class="token punctuation">.</span><span class="token builtin">next</span>
            fast <span class="token operator">=</span> fast<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">.</span><span class="token builtin">next</span>
        <span class="token keyword">return</span> slow
</code></pre> 
<br> 
<h4><a id="2_519"></a>（2）、读写指针</h4> 
<h5><a id="26____520"></a>26. 删除有序数组中的重复项 - 仅保留一次</h5> 
<p><a href="https://leetcode.cn/problems/remove-duplicates-from-sorted-array/" rel="nofollow">26. 删除有序数组中的重复项</a><br> 快指针用来判断重复，是否与前一个一样；慢指针用来存储非重复的值。</p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">removeDuplicates</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        slow <span class="token operator">=</span> fast <span class="token operator">=</span> <span class="token number">1</span>

        <span class="token keyword">while</span> fast<span class="token operator">&lt;</span><span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> nums<span class="token punctuation">[</span>fast<span class="token punctuation">]</span><span class="token operator">!=</span>nums<span class="token punctuation">[</span>slow<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                nums<span class="token punctuation">[</span>slow<span class="token punctuation">]</span><span class="token operator">=</span>nums<span class="token punctuation">[</span>fast<span class="token punctuation">]</span>
                slow<span class="token operator">+=</span><span class="token number">1</span>
            fast<span class="token operator">+=</span><span class="token number">1</span>
        <span class="token keyword">return</span> slow
</code></pre> 
<br> 
<h5><a id="80__II___541"></a>80. 删除有序数组中的重复项 II - 保留两次重复</h5> 
<p><a href="https://leetcode.cn/problems/remove-duplicates-from-sorted-array-ii/" rel="nofollow">80. 删除有序数组中的重复项 II</a><br> 这里保留重复的两次，题目解法同上。数组的前两个数必然可以被保留，因此，两个指针从2开始。</p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">removeDuplicates</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        slow <span class="token operator">=</span> fast <span class="token operator">=</span> <span class="token number">2</span>

        <span class="token keyword">while</span> fast<span class="token operator">&lt;</span><span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> nums<span class="token punctuation">[</span>fast<span class="token punctuation">]</span><span class="token operator">!=</span>nums<span class="token punctuation">[</span>slow<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                nums<span class="token punctuation">[</span>slow<span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>fast<span class="token punctuation">]</span>
                slow<span class="token operator">+=</span><span class="token number">1</span>
            fast<span class="token operator">+=</span><span class="token number">1</span>
        <span class="token keyword">return</span> slow
</code></pre> 
<br> 
<h5><a id="k_560"></a>递推：删除且保留k次重复</h5> 
<p>从前面两题我们可以总结出，如过要保留重复的k次：</p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">removeDuplicates</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
    	<span class="token comment"># 从第k个开始</span>
        slow <span class="token operator">=</span> fast <span class="token operator">=</span> k

        <span class="token keyword">while</span> fast<span class="token operator">&lt;</span><span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> nums<span class="token punctuation">[</span>fast<span class="token punctuation">]</span><span class="token operator">!=</span>nums<span class="token punctuation">[</span>slow<span class="token operator">-</span>k<span class="token punctuation">]</span><span class="token punctuation">:</span>
                nums<span class="token punctuation">[</span>slow<span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>fast<span class="token punctuation">]</span>
                slow<span class="token operator">+=</span><span class="token number">1</span>
            fast<span class="token operator">+=</span><span class="token number">1</span>
        <span class="token keyword">return</span> slow
</code></pre> 
<br> 
<h5><a id="202__579"></a>202. 快乐数</h5> 
<p><a href="https://leetcode.cn/problems/happy-number/" rel="nofollow">202. 快乐数</a><br> 通过反复调用 getNext(n) 得到的链是一个隐式的链表。隐式意味着我们没有实际的链表节点和指针，但数据仍然形成链表结构。起始数字是链表的头 “节点”，链中的所有其他数字都是节点。next 指针是通过调用 getNext(n) 函数获得。</p> 
<p>意识到我们实际有个链表，那么这个问题就可以转换为检测一个链表是否有环。因此我们在这里可以使用弗洛伊德循环查找算法。这个算法是两个奔跑选手，一个跑的快，一个跑得慢。在龟兔赛跑的寓言中，跑的慢的称为 “乌龟”，跑得快的称为 “兔子”。</p> 
<p>不管乌龟和兔子在循环中从哪里开始，它们最终都会相遇。这是因为兔子每走一步就向乌龟靠近一个节点（在它们的移动方向上）。<br> <img src="https://images2.imgbox.com/ed/6d/4cwwWESe_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">isHappy</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">bool</span><span class="token punctuation">:</span>
        <span class="token keyword">def</span> <span class="token function">get_next</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span><span class="token punctuation">:</span>
            total_sum <span class="token operator">=</span> <span class="token number">0</span>
            <span class="token keyword">while</span> number<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">:</span>
                number<span class="token punctuation">,</span> digit <span class="token operator">=</span> <span class="token builtin">divmod</span><span class="token punctuation">(</span>number<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
                total_sum<span class="token operator">+=</span>digit<span class="token operator">**</span><span class="token number">2</span>
            <span class="token keyword">return</span> total_sum
        
        slow <span class="token operator">=</span> fast <span class="token operator">=</span> n
        <span class="token comment"># fast!=1判断是否是快乐数</span>
        <span class="token comment"># fast!=slow 说明有环，进行打破死循环</span>
        <span class="token comment"># 快乐数的判断快于环的判断，所以会在打破循环前判断是否是快乐数</span>
        <span class="token keyword">while</span> fast<span class="token operator">!=</span><span class="token number">1</span><span class="token punctuation">:</span>
            slow <span class="token operator">=</span> get_next<span class="token punctuation">(</span>slow<span class="token punctuation">)</span>
            fast <span class="token operator">=</span> get_next<span class="token punctuation">(</span>get_next<span class="token punctuation">(</span>fast<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> fast<span class="token operator">==</span>slow<span class="token punctuation">:</span>
                <span class="token keyword">break</span>
        <span class="token keyword">return</span> fast<span class="token operator">==</span><span class="token number">1</span>
</code></pre> 
<br> 
<br> 
<h3><a id="22_615"></a>2.2、左右端点指针（相向双指针）</h3> 
<table><thead><tr><th></th><th>问题</th><th>例题</th></tr></thead><tbody><tr><td>1</td><td>二分查找</td><td><a href="https://leetcode.cn/problems/search-in-rotated-sorted-array/" rel="nofollow">33. 搜索旋转排序数组</a> | <a href="https://leetcode.cn/problems/koko-eating-bananas/" rel="nofollow">875. 爱吃香蕉的珂珂</a></td></tr><tr><td>2</td><td>有序数组暴力枚举。区别于上面的二分查找，这种算法指针移动是连续的，而不是跳跃性的</td><td><a href="https://leetcode.cn/problems/two-sum/description/" rel="nofollow">1. 两数之和</a> | <a href="https://leetcode.cn/problems/3sum/description/" rel="nofollow">15. 三数之和</a> | <a href="https://leetcode.cn/problems/4sum/" rel="nofollow">18. 四数之和</a> | <a href="https://leetcode.cn/problems/boats-to-save-people/" rel="nofollow">881. 救生艇</a></td></tr><tr><td>3</td><td>其他暴力枚举。比如：双边比较从大到小枚举，双边按条件枚举，无需排序或者已经有序（当然2和3其实可以归为一类）</td><td><a href="https://leetcode.cn/problems/squares-of-a-sorted-array/" rel="nofollow">977. 有序数组的平方</a> | <a href="https://leetcode.cn/problems/sort-colors/" rel="nofollow">75. 颜色分类</a>(Dutch National Flag Problem)</td></tr></tbody></table> 
<br> 
<p><img src="https://images2.imgbox.com/5b/9b/eKUsFgrp_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="11_626"></a>（1.1）、二分法</h4> 
<h5><a id="34__629"></a>34. 在排序数组中查找元素的第一个和最后一个位置</h5> 
<p><a href="https://leetcode.cn/problems/find-first-and-last-position-of-element-in-sorted-array/" rel="nofollow">34. 在排序数组中查找元素的第一个和最后一个位置</a></p> 
<pre><code class="prism language-python"><span class="token comment"># lower_bound 返回最小的满足 nums[i] &gt;= target 的 i</span>
<span class="token comment"># 如果数组为空，或者所有数都 &lt; target，则返回 len(nums)</span>
<span class="token comment"># 要求 nums 是非递减的，即 nums[i] &lt;= nums[i + 1]</span>

<span class="token comment"># 闭区间写法</span>
<span class="token keyword">def</span> <span class="token function">lower_bound</span><span class="token punctuation">(</span>nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> target<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
    left<span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span>  <span class="token comment"># 闭区间 [left, right]</span>
    <span class="token keyword">while</span> left <span class="token operator">&lt;=</span> right<span class="token punctuation">:</span>  <span class="token comment"># 区间不为空</span>
        <span class="token comment"># 循环不变量：</span>
        <span class="token comment"># nums[left-1] &lt; target</span>
        <span class="token comment"># nums[right+1] &gt;= target</span>
        mid <span class="token operator">=</span> <span class="token punctuation">(</span>left <span class="token operator">+</span> right<span class="token punctuation">)</span> <span class="token operator">//</span> <span class="token number">2</span>
        <span class="token keyword">if</span> nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">&lt;</span> target<span class="token punctuation">:</span>
            left <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span>  <span class="token comment"># 范围缩小到 [mid+1, right]</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            right <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span>  <span class="token comment"># 范围缩小到 [left, mid-1]</span>
    <span class="token keyword">return</span> left  <span class="token comment"># 或者 right+1</span>

<span class="token comment"># 左闭右开区间写法</span>
<span class="token keyword">def</span> <span class="token function">lower_bound2</span><span class="token punctuation">(</span>nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> target<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
    left <span class="token operator">=</span> <span class="token number">0</span>
    right <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>  <span class="token comment"># 左闭右开区间 [left, right)</span>
    <span class="token keyword">while</span> left <span class="token operator">&lt;</span> right<span class="token punctuation">:</span>  <span class="token comment"># 区间不为空</span>
        <span class="token comment"># 循环不变量：</span>
        <span class="token comment"># nums[left-1] &lt; target</span>
        <span class="token comment"># nums[right] &gt;= target</span>
        mid <span class="token operator">=</span> <span class="token punctuation">(</span>left <span class="token operator">+</span> right<span class="token punctuation">)</span> <span class="token operator">//</span> <span class="token number">2</span>
        <span class="token keyword">if</span> nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">&lt;</span> target<span class="token punctuation">:</span>
            left <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span>  <span class="token comment"># 范围缩小到 [mid+1, right)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            right <span class="token operator">=</span> mid  <span class="token comment"># 范围缩小到 [left, mid)</span>
    <span class="token keyword">return</span> left  <span class="token comment"># 或者 right</span>

<span class="token comment"># 开区间写法</span>
<span class="token keyword">def</span> <span class="token function">lower_bound3</span><span class="token punctuation">(</span>nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> target<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
    left<span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>  <span class="token comment"># 开区间 (left, right)</span>
    <span class="token keyword">while</span> left <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;</span> right<span class="token punctuation">:</span>  <span class="token comment"># 区间不为空</span>
        mid <span class="token operator">=</span> <span class="token punctuation">(</span>left <span class="token operator">+</span> right<span class="token punctuation">)</span> <span class="token operator">//</span> <span class="token number">2</span>
        <span class="token comment"># 循环不变量：</span>
        <span class="token comment"># nums[left] &lt; target</span>
        <span class="token comment"># nums[right] &gt;= target</span>
        <span class="token keyword">if</span> nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">&lt;</span> target<span class="token punctuation">:</span>
            left <span class="token operator">=</span> mid  <span class="token comment"># 范围缩小到 (mid, right)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            right <span class="token operator">=</span> mid  <span class="token comment"># 范围缩小到 (left, mid)</span>
    <span class="token keyword">return</span> right  <span class="token comment"># 或者 left+1</span>

<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">searchRange</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> target<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        start <span class="token operator">=</span> lower_bound<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> target<span class="token punctuation">)</span>  <span class="token comment"># 选择其中一种写法即可</span>
        <span class="token keyword">if</span> start <span class="token operator">==</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span> <span class="token keyword">or</span> nums<span class="token punctuation">[</span>start<span class="token punctuation">]</span> <span class="token operator">!=</span> target<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
        <span class="token comment"># 如果 start 存在，那么 end 必定存在</span>
        end <span class="token operator">=</span> lower_bound<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> target <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span>start<span class="token punctuation">,</span> end<span class="token punctuation">]</span>
</code></pre> 
<br> 
<h5><a id="33____694"></a>33. 搜索旋转排序数组 - （非有序序列）</h5> 
<p><a href="https://leetcode.cn/problems/search-in-rotated-sorted-array/" rel="nofollow">33. 搜索旋转排序数组</a></p> 
<p>但是这道题中，数组本身不是有序的，进行旋转后只保证了数组的局部是有序的，这还能进行二分查找吗？答案是可以的。</p> 
<p>可以发现的是，我们将数组从中间分开成左右两部分的时候，一定有一部分的数组是有序的。拿示例来看，我们从 6 这个位置分开以后数组变成了 [4, 5, 6] 和 [7, 0, 1, 2] 两个部分，其中左边 [4, 5, 6] 这个部分的数组是有序的，其他也是如此。</p> 
<p>这启示我们可以在常规二分查找的时候查看当前 mid 为分割位置分割出来的两个部分 [l, mid] 和 [mid + 1, r] 哪个部分是有序的，并根据有序的那个部分确定我们该如何改变二分查找的上下界，因为我们能够根据有序的那部分判断出 target 在不在这个部分：</p> 
<p>如果 [l, mid - 1] 是有序数组，且 target 的大小满足 [nums[l],nums[mid])，则我们应该将搜索范围缩小至 [l, mid - 1]，否则在 [mid + 1, r] 中寻找。<br> 如果 [mid, r] 是有序数组，且 target 的大小满足 (nums[mid+1],nums[r]]，则我们应该将搜索范围缩小至 [mid + 1, r]，否则在 [l, mid - 1] 中寻找。</p> 
<p><img src="https://images2.imgbox.com/c8/ba/THdQNYl7_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">search</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> target<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        l<span class="token punctuation">,</span> r <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span>
        <span class="token keyword">while</span> l<span class="token operator">&lt;=</span>r<span class="token punctuation">:</span>
            mid <span class="token operator">=</span> <span class="token punctuation">(</span>l<span class="token operator">+</span>r<span class="token punctuation">)</span><span class="token operator">//</span><span class="token number">2</span>
            <span class="token keyword">if</span> nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token operator">==</span>target<span class="token punctuation">:</span>
                <span class="token keyword">return</span> mid
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                <span class="token comment"># 以有序序列为分界线，进行两次二分，需要区分有顺序的两个部分</span>
                <span class="token comment"># [4,5,6,7,0,1,2]</span>
                <span class="token comment"># 说明在左半区 [4,5,6,7]</span>
                <span class="token keyword">if</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">&lt;=</span>nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token punctuation">:</span>
                    <span class="token comment"># 在该半区之中再去二分，以mid为中点</span>
                    <span class="token comment"># 在左半边[4]</span>
                    <span class="token keyword">if</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">&lt;=</span>target<span class="token operator">&lt;</span>nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token punctuation">:</span>
                        r <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span>
                    <span class="token comment"># 在右半边[5,6,7]</span>
                    <span class="token keyword">else</span><span class="token punctuation">:</span>
                        l <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span>
                <span class="token comment"># [5,6,7,0,1,2,4]</span>
                <span class="token comment"># 否则在右半区 [0,1,2,4]</span>
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    <span class="token comment"># [1,2,4]</span>
                    <span class="token keyword">if</span> nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token operator">&lt;</span>target<span class="token operator">&lt;=</span>nums<span class="token punctuation">[</span><span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                        l <span class="token operator">=</span> mid<span class="token operator">+</span><span class="token number">1</span>
                    <span class="token comment"># [0]</span>
                    <span class="token keyword">else</span><span class="token punctuation">:</span>
                        r <span class="token operator">=</span> mid<span class="token operator">-</span><span class="token number">1</span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>
</code></pre> 
<br> 
<h5><a id="162____743"></a>162. 寻找峰值 - （非有序序列）</h5> 
<p><a href="https://leetcode.cn/problems/find-peak-element/description/" rel="nofollow">162. 寻找峰值</a><br> 无序数组在满足某些规律时，也是可以使用二分法的。详情可以参考其他博客去理解这个<a href="https://blog.csdn.net/qq_53060585/article/details/122735971">二段性</a>。</p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">findPeakElement</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        left<span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span>
        
        <span class="token keyword">while</span> left<span class="token operator">&lt;</span>right<span class="token punctuation">:</span>
            mid <span class="token operator">=</span> <span class="token punctuation">(</span>left<span class="token operator">+</span>right<span class="token punctuation">)</span><span class="token operator">//</span><span class="token number">2</span>
            <span class="token comment"># 右边大，左边界左移</span>
            <span class="token keyword">if</span> nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token operator">&lt;</span>nums<span class="token punctuation">[</span>mid<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                left <span class="token operator">=</span> mid<span class="token operator">+</span><span class="token number">1</span>
            <span class="token comment"># 右边小，则下坡了，往左找峰值</span>
            <span class="token comment"># 这里不能-1，因为该mid可能是峰值</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                right <span class="token operator">=</span> mid

        <span class="token keyword">return</span> left
</code></pre> 
<br> 
<h5><a id="475__python_bisect_772"></a>475. 供暖器 （使用python库 bisect）</h5> 
<p><a href="https://leetcode.cn/problems/heaters/" rel="nofollow">475. 供暖器</a><br> Python的bisect库是使用二分法，将指定的值插入（预插入而不是真实插入，真实插入需要insort()函数），返回位置，bisect默认如果值相等则插入到相同的值的右侧，其余情况按顺序插入返回索引。</p> 
<p>所以，当我们将house插入到排好序的heaters中时，可能house与heaters中的某个位置的值<strong>相等</strong>，被插入到右边，那么它的真实位置实际上变大了一位，所以我们需要减去1,；但有时候，house与heaters中的某个位置的值<strong>不相等</strong>，被插入到右边是正确的位置，不用做改变。</p> 
<p>对于上面两种情况，我们没办法直接判断，只能直接将两个位置都取出来对比做判断，按照题意，取house与heater的值的差值，取其中较小的。但注意，插入到右侧时，索引不能大于heaters的最大长度；退一位时，索引不能小于0。</p> 
<p>最后取所house到所有heaters的距离的最大值即可。</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> bisect
<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">findRadius</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> houses<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> heaters<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        heaters<span class="token punctuation">.</span>sort<span class="token punctuation">(</span><span class="token punctuation">)</span>
        max_radius <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">for</span> house <span class="token keyword">in</span> houses<span class="token punctuation">:</span>
            right <span class="token operator">=</span> bisect<span class="token punctuation">.</span>bisect<span class="token punctuation">(</span>heaters<span class="token punctuation">,</span> house<span class="token punctuation">)</span>
            left <span class="token operator">=</span> right<span class="token operator">-</span><span class="token number">1</span>

            right_radius <span class="token operator">=</span> heaters<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token operator">-</span>house <span class="token keyword">if</span> right<span class="token operator">&lt;</span><span class="token builtin">len</span><span class="token punctuation">(</span>heaters<span class="token punctuation">)</span> <span class="token keyword">else</span> <span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'inf'</span><span class="token punctuation">)</span>
            left_radius <span class="token operator">=</span> house<span class="token operator">-</span>heaters<span class="token punctuation">[</span>left<span class="token punctuation">]</span> <span class="token keyword">if</span> left<span class="token operator">&gt;</span><span class="token operator">-</span><span class="token number">1</span> <span class="token keyword">else</span> <span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'inf'</span><span class="token punctuation">)</span>
            max_radius <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>max_radius<span class="token punctuation">,</span> <span class="token builtin">min</span><span class="token punctuation">(</span>right_radius<span class="token punctuation">,</span> left_radius<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> max_radius
</code></pre> 
<p>常规二分写法：</p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">findRadius</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> houses<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> heaters<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>

        <span class="token keyword">def</span> <span class="token function">find_bisect</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">:</span>
            left<span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span>

            <span class="token keyword">while</span> left<span class="token operator">&lt;=</span>right<span class="token punctuation">:</span>
                mid <span class="token operator">=</span> <span class="token punctuation">(</span>left<span class="token operator">+</span>right<span class="token punctuation">)</span><span class="token operator">//</span><span class="token number">2</span>
                <span class="token comment"># print(left, right, nums, target)</span>
                <span class="token keyword">if</span> target<span class="token operator">&gt;</span>nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token punctuation">:</span>
                    left<span class="token operator">=</span>mid<span class="token operator">+</span><span class="token number">1</span>
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    right<span class="token operator">=</span>mid<span class="token operator">-</span><span class="token number">1</span>
            <span class="token keyword">return</span> left
        <span class="token comment"># heaters是乱序的，先排序</span>
        heaters<span class="token punctuation">.</span>sort<span class="token punctuation">(</span><span class="token punctuation">)</span>
        dis <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token comment"># 使用二分法，寻找离每个house最近的heaters？实际上不完全是...</span>
        <span class="token comment"># (下面的二分实际上是找比该house大或相等的heater) &gt;=target</span>
        <span class="token comment"># 如果位置值相等，那就是最近距离，这没错。</span>
        <span class="token comment"># 那如果位置值不相等，就会出现错位现象。</span>
        <span class="token comment"># 比如[1,2,3,4]与[1,4]，target为2时，在[1,4]中&gt;=2的位置为index=1</span>
        <span class="token comment"># 而index=1的位置的值为4，但是2明显离1更近而不是离找的4更近。</span>
        <span class="token comment"># 所以对于每个index，它并不是最近的位置值，相等或者小1的位置才是。</span>

        <span class="token comment"># house与相应的heater做减法，取最大值</span>
        <span class="token keyword">for</span> house <span class="token keyword">in</span> houses<span class="token punctuation">:</span>
            res <span class="token operator">=</span> find_bisect<span class="token punctuation">(</span>heaters<span class="token punctuation">,</span> house<span class="token punctuation">)</span>
            right <span class="token operator">=</span> res
            <span class="token comment"># 比house大或相等的位置值为right，所以left一定比house小</span>
            <span class="token comment"># 所以是 house-heaters[left]</span>
            left <span class="token operator">=</span> right<span class="token operator">-</span><span class="token number">1</span> <span class="token keyword">if</span> right<span class="token operator">&gt;=</span><span class="token number">0</span> <span class="token keyword">else</span> right

            right_radius <span class="token operator">=</span> heaters<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token operator">-</span>house <span class="token keyword">if</span> res<span class="token operator">&lt;</span><span class="token builtin">len</span><span class="token punctuation">(</span>heaters<span class="token punctuation">)</span> <span class="token keyword">else</span> <span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'inf'</span><span class="token punctuation">)</span>
            left_radius <span class="token operator">=</span> house<span class="token operator">-</span>heaters<span class="token punctuation">[</span>left<span class="token punctuation">]</span> <span class="token keyword">if</span> left<span class="token operator">&gt;</span><span class="token operator">-</span><span class="token number">1</span> <span class="token keyword">else</span> <span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'inf'</span><span class="token punctuation">)</span>

            nearest <span class="token operator">=</span> <span class="token builtin">min</span><span class="token punctuation">(</span>right_radius<span class="token punctuation">,</span> left_radius<span class="token punctuation">)</span>
            <span class="token comment"># print(house, nearest)</span>
            dis <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>dis<span class="token punctuation">,</span> nearest<span class="token punctuation">)</span>
        <span class="token keyword">return</span> dis
</code></pre> 
<br> 
<h4><a id="12_843"></a>（1.2）、二分答案</h4> 
<h5><a id="_844"></a>购物系统的降级策略</h5> 
<p><a href="https://codefun2000.com/p/P1189" rel="nofollow">实习笔试-第一题-购物系统的降级策略</a><br> 二分答案的思路很简单：<br> 首先根据题目，我们很明显的确定了答案的上界和下界，于是我们需要快速找到其中的某个值，而满足题目要求的最大或最小的某条件，遍历明显不如二分法而来的快，所以代码整体是二分的思路。</p> 
<pre><code class="prism language-python">nums <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
max_volumn <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token operator">&lt;=</span>max_volumn<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
    left<span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">max</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">check</span><span class="token punctuation">(</span>mid<span class="token punctuation">)</span><span class="token punctuation">:</span>
        s <span class="token operator">=</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>mid <span class="token keyword">if</span> i<span class="token operator">&gt;</span>mid <span class="token keyword">else</span> i <span class="token keyword">for</span> i <span class="token keyword">in</span> nums<span class="token punctuation">)</span>
        <span class="token keyword">return</span> s<span class="token operator">&lt;=</span>max_volumn

    <span class="token keyword">while</span> left<span class="token operator">&lt;=</span>right<span class="token punctuation">:</span>
        mid <span class="token operator">=</span> <span class="token punctuation">(</span>left<span class="token operator">+</span>right<span class="token punctuation">)</span><span class="token operator">//</span><span class="token number">2</span>
        <span class="token keyword">if</span> check<span class="token punctuation">(</span>mid<span class="token punctuation">)</span><span class="token punctuation">:</span>
            left<span class="token operator">=</span>mid<span class="token operator">+</span><span class="token number">1</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            right<span class="token operator">=</span>mid<span class="token operator">-</span><span class="token number">1</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>right<span class="token punctuation">)</span>
</code></pre> 
<br> 
<h5><a id="875__873"></a>875. 爱吃香蕉的珂珂</h5> 
<p><a href="https://leetcode.cn/problems/koko-eating-bananas/" rel="nofollow">875. 爱吃香蕉的珂珂</a><br> 这一题要注意一点，当sum_time==h时，不能直接return mid，因为比如：math.ceil(10/5)到math.ceil(10/9)这个5-9与10相除向上取整结果都为2，但是珂珂喜欢慢慢吃，也就是吃的尽量少一点，所以要取最小值5，所以，我们在sum_time==h时，试探性的将right=mid-1，而不是直接return mid。</p> 
<p>最后退出循环后，l&gt;=r，之所以会大，因为sum_time==h后的right=mid-1不成功，下一次循环l=mid+1而加回来，无法在变小了，所以最后返回return l 而不是 r。</p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">minEatingSpeed</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> piles<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> h<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        <span class="token keyword">def</span> <span class="token function">check</span><span class="token punctuation">(</span>mid<span class="token punctuation">)</span><span class="token punctuation">:</span>
            s <span class="token operator">=</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>i<span class="token operator">//</span>mid<span class="token operator">+</span><span class="token number">1</span> <span class="token keyword">if</span> i<span class="token operator">%</span>mid <span class="token keyword">else</span> i<span class="token operator">//</span>mid <span class="token keyword">for</span> i <span class="token keyword">in</span> piles<span class="token punctuation">)</span>
            
            <span class="token keyword">return</span> s<span class="token operator">&lt;=</span>h
        left<span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token builtin">max</span><span class="token punctuation">(</span>piles<span class="token punctuation">)</span>

        <span class="token keyword">while</span> left<span class="token operator">&lt;=</span>right<span class="token punctuation">:</span>
            mid <span class="token operator">=</span> <span class="token punctuation">(</span>left<span class="token operator">+</span>right<span class="token punctuation">)</span><span class="token operator">//</span><span class="token number">2</span>
            <span class="token keyword">if</span> check<span class="token punctuation">(</span>mid<span class="token punctuation">)</span><span class="token punctuation">:</span>
                right<span class="token operator">=</span>mid<span class="token operator">-</span><span class="token number">1</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                left<span class="token operator">=</span>mid<span class="token operator">+</span><span class="token number">1</span>
        <span class="token keyword">return</span> left
        
</code></pre> 
<br> 
<h5><a id="_901"></a>组装最大可靠性设备</h5> 
<p><a href="https://codefun2000.com/p/P1362" rel="nofollow">组装最大可靠性设备</a></p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> defaultdict
money<span class="token punctuation">,</span> type_ <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
n <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 寻找二分答案的上下界</span>
left<span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'inf'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'inf'</span><span class="token punctuation">)</span>

<span class="token comment"># 按照类型存进字典</span>
details <span class="token operator">=</span> defaultdict<span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    tye<span class="token punctuation">,</span> reli<span class="token punctuation">,</span> pay <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    details<span class="token punctuation">[</span>tye<span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">(</span>reli<span class="token punctuation">,</span> pay<span class="token punctuation">)</span><span class="token punctuation">)</span>
    left<span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token builtin">min</span><span class="token punctuation">(</span>left<span class="token punctuation">,</span> reli<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">max</span><span class="token punctuation">(</span>right<span class="token punctuation">,</span> reli<span class="token punctuation">)</span>

<span class="token comment"># 按照可靠性与价格排序</span>
<span class="token keyword">for</span> d <span class="token keyword">in</span> details<span class="token punctuation">:</span>
    details<span class="token punctuation">[</span>d<span class="token punctuation">]</span><span class="token punctuation">.</span>sort<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 计算最低可靠性的能购买的器械的价格总和</span>
lowest_standard <span class="token operator">=</span> <span class="token number">0</span>
count <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">for</span> d <span class="token keyword">in</span> details<span class="token punctuation">:</span>
    lowest_standard <span class="token operator">+=</span> details<span class="token punctuation">[</span>d<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
    count<span class="token operator">+=</span><span class="token number">1</span>
<span class="token comment"># 最低可靠性的价格都高于预算，或者缺少全套的器械</span>
<span class="token keyword">if</span> lowest_standard<span class="token operator">&gt;</span>money <span class="token keyword">or</span> count<span class="token operator">!=</span>type_<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token comment"># 否则，进行二分答案</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">check</span><span class="token punctuation">(</span>mid<span class="token punctuation">)</span><span class="token punctuation">:</span>
        paid <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">for</span> d <span class="token keyword">in</span> details<span class="token punctuation">:</span>
            <span class="token keyword">for</span> reli<span class="token punctuation">,</span> pay <span class="token keyword">in</span> details<span class="token punctuation">[</span>d<span class="token punctuation">]</span><span class="token punctuation">:</span>
                <span class="token comment"># 找到第一个可靠的，并购买</span>
                <span class="token keyword">if</span> reli<span class="token operator">&gt;=</span>mid<span class="token punctuation">:</span>
                    paid<span class="token operator">+=</span>pay
                    <span class="token keyword">break</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> <span class="token boolean">False</span>
        <span class="token keyword">return</span> paid<span class="token operator">&lt;=</span>money
    <span class="token keyword">while</span> left<span class="token operator">&lt;=</span>right<span class="token punctuation">:</span>
        mid <span class="token operator">=</span> <span class="token punctuation">(</span>left<span class="token operator">+</span>right<span class="token punctuation">)</span><span class="token operator">//</span><span class="token number">2</span>
        <span class="token keyword">if</span> check<span class="token punctuation">(</span>mid<span class="token punctuation">)</span><span class="token punctuation">:</span>
            left<span class="token operator">=</span>mid<span class="token operator">+</span><span class="token number">1</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            right<span class="token operator">=</span>mid<span class="token operator">-</span><span class="token number">1</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>right<span class="token punctuation">)</span>
</code></pre> 
<br> 
<h5><a id="_957"></a>最佳植树距离</h5> 
<p><a href="https://codefun2000.com/p/P1363" rel="nofollow">最佳植树距离</a></p> 
<pre><code class="prism language-python">n <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
trees <span class="token operator">=</span> <span class="token builtin">sorted</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
plan <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

left<span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token builtin">max</span><span class="token punctuation">(</span>trees<span class="token punctuation">)</span><span class="token operator">-</span><span class="token builtin">min</span><span class="token punctuation">(</span>trees<span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">check</span><span class="token punctuation">(</span>mid<span class="token punctuation">)</span><span class="token punctuation">:</span>
    count <span class="token operator">=</span> <span class="token number">1</span>
    start <span class="token operator">=</span> trees<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> trees<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">-</span>start<span class="token operator">&gt;=</span>mid<span class="token punctuation">:</span>
            count<span class="token operator">+=</span><span class="token number">1</span>
            start<span class="token operator">=</span>trees<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
    <span class="token keyword">return</span> count<span class="token operator">&gt;=</span>plan
<span class="token keyword">while</span> left<span class="token operator">&lt;=</span>right<span class="token punctuation">:</span>
    mid<span class="token operator">=</span><span class="token punctuation">(</span>left<span class="token operator">+</span>right<span class="token punctuation">)</span><span class="token operator">//</span><span class="token number">2</span>
    <span class="token keyword">if</span> check<span class="token punctuation">(</span>mid<span class="token punctuation">)</span><span class="token punctuation">:</span>
        left<span class="token operator">=</span>mid<span class="token operator">+</span><span class="token number">1</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        right<span class="token operator">=</span>mid<span class="token operator">-</span><span class="token number">1</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>right<span class="token punctuation">)</span>
</code></pre> 
<br> 
<h5><a id="_987"></a>食堂供餐</h5> 
<p><a href="https://codefun2000.com/p/P1366" rel="nofollow">食堂供餐</a></p> 
<pre><code class="prism language-python">time <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
ready <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
people <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">check</span><span class="token punctuation">(</span>mid<span class="token punctuation">)</span><span class="token punctuation">:</span>
    r <span class="token operator">=</span> ready
    <span class="token keyword">for</span> p <span class="token keyword">in</span> people<span class="token punctuation">:</span>
        <span class="token keyword">if</span> r<span class="token operator">&lt;</span>p<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">False</span>
        r <span class="token operator">+=</span> mid<span class="token operator">-</span>p
    <span class="token keyword">return</span> <span class="token boolean">True</span>


left<span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>people<span class="token punctuation">)</span>
<span class="token keyword">while</span> left <span class="token operator">&lt;=</span> right<span class="token punctuation">:</span>
    mid <span class="token operator">=</span> <span class="token punctuation">(</span>left<span class="token operator">+</span>right<span class="token punctuation">)</span><span class="token operator">//</span><span class="token number">2</span>
    <span class="token keyword">if</span> check<span class="token punctuation">(</span>mid<span class="token punctuation">)</span><span class="token punctuation">:</span>
        right <span class="token operator">=</span> mid<span class="token operator">-</span><span class="token number">1</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        left <span class="token operator">=</span> mid<span class="token operator">+</span><span class="token number">1</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span>
</code></pre> 
<br> 
<h5><a id="__dfs_1019"></a>数据最节约的备份方法 - 二分答案+dfs</h5> 
<p><a href="https://codefun2000.com/p/P1346" rel="nofollow">数据最节约的备份方法</a></p> 
<pre><code class="prism language-python">files <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># 优化1，降序排序，先排大的，那么dfs就会大大缩短时间</span>
files<span class="token punctuation">.</span>sort<span class="token punctuation">(</span>reverse<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>

<span class="token comment"># 二分答案</span>
n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>files<span class="token punctuation">)</span>
<span class="token comment"># 最少一个光盘都不需要，最多每个文件装一个光盘</span>
left<span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> n

<span class="token keyword">def</span> <span class="token function">dfs</span><span class="token punctuation">(</span>buckets<span class="token punctuation">,</span> ind<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> ind <span class="token operator">==</span> n<span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">True</span>
    <span class="token keyword">for</span> i<span class="token punctuation">,</span> bucket <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>buckets<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> i<span class="token operator">&gt;</span><span class="token number">0</span> <span class="token keyword">and</span> bucket<span class="token operator">==</span>buckets<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
            <span class="token keyword">continue</span>
        <span class="token keyword">if</span> files<span class="token punctuation">[</span>ind<span class="token punctuation">]</span><span class="token operator">+</span>bucket<span class="token operator">&lt;=</span><span class="token number">500</span><span class="token punctuation">:</span>
            buckets<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">+=</span>files<span class="token punctuation">[</span>ind<span class="token punctuation">]</span>
            <span class="token keyword">if</span> dfs<span class="token punctuation">(</span>buckets<span class="token punctuation">,</span> ind<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> <span class="token boolean">True</span>
            buckets<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">-=</span>files<span class="token punctuation">[</span>ind<span class="token punctuation">]</span>
    <span class="token keyword">return</span> <span class="token boolean">False</span>
<span class="token comment"># 装满，用01背包，但是光盘不一定装满</span>
<span class="token comment"># 用暴力深搜，能否将所有files装入指定数量的光盘</span>
<span class="token keyword">def</span> <span class="token function">check</span><span class="token punctuation">(</span>mid<span class="token punctuation">)</span><span class="token punctuation">:</span>
    buckets <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>mid
    <span class="token keyword">return</span> dfs<span class="token punctuation">(</span>buckets<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

<span class="token keyword">while</span> left<span class="token operator">&lt;=</span>right<span class="token punctuation">:</span>
    mid <span class="token operator">=</span> <span class="token punctuation">(</span>left<span class="token operator">+</span>right<span class="token punctuation">)</span><span class="token operator">//</span><span class="token number">2</span>
    <span class="token comment"># mid数量的光盘能否把所有文件都装进去</span>
    <span class="token comment"># 那么试着把mid数量减少</span>
    <span class="token comment"># 最小化答案</span>
    <span class="token keyword">if</span> check<span class="token punctuation">(</span>mid<span class="token punctuation">)</span><span class="token punctuation">:</span>
        right <span class="token operator">=</span> mid<span class="token operator">-</span><span class="token number">1</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        left <span class="token operator">=</span> mid<span class="token operator">+</span><span class="token number">1</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span>
</code></pre> 
<br> 
<h4><a id="2__N_1063"></a>（2）、有序数组暴力枚举 - N数和问题</h4> 
<p>已知一组数组和一个目标值target，求不重复的在数组中取N个数的和为target的组合。</p> 
<p>一般做这样的题的思路是用双指针，分别指向数组的左右两端，并且，数组需要<strong>排好序</strong>，从小到大。</p> 
<p>因为排序后，左右指针才能有规律的移动，比如：<strong>当left+right的值大于target</strong>，说明他们两个太大了，需要减小，那么只能通过<strong>right左移</strong>来减小总体值（为什么不让left左移呢？因为不能重复取，之前取过了，就要移向新的值）；<strong>当left+right的值小于target</strong>，那么只能通过<strong>left右移</strong>来增加总体值。</p> 
<p>当然，<strong>当left+right的值等于target</strong>，即为结果。</p> 
<br> 
<p><img src="https://images2.imgbox.com/4f/81/9YbLeXV5_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="167__II___1075"></a>167. 两数之和 II - 输入有序数组</h5> 
<p><a href="https://leetcode.cn/problems/two-sum-ii-input-array-is-sorted/description/" rel="nofollow">167. 两数之和 II - 输入有序数组</a></p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">twoSum</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> numbers<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> target<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        left<span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span>
        <span class="token comment"># 题目说答案一定存在，那么也可以while True</span>
        <span class="token keyword">while</span> left<span class="token operator">&lt;</span>right<span class="token punctuation">:</span>
            <span class="token keyword">if</span> numbers<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token operator">+</span>numbers<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token operator">&gt;</span>target<span class="token punctuation">:</span>
                right<span class="token operator">-=</span><span class="token number">1</span>
            <span class="token keyword">elif</span> numbers<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token operator">+</span>numbers<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token operator">&lt;</span>target<span class="token punctuation">:</span>
                left<span class="token operator">+=</span><span class="token number">1</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> <span class="token punctuation">[</span>left<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> right<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span>
</code></pre> 
<br> 
<h5><a id="1__1095"></a>1. 两数之和</h5> 
<p><a href="https://leetcode.cn/problems/two-sum/description/" rel="nofollow">1. 两数之和</a></p> 
<p>这题与上一题有区别，是乱序的。为了使用左右端点双指针，需要排序，并且题目不是求结果而是求原索引，所以需要在排序前记录原索引。</p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">twoSum</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> target<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        num_ind <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token comment"># 值与坐标进行绑定</span>
        <span class="token keyword">for</span> ind<span class="token punctuation">,</span> val <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">:</span>
            num_ind<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">[</span>val<span class="token punctuation">,</span> ind<span class="token punctuation">]</span><span class="token punctuation">)</span>
        num_ind<span class="token punctuation">.</span>sort<span class="token punctuation">(</span>key<span class="token operator">=</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span>x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token comment"># 开始双指针</span>
        left<span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span>
        <span class="token keyword">while</span> left<span class="token operator">&lt;</span>right<span class="token punctuation">:</span>
        	<span class="token comment"># 三个条件，&gt;target, &lt;target, =target</span>
            <span class="token keyword">if</span> num_ind<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">+</span>num_ind<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">&gt;</span>target<span class="token punctuation">:</span>
                right<span class="token operator">-=</span><span class="token number">1</span>
            <span class="token keyword">elif</span> num_ind<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">+</span>num_ind<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">&lt;</span>target<span class="token punctuation">:</span>
                left<span class="token operator">+=</span><span class="token number">1</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> <span class="token punctuation">[</span>num_ind<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> num_ind<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
</code></pre> 
<br> 
<p><img src="https://images2.imgbox.com/06/c5/ZsH1FYTm_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="15__1129"></a>15. 三数之和</h5> 
<p><a href="https://leetcode.cn/problems/3sum/description/" rel="nofollow">15. 三数之和</a></p> 
<p>咱们利用上一题的函数两数之和，每次遍历第一个数，该第一个数的后面的数求两数之和，与第一个数相加为target则保存为结果。</p> 
<p><strong>直接循环：</strong></p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">threeSum</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        nums<span class="token punctuation">.</span>sort<span class="token punctuation">(</span><span class="token punctuation">)</span>
        n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>
        ans <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        
        <span class="token keyword">for</span> first <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> first<span class="token operator">&gt;</span><span class="token number">0</span> <span class="token keyword">and</span> nums<span class="token punctuation">[</span>first<span class="token punctuation">]</span><span class="token operator">==</span>nums<span class="token punctuation">[</span>first<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                <span class="token keyword">continue</span>
            <span class="token comment"># 优化1，最小的三个数都大于0，那么后面不可能由小于等于0的组合</span>
            <span class="token keyword">if</span> nums<span class="token punctuation">[</span>first<span class="token punctuation">]</span><span class="token operator">+</span>nums<span class="token punctuation">[</span>first<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">+</span>nums<span class="token punctuation">[</span>first<span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">:</span>
                <span class="token comment"># 这里是break，因为后面nums[first]只会变大</span>
                <span class="token keyword">break</span>
            <span class="token comment"># 优化2，最小的数加上最大的两个数都小于零，那么不会再有大于等于零的组合</span>
            <span class="token keyword">if</span> nums<span class="token punctuation">[</span>first<span class="token punctuation">]</span><span class="token operator">+</span>nums<span class="token punctuation">[</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">+</span>nums<span class="token punctuation">[</span>n<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">:</span>
                <span class="token comment"># 这里是continue，因为后面nums[first]后面还会变大</span>
                <span class="token keyword">continue</span>
            left <span class="token operator">=</span> first<span class="token operator">+</span><span class="token number">1</span>
            right <span class="token operator">=</span> n<span class="token operator">-</span><span class="token number">1</span>

            <span class="token keyword">while</span> left<span class="token operator">&lt;</span>right<span class="token punctuation">:</span>
                s <span class="token operator">=</span> nums<span class="token punctuation">[</span>first<span class="token punctuation">]</span><span class="token operator">+</span>nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token operator">+</span>nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span>
                <span class="token keyword">if</span> s <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
                    left<span class="token operator">+=</span><span class="token number">1</span>
                <span class="token keyword">elif</span> s<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">:</span>
                    right<span class="token operator">-=</span><span class="token number">1</span>
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    ans<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">[</span>nums<span class="token punctuation">[</span>first<span class="token punctuation">]</span><span class="token punctuation">,</span> nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">,</span> nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                    <span class="token comment"># 排除重复元素</span>
                    left<span class="token operator">+=</span><span class="token number">1</span>
                    <span class="token keyword">while</span> left<span class="token operator">&lt;</span>right <span class="token keyword">and</span> nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token operator">==</span>nums<span class="token punctuation">[</span>left<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                        left<span class="token operator">+=</span><span class="token number">1</span>
                    right<span class="token operator">-=</span><span class="token number">1</span>
                    <span class="token keyword">while</span> right<span class="token operator">&gt;</span>left <span class="token keyword">and</span> nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token operator">==</span>nums<span class="token punctuation">[</span>right<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                        right<span class="token operator">-=</span><span class="token number">1</span>
        <span class="token keyword">return</span> ans
        
</code></pre> 
<p><strong>写成函数：</strong><br> 可以自行加上上面代码的两个优化。</p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">threeSum</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        nums<span class="token punctuation">.</span>sort<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment"># 类似于两数之和</span>
        <span class="token keyword">def</span> <span class="token function">twoSum</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">:</span>
            res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
            left<span class="token punctuation">,</span> right <span class="token operator">=</span> start<span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span>
            <span class="token keyword">while</span> left<span class="token operator">&lt;</span>right<span class="token punctuation">:</span>
                <span class="token comment">#（注意不是left&gt;0）因为起始点不是0而是start</span>
                <span class="token keyword">if</span> left<span class="token operator">&gt;</span>start <span class="token keyword">and</span> nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token operator">==</span>nums<span class="token punctuation">[</span>left<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                    left<span class="token operator">+=</span><span class="token number">1</span>
                    <span class="token keyword">continue</span>
                <span class="token keyword">if</span> right<span class="token operator">&lt;</span><span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span> <span class="token keyword">and</span> nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token operator">==</span>nums<span class="token punctuation">[</span>right<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                    right<span class="token operator">-=</span><span class="token number">1</span>
                    <span class="token keyword">continue</span>
                <span class="token keyword">if</span> nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token operator">+</span>nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token operator">&gt;</span>target<span class="token punctuation">:</span>
                    right<span class="token operator">-=</span><span class="token number">1</span>
                <span class="token keyword">elif</span> nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token operator">+</span>nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token operator">&lt;</span>target<span class="token punctuation">:</span>
                    left<span class="token operator">+=</span><span class="token number">1</span>
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    res<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">[</span>nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">,</span>nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                    right<span class="token operator">-=</span><span class="token number">1</span>
                    left<span class="token operator">+=</span><span class="token number">1</span>
            <span class="token keyword">return</span> res 
        <span class="token comment"># 这里减去2，也就是至少保证剩下两个数在-1和-2。当然也可以不减</span>
        <span class="token keyword">for</span> start <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token comment"># 重复的需要去掉 [-1, -1, 0, 1] 这里前面两个-1都会取到后面的[0,1]</span>
            <span class="token keyword">if</span> start<span class="token operator">&gt;</span><span class="token number">0</span> <span class="token keyword">and</span> nums<span class="token punctuation">[</span>start<span class="token punctuation">]</span><span class="token operator">==</span>nums<span class="token punctuation">[</span>start<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                <span class="token keyword">continue</span>
            <span class="token comment"># 这里除了left和right(去掉right，一定为len(nums)无需传入)</span>
            <span class="token comment"># 第三个参数传入负的值，因为三数和为零</span>
            <span class="token comment"># 在传入个起始坐标,</span>
            twolist <span class="token operator">=</span> twoSum<span class="token punctuation">(</span>start<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span>nums<span class="token punctuation">[</span>start<span class="token punctuation">]</span><span class="token punctuation">)</span>

            <span class="token keyword">for</span> twol <span class="token keyword">in</span> twolist<span class="token punctuation">:</span>
                <span class="token keyword">if</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>twol<span class="token operator">+</span><span class="token punctuation">[</span>nums<span class="token punctuation">[</span>start<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">:</span>
                    res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>twol<span class="token operator">+</span><span class="token punctuation">[</span>nums<span class="token punctuation">[</span>start<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> res
</code></pre> 
<br> 
<h5><a id="18__1221"></a>18. 四数之和</h5> 
<p><a href="https://leetcode.cn/problems/4sum/" rel="nofollow">18. 四数之和</a><br> 这题同样利用上前面两数之和与三数之和，层层嵌套，最内层还是两数之和。外面两层的三数之和与四数之和分别与两数之和相加，为target则return或者保存为最终的结果。</p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">fourSum</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> target<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        nums<span class="token punctuation">.</span>sort<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment"># 相同的两数之和</span>
        <span class="token keyword">def</span> <span class="token function">twoSum</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">:</span>
            res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
            left<span class="token punctuation">,</span> right <span class="token operator">=</span> start<span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span>
            <span class="token keyword">while</span> left<span class="token operator">&lt;</span>right<span class="token punctuation">:</span>
                <span class="token keyword">if</span> left<span class="token operator">&gt;</span>start <span class="token keyword">and</span> nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token operator">==</span>nums<span class="token punctuation">[</span>left<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                    left<span class="token operator">+=</span><span class="token number">1</span>
                    <span class="token keyword">continue</span>
                <span class="token keyword">if</span> right<span class="token operator">&lt;</span><span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span> <span class="token keyword">and</span> nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token operator">==</span>nums<span class="token punctuation">[</span>right<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                    right<span class="token operator">-=</span><span class="token number">1</span>
                    <span class="token keyword">continue</span>
                <span class="token keyword">if</span> nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token operator">+</span>nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token operator">&gt;</span>target<span class="token punctuation">:</span>
                    right<span class="token operator">-=</span><span class="token number">1</span>
                <span class="token keyword">elif</span> nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token operator">+</span>nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token operator">&lt;</span>target<span class="token punctuation">:</span>
                    left<span class="token operator">+=</span><span class="token number">1</span>
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    res<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">[</span>nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">,</span>nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                    left<span class="token operator">+=</span><span class="token number">1</span>
                    right<span class="token operator">-=</span><span class="token number">1</span>
            <span class="token keyword">return</span> res
        <span class="token comment"># 相同的三数之和</span>
        <span class="token keyword">def</span> <span class="token function">threeSum</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">:</span>
            res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
            <span class="token keyword">for</span> sec <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> sec<span class="token operator">&gt;</span>start <span class="token keyword">and</span> nums<span class="token punctuation">[</span>sec<span class="token punctuation">]</span><span class="token operator">==</span>nums<span class="token punctuation">[</span>sec<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                    <span class="token keyword">continue</span>
                twolist <span class="token operator">=</span> twoSum<span class="token punctuation">(</span>sec<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> target<span class="token operator">-</span>nums<span class="token punctuation">[</span>sec<span class="token punctuation">]</span><span class="token punctuation">)</span>

                <span class="token keyword">for</span> twol <span class="token keyword">in</span> twolist<span class="token punctuation">:</span>
                    <span class="token keyword">if</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>twol<span class="token operator">+</span><span class="token punctuation">[</span>nums<span class="token punctuation">[</span>sec<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">==</span>target<span class="token punctuation">:</span>
                        res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>twol<span class="token operator">+</span><span class="token punctuation">[</span>nums<span class="token punctuation">[</span>sec<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> res
        <span class="token comment"># 可以减3，也可以不减</span>
        <span class="token keyword">for</span> start <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> start<span class="token operator">&gt;</span><span class="token number">0</span> <span class="token keyword">and</span> nums<span class="token punctuation">[</span>start<span class="token punctuation">]</span><span class="token operator">==</span>nums<span class="token punctuation">[</span>start<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                <span class="token keyword">continue</span>
            
            threelist <span class="token operator">=</span> threeSum<span class="token punctuation">(</span>start<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> target<span class="token operator">-</span>nums<span class="token punctuation">[</span>start<span class="token punctuation">]</span><span class="token punctuation">)</span>

            <span class="token keyword">for</span> threel <span class="token keyword">in</span> threelist<span class="token punctuation">:</span>
                <span class="token keyword">if</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>threel<span class="token operator">+</span><span class="token punctuation">[</span>nums<span class="token punctuation">[</span>start<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">==</span>target<span class="token punctuation">:</span>
                    res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>threel<span class="token operator">+</span><span class="token punctuation">[</span>nums<span class="token punctuation">[</span>start<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> res



</code></pre> 
<br> 
<h5><a id="N_1279"></a>递推：N数之和</h5> 
<p>我们可以发现，除了最内层的两数之和这个函数，其他函数可以层层嵌套，写成递归形式，于是我们整理如下：</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">nSum</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> start<span class="token punctuation">,</span> target<span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">:</span>
    res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token comment"># 大于两数之和的层层嵌套</span>
    <span class="token keyword">if</span> k<span class="token operator">&gt;</span><span class="token number">2</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> i<span class="token operator">&gt;</span>start <span class="token keyword">and</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span>nums<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                <span class="token keyword">continue</span>
            nlist <span class="token operator">=</span> nSum<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> target<span class="token operator">-</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>k<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
            <span class="token keyword">for</span> nl <span class="token keyword">in</span> nlist<span class="token punctuation">:</span>
                <span class="token keyword">if</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>nl<span class="token operator">+</span><span class="token punctuation">[</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">==</span>target<span class="token punctuation">:</span>
                    res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>nl<span class="token operator">+</span><span class="token punctuation">[</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token comment"># 两数之和</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        left<span class="token punctuation">,</span> right <span class="token operator">=</span> start<span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span>
       
        <span class="token keyword">while</span> left<span class="token operator">&lt;</span>right<span class="token punctuation">:</span>
            
            <span class="token keyword">if</span> left<span class="token operator">&gt;</span>start <span class="token keyword">and</span> nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token operator">==</span>nums<span class="token punctuation">[</span>left<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                left<span class="token operator">+=</span><span class="token number">1</span>
                <span class="token keyword">continue</span>
            <span class="token keyword">if</span> right<span class="token operator">&lt;</span><span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span> <span class="token keyword">and</span> nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token operator">==</span>nums<span class="token punctuation">[</span>right<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                right<span class="token operator">-=</span><span class="token number">1</span>
                <span class="token keyword">continue</span>
            <span class="token keyword">if</span> nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token operator">+</span>nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token operator">&gt;</span>target<span class="token punctuation">:</span>
                right<span class="token operator">-=</span><span class="token number">1</span>
            <span class="token keyword">elif</span> nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token operator">+</span>nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token operator">&lt;</span>target<span class="token punctuation">:</span>
                left<span class="token operator">+=</span><span class="token number">1</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                res<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">[</span>nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">,</span>nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                right<span class="token operator">-=</span><span class="token number">1</span>
                left<span class="token operator">+=</span><span class="token number">1</span>
    <span class="token keyword">return</span> res

<span class="token comment"># 四数之和</span>
nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span> 
k <span class="token operator">=</span> <span class="token number">4</span>
target <span class="token operator">=</span> <span class="token number">0</span>
start <span class="token operator">=</span> <span class="token number">0</span>
<span class="token comment"># [[1, 2, -1, -2], [0, 2, 0, -2], [0, 1, 0, -1]]</span>
<span class="token comment"># 三数之和</span>
nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">]</span>
k <span class="token operator">=</span> <span class="token number">3</span>
nums<span class="token punctuation">.</span>sort<span class="token punctuation">(</span><span class="token punctuation">)</span>
target <span class="token operator">=</span> <span class="token number">0</span>
start <span class="token operator">=</span> <span class="token number">0</span>
k <span class="token operator">=</span> <span class="token number">3</span>
<span class="token comment"># 函数入口</span>
nSum<span class="token punctuation">(</span>nums<span class="token punctuation">,</span> start<span class="token punctuation">,</span> target<span class="token punctuation">,</span> k<span class="token punctuation">)</span>
</code></pre> 
<br> 
<h5><a id="16__1335"></a>16. 最接近的三数之和</h5> 
<p><a href="https://leetcode.cn/problems/3sum-closest/description/" rel="nofollow">16. 最接近的三数之和</a></p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">threeSumClosest</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> target<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        nums<span class="token punctuation">.</span>sort<span class="token punctuation">(</span><span class="token punctuation">)</span>
        n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>
        best <span class="token operator">=</span> <span class="token number">10</span><span class="token operator">**</span><span class="token number">7</span>
        
        <span class="token comment"># 根据差值的绝对值来更新答案</span>
        <span class="token keyword">def</span> <span class="token function">update</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">nonlocal</span> best
            <span class="token keyword">if</span> <span class="token builtin">abs</span><span class="token punctuation">(</span>cur <span class="token operator">-</span> target<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token builtin">abs</span><span class="token punctuation">(</span>best <span class="token operator">-</span> target<span class="token punctuation">)</span><span class="token punctuation">:</span>
                best <span class="token operator">=</span> cur
        
        <span class="token comment"># 枚举 a</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token comment"># 保证和上一次枚举的元素不相等</span>
            <span class="token keyword">if</span> i <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token keyword">and</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> nums<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                <span class="token keyword">continue</span>
            <span class="token comment"># 使用双指针枚举 b 和 c</span>
            j<span class="token punctuation">,</span> k <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> n <span class="token operator">-</span> <span class="token number">1</span>
            <span class="token keyword">while</span> j <span class="token operator">&lt;</span> k<span class="token punctuation">:</span>
                s <span class="token operator">=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> nums<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> nums<span class="token punctuation">[</span>k<span class="token punctuation">]</span>
                <span class="token comment"># 如果和为 target 直接返回答案</span>
                <span class="token keyword">if</span> s <span class="token operator">==</span> target<span class="token punctuation">:</span>
                    <span class="token keyword">return</span> target
                update<span class="token punctuation">(</span>s<span class="token punctuation">)</span>
                <span class="token keyword">if</span> s <span class="token operator">&gt;</span> target<span class="token punctuation">:</span>
                    <span class="token comment"># 如果和大于 target，移动 c 对应的指针</span>
                    k0 <span class="token operator">=</span> k <span class="token operator">-</span> <span class="token number">1</span>
                    <span class="token comment"># 移动到下一个不相等的元素</span>
                    <span class="token keyword">while</span> j <span class="token operator">&lt;</span> k0 <span class="token keyword">and</span> nums<span class="token punctuation">[</span>k0<span class="token punctuation">]</span> <span class="token operator">==</span> nums<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">:</span>
                        k0 <span class="token operator">-=</span> <span class="token number">1</span>
                    k <span class="token operator">=</span> k0
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    <span class="token comment"># 如果和小于 target，移动 b 对应的指针</span>
                    j0 <span class="token operator">=</span> j <span class="token operator">+</span> <span class="token number">1</span>
                    <span class="token comment"># 移动到下一个不相等的元素</span>
                    <span class="token keyword">while</span> j0 <span class="token operator">&lt;</span> k <span class="token keyword">and</span> nums<span class="token punctuation">[</span>j0<span class="token punctuation">]</span> <span class="token operator">==</span> nums<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">:</span>
                        j0 <span class="token operator">+=</span> <span class="token number">1</span>
                    j <span class="token operator">=</span> j0

        <span class="token keyword">return</span> best
</code></pre> 
<br> 
<p><img src="https://images2.imgbox.com/d6/3e/Y9YljHgc_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="881__1386"></a>881. 救生艇</h5> 
<p><a href="https://leetcode.cn/problems/boats-to-save-people/" rel="nofollow">881. 救生艇</a></p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">numRescueBoats</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> people<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> limit<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        people<span class="token punctuation">.</span>sort<span class="token punctuation">(</span><span class="token punctuation">)</span>
        light<span class="token punctuation">,</span>heavy <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>people<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span>
        count <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">while</span> light<span class="token operator">&lt;=</span>heavy<span class="token punctuation">:</span>
            <span class="token keyword">if</span> people<span class="token punctuation">[</span>light<span class="token punctuation">]</span><span class="token operator">+</span>people<span class="token punctuation">[</span>heavy<span class="token punctuation">]</span><span class="token operator">&lt;=</span>limit<span class="token punctuation">:</span>
                light<span class="token operator">+=</span><span class="token number">1</span>
                heavy<span class="token operator">-=</span><span class="token number">1</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                heavy<span class="token operator">-=</span><span class="token number">1</span>
            count<span class="token operator">+=</span><span class="token number">1</span>
        <span class="token keyword">return</span> count
</code></pre> 
<br> 
<h4><a id="3_1406"></a>（3）、其他暴力枚举</h4> 
<p><img src="https://images2.imgbox.com/6e/e0/kZ6nVHF3_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="75____1410"></a>75. 颜色分类 - 类似于荷兰国旗问题</h5> 
<p><a href="https://leetcode.cn/problems/sort-colors/" rel="nofollow">75. 颜色分类</a><br> 两个左右指针分别用来存储0和2，遍历nums，找到0则与左指针交换，找到2则与右指针交换，注意相同值的交换[2,1,2]，所以需要判断交换后nums[i]是否还为原值，除此之外，需要防止越界，内部要加上判断条件 i&lt;=p2。</p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">sortColors</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>
        p0<span class="token punctuation">,</span> p2<span class="token punctuation">,</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span>
        <span class="token keyword">while</span> i<span class="token operator">&lt;=</span>p2<span class="token punctuation">:</span>
            <span class="token comment"># 防止 [2,1,2],if改为while</span>
            <span class="token comment"># 防止 [2,2,2],p2一直-1小于0越界，加上while i&lt;=p2</span>
            <span class="token keyword">while</span> i<span class="token operator">&lt;=</span>p2 <span class="token keyword">and</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">:</span>
                nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> nums<span class="token punctuation">[</span>p2<span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>p2<span class="token punctuation">]</span><span class="token punctuation">,</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
                p2<span class="token operator">-=</span><span class="token number">1</span>
            <span class="token keyword">if</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">:</span>
                nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> nums<span class="token punctuation">[</span>p0<span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>p0<span class="token punctuation">]</span><span class="token punctuation">,</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
                p0<span class="token operator">+=</span><span class="token number">1</span>
            i<span class="token operator">+=</span><span class="token number">1</span>
        <span class="token keyword">return</span> nums
</code></pre> 
<br> 
<h5><a id="977__1434"></a>977. 有序数组的平方</h5> 
<p><a href="https://leetcode.cn/problems/squares-of-a-sorted-array/" rel="nofollow">977. 有序数组的平方</a><br> 两端的平方为最大值，每次将最大值放入一个新生成的list的从右到左放置。</p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">sortedSquares</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>
        ans <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>n
        left<span class="token punctuation">,</span>right<span class="token punctuation">,</span>pos <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>n<span class="token operator">-</span><span class="token number">1</span>

        <span class="token keyword">while</span> left<span class="token operator">&lt;=</span>right<span class="token punctuation">:</span>
            <span class="token keyword">if</span> nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token operator">**</span><span class="token number">2</span><span class="token operator">&gt;</span>nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token operator">**</span><span class="token number">2</span><span class="token punctuation">:</span>
                ans<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token operator">=</span>nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token operator">**</span><span class="token number">2</span>
                left<span class="token operator">+=</span><span class="token number">1</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                ans<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token operator">=</span>nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token operator">**</span><span class="token number">2</span>
                right<span class="token operator">-=</span><span class="token number">1</span>
            pos<span class="token operator">-=</span><span class="token number">1</span>
        <span class="token keyword">return</span> ans
</code></pre> 
<br> 
<h5><a id="11__1458"></a>11. 盛最多水的容器</h5> 
<p><a href="https://leetcode.cn/problems/container-with-most-water/description/" rel="nofollow">11. 盛最多水的容器</a><br> 哪边短移动哪个，一样长移动任意一个。</p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">maxArea</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> height<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        <span class="token comment"># 从左右两侧边缘开始向内计算最大面积</span>
        l<span class="token punctuation">,</span> r <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>height<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span>
        area <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">while</span> l<span class="token operator">&lt;</span>r<span class="token punctuation">:</span>
            <span class="token comment"># 面积的计算，取较短的一个边界，长方形计算公式</span>
            area <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span><span class="token punctuation">(</span>r<span class="token operator">-</span>l<span class="token punctuation">)</span><span class="token operator">*</span><span class="token builtin">min</span><span class="token punctuation">(</span>height<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">,</span> height<span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>area<span class="token punctuation">)</span>
            <span class="token comment"># 移动较短的边界，试图去寻找较高的边界</span>
            <span class="token comment"># 边界向内移动会造成宽度减少，每次移动-1，面积相对减小</span>
            <span class="token comment"># 但是同时也能找到较大的高度去弥补缺失的宽度，甚至提升总面积</span>
            <span class="token keyword">if</span> height<span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token operator">&gt;=</span>height<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">:</span>
                r<span class="token operator">-=</span><span class="token number">1</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                l<span class="token operator">+=</span><span class="token number">1</span>
        <span class="token keyword">return</span> area

</code></pre> 
<br> 
<h5><a id="42__1485"></a>42. 接雨水</h5> 
<p><a href="https://leetcode.cn/problems/trapping-rain-water/description/" rel="nofollow">42. 接雨水</a><br> <strong>前后缀分解：</strong></p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">trap</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> height<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>height<span class="token punctuation">)</span>
        pre_sum <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>n
        pre_sum<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span>height<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
        <span class="token comment"># 记录前缀</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span>
            pre_sum<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>height<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> pre_sum<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token comment"># 记录后缀</span>
        suf_sum <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>n
        suf_sum<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>height<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">reversed</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            suf_sum<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>height<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> suf_sum<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token comment"># 开始遍历答案</span>
        ans <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token comment"># 取短板减去高度，剩余的为能装的水的容量</span>
        <span class="token keyword">for</span> h<span class="token punctuation">,</span> pre<span class="token punctuation">,</span> suf <span class="token keyword">in</span> <span class="token builtin">zip</span><span class="token punctuation">(</span>height<span class="token punctuation">,</span> pre_sum<span class="token punctuation">,</span> suf_sum<span class="token punctuation">)</span><span class="token punctuation">:</span>
            ans<span class="token operator">+=</span> <span class="token builtin">min</span><span class="token punctuation">(</span>pre<span class="token punctuation">,</span> suf<span class="token punctuation">)</span><span class="token operator">-</span>h
        <span class="token keyword">return</span> ans
</code></pre> 
<p><strong>双指针（类似前面盛水最多的容器）：</strong><br> 这个做法的复杂度也是O(n)，但是空间复杂度降维O(1)。</p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">trap</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> height<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>height<span class="token punctuation">)</span>
        left <span class="token operator">=</span> <span class="token number">0</span>
        right <span class="token operator">=</span> n<span class="token operator">-</span><span class="token number">1</span>
        ans <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token comment"># 因为只用最大值，所以取代列表，只用一个变量保存最大值即可，每次计算实时更新</span>
        pre_max <span class="token operator">=</span> <span class="token number">0</span>
        suf_max <span class="token operator">=</span> <span class="token number">0</span>
		<span class="token comment"># 这里加上等号，left和right相等时也是一个区间柱子</span>
        <span class="token keyword">while</span> left<span class="token operator">&lt;=</span>right<span class="token punctuation">:</span>
        	<span class="token comment"># 每次更新左板和右板与其之前的最大值</span>
        	<span class="token comment"># 中间如果有更高的呢？那计算还是按照短板取值</span>
        	<span class="token comment"># 如果中间有更矮的呢？忽略掉，被高的板子包围，容量以高的为准</span>
            pre_max <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>pre_max<span class="token punctuation">,</span> height<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">)</span>
            suf_max <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>suf_max<span class="token punctuation">,</span> height<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">)</span>
			<span class="token comment"># 两边板子比较，矮的为最大容量计算容积</span>
            <span class="token keyword">if</span> pre_max<span class="token operator">&lt;</span>suf_max<span class="token punctuation">:</span>
                ans <span class="token operator">+=</span> pre_max<span class="token operator">-</span>height<span class="token punctuation">[</span>left<span class="token punctuation">]</span>
                left<span class="token operator">+=</span><span class="token number">1</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                ans <span class="token operator">+=</span> suf_max<span class="token operator">-</span>height<span class="token punctuation">[</span>right<span class="token punctuation">]</span>
                right<span class="token operator">-=</span><span class="token number">1</span>
        <span class="token keyword">return</span> ans
</code></pre> 
<br> 
<br> 
<h3><a id="23____1544"></a>2.3、区间指针 - 滑动窗口 （同向双指针）</h3> 
<table><thead><tr><th></th><th>固定间距指针</th><th>例题</th></tr></thead><tbody><tr><td>1</td><td>定长滑动窗口</td><td><a href="https://leetcode.cn/problems/maximum-number-of-vowels-in-a-substring-of-given-length/" rel="nofollow">1456. 定长子串中元音的最大数目</a> | <a href="https://leetcode.cn/problems/lian-biao-zhong-dao-shu-di-kge-jie-dian-lcof/" rel="nofollow">剑指 Offer 22. 链表中倒数第k个节点</a></td></tr><tr><td>2</td><td>变长滑动窗口</td><td><a href="https://leetcode.cn/problems/minimum-size-subarray-sum/description/" rel="nofollow">209. 长度最小的子数组</a> | <a href="https://leetcode.cn/problems/subarray-product-less-than-k/" rel="nofollow">713. 乘积小于 K 的子数组</a> | <a href="https://leetcode.cn/problems/longest-substring-without-repeating-characters/" rel="nofollow">3. 无重复字符的最长子串</a></td></tr></tbody></table> 
<br> 
<h4><a id="1_1552"></a>（1）、定长滑动窗口</h4> 
<h5><a id="1456__1553"></a>1456. 定长子串中元音的最大数目</h5> 
<p><a href="https://leetcode.cn/problems/maximum-number-of-vowels-in-a-substring-of-given-length/" rel="nofollow">1456. 定长子串中元音的最大数目</a></p> 
<p>先求出从起点开始定长窗口，每次移动，去掉首部，加上尾部。</p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">maxVowels</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> s<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span> k<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        <span class="token keyword">def</span> <span class="token function">isVowel</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token builtin">int</span><span class="token punctuation">(</span>ch <span class="token keyword">in</span> <span class="token string">'aeiou'</span><span class="token punctuation">)</span>
        count <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> isVowel<span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                count<span class="token operator">+=</span><span class="token number">1</span>
        ans <span class="token operator">=</span> count
        
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            count <span class="token operator">=</span> count<span class="token operator">-</span>isVowel<span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token operator">-</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">+</span>isVowel<span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
            ans <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> count<span class="token punctuation">)</span>
        <span class="token keyword">return</span> ans
</code></pre> 
<br> 
<h5><a id="_Offer_22_k_1576"></a>剑指 Offer 22. 链表中倒数第k个节点</h5> 
<p><a href="https://leetcode.cn/problems/lian-biao-zhong-dao-shu-di-kge-jie-dian-lcof/" rel="nofollow">剑指 Offer 22. 链表中倒数第k个节点</a></p> 
<pre><code class="prism language-python"><span class="token comment"># Definition for singly-linked list.</span>
<span class="token comment"># class ListNode:</span>
<span class="token comment">#     def __init__(self, x):</span>
<span class="token comment">#         self.val = x</span>
<span class="token comment">#         self.next = None</span>

<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">getKthFromEnd</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> head<span class="token punctuation">:</span> ListNode<span class="token punctuation">,</span> k<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> ListNode<span class="token punctuation">:</span>
        left <span class="token operator">=</span> right <span class="token operator">=</span> head
        <span class="token keyword">while</span> k<span class="token punctuation">:</span>
            right<span class="token operator">=</span>right<span class="token punctuation">.</span><span class="token builtin">next</span>
            k<span class="token operator">-=</span><span class="token number">1</span>
        <span class="token keyword">while</span> right<span class="token punctuation">:</span>
            left<span class="token operator">=</span>left<span class="token punctuation">.</span><span class="token builtin">next</span>
            right<span class="token operator">=</span>right<span class="token punctuation">.</span><span class="token builtin">next</span>
        <span class="token keyword">return</span> left
</code></pre> 
<br> 
<h4><a id="2_1599"></a>（2）、变长滑动窗口</h4> 
<h5><a id="1004_1_III_1600"></a>1004. 最大连续1的个数 III</h5> 
<p><a href="https://leetcode.cn/problems/max-consecutive-ones-iii/description/" rel="nofollow">1004. 最大连续1的个数 II</a><br> 题意转换。把「最多可以把 K 个 0 变成 1，求仅包含 1 的最长子数组的长度」转换为 「找出一个最长的子数组，该子数组内最多允许有 K 个 0 」。</p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">longestOnes</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        left<span class="token operator">=</span> <span class="token number">0</span>
        count_zero <span class="token operator">=</span> <span class="token number">0</span>
        max_len <span class="token operator">=</span> <span class="token number">0</span>

        <span class="token keyword">for</span> right <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">:</span>
                <span class="token keyword">pass</span>
            <span class="token keyword">elif</span> nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token operator">!=</span><span class="token number">1</span> <span class="token keyword">and</span> count_zero<span class="token operator">&lt;</span>k<span class="token punctuation">:</span>
                count_zero<span class="token operator">+=</span><span class="token number">1</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                <span class="token keyword">while</span> nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">:</span>
                    left<span class="token operator">+=</span><span class="token number">1</span>
                left<span class="token operator">+=</span><span class="token number">1</span>
            
            max_len <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>max_len<span class="token punctuation">,</span> right<span class="token operator">-</span>left<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> max_len
</code></pre> 
<p><a href="https://leetcode.cn/problems/max-consecutive-ones-iii/solutions/609055/fen-xiang-hua-dong-chuang-kou-mo-ban-mia-f76z/" rel="nofollow">参考</a></p> 
<br> 
<h5><a id="209____1630"></a>209. 长度最小的子数组 - （从符合条件到不符合条件）</h5> 
<p><a href="https://leetcode.cn/problems/minimum-size-subarray-sum/description/" rel="nofollow">209. 长度最小的子数组</a><br> while循环从满足条件变成不满足条件，保持单调性。一旦不满足条件，小于target，则比较子数组长度。</p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">minSubArrayLen</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> target<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        left <span class="token operator">=</span> <span class="token number">0</span>
        ans <span class="token operator">=</span> <span class="token number">0</span>
        res <span class="token operator">=</span> <span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'inf'</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> right <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            ans<span class="token operator">+=</span>nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span>
            <span class="token keyword">while</span> ans<span class="token operator">-</span>nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token operator">&gt;=</span>target<span class="token punctuation">:</span>
                ans<span class="token operator">-=</span>nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span>
                left<span class="token operator">+=</span><span class="token number">1</span>
            <span class="token keyword">if</span> ans<span class="token operator">&gt;=</span>target<span class="token punctuation">:</span>
                res <span class="token operator">=</span> <span class="token builtin">min</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> right<span class="token operator">-</span>left<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> res <span class="token keyword">if</span> res<span class="token operator">!=</span><span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'inf'</span><span class="token punctuation">)</span> <span class="token keyword">else</span> <span class="token number">0</span>
</code></pre> 
<h5><a id="713__K____1650"></a>713. 乘积小于 K 的子数组 - （从不符合条件到符合条件）</h5> 
<p><a href="https://leetcode.cn/problems/subarray-product-less-than-k/" rel="nofollow">713. 乘积小于 K 的子数组</a><br> 本题采用的是双指针滑动窗口，大循环是右指针的移动，内部小循环是左指针的移动。</p> 
<p>关键点是组合的计数：<br> 假设子数组两个端点是 l 和 r，以r为固定右端点的所有子数组组合为：<br> [l, r]，[l+1, r]，…，[r, r]<br> 组合总数为：[r-l+1]</p> 
<p>大于等于k都不符合条件，直到符合小于k时开始计数。</p> 
<p><strong>for做法：</strong></p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">numSubarrayProductLessThanK</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> k<span class="token operator">&lt;=</span><span class="token number">1</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token number">0</span>
        count <span class="token operator">=</span> <span class="token number">0</span>
        left <span class="token operator">=</span> <span class="token number">0</span>
        prod <span class="token operator">=</span> <span class="token number">1</span>
        
        <span class="token keyword">for</span> right<span class="token punctuation">,</span> v <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">:</span>
            prod <span class="token operator">*=</span> v
            <span class="token comment"># 如果去掉前面 if k&lt;=1 则加上下面这段</span>
            <span class="token comment"># left&lt;=right and  </span>
            <span class="token comment"># 因为当k=0或1时，prod无论除以哪个数不会有小于k的leftUI一直+1直到越界</span>
            <span class="token keyword">while</span> prod<span class="token operator">&gt;=</span>k<span class="token punctuation">:</span>
                prod<span class="token operator">/=</span>nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span>
                left<span class="token operator">+=</span><span class="token number">1</span>
            count <span class="token operator">+=</span> right<span class="token operator">-</span>left<span class="token operator">+</span><span class="token number">1</span>
        <span class="token keyword">return</span> count
</code></pre> 
<p><strong>while做法：</strong></p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">numSubarrayProductLessThanK</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        left <span class="token operator">=</span> right <span class="token operator">=</span><span class="token number">0</span>
        <span class="token comment"># 记录组合个数</span>
        ans <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token comment"># 记录乘积</span>
        mul <span class="token operator">=</span> <span class="token number">1</span>

        <span class="token keyword">while</span> right<span class="token operator">&lt;</span><span class="token builtin">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">:</span>
            mul<span class="token operator">*=</span>nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span>
            <span class="token comment"># 防止left一直+而越界，需要left&lt;=right</span>
            <span class="token keyword">while</span> mul<span class="token operator">&gt;=</span>k <span class="token keyword">and</span> left<span class="token operator">&lt;=</span>right<span class="token punctuation">:</span>
                mul<span class="token operator">/=</span>nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span>
                left<span class="token operator">+=</span><span class="token number">1</span>
            <span class="token comment">#每次右指针位移到一个新位置，应该加上 x 种数组组合：</span>
            <span class="token comment">#  nums[right]</span>
            <span class="token comment">#  nums[right-1], nums[right]</span>
            <span class="token comment">#  nums[right-2], nums[right-1], nums[right]</span>
            <span class="token comment">#  nums[left], ......, nums[right-2], nums[right-1], nums[right]</span>
            ans<span class="token operator">+=</span>right<span class="token operator">-</span>left<span class="token operator">+</span><span class="token number">1</span>
            right<span class="token operator">+=</span><span class="token number">1</span>

        <span class="token keyword">return</span> ans
</code></pre> 
<br> 
<h5><a id="3____1713"></a>3. 无重复字符的最长子串 - 只增不减</h5> 
<p><a href="https://leetcode.cn/problems/longest-substring-without-repeating-characters/" rel="nofollow">3. 无重复字符的最长子串</a><br> <strong>1.使用Count来计数重复：</strong></p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> Counter
<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">lengthOfLongestSubstring</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> s<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        cnt <span class="token operator">=</span> Counter<span class="token punctuation">(</span><span class="token punctuation">)</span>
        left <span class="token operator">=</span> <span class="token number">0</span>
        ans <span class="token operator">=</span> <span class="token number">0</span>

        <span class="token keyword">for</span> right<span class="token punctuation">,</span> v <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">:</span>
            cnt<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token operator">+=</span><span class="token number">1</span>
            <span class="token keyword">while</span> cnt<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token number">1</span><span class="token punctuation">:</span>
                cnt<span class="token punctuation">[</span>s<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">-=</span><span class="token number">1</span>
                left<span class="token operator">+=</span><span class="token number">1</span>
            ans <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> right<span class="token operator">-</span>left<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> ans
</code></pre> 
<p><strong>2.因为无重复，使用set哈希来记录：</strong></p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">lengthOfLongestSubstring</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> s<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        collect <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        left <span class="token operator">=</span> <span class="token number">0</span>
        count <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">for</span> right<span class="token punctuation">,</span> v <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> v <span class="token keyword">not</span> <span class="token keyword">in</span> collect<span class="token punctuation">:</span>
                collect<span class="token punctuation">.</span>add<span class="token punctuation">(</span>v<span class="token punctuation">)</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                <span class="token keyword">while</span> v <span class="token keyword">in</span> collect<span class="token punctuation">:</span>
                    collect<span class="token punctuation">.</span>remove<span class="token punctuation">(</span>s<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">)</span>
                    left<span class="token operator">+=</span><span class="token number">1</span>
                collect<span class="token punctuation">.</span>add<span class="token punctuation">(</span>v<span class="token punctuation">)</span>
            count <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>count<span class="token punctuation">,</span> right<span class="token operator">-</span>left<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> count
</code></pre> 
<br> 
<br> 
<h3><a id="24_1756"></a>2.4、其他类型指针</h3> 
<br> 
<h4><a id="1_1759"></a>（1）、中间开花</h4> 
<h5><a id="5__1760"></a>5. 最长回文子串</h5> 
<p><a href="https://leetcode.cn/problems/longest-palindromic-substring/" rel="nofollow">5. 最长回文子串</a><br> 回文中点可能是一个字符或者两个字符，以这为起点，两个左右指针分别扩散切判断是否相等，达到临界条件则存储和比较最大回文串。</p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">longestPalindrome</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> s<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">str</span><span class="token punctuation">:</span>
        max_len <span class="token operator">=</span> <span class="token string">''</span>
        <span class="token keyword">def</span> <span class="token function">findp</span><span class="token punctuation">(</span>left<span class="token punctuation">,</span> right<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">while</span> left<span class="token operator">&gt;=</span><span class="token number">0</span> <span class="token keyword">and</span> right<span class="token operator">&lt;</span><span class="token builtin">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token keyword">and</span> s<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token operator">==</span>s<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">:</span>
                    left<span class="token operator">-=</span><span class="token number">1</span>
                    right<span class="token operator">+=</span><span class="token number">1</span>
                
            <span class="token keyword">nonlocal</span> max_len
            max_len <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>max_len<span class="token punctuation">,</span> s<span class="token punctuation">[</span>left<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">:</span>right<span class="token punctuation">]</span><span class="token punctuation">,</span> key<span class="token operator">=</span><span class="token builtin">len</span><span class="token punctuation">)</span>
        
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            findp<span class="token punctuation">(</span>i<span class="token punctuation">,</span>i<span class="token punctuation">)</span>
            findp<span class="token punctuation">(</span>i<span class="token punctuation">,</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> max_len
</code></pre> 
<br> 
<h4><a id="2_1783"></a>（2）、快慢指针变体</h4> 
<h5><a id="392__1784"></a>392. 判断子序列</h5> 
<p><a href="https://leetcode.cn/problems/is-subsequence/description/" rel="nofollow">392. 判断子序列</a></p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">isSubsequence</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> s<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span> t<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">bool</span><span class="token punctuation">:</span>
        ind1 <span class="token operator">=</span> ind2 <span class="token operator">=</span> <span class="token number">0</span>
        m<span class="token punctuation">,</span> n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span>
        
        <span class="token keyword">while</span> ind1<span class="token operator">&lt;</span>m <span class="token keyword">and</span> ind2<span class="token operator">&lt;</span>n<span class="token punctuation">:</span>
            <span class="token keyword">if</span> s<span class="token punctuation">[</span>ind1<span class="token punctuation">]</span><span class="token operator">==</span>t<span class="token punctuation">[</span>ind2<span class="token punctuation">]</span><span class="token punctuation">:</span>
                ind1<span class="token operator">+=</span><span class="token number">1</span>
            ind2<span class="token operator">+=</span><span class="token number">1</span>
        <span class="token keyword">return</span> ind1<span class="token operator">==</span>m
</code></pre> 
<br> 
<h4><a id="3_1802"></a>（3）、从尾向头逆序</h4> 
<h5><a id="88__1803"></a>88. 合并两个有序数组</h5> 
<p><a href="https://leetcode.cn/problems/merge-sorted-array/description/" rel="nofollow">88. 合并两个有序数组</a></p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">merge</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums1<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> m<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> nums2<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> n<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        m<span class="token operator">-=</span><span class="token number">1</span>
        n<span class="token operator">-=</span><span class="token number">1</span>
        s <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nums1<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span>
        <span class="token keyword">while</span> n<span class="token operator">&gt;=</span><span class="token number">0</span><span class="token punctuation">:</span>
            <span class="token keyword">while</span> m<span class="token operator">&gt;=</span><span class="token number">0</span> <span class="token keyword">and</span> nums1<span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token operator">&gt;</span>nums2<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">:</span>
                    nums1<span class="token punctuation">[</span>s<span class="token punctuation">]</span><span class="token punctuation">,</span> nums1<span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token operator">=</span>nums1<span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token punctuation">,</span> nums1<span class="token punctuation">[</span>s<span class="token punctuation">]</span>
                    m<span class="token operator">-=</span><span class="token number">1</span>
                    s<span class="token operator">-=</span><span class="token number">1</span>
            nums1<span class="token punctuation">[</span>s<span class="token punctuation">]</span><span class="token punctuation">,</span> nums2<span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">=</span> nums2<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">,</span> nums1<span class="token punctuation">[</span>s<span class="token punctuation">]</span>
            n<span class="token operator">-=</span><span class="token number">1</span>
            s<span class="token operator">-=</span><span class="token number">1</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>nums1<span class="token punctuation">)</span>
</code></pre> 
<br> 
<br> 
<h2><a id="_1828"></a>三、相似题练习</h2> 
<h3><a id="2730__1829"></a>2730. 找到最长的半重复子字符串</h3> 
<p><a href="https://leetcode.cn/problems/find-the-longest-semi-repetitive-substring/description/" rel="nofollow">2730. 找到最长的半重复子字符串</a><br> <strong>解法1，暴力：</strong></p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">longestSemiRepetitiveSubstring</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> s<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
        ans <span class="token operator">=</span> <span class="token number">1</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">:</span>
                count <span class="token operator">=</span> <span class="token number">0</span>
                sub <span class="token operator">=</span> s<span class="token punctuation">[</span>j<span class="token punctuation">:</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span>
                
                <span class="token comment"># 判断子串是否半重复</span>
                <span class="token keyword">for</span> k <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>sub<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                    <span class="token keyword">if</span> sub<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token operator">==</span>sub<span class="token punctuation">[</span>k<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                        count<span class="token operator">+=</span><span class="token number">1</span>
                <span class="token comment"># 说明是半重复子串</span>
                <span class="token keyword">if</span> count<span class="token operator">&lt;=</span><span class="token number">1</span><span class="token punctuation">:</span>
                    ans <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> i<span class="token operator">-</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> ans
</code></pre> 
<p><strong>解法二，变长滑动窗口：</strong></p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">longestSemiRepetitiveSubstring</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> s<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
        ans <span class="token operator">=</span> <span class="token number">1</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">:</span>
                count <span class="token operator">=</span> <span class="token number">0</span>
                sub <span class="token operator">=</span> s<span class="token punctuation">[</span>j<span class="token punctuation">:</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span>
                
                <span class="token comment"># 判断子串是否半重复</span>
                <span class="token keyword">for</span> k <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>sub<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                    <span class="token keyword">if</span> sub<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token operator">==</span>sub<span class="token punctuation">[</span>k<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                        count<span class="token operator">+=</span><span class="token number">1</span>
                <span class="token comment"># 说明是半重复子串</span>
                <span class="token keyword">if</span> count<span class="token operator">&lt;=</span><span class="token number">1</span><span class="token punctuation">:</span>
                    ans <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> i<span class="token operator">-</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> ans
</code></pre> 
<br> 
<h3><a id="2861__1876"></a>2861. 最大合金数</h3> 
<p><a href="https://leetcode.cn/problems/maximum-number-of-alloys/description/" rel="nofollow">2861. 最大合金数</a></p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">maxNumberOfAlloys</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> k<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> budget<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> composition<span class="token punctuation">:</span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> stock<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">,</span> cost<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        <span class="token keyword">def</span> <span class="token function">check</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> com <span class="token keyword">in</span> composition<span class="token punctuation">:</span>
                accu <span class="token operator">=</span> <span class="token number">0</span>
                <span class="token keyword">for</span> money<span class="token punctuation">,</span> s<span class="token punctuation">,</span> c <span class="token keyword">in</span> <span class="token builtin">zip</span><span class="token punctuation">(</span>com<span class="token punctuation">,</span> stock<span class="token punctuation">,</span> cost<span class="token punctuation">)</span><span class="token punctuation">:</span>
                    <span class="token keyword">if</span> s<span class="token operator">&lt;</span>money<span class="token operator">*</span>m<span class="token punctuation">:</span>
                        accu <span class="token operator">+=</span> c<span class="token operator">*</span><span class="token punctuation">(</span>money<span class="token operator">*</span>m<span class="token operator">-</span>s<span class="token punctuation">)</span>
                    <span class="token keyword">if</span> accu<span class="token operator">&gt;</span>budget<span class="token punctuation">:</span>
                        <span class="token keyword">break</span>
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    <span class="token keyword">return</span> <span class="token boolean">True</span>
            <span class="token keyword">return</span> <span class="token boolean">False</span>
        left <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token comment"># 注意上界，过大可能超时</span>
        right <span class="token operator">=</span> budget <span class="token operator">+</span> <span class="token builtin">min</span><span class="token punctuation">(</span>stock<span class="token punctuation">)</span>

        <span class="token keyword">while</span> left<span class="token operator">&lt;=</span>right<span class="token punctuation">:</span>
            mid <span class="token operator">=</span> <span class="token punctuation">(</span>left<span class="token operator">+</span>right<span class="token punctuation">)</span><span class="token operator">//</span><span class="token number">2</span>
            <span class="token keyword">if</span> check<span class="token punctuation">(</span>mid<span class="token punctuation">)</span><span class="token punctuation">:</span>
                left <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                right <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span>
        <span class="token comment"># print(left, right)</span>
        <span class="token keyword">return</span> right
</code></pre> 
<br> 
<h3><a id="___1910"></a>无限数组的最短子数组 - 找规律缩短数组</h3> 
<p><a href="https://leetcode.cn/problems/minimum-size-subarray-in-infinite-array/description/" rel="nofollow">无限数组的最短子数组</a><br> <a href="https://leetcode.cn/problems/minimum-size-subarray-in-infinite-array/solutions/2464878/hua-dong-chuang-kou-on-shi-jian-o1-kong-cqawc/" rel="nofollow">参考更多习题</a></p> 
<br> 
<h2><a id="_1922"></a>参考</h2> 
<p><a href="https://leetcode.cn/problems/linked-list-cycle/solutions/440042/huan-xing-lian-biao-by-leetcode-solution/" rel="nofollow">官方解题 环形链表</a><br> <a href="https://leetcode.cn/problems/middle-of-the-linked-list/solutions/165152/kuai-man-zhi-zhen-zhu-yao-zai-yu-diao-shi-by-liwei/" rel="nofollow">快慢指针</a><br> <a href="https://leetcode.cn/problems/search-in-rotated-sorted-array/solutions/220083/sou-suo-xuan-zhuan-pai-xu-shu-zu-by-leetcode-solut/" rel="nofollow">官方解题 搜索旋转排序数组</a><br> <a href="https://leetcode.cn/problems/subarray-product-less-than-k/solutions/1320871/jian-dan-yi-dong-xiang-xi-zhu-jie-shuang-jvy3/" rel="nofollow">713.官方思路秒懂○注释详细○双指针滑窗 【附通用滑窗模板】</a></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/aec719b5cd399228c355bc2247627e80/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">R-CNN(目标检测算法)介绍</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7c889de807a59afb643eb21fd99e5389/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">git stash 问题记录</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程爱好者博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151260"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>